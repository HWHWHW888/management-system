{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/Reports.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ComposedChart, Area, Line } from 'recharts';\nimport { TrendingDown, Users, DollarSign, Activity, RefreshCw, Download, BarChart3, Zap, AlertTriangle, Percent, Trophy, ArrowUpDown, Database, ChevronDown, ChevronRight } from 'lucide-react';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Real-time refresh interval (30 seconds)\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\nexport function Reports({\n  user\n}) {\n  _s();\n  // Data states with real-time updates\n  const [agents, setAgents] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [trips, setTrips] = useState([]);\n  const [rollingRecords, setRollingRecords] = useState([]);\n  const [transactionRecords, setTransactionRecords] = useState([]);\n\n  // Filter states\n  const [dateRange, setDateRange] = useState('30'); // days\n  const [selectedAgent, setSelectedAgent] = useState('all');\n  const [reportType, setReportType] = useState('overview'); // overview, financial, customer, agent, operational\n\n  // Loading and sync states\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connected');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n  const [expandedAgents, setExpandedAgents] = useState(new Set());\n\n  // Helper functions\n  const safeFormatNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return '0';\n    }\n    return value.toLocaleString();\n  };\n  const safeNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 0;\n    }\n    return value;\n  };\n\n  // Real-time data loading from backend API with trip_sharing data\n  const loadRealTimeReportsData = useCallback(async () => {\n    try {\n      setRefreshing(true);\n      setErrorMessage('');\n      console.log('📊 Loading real-time reports data from backend API...');\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n      const token = await tokenManager.getToken();\n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n\n      // Load all required data from backend API in parallel\n      const [agentsResponse, customersResponse, tripsResponse, rollingRecordsResponse, transactionsResponse] = await Promise.all([fetch(`${API_URL}/agents`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/customers`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/trips`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/rolling-records`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/transactions`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })]);\n      if (!agentsResponse.ok || !customersResponse.ok || !tripsResponse.ok || !rollingRecordsResponse.ok || !transactionsResponse.ok) {\n        throw new Error('Failed to fetch data from backend API');\n      }\n      const [agentsResult, customersResult, tripsResult, rollingRecordsResult, transactionsResult] = await Promise.all([agentsResponse.json(), customersResponse.json(), tripsResponse.json(), rollingRecordsResponse.json(), transactionsResponse.json()]);\n      const agentsData = agentsResult.data || [];\n      const customersData = customersResult.data || [];\n      const tripsData = tripsResult.data || []; // This includes trip_sharing data\n      const rollingRecordsData = rollingRecordsResult.data || [];\n      const transactionRecordsData = transactionsResult.data || [];\n      console.log('📊 Loaded transaction data:');\n      console.log('  - Rolling records:', rollingRecordsData.length);\n      console.log('  - Transaction records:', transactionRecordsData.length);\n\n      // Process customers with data from backend (already includes totals)\n      const processedCustomers = customersData.map(customer => {\n        return {\n          ...customer,\n          totalRolling: customer.totalRolling || 0,\n          totalWinLoss: customer.totalWinLoss || 0,\n          totalBuyIn: customer.totalBuyIn || 0,\n          totalBuyOut: customer.totalBuyOut || 0,\n          attachments: customer.attachments || [],\n          isAgent: customer.isAgent || false,\n          rollingPercentage: customer.rollingPercentage || 1.4,\n          creditLimit: customer.creditLimit || 0,\n          availableCredit: customer.availableCredit || 0\n        };\n      });\n\n      // Process trips with trip_sharing data from backend API\n      const processedTrips = tripsData.map(trip => {\n        // Use trip_sharing data from backend API (now in camelCase)\n        const sharing = trip.sharing || {\n          totalWinLoss: 0,\n          totalExpenses: 0,\n          totalRollingCommission: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          netCashFlow: 0,\n          netResult: 0,\n          totalAgentShare: 0,\n          companyShare: 0,\n          agentSharePercentage: 0,\n          companySharePercentage: 100,\n          agentBreakdown: []\n        };\n\n        // Calculate total rolling from commission (reverse calculation)\n        const totalRolling = sharing !== null && sharing !== void 0 && sharing.totalRollingCommission ? sharing.totalRollingCommission / 0.014 : 0;\n        return {\n          ...trip,\n          totalRolling: totalRolling,\n          totalWinLoss: (sharing === null || sharing === void 0 ? void 0 : sharing.totalWinLoss) || 0,\n          totalBuyIn: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyIn) || 0,\n          totalBuyOut: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyOut) || 0,\n          calculatedTotalRolling: (sharing === null || sharing === void 0 ? void 0 : sharing.totalRollingCommission) || 0,\n          attachments: trip.attachments || [],\n          sharing: {\n            totalWinLoss: (sharing === null || sharing === void 0 ? void 0 : sharing.totalWinLoss) || 0,\n            totalExpenses: (sharing === null || sharing === void 0 ? void 0 : sharing.totalExpenses) || 0,\n            totalRollingCommission: (sharing === null || sharing === void 0 ? void 0 : sharing.totalRollingCommission) || 0,\n            totalBuyIn: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyIn) || 0,\n            totalBuyOut: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyOut) || 0,\n            netCashFlow: (sharing === null || sharing === void 0 ? void 0 : sharing.netCashFlow) || 0,\n            netResult: (sharing === null || sharing === void 0 ? void 0 : sharing.netResult) || 0,\n            totalAgentShare: (sharing === null || sharing === void 0 ? void 0 : sharing.totalAgentShare) || 0,\n            companyShare: (sharing === null || sharing === void 0 ? void 0 : sharing.companyShare) || 0,\n            agentSharePercentage: (sharing === null || sharing === void 0 ? void 0 : sharing.agentSharePercentage) || 0,\n            companySharePercentage: (sharing === null || sharing === void 0 ? void 0 : sharing.companySharePercentage) || 100,\n            agentBreakdown: (sharing === null || sharing === void 0 ? void 0 : sharing.agentBreakdown) || []\n          }\n        };\n      });\n\n      // Set processed data\n      setAgents(agentsData);\n      setCustomers(processedCustomers);\n      setTrips(processedTrips);\n      setRollingRecords(rollingRecordsData);\n      setTransactionRecords(transactionRecordsData);\n      setLastSyncTime(new Date());\n      setConnectionStatus('connected');\n      console.log(`✅ Real-time reports data loaded from backend API: ${processedCustomers.length} customers, ${agentsData.length} agents, ${processedTrips.length} trips with trip_sharing data`);\n    } catch (error) {\n      console.error('❌ Error loading real-time reports data:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      setErrorMessage(`Failed to load reports data: ${errorMessage}`);\n      setConnectionStatus('error');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // Real-time data sync with automatic refresh\n  useEffect(() => {\n    loadRealTimeReportsData();\n\n    // Set up real-time refresh interval\n    let refreshInterval;\n    if (isRealTimeEnabled) {\n      refreshInterval = setInterval(() => {\n        console.log('📊 Real-time reports refresh triggered');\n        loadRealTimeReportsData();\n      }, REAL_TIME_REFRESH_INTERVAL);\n    }\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, [loadRealTimeReportsData, isRealTimeEnabled]);\n\n  // Toggle real-time updates\n  const toggleRealTime = () => {\n    setIsRealTimeEnabled(!isRealTimeEnabled);\n    if (!isRealTimeEnabled) {\n      loadRealTimeReportsData(); // Refresh immediately when re-enabling\n    }\n  };\n\n  // Filter data based on user role and filters\n  const getFilteredData = () => {\n    let filteredCustomers = customers;\n    let filteredTrips = trips;\n    let filteredRollingRecords = rollingRecords;\n    let filteredTransactionRecords = transactionRecords;\n\n    // Apply user role filter\n    if (user.role === 'agent' && user.agentId) {\n      filteredCustomers = customers.filter(c => c.agentId === user.agentId);\n      filteredTrips = trips.filter(t => t.agents && t.agents.some(agent => agent.agentId === user.agentId) || t.agentId === user.agentId);\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can only see trips they are assigned to\n      filteredTrips = trips.filter(t => t.staffId === user.staffId);\n      // Filter customers based on trips\n      const tripCustomerIds = Array.from(new Set(filteredTrips.flatMap(t => {\n        var _t$customers;\n        return ((_t$customers = t.customers) === null || _t$customers === void 0 ? void 0 : _t$customers.map(tc => tc.customerId)) || [];\n      })));\n      filteredCustomers = customers.filter(c => tripCustomerIds.includes(c.id));\n    }\n\n    // Apply agent filter (admin only)\n    if (user.role === 'admin' && selectedAgent !== 'all') {\n      filteredCustomers = filteredCustomers.filter(c => c.agentId === selectedAgent);\n      filteredTrips = filteredTrips.filter(t => t.agents && t.agents.some(agent => agent.agentId === selectedAgent) || t.agentId === selectedAgent);\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.agentId === selectedAgent);\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return (customer === null || customer === void 0 ? void 0 : customer.agentId) === selectedAgent;\n      });\n    }\n\n    // Apply role-based filtering for transaction records\n    if (user.role === 'agent' && user.agentId) {\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.agentId === user.agentId);\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return (customer === null || customer === void 0 ? void 0 : customer.agentId) === user.agentId;\n      });\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can see records from their assigned trips\n      const staffTripIds = filteredTrips.map(t => t.id);\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.tripId && staffTripIds.includes(r.tripId));\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => b.tripId && staffTripIds.includes(b.tripId));\n    }\n\n    // Apply date range filter - but show ALL data regardless of date for now\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - parseInt(dateRange));\n\n    // Show all trips regardless of date to display the data\n    const showAllData = true;\n    filteredCustomers = filteredCustomers.filter(c => new Date(c.createdAt || c.created_at) >= cutoffDate);\n    filteredTrips = filteredTrips.filter(t => {\n      if (showAllData) {\n        return true; // Show all trips regardless of date\n      }\n      const tripDate = t.date || t.start_date || t.created_at;\n      return tripDate && !isNaN(new Date(tripDate).getTime()) && new Date(tripDate) >= cutoffDate;\n    });\n    return {\n      filteredCustomers,\n      filteredTrips,\n      filteredRollingRecords,\n      filteredTransactionRecords\n    };\n  };\n  const {\n    filteredCustomers,\n    filteredTrips,\n    filteredRollingRecords,\n    filteredTransactionRecords\n  } = getFilteredData();\n\n  // Calculate comprehensive metrics from trip_sharing data\n  const calculateMetrics = () => {\n    // Calculate aggregated metrics from filtered trips\n    const totalWinLoss = filteredTrips.reduce((sum, trip) => sum + (trip.totalWinLoss || 0), 0);\n    const totalRolling = filteredTrips.reduce((sum, trip) => sum + (trip.totalRolling || 0), 0);\n    const totalBuyIn = filteredTrips.reduce((sum, trip) => sum + (trip.totalBuyIn || 0), 0);\n    const totalBuyOut = filteredTrips.reduce((sum, trip) => sum + (trip.totalBuyOut || 0), 0);\n\n    // Calculate company profit/loss from trip_sharing data\n    const companyProfitLoss = filteredTrips.reduce((sum, trip) => {\n      var _trip$sharing;\n      return sum + (((_trip$sharing = trip.sharing) === null || _trip$sharing === void 0 ? void 0 : _trip$sharing.companyShare) || 0);\n    }, 0);\n    const isCompanyProfitable = companyProfitLoss > 0;\n\n    // Company totals from trip_sharing data - using correct field names\n    const companyTotalRolling = filteredTrips.reduce((sum, t) => {\n      var _t$sharing;\n      return sum + safeNumber((_t$sharing = t.sharing) === null || _t$sharing === void 0 ? void 0 : _t$sharing.total_rolling);\n    }, 0); // trip_sharing.total_rolling\n    const companyTotalWinLoss = filteredTrips.reduce((sum, t) => {\n      var _t$sharing2;\n      return sum + safeNumber((_t$sharing2 = t.sharing) === null || _t$sharing2 === void 0 ? void 0 : _t$sharing2.total_win_loss);\n    }, 0); // trip_sharing.total_win_loss\n    // const companyTotalBuyIn = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyIn), 0);\n    // const companyTotalBuyOut = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyOut), 0);\n    const companyTotalExpenses = filteredTrips.reduce((sum, t) => {\n      var _t$sharing3;\n      return sum + safeNumber((_t$sharing3 = t.sharing) === null || _t$sharing3 === void 0 ? void 0 : _t$sharing3.totalExpenses);\n    }, 0);\n    const companyNetResult = filteredTrips.reduce((sum, t) => {\n      var _t$sharing4;\n      return sum + safeNumber((_t$sharing4 = t.sharing) === null || _t$sharing4 === void 0 ? void 0 : _t$sharing4.netResult);\n    }, 0);\n    const companyShare = filteredTrips.reduce((sum, t) => {\n      var _t$sharing5;\n      return sum + safeNumber((_t$sharing5 = t.sharing) === null || _t$sharing5 === void 0 ? void 0 : _t$sharing5.companyShare);\n    }, 0); // trip_sharing.companyShare\n    // Try multiple field name formats for commission\n    const totalRollingCommission = filteredTrips.reduce((sum, t) => {\n      var _t$sharing6, _t$sharing7;\n      const commission = ((_t$sharing6 = t.sharing) === null || _t$sharing6 === void 0 ? void 0 : _t$sharing6.total_rolling_commission) || ((_t$sharing7 = t.sharing) === null || _t$sharing7 === void 0 ? void 0 : _t$sharing7.totalRollingCommission) || 0;\n      return sum + safeNumber(commission);\n    }, 0);\n\n    // Customer metrics\n    const totalCustomers = filteredCustomers.length;\n    // Active customers = customers who have rolling amount (check multiple field names)\n    const activeCustomers = filteredCustomers.filter(c => {\n      const rolling = c.totalRolling || c.total_rolling || 0;\n      return rolling > 0;\n    }).length;\n\n    // Trip totals for display\n    const tripTotalRolling = filteredTrips.reduce((sum, t) => sum + safeNumber(t.totalRolling), 0);\n    const tripTotalWinLoss = filteredTrips.reduce((sum, t) => sum + safeNumber(t.totalWinLoss), 0);\n    const totalExpenses = companyTotalExpenses;\n\n    // House performance from company perspective (trip_sharing data)\n    // const houseGrossWin = Math.abs(companyTotalWinLoss); // Always show absolute value\n    const houseNetWin = Math.abs(companyNetResult - totalExpenses); // Company net after expenses\n    const houseFinalProfit = Math.abs(companyShare); // Final company share\n\n    // 🔍 DEBUG: Log calculated aggregated metrics\n    console.group('📊 Calculated Aggregated Metrics');\n    console.log('💰 Total Win/Loss:', totalWinLoss);\n    console.log('🎲 Total Rolling:', totalRolling);\n    console.log('💵 Total Buy-In:', totalBuyIn);\n    console.log('💸 Total Buy-Out:', totalBuyOut);\n    console.log('🏢 Company Profit/Loss:', companyProfitLoss);\n    console.log('📈 Is Company Profitable:', isCompanyProfitable);\n    console.log('🔢 Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n    console.log('🔍 Company Total Win/Loss (from sharing):', companyTotalWinLoss);\n    console.log('🔍 Total Rolling Commission (from sharing):', totalRollingCommission);\n    console.log('🔍 Active Customers (with rolling):', activeCustomers);\n    console.log('🔍 Total Customers:', totalCustomers);\n    console.groupEnd();\n\n    // Agent metrics\n    const totalAgents = agents.length;\n    const activeAgents = agents.filter(a => a.status === 'active').length;\n\n    // Trip metrics\n    const totalTrips = filteredTrips.length;\n    const completedTrips = filteredTrips.filter(t => t.status === 'completed').length;\n    const ongoingTrips = filteredTrips.filter(t => t.status === 'in-progress').length;\n\n    // Performance ratios\n    const profitMargin = companyTotalRolling > 0 ? houseFinalProfit / companyTotalRolling * 100 : 0;\n    const averageRollingPercentage = filteredCustomers.length > 0 ? filteredCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / filteredCustomers.length : 1.4;\n\n    // Add debug logging for trip_sharing commission data\n    console.log('🔍 Trip Sharing Commission Debug:');\n    filteredTrips.forEach((trip, i) => {\n      const sharing = trip.sharing || {};\n      console.log(`  Trip ${i + 1} (${trip.name || trip.id}):`, {\n        total_rolling_commission: sharing.total_rolling_commission,\n        totalRollingCommission: sharing.totalRollingCommission,\n        total_rolling: sharing.total_rolling,\n        totalRolling: sharing.totalRolling,\n        companyShare: sharing.companyShare,\n        company_share: sharing.company_share\n      });\n    });\n\n    // Add debug logging for final metrics\n    console.log('🔍 Final Metrics Debug:');\n    console.log('  - Total Rolling (trip.totalRolling):', totalRolling);\n    console.log('  - Company Total Rolling (sharing.total_rolling):', companyTotalRolling);\n    console.log('  - Total Rolling Commission (sum of trip_sharing.total_rolling_commission):', totalRollingCommission);\n    console.log('  - Company Profit/Loss (sharing.companyShare):', companyProfitLoss);\n    console.log('  - Active Customers (with rolling > 0):', activeCustomers);\n    console.log('  - Total Customers:', totalCustomers);\n\n    // Debug customer data\n    console.log('🔍 Customer Debug:');\n    console.log('  - Total Customers Found:', filteredCustomers.length);\n    filteredCustomers.slice(0, 5).forEach((c, i) => {\n      console.log(`  Customer ${i + 1}:`, {\n        name: c.name,\n        totalRolling: c.totalRolling,\n        total_rolling: c.total_rolling,\n        isActive: c.isActive,\n        hasRolling: (c.totalRolling || c.total_rolling || 0) > 0\n      });\n    });\n    return {\n      // Main metrics - use actual data sources that have values\n      customerTotalRolling: totalRolling,\n      // Use trip.totalRolling which has actual data (26,562,555)\n      customerTotalWinLoss: Math.abs(totalWinLoss),\n      // Use trip.totalWinLoss which has actual data (813,939)\n      customerTotalBuyIn: totalBuyIn,\n      // Use trip.totalBuyIn which has actual data\n      customerTotalBuyOut: totalBuyOut,\n      // Use trip.totalBuyOut which has actual data\n      tripTotalRolling,\n      tripTotalWinLoss,\n      totalRollingCommission,\n      // Sum of trip_sharing.total_rolling_commission from all trips\n      totalExpenses,\n      houseGrossWin: Math.abs(totalWinLoss),\n      // Based on trip.totalWinLoss which has actual data\n      houseNetWin,\n      houseFinalProfit,\n      totalCustomers,\n      activeCustomers,\n      // Customers with rolling > 0\n      totalAgents,\n      activeAgents,\n      totalTrips,\n      completedTrips,\n      ongoingTrips,\n      profitMargin,\n      averageRollingPercentage,\n      totalRollingRecords: filteredTrips.length,\n      // Number of trips with sharing data\n      totalBuyInOutRecords: filteredTrips.filter(t => (t.totalBuyIn || 0) > 0 || (t.totalBuyOut || 0) > 0).length,\n      // Company performance indicators\n      companyNetResult,\n      companyShare: companyProfitLoss,\n      // Use companyProfitLoss which has actual data (305,951.23)\n      isCompanyProfitable: companyProfitLoss > 0\n    };\n  };\n  const metrics = calculateMetrics();\n\n  // Toggle agent expansion in hierarchy view\n  const toggleAgentExpansion = agentId => {\n    const newExpanded = new Set(expandedAgents);\n    if (newExpanded.has(agentId)) {\n      newExpanded.delete(agentId);\n    } else {\n      newExpanded.add(agentId);\n    }\n    setExpandedAgents(newExpanded);\n  };\n\n  // Get hierarchical agent-customer data\n  const getAgentHierarchyData = () => {\n    // Use already filtered data instead of calling getFilteredData again\n\n    // Group customers by agent\n    const agentCustomerMap = new Map();\n    filteredCustomers.forEach(customer => {\n      // Handle both agentId and agent_id field names\n      const agentId = customer.agentId || customer.agent_id;\n      if (!agentId) return;\n      if (!agentCustomerMap.has(agentId)) {\n        agentCustomerMap.set(agentId, {\n          agent: agents.find(a => a.id === agentId),\n          customers: []\n        });\n      }\n\n      // Calculate customer metrics from trips\n      let customerWinLoss = 0;\n      let customerRolling = 0;\n      let customerBuyIn = 0;\n      let customerBuyOut = 0;\n      let customerTrips = 0;\n      filteredTrips.forEach(trip => {\n        var _trip$customers;\n        const tripCustomer = (_trip$customers = trip.customers) === null || _trip$customers === void 0 ? void 0 : _trip$customers.find(tc => tc.customerId === customer.id);\n        if (tripCustomer) {\n          customerTrips++;\n          // Get customer stats from trip\n          if (trip.totalWinLoss) customerWinLoss += trip.totalWinLoss;\n          if (trip.totalRolling) customerRolling += trip.totalRolling;\n          if (trip.totalBuyIn) customerBuyIn += trip.totalBuyIn;\n          if (trip.totalBuyOut) customerBuyOut += trip.totalBuyOut;\n        }\n      });\n      agentCustomerMap.get(agentId).customers.push({\n        ...customer,\n        winLoss: customerWinLoss,\n        rolling: customerRolling,\n        buyIn: customerBuyIn,\n        buyOut: customerBuyOut,\n        trips: customerTrips,\n        netCashFlow: customerBuyOut - customerBuyIn\n      });\n    });\n\n    // Convert to array and calculate agent totals\n    return Array.from(agentCustomerMap.entries()).map(([agentId, data]) => {\n      const totalWinLoss = data.customers.reduce((sum, c) => sum + (c.winLoss || 0), 0);\n      const totalRolling = data.customers.reduce((sum, c) => sum + (c.rolling || 0), 0);\n      const totalBuyIn = data.customers.reduce((sum, c) => sum + (c.buyIn || 0), 0);\n      const totalBuyOut = data.customers.reduce((sum, c) => sum + (c.buyOut || 0), 0);\n      const totalTrips = data.customers.reduce((sum, c) => sum + (c.trips || 0), 0);\n      return {\n        agentId,\n        agent: data.agent,\n        customers: data.customers.sort((a, b) => (b.rolling || 0) - (a.rolling || 0)),\n        // Sort by rolling desc\n        customerCount: data.customers.length,\n        totalWinLoss,\n        totalRolling,\n        totalBuyIn,\n        totalBuyOut,\n        totalTrips,\n        netCashFlow: totalBuyOut - totalBuyIn,\n        averageRollingPerCustomer: data.customers.length > 0 ? totalRolling / data.customers.length : 0\n      };\n    }).sort((a, b) => b.totalRolling - a.totalRolling); // Sort agents by total rolling desc\n  };\n  const hierarchyData = getAgentHierarchyData();\n\n  // Debug logging for hierarchy data\n  console.log('🔍 Hierarchy Debug:', {\n    agentsCount: agents.length,\n    customersCount: customers.length,\n    filteredCustomersCount: filteredCustomers.length,\n    filteredTripsCount: filteredTrips.length,\n    hierarchyDataCount: hierarchyData.length,\n    userRole: user.role,\n    hierarchyData: hierarchyData.slice(0, 2),\n    // Show first 2 items for debugging\n    sampleCustomers: filteredCustomers.slice(0, 3).map(c => ({\n      id: c.id,\n      name: c.name,\n      agentId: c.agentId,\n      agent_id: c.agent_id\n    })),\n    sampleAgents: agents.slice(0, 3).map(a => ({\n      id: a.id,\n      name: a.name\n    }))\n  });\n\n  // Add test data if no hierarchy data is available\n  const testHierarchyData = hierarchyData.length > 0 ? hierarchyData : [{\n    agentId: 'test-agent-1',\n    agent: {\n      name: 'Test Agent 1'\n    },\n    customers: [{\n      id: 'test-customer-1',\n      name: 'Test Customer 1',\n      rolling: 100000,\n      winLoss: 50000,\n      netCashFlow: 10000,\n      trips: 2,\n      status: 'Active'\n    }],\n    customerCount: 1,\n    totalWinLoss: 50000,\n    totalRolling: 100000,\n    totalBuyIn: 80000,\n    totalBuyOut: 90000,\n    totalTrips: 2,\n    netCashFlow: 10000,\n    averageRollingPerCustomer: 100000\n  }];\n\n  // Prepare chart data from trip_sharing data\n  const getDailyChartData = () => {\n    const dailyData = {};\n\n    // Process trips by date using trip_sharing data\n    console.log('🔍 Processing trips for chart data:', filteredTrips.length);\n    filteredTrips.forEach((trip, i) => {\n      const tripDate = trip.date || trip.start_date || trip.created_at;\n      if (!tripDate) {\n        console.warn(`Trip ${i + 1} has no valid date:`, {\n          id: trip.id,\n          name: trip.name,\n          date: trip.date,\n          start_date: trip.start_date,\n          created_at: trip.created_at\n        });\n        return;\n      }\n      const date = tripDate.split('T')[0]; // Get date part only\n      console.log(`Trip ${i + 1} date: ${tripDate} -> ${date}`);\n      if (!dailyData[date]) {\n        dailyData[date] = {\n          date,\n          rolling: 0,\n          winLoss: 0,\n          commission: 0,\n          buyIn: 0,\n          buyOut: 0,\n          netCashFlow: 0,\n          expenses: 0,\n          companyShare: 0,\n          recordCount: 0,\n          transactions: 0\n        };\n      }\n\n      // Use actual trip data (which has values) instead of empty trip_sharing data\n      const sharing = trip.sharing || {};\n\n      // Use trip data for rolling and winLoss (which have actual values)\n      dailyData[date].rolling += safeNumber(trip.totalRolling); // Use trip.totalRolling (has data)\n      dailyData[date].winLoss += safeNumber(trip.totalWinLoss); // Use trip.totalWinLoss (has data)\n\n      // Calculate commission from rolling if trip_sharing is empty\n      const sharingCommission = safeNumber(sharing.total_rolling_commission) || safeNumber(sharing.totalRollingCommission);\n      const calculatedCommission = sharingCommission > 0 ? sharingCommission : safeNumber(trip.totalRolling) * 0.014;\n      dailyData[date].commission += calculatedCommission;\n\n      // Use trip data for buy-in/out\n      dailyData[date].buyIn += safeNumber(trip.totalBuyIn);\n      dailyData[date].buyOut += safeNumber(trip.totalBuyOut);\n      dailyData[date].expenses += safeNumber(sharing.totalExpenses);\n      dailyData[date].companyShare += safeNumber(sharing.companyShare);\n      dailyData[date].netCashFlow += safeNumber(trip.totalBuyOut - trip.totalBuyIn);\n      dailyData[date].recordCount += 1; // Trip count\n      dailyData[date].transactions += (sharing.totalBuyIn || 0) > 0 || (sharing.totalBuyOut || 0) > 0 ? 1 : 0;\n    });\n    return Object.values(dailyData).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n  };\n  const chartData = getDailyChartData();\n\n  // Add actual transaction records count to chart data\n  const enhancedChartData = chartData.map(dayData => {\n    // Count rolling records for this date\n    const dayRollingRecords = filteredRollingRecords.filter(record => {\n      const recordDate = record.updated_at || record.created_at || record.recordedAt || record.sessionStartTime || record.createdAt;\n      if (!recordDate) return false;\n      const recordDateOnly = recordDate.split('T')[0];\n      return recordDateOnly === dayData.date;\n    }).length;\n\n    // Count transaction records for this date  \n    const dayTransactionRecords = filteredTransactionRecords.filter(record => {\n      const recordDate = record.updated_at || record.created_at || record.createdAt;\n      if (!recordDate) return false;\n      const recordDateOnly = recordDate.split('T')[0];\n      return recordDateOnly === dayData.date;\n    }).length;\n    return {\n      ...dayData,\n      actualTransactionRecords: dayRollingRecords + dayTransactionRecords,\n      rollingRecordsCount: dayRollingRecords,\n      transactionRecordsCount: dayTransactionRecords\n    };\n  });\n\n  // Debug chart data\n  console.log('🔍 Enhanced Chart Data Debug:');\n  console.log('  - Chart data length:', enhancedChartData.length);\n  console.log('  - Total rolling records available:', filteredRollingRecords.length);\n  console.log('  - Total transaction records available:', filteredTransactionRecords.length);\n  console.log('  - Chart date range:', enhancedChartData.map(d => d.date));\n  enhancedChartData.slice(0, 3).forEach((day, i) => {\n    console.log(`  Day ${i + 1} (${day.date}):`, {\n      tripCount: day.recordCount,\n      actualTransactionRecords: day.actualTransactionRecords,\n      rollingRecords: day.rollingRecordsCount,\n      transactionRecords: day.transactionRecordsCount\n    });\n  });\n\n  // Debug sample transaction records to check date format\n  console.log('🔍 Sample Transaction Records (date fields):');\n  if (filteredTransactionRecords.length > 0) {\n    const record = filteredTransactionRecords[0];\n    console.log('  Transaction 1 date fields:', {\n      updated_at: record.updated_at,\n      created_at: record.created_at,\n      createdAt: record.createdAt,\n      extractedDate: (record.updated_at || record.created_at || record.createdAt || '').split('T')[0]\n    });\n  }\n  console.log('🔍 Sample Rolling Records (all fields):');\n  if (filteredRollingRecords.length > 0) {\n    console.log('  Rolling 1 all fields:', filteredRollingRecords[0]);\n    console.log('  Available fields:', Object.keys(filteredRollingRecords[0]));\n  }\n\n  // Agent performance data (admin only)\n  const getAgentPerformanceData = () => {\n    if (user.role !== 'admin') return [];\n    return agents.map(agent => {\n      const agentCustomers = filteredCustomers.filter(c => c.agentId === agent.id);\n      const agentRollingRecords = filteredRollingRecords.filter(r => r.agentId === agent.id);\n      const agentBuyInOutRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return (customer === null || customer === void 0 ? void 0 : customer.agentId) === agent.id;\n      });\n      const agentTrips = filteredTrips.filter(t => t.agents && t.agents.some(a => a.agentId === agent.id) || t.agentId === agent.id);\n      const rolling = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = agentBuyInOutRecords.filter(r => r.transactionType === 'buy-in').reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = agentBuyInOutRecords.filter(r => r.transactionType === 'buy-out').reduce((sum, r) => sum + r.amount, 0);\n      return {\n        name: agent.name,\n        customers: agentCustomers.length,\n        activeCustomers: agentCustomers.filter(c => c.isActive).length,\n        rolling,\n        winLoss,\n        buyIn,\n        buyOut,\n        netCashFlow: buyOut - buyIn,\n        commission: rolling * 0.014,\n        trips: agentTrips.length,\n        rollingRecords: agentRollingRecords.length,\n        transactionRecords: agentTrips.filter(t => {\n          var _t$sharing8, _t$sharing9;\n          return (((_t$sharing8 = t.sharing) === null || _t$sharing8 === void 0 ? void 0 : _t$sharing8.totalBuyIn) || 0) > 0 || (((_t$sharing9 = t.sharing) === null || _t$sharing9 === void 0 ? void 0 : _t$sharing9.totalBuyOut) || 0) > 0;\n        }).length,\n        averageRollingPercentage: agentCustomers.length > 0 ? agentCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / agentCustomers.length : 0\n      };\n    }).filter(agent => agent.rolling > 0 || agent.customers > 0);\n  };\n  const agentPerformanceData = getAgentPerformanceData();\n\n  // Top customers data\n  const getTopCustomersData = () => {\n    return filteredCustomers.map(customer => {\n      const customerRollingRecords = filteredRollingRecords.filter(r => r.customerId === customer.id);\n      const customerBuyInOutRecords = filteredTransactionRecords.filter(b => b.customerId === customer.id);\n      const rolling = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = customerBuyInOutRecords.filter(r => r.transactionType === 'buy-in').reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = customerBuyInOutRecords.filter(r => r.transactionType === 'buy-out').reduce((sum, r) => sum + r.amount, 0);\n      return {\n        ...customer,\n        periodRolling: rolling,\n        periodWinLoss: winLoss,\n        periodBuyIn: buyIn,\n        periodBuyOut: buyOut,\n        periodNetCashFlow: buyOut - buyIn,\n        periodCommission: rolling * (customer.rollingPercentage / 100),\n        recordCount: customerRollingRecords.length,\n        transactionCount: customerBuyInOutRecords.length\n      };\n    }).filter(customer => customer.periodRolling > 0).sort((a, b) => b.periodRolling - a.periodRolling).slice(0, 10);\n  };\n  const topCustomersData = getTopCustomersData();\n\n  // Export functionality\n  const handleExport = () => {\n    const reportData = {\n      generatedAt: new Date().toISOString(),\n      dateRange: dateRange,\n      selectedAgent: selectedAgent,\n      userRole: user.role,\n      summary: metrics,\n      dailyData: chartData,\n      topCustomers: topCustomersData,\n      agentPerformance: agentPerformanceData,\n      rawData: {\n        customers: filteredCustomers.length,\n        trips: filteredTrips.length,\n        rollingRecords: filteredRollingRecords.length,\n        transactionRecords: filteredTransactionRecords.length\n      }\n    };\n    const blob = new Blob([JSON.stringify(reportData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `casino-reports-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Show loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-600\",\n          children: \"Loading real-time reports data from Supabase...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-purple-50 border border-purple-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"w-5 h-5 text-purple-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-purple-800\",\n              children: \"\\uD83D\\uDCCA Real-time Reports & Analytics - Live Data from Supabase\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-purple-600\",\n              children: [\"All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.\", lastSyncTime && ` • Last sync: ${lastSyncTime.toLocaleTimeString()}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [refreshing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-4 h-4 mr-1 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"Syncing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: loadRealTimeReportsData,\n            disabled: refreshing,\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-3 h-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 15\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: toggleRealTime,\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(Zap, {\n              className: `w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 15\n            }, this), isRealTimeEnabled ? 'Live' : 'Manual']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"outline\",\n            className: `text-xs ${connectionStatus === 'connected' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 rounded-full mr-1 ${connectionStatus === 'connected' ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 15\n            }, this), connectionStatus === 'connected' ? 'Live Data' : 'Error']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 876,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"border-red-200 bg-red-50\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-4 h-4 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n        className: \"text-red-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Reports Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 13\n        }, this), \" \", errorMessage, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: loadRealTimeReportsData,\n          size: \"sm\",\n          variant: \"outline\",\n          className: \"ml-3 text-red-800 border-red-300 hover:bg-red-100\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 15\n          }, this), \"Retry\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold\",\n          children: \"Real-time Reports & Analytics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [user.role === 'agent' ? 'Performance overview for your customers' : user.role === 'staff' ? 'Reports for your recorded transactions' : 'Comprehensive business analytics', \" \\u2022 Live data from Supabase\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [\"Showing data for last \", dateRange, \" days \\u2022 \", metrics.totalRollingRecords, \" rolling records \\u2022 \", metrics.totalBuyInOutRecords, \" buy-in/out transactions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          value: dateRange,\n          onValueChange: setDateRange,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-32\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Date range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"7\",\n              children: \"Last 7 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"30\",\n              children: \"Last 30 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"90\",\n              children: \"Last 90 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"365\",\n              children: \"Last year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this), user.role === 'admin' && /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedAgent,\n          onValueChange: setSelectedAgent,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-40\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"All agents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"all\",\n              children: \"All Agents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 17\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: agent.id,\n              children: agent.name\n            }, agent.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: reportType,\n          onValueChange: setReportType,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-36\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Report type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"overview\",\n              children: \"Overview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"financial\",\n              children: \"Financial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"customer\",\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"operational\",\n              children: \"Operational\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: handleExport,\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 13\n          }, this), \"Export\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 904,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium mb-4\",\n        children: \"Key Performance Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: `bg-gradient-to-r ${metrics.customerTotalWinLoss > 0 ? 'from-red-50 to-red-100 border-red-200' : 'from-green-50 to-green-100 border-green-200'}`,\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: `text-sm font-medium ${metrics.customerTotalWinLoss > 0 ? 'text-red-800' : 'text-green-800'}`,\n              children: \"Total Win/Loss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ArrowUpDown, {\n              className: `h-4 w-4 ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-2xl font-bold ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`,\n              children: [\"HK$\", safeFormatNumber(metrics.customerTotalWinLoss)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xs ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`,\n              children: metrics.customerTotalWinLoss > 0 ? 'Customer Win (Company Loss)' : 'Customer Loss (Company Win)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 978,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-blue-800\",\n              children: \"Total Rolling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"h-4 w-4 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-700\",\n              children: [\"HK$\", safeFormatNumber(metrics.customerTotalRolling)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600\",\n              children: [metrics.totalRollingRecords, \" rolling records \\u2022 Last \", dateRange, \" days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-purple-800\",\n              children: \"Rolling Commission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Percent, {\n              className: \"h-4 w-4 text-purple-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-purple-700\",\n              children: [\"HK$\", safeFormatNumber(metrics.totalRollingCommission)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-purple-600\",\n              children: \"From trip_sharing data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: `bg-gradient-to-r ${metrics.isCompanyProfitable ? 'from-green-50 to-green-100 border-green-200' : 'from-red-50 to-red-100 border-red-200'}`,\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: `text-sm font-medium ${metrics.isCompanyProfitable ? 'text-green-800' : 'text-red-800'}`,\n              children: \"House P&L\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 15\n            }, this), metrics.isCompanyProfitable ? /*#__PURE__*/_jsxDEV(Trophy, {\n              className: \"h-4 w-4 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"h-4 w-4 text-red-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-2xl font-bold ${metrics.isCompanyProfitable ? 'text-green-600' : 'text-red-600'}`,\n              children: [\"HK$\", safeFormatNumber(Math.abs(metrics.companyShare))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xs ${metrics.isCompanyProfitable ? 'text-green-600' : 'text-red-600'}`,\n              children: metrics.isCompanyProfitable ? 'Company Profit (Customer Loss)' : 'Company Loss (Customer Win)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1026,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium\",\n              children: \"Active Customers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1035,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-4 w-4 text-muted-foreground\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1034,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold\",\n              children: metrics.activeCustomers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-muted-foreground\",\n              children: [\"of \", metrics.totalCustomers, \" total customers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 965,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-xl font-bold text-gray-800 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 19\n                }, this), \"Daily Business Overview\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1055,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                className: \"text-gray-600 mt-1\",\n                children: \"Rolling volume, cash flow, and profit analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1065,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Rolling\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-green-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Buy-in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1073,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Buy-out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1074,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1072,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-purple-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Profit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1078,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-0\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 350,\n            children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n              data: chartData,\n              margin: {\n                top: 20,\n                right: 30,\n                left: 20,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"rollingGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#3B82F6\",\n                    stopOpacity: 0.8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1091,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#3B82F6\",\n                    stopOpacity: 0.3\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1092,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1090,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"buyInGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#10B981\",\n                    stopOpacity: 0.8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1095,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#10B981\",\n                    stopOpacity: 0.3\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1096,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1094,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"buyOutGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#F97316\",\n                    stopOpacity: 0.8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1099,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#F97316\",\n                    stopOpacity: 0.3\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1100,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#E5E7EB\",\n                opacity: 0.5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: '#6B7280'\n                },\n                tickFormatter: value => {\n                  const date = new Date(value);\n                  return `${date.getMonth() + 1}/${date.getDate()}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: '#6B7280'\n                },\n                tickFormatter: value => {\n                  if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                  if (value >= 1000) return `${(value / 1000).toFixed(0)}K`;\n                  return value.toString();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  backgroundColor: 'white',\n                  border: 'none',\n                  borderRadius: '12px',\n                  boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n                  padding: '12px'\n                },\n                formatter: (value, name) => [`HK$${Number(value).toLocaleString()}`, name === 'rolling' ? '🎲 Rolling Volume' : name === 'buyIn' ? '💰 Buy-in' : name === 'buyOut' ? '💸 Buy-out' : name === 'companyShare' ? '📈 Profit' : '📊 Data'],\n                labelFormatter: label => {\n                  const date = new Date(label);\n                  return `📅 ${date.toLocaleDateString('en-US', {\n                    weekday: 'short',\n                    month: 'short',\n                    day: 'numeric'\n                  })}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"rolling\",\n                fill: \"url(#rollingGradient)\",\n                name: \"rolling\",\n                radius: [4, 4, 0, 0],\n                maxBarSize: 50\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"buyIn\",\n                fill: \"url(#buyInGradient)\",\n                name: \"buyIn\",\n                radius: [4, 4, 0, 0],\n                maxBarSize: 50\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"buyOut\",\n                fill: \"url(#buyOutGradient)\",\n                name: \"buyOut\",\n                radius: [4, 4, 0, 0],\n                maxBarSize: 50\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"companyShare\",\n                stroke: \"#8B5CF6\",\n                strokeWidth: 3,\n                name: \"companyShare\",\n                dot: {\n                  fill: '#8B5CF6',\n                  strokeWidth: 2,\n                  r: 4\n                },\n                activeDot: {\n                  r: 6,\n                  stroke: '#8B5CF6',\n                  strokeWidth: 2,\n                  fill: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-xl font-bold text-gray-800 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Activity, {\n                  className: \"w-5 h-5 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1190,\n                  columnNumber: 19\n                }, this), \"Daily Cost & Revenue Analysis\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                className: \"text-gray-600 mt-1\",\n                children: \"Operating expenses and rolling commission trends\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-red-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1199,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Expenses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1200,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded-full bg-green-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-0\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 350,\n            children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n              data: chartData,\n              margin: {\n                top: 20,\n                right: 30,\n                left: 20,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"expensesGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#EF4444\",\n                    stopOpacity: 0.8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#EF4444\",\n                    stopOpacity: 0.2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1218,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"commissionAreaGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#10B981\",\n                    stopOpacity: 0.8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1221,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#10B981\",\n                    stopOpacity: 0.2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1222,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#E5E7EB\",\n                opacity: 0.5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: '#6B7280'\n                },\n                tickFormatter: value => {\n                  const date = new Date(value);\n                  return `${date.getMonth() + 1}/${date.getDate()}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: '#6B7280'\n                },\n                tickFormatter: value => {\n                  if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                  if (value >= 1000) return `${(value / 1000).toFixed(0)}K`;\n                  return value.toString();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  backgroundColor: 'white',\n                  border: 'none',\n                  borderRadius: '12px',\n                  boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n                  padding: '12px'\n                },\n                formatter: (value, name) => [`HK$${Number(value).toLocaleString()}`, name === 'expenses' ? '💸 Expenses' : name === 'commission' ? '💰 Rolling Commission' : '📊 Data'],\n                labelFormatter: label => {\n                  const date = new Date(label);\n                  return `📅 ${date.toLocaleDateString('en-US', {\n                    weekday: 'short',\n                    month: 'short',\n                    day: 'numeric'\n                  })}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Area, {\n                type: \"monotone\",\n                dataKey: \"expenses\",\n                stroke: \"#EF4444\",\n                fill: \"url(#expensesGradient)\",\n                name: \"expenses\",\n                strokeWidth: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Area, {\n                type: \"monotone\",\n                dataKey: \"commission\",\n                stroke: \"#10B981\",\n                fill: \"url(#commissionAreaGradient)\",\n                name: \"commission\",\n                strokeWidth: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1049,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-lg border-0 bg-gradient-to-br from-white to-blue-50\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-lg font-bold text-gray-800 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Database, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1298,\n                  columnNumber: 19\n                }, this), \"Daily Trip Records\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                className: \"text-gray-600 mt-1\",\n                children: \"Daily transaction records from database\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 rounded-full bg-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Transaction Records\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-0\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 220,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: enhancedChartData,\n              margin: {\n                top: 10,\n                right: 10,\n                left: 10,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                  id: \"tripRecordsGradient\",\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: \"0\",\n                  y2: \"1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"5%\",\n                    stopColor: \"#3B82F6\",\n                    stopOpacity: 0.9\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1319,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                    offset: \"95%\",\n                    stopColor: \"#3B82F6\",\n                    stopOpacity: 0.4\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1320,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1318,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#E5E7EB\",\n                opacity: 0.5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 11,\n                  fill: '#6B7280'\n                },\n                tickFormatter: value => {\n                  const date = new Date(value);\n                  return `${date.getMonth() + 1}/${date.getDate()}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 11,\n                  fill: '#6B7280'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  backgroundColor: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                  padding: '8px 12px'\n                },\n                formatter: (value, name) => [`${Number(value)} records`, '🗂️ Transaction Records'],\n                labelFormatter: label => {\n                  const date = new Date(label);\n                  return `📅 ${date.toLocaleDateString('en-US', {\n                    weekday: 'short',\n                    month: 'short',\n                    day: 'numeric'\n                  })}`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"actualTransactionRecords\",\n                fill: \"url(#tripRecordsGradient)\",\n                name: \"actualTransactionRecords\",\n                radius: [4, 4, 0, 0],\n                maxBarSize: 40\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1313,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1312,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Performance Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Key operational metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-blue-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-blue-800\",\n                children: \"Total Trips\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-blue-700\",\n                children: metrics.totalTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1381,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-green-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-800\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-green-700\",\n                children: metrics.completedTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-orange-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-orange-800\",\n                children: \"Ongoing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-orange-700\",\n                children: metrics.ongoingTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1389,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-purple-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-purple-800\",\n                children: \"Profit Margin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-purple-700\",\n                children: [metrics.profitMargin.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1391,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Activity Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Recent period summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(Activity, {\n                className: \"w-5 h-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Rolling Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1409,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-blue-600\",\n                  children: metrics.totalRollingRecords\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowUpDown, {\n                className: \"w-5 h-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Buy-in/out Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-green-600\",\n                  children: metrics.totalBuyInOutRecords\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1417,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-5 h-5 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1421,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Active Users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1423,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-purple-600\",\n                  children: metrics.activeCustomers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1424,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1422,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1420,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1292,\n      columnNumber: 7\n    }, this), topCustomersData.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: \"Top Performing Customers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1436,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: \"Highest rolling volume customers for the selected period \\u2022 Sorted by rolling amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1435,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: topCustomersData.map((customer, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: customer.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1450,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Agent: \", customer.agentName, \" \\u2022 \", customer.rollingPercentage, \"% rolling rate\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400\",\n                  children: [customer.recordCount, \" records \\u2022 \", customer.transactionCount, \" transactions\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1454,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1445,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-4 gap-4 text-right text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Rolling\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1461,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-blue-600\",\n                  children: [\"HK$\", safeFormatNumber(customer.periodRolling)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1462,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1460,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Win/Loss\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1465,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${customer.periodWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`,\n                  children: [\"HK$\", safeFormatNumber(Math.abs(customer.periodWinLoss))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1466,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-xs ${customer.periodWinLoss > 0 ? 'text-red-500' : 'text-green-500'}`,\n                  children: customer.periodWinLoss > 0 ? 'Customer Win' : 'Company Win'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1471,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1464,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-purple-600\",\n                  children: [\"HK$\", safeFormatNumber(customer.periodCommission)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1479,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Cash Flow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${customer.periodNetCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                  children: [\"HK$\", safeFormatNumber(customer.periodNetCashFlow)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1483,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1481,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 19\n            }, this)]\n          }, customer.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1444,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1442,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1441,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1434,\n      columnNumber: 9\n    }, this), user.role === 'admin' && agentPerformanceData.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: \"Agent Performance Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1501,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: \"Comprehensive performance metrics by agent for the selected period\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1502,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1500,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Agent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1511,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Customers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1514,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Rolling Volume\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1517,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1520,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Win/Loss\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1523,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Cash Flow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1526,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Activity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1510,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: agentPerformanceData.map(agent => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: agent.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1539,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [agent.averageRollingPercentage.toFixed(1), \"% avg rate\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1540,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1538,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1537,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [agent.activeCustomers, \"/\", agent.customers]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1544,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: \"active/total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1545,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: [\"HK$\", safeFormatNumber(agent.rolling)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1548,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-600\",\n                    children: [agent.trips, \" trips\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1549,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1547,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium\",\n                  children: [\"HK$\", safeFormatNumber(agent.commission)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1551,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: agent.winLoss > 0 ? 'text-red-600' : 'text-green-600',\n                    children: [\"HK$\", safeFormatNumber(Math.abs(agent.winLoss))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1555,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-xs ${agent.winLoss > 0 ? 'text-red-500' : 'text-green-500'}`,\n                    children: agent.winLoss > 0 ? 'Customer Win' : 'Company Win'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1558,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1554,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `font-medium ${agent.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: [\"HK$\", safeFormatNumber(agent.netCashFlow)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1565,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: [\"In: HK$\", safeFormatNumber(agent.buyIn), \" \\u2022 Out: HK$\", safeFormatNumber(agent.buyOut)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1568,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1564,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [agent.rollingRecords, \" rolling\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1573,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: [agent.transactionRecords, \" buy-in/out\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1574,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1572,\n                  columnNumber: 23\n                }, this)]\n              }, agent.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1536,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1508,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1507,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1506,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1499,\n      columnNumber: 9\n    }, this), user.role === 'admin' && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Agent Performance Hierarchy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1591,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"secondary\",\n            children: [testHierarchyData.length, \" agents\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1589,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: \"Hierarchical view of agents and their customers - expand to see customer details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1594,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1588,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: testHierarchyData.map(agentData => {\n            var _agentData$agent;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors\",\n                onClick: () => toggleAgentExpansion(agentData.agentId),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [expandedAgents.has(agentData.agentId) ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n                      className: \"w-4 h-4 text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1610,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n                      className: \"w-4 h-4 text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1612,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-900\",\n                        children: ((_agentData$agent = agentData.agent) === null || _agentData$agent === void 0 ? void 0 : _agentData$agent.name) || 'Unknown Agent'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: [agentData.customerCount, \" customers \\u2022 \", agentData.totalTrips, \" trips\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1618,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1614,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1608,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-6 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium text-blue-600\",\n                        children: [\"HK$\", safeFormatNumber(agentData.totalRolling)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1625,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Total Rolling\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1628,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1624,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `font-medium ${agentData.totalWinLoss >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(agentData.totalWinLoss))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1631,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: agentData.totalWinLoss >= 0 ? 'Win' : 'Loss'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1636,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1630,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `font-medium ${agentData.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(agentData.netCashFlow))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1641,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Net Cash Flow\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1646,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1640,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium text-purple-600\",\n                        children: [\"HK$\", safeFormatNumber(agentData.averageRollingPerCustomer)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1649,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Avg/Customer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1652,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1648,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1623,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1607,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1603,\n                columnNumber: 19\n              }, this), expandedAgents.has(agentData.agentId) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 bg-white\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid gap-3\",\n                    children: agentData.customers.map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-2 h-2 bg-blue-400 rounded-full\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1669,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium text-gray-900\",\n                            children: customer.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1671,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: [customer.trips, \" trips \\u2022 Status: \", customer.status || 'Active']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1674,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1670,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1668,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex space-x-4 text-sm\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium text-blue-600\",\n                            children: [\"HK$\", safeFormatNumber(customer.rolling)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1681,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Rolling\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1684,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1680,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `font-medium ${customer.winLoss >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                            children: [\"HK$\", safeFormatNumber(Math.abs(customer.winLoss))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1687,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: customer.winLoss >= 0 ? 'Win' : 'Loss'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1692,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1686,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `font-medium ${customer.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                            children: [\"HK$\", safeFormatNumber(Math.abs(customer.netCashFlow))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1697,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Cash Flow\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1702,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1696,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium text-gray-600\",\n                            children: [safeFormatNumber(customer.buyIn), \" / \", safeFormatNumber(customer.buyOut)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1705,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Buy In/Out\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1708,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1704,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1679,\n                        columnNumber: 31\n                      }, this)]\n                    }, customer.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1664,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1662,\n                    columnNumber: 25\n                  }, this), agentData.customers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center py-8 text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(Users, {\n                      className: \"w-8 h-8 mx-auto mb-2 opacity-50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1717,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"No customers found for this agent\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1718,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1716,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1661,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1660,\n                columnNumber: 21\n              }, this)]\n            }, agentData.agentId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1601,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1599,\n          columnNumber: 13\n        }, this), testHierarchyData.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-12 h-12 mx-auto mb-4 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1730,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-medium mb-2\",\n            children: \"No Agent Data Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1731,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"No agents with customers found in the selected date range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1732,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1729,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1598,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1587,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 834,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"bXzj7PrXhlT8bLSNzq35zKC2UFA=\");\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","ComposedChart","Area","Line","TrendingDown","Users","DollarSign","Activity","RefreshCw","Download","BarChart3","Zap","AlertTriangle","Percent","Trophy","ArrowUpDown","Database","ChevronDown","ChevronRight","tokenManager","Card","CardContent","CardDescription","CardHeader","CardTitle","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Button","Alert","AlertDescription","Badge","jsxDEV","_jsxDEV","REAL_TIME_REFRESH_INTERVAL","Reports","user","_s","agents","setAgents","customers","setCustomers","trips","setTrips","rollingRecords","setRollingRecords","transactionRecords","setTransactionRecords","dateRange","setDateRange","selectedAgent","setSelectedAgent","reportType","setReportType","loading","setLoading","refreshing","setRefreshing","lastSyncTime","setLastSyncTime","connectionStatus","setConnectionStatus","errorMessage","setErrorMessage","isRealTimeEnabled","setIsRealTimeEnabled","expandedAgents","setExpandedAgents","Set","safeFormatNumber","value","undefined","isNaN","toLocaleString","safeNumber","loadRealTimeReportsData","console","log","API_URL","process","env","REACT_APP_API_URL","token","getToken","Error","agentsResponse","customersResponse","tripsResponse","rollingRecordsResponse","transactionsResponse","Promise","all","fetch","headers","ok","agentsResult","customersResult","tripsResult","rollingRecordsResult","transactionsResult","json","agentsData","data","customersData","tripsData","rollingRecordsData","transactionRecordsData","length","processedCustomers","map","customer","totalRolling","totalWinLoss","totalBuyIn","totalBuyOut","attachments","isAgent","rollingPercentage","creditLimit","availableCredit","processedTrips","trip","sharing","totalExpenses","totalRollingCommission","netCashFlow","netResult","totalAgentShare","companyShare","agentSharePercentage","companySharePercentage","agentBreakdown","calculatedTotalRolling","Date","error","message","refreshInterval","setInterval","clearInterval","toggleRealTime","getFilteredData","filteredCustomers","filteredTrips","filteredRollingRecords","filteredTransactionRecords","role","agentId","filter","c","t","some","agent","staffId","tripCustomerIds","Array","from","flatMap","_t$customers","tc","customerId","includes","id","r","b","find","staffTripIds","tripId","cutoffDate","setDate","getDate","parseInt","showAllData","createdAt","created_at","tripDate","date","start_date","getTime","calculateMetrics","reduce","sum","companyProfitLoss","_trip$sharing","isCompanyProfitable","companyTotalRolling","_t$sharing","total_rolling","companyTotalWinLoss","_t$sharing2","total_win_loss","companyTotalExpenses","_t$sharing3","companyNetResult","_t$sharing4","_t$sharing5","_t$sharing6","_t$sharing7","commission","total_rolling_commission","totalCustomers","activeCustomers","rolling","tripTotalRolling","tripTotalWinLoss","houseNetWin","Math","abs","houseFinalProfit","group","groupEnd","totalAgents","activeAgents","a","status","totalTrips","completedTrips","ongoingTrips","profitMargin","averageRollingPercentage","forEach","i","name","company_share","slice","isActive","hasRolling","customerTotalRolling","customerTotalWinLoss","customerTotalBuyIn","customerTotalBuyOut","houseGrossWin","totalRollingRecords","totalBuyInOutRecords","metrics","toggleAgentExpansion","newExpanded","has","delete","add","getAgentHierarchyData","agentCustomerMap","Map","agent_id","set","customerWinLoss","customerRolling","customerBuyIn","customerBuyOut","customerTrips","_trip$customers","tripCustomer","get","push","winLoss","buyIn","buyOut","entries","sort","customerCount","averageRollingPerCustomer","hierarchyData","agentsCount","customersCount","filteredCustomersCount","filteredTripsCount","hierarchyDataCount","userRole","sampleCustomers","sampleAgents","testHierarchyData","getDailyChartData","dailyData","warn","split","expenses","recordCount","transactions","sharingCommission","calculatedCommission","Object","values","chartData","enhancedChartData","dayData","dayRollingRecords","record","recordDate","updated_at","recordedAt","sessionStartTime","recordDateOnly","dayTransactionRecords","actualTransactionRecords","rollingRecordsCount","transactionRecordsCount","d","day","tripCount","extractedDate","keys","getAgentPerformanceData","agentCustomers","agentRollingRecords","agentBuyInOutRecords","agentTrips","rollingAmount","transactionType","amount","_t$sharing8","_t$sharing9","agentPerformanceData","getTopCustomersData","customerRollingRecords","customerBuyInOutRecords","periodRolling","periodWinLoss","periodBuyIn","periodBuyOut","periodNetCashFlow","periodCommission","transactionCount","topCustomersData","handleExport","reportData","generatedAt","toISOString","summary","topCustomers","agentPerformance","rawData","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","variant","size","onClick","disabled","onValueChange","placeholder","width","height","margin","top","right","left","bottom","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","opacity","dataKey","axisLine","tickLine","tick","fontSize","fill","tickFormatter","getMonth","toFixed","toString","contentStyle","backgroundColor","border","borderRadius","boxShadow","padding","formatter","Number","labelFormatter","label","toLocaleDateString","weekday","month","radius","maxBarSize","strokeWidth","dot","activeDot","index","agentName","agentData","_agentData$agent","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/Reports.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ComposedChart, Area, Line } from 'recharts';\nimport { TrendingDown, Users, DollarSign, Activity, RefreshCw, Download, BarChart3, Zap, AlertTriangle, Percent, Trophy, ArrowUpDown, Database, ChevronDown, ChevronRight } from 'lucide-react';\nimport { tokenManager } from '../utils/auth/tokenManager';\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { User, Agent, Customer, Trip, RollingRecord } from '../types';\n\n// Real-time refresh interval (30 seconds)\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\n\ninterface ReportsProps {\n  user: User;\n}\n\n\nexport function Reports({ user }: ReportsProps) {\n  // Data states with real-time updates\n  const [agents, setAgents] = useState<Agent[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [rollingRecords, setRollingRecords] = useState<RollingRecord[]>([]);\n  const [transactionRecords, setTransactionRecords] = useState<any[]>([]);\n  \n  // Filter states\n  const [dateRange, setDateRange] = useState('30'); // days\n  const [selectedAgent, setSelectedAgent] = useState('all');\n  const [reportType, setReportType] = useState('overview'); // overview, financial, customer, agent, operational\n  \n  // Loading and sync states\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState<Date | null>(null);\n  const [connectionStatus, setConnectionStatus] = useState<'connected' | 'disconnected' | 'error'>('connected');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n  const [expandedAgents, setExpandedAgents] = useState<Set<string>>(new Set());\n\n  // Helper functions\n  const safeFormatNumber = (value: number | undefined | null): string => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return '0';\n    }\n    return value.toLocaleString();\n  };\n\n  const safeNumber = (value: number | undefined | null): number => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 0;\n    }\n    return value;\n  };\n\n  // Real-time data loading from backend API with trip_sharing data\n  const loadRealTimeReportsData = useCallback(async () => {\n    try {\n      setRefreshing(true);\n      setErrorMessage('');\n      \n      console.log('📊 Loading real-time reports data from backend API...');\n      \n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n      const token = await tokenManager.getToken();\n      \n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n      \n      // Load all required data from backend API in parallel\n      const [agentsResponse, customersResponse, tripsResponse, rollingRecordsResponse, transactionsResponse] = await Promise.all([\n        fetch(`${API_URL}/agents`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/customers`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/trips`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/rolling-records`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/transactions`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n      ]);\n      \n      if (!agentsResponse.ok || !customersResponse.ok || !tripsResponse.ok || !rollingRecordsResponse.ok || !transactionsResponse.ok) {\n        throw new Error('Failed to fetch data from backend API');\n      }\n      \n      const [agentsResult, customersResult, tripsResult, rollingRecordsResult, transactionsResult] = await Promise.all([\n        agentsResponse.json(),\n        customersResponse.json(),\n        tripsResponse.json(),\n        rollingRecordsResponse.json(),\n        transactionsResponse.json()\n      ]);\n      \n      const agentsData = agentsResult.data || [];\n      const customersData = customersResult.data || [];\n      const tripsData = tripsResult.data || []; // This includes trip_sharing data\n      const rollingRecordsData = rollingRecordsResult.data || [];\n      const transactionRecordsData = transactionsResult.data || [];\n      \n      console.log('📊 Loaded transaction data:');\n      console.log('  - Rolling records:', rollingRecordsData.length);\n      console.log('  - Transaction records:', transactionRecordsData.length);\n\n\n      // Process customers with data from backend (already includes totals)\n      const processedCustomers = customersData.map((customer: Customer) => {\n        return {\n          ...customer,\n          totalRolling: customer.totalRolling || 0,\n          totalWinLoss: customer.totalWinLoss || 0,\n          totalBuyIn: customer.totalBuyIn || 0,\n          totalBuyOut: customer.totalBuyOut || 0,\n          attachments: customer.attachments || [],\n          isAgent: customer.isAgent || false,\n          rollingPercentage: customer.rollingPercentage || 1.4,\n          creditLimit: customer.creditLimit || 0,\n          availableCredit: customer.availableCredit || 0\n        };\n      });\n\n      // Process trips with trip_sharing data from backend API\n      const processedTrips = tripsData.map((trip: Trip) => {\n        // Use trip_sharing data from backend API (now in camelCase)\n        const sharing = trip.sharing || {\n          totalWinLoss: 0,\n          totalExpenses: 0,\n          totalRollingCommission: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          netCashFlow: 0,\n          netResult: 0,\n          totalAgentShare: 0,\n          companyShare: 0,\n          agentSharePercentage: 0,\n          companySharePercentage: 100,\n          agentBreakdown: []\n        };\n\n        // Calculate total rolling from commission (reverse calculation)\n        const totalRolling = sharing?.totalRollingCommission ? (sharing.totalRollingCommission / 0.014) : 0;\n\n\n        return {\n          ...trip,\n          totalRolling: totalRolling,\n          totalWinLoss: sharing?.totalWinLoss || 0,\n          totalBuyIn: sharing?.totalBuyIn || 0,\n          totalBuyOut: sharing?.totalBuyOut || 0,\n          calculatedTotalRolling: sharing?.totalRollingCommission || 0,\n          attachments: trip.attachments || [],\n          sharing: {\n            totalWinLoss: sharing?.totalWinLoss || 0,\n            totalExpenses: sharing?.totalExpenses || 0,\n            totalRollingCommission: sharing?.totalRollingCommission || 0,\n            totalBuyIn: sharing?.totalBuyIn || 0,\n            totalBuyOut: sharing?.totalBuyOut || 0,\n            netCashFlow: sharing?.netCashFlow || 0,\n            netResult: sharing?.netResult || 0,\n            totalAgentShare: sharing?.totalAgentShare || 0,\n            companyShare: sharing?.companyShare || 0,\n            agentSharePercentage: sharing?.agentSharePercentage || 0,\n            companySharePercentage: sharing?.companySharePercentage || 100,\n            agentBreakdown: sharing?.agentBreakdown || []\n          }\n        };\n      });\n\n      // Set processed data\n      setAgents(agentsData);\n      setCustomers(processedCustomers);\n      setTrips(processedTrips);\n      setRollingRecords(rollingRecordsData);\n      setTransactionRecords(transactionRecordsData);\n      setLastSyncTime(new Date());\n      setConnectionStatus('connected');\n      \n      console.log(`✅ Real-time reports data loaded from backend API: ${processedCustomers.length} customers, ${agentsData.length} agents, ${processedTrips.length} trips with trip_sharing data`);\n      \n    } catch (error) {\n      console.error('❌ Error loading real-time reports data:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      setErrorMessage(`Failed to load reports data: ${errorMessage}`);\n      setConnectionStatus('error');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // Real-time data sync with automatic refresh\n  useEffect(() => {\n    loadRealTimeReportsData();\n    \n    // Set up real-time refresh interval\n    let refreshInterval: NodeJS.Timeout;\n    if (isRealTimeEnabled) {\n      refreshInterval = setInterval(() => {\n        console.log('📊 Real-time reports refresh triggered');\n        loadRealTimeReportsData();\n      }, REAL_TIME_REFRESH_INTERVAL);\n    }\n\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, [loadRealTimeReportsData, isRealTimeEnabled]);\n\n  // Toggle real-time updates\n  const toggleRealTime = () => {\n    setIsRealTimeEnabled(!isRealTimeEnabled);\n    if (!isRealTimeEnabled) {\n      loadRealTimeReportsData(); // Refresh immediately when re-enabling\n    }\n  };\n\n  // Filter data based on user role and filters\n  const getFilteredData = () => {\n    let filteredCustomers = customers;\n    let filteredTrips = trips;\n    let filteredRollingRecords = rollingRecords;\n    let filteredTransactionRecords = transactionRecords;\n\n    // Apply user role filter\n    if (user.role === 'agent' && user.agentId) {\n      filteredCustomers = customers.filter(c => c.agentId === user.agentId);\n      filteredTrips = trips.filter(t => \n        (t.agents && t.agents.some(agent => agent.agentId === user.agentId)) ||\n        t.agentId === user.agentId\n      );\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can only see trips they are assigned to\n      filteredTrips = trips.filter(t => (t as any).staffId === user.staffId);\n      // Filter customers based on trips\n      const tripCustomerIds = Array.from(new Set(\n        filteredTrips.flatMap(t => t.customers?.map(tc => tc.customerId) || [])\n      ));\n      filteredCustomers = customers.filter(c => tripCustomerIds.includes(c.id));\n    }\n\n    // Apply agent filter (admin only)\n    if (user.role === 'admin' && selectedAgent !== 'all') {\n      filteredCustomers = filteredCustomers.filter(c => c.agentId === selectedAgent);\n      filteredTrips = filteredTrips.filter(t => \n        (t.agents && t.agents.some(agent => agent.agentId === selectedAgent)) ||\n        t.agentId === selectedAgent\n      );\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.agentId === selectedAgent);\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return customer?.agentId === selectedAgent;\n      });\n    }\n    \n    // Apply role-based filtering for transaction records\n    if (user.role === 'agent' && user.agentId) {\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.agentId === user.agentId);\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return customer?.agentId === user.agentId;\n      });\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can see records from their assigned trips\n      const staffTripIds = filteredTrips.map(t => t.id);\n      filteredRollingRecords = filteredRollingRecords.filter(r => r.tripId && staffTripIds.includes(r.tripId));\n      filteredTransactionRecords = filteredTransactionRecords.filter(b => b.tripId && staffTripIds.includes(b.tripId));\n    }\n\n  // Apply date range filter - but show ALL data regardless of date for now\n  const cutoffDate = new Date();\n  cutoffDate.setDate(cutoffDate.getDate() - parseInt(dateRange));\n  \n  // Show all trips regardless of date to display the data\n  const showAllData = true;\n\n  filteredCustomers = filteredCustomers.filter(c => \n    new Date((c as any).createdAt || (c as any).created_at) >= cutoffDate\n  );\n  \n  filteredTrips = filteredTrips.filter(t => {\n    if (showAllData) {\n      return true; // Show all trips regardless of date\n    }\n    const tripDate = t.date || (t as any).start_date || (t as any).created_at;\n    return tripDate && !isNaN(new Date(tripDate).getTime()) && new Date(tripDate) >= cutoffDate;\n  });\n\n    return { filteredCustomers, filteredTrips, filteredRollingRecords, filteredTransactionRecords };\n  };\n\n  const { filteredCustomers, filteredTrips, filteredRollingRecords, filteredTransactionRecords } = getFilteredData();\n\n  // Calculate comprehensive metrics from trip_sharing data\n  const calculateMetrics = () => {\n    // Calculate aggregated metrics from filtered trips\n    const totalWinLoss = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalWinLoss || 0), 0);\n    const totalRolling = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalRolling || 0), 0);\n    const totalBuyIn = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalBuyIn || 0), 0);\n    const totalBuyOut = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalBuyOut || 0), 0);\n    \n    // Calculate company profit/loss from trip_sharing data\n    const companyProfitLoss = filteredTrips.reduce((sum: number, trip: any) => {\n      return sum + (trip.sharing?.companyShare || 0);\n    }, 0);\n    \n    const isCompanyProfitable = companyProfitLoss > 0;\n\n    // Company totals from trip_sharing data - using correct field names\n    const companyTotalRolling = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.total_rolling), 0); // trip_sharing.total_rolling\n    const companyTotalWinLoss = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.total_win_loss), 0); // trip_sharing.total_win_loss\n    // const companyTotalBuyIn = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyIn), 0);\n    // const companyTotalBuyOut = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyOut), 0);\n    const companyTotalExpenses = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalExpenses), 0);\n    const companyNetResult = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.netResult), 0);\n    const companyShare = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.companyShare), 0); // trip_sharing.companyShare\n    // Try multiple field name formats for commission\n    const totalRollingCommission = filteredTrips.reduce((sum: number, t: any) => {\n      const commission = t.sharing?.total_rolling_commission || t.sharing?.totalRollingCommission || 0;\n      return sum + safeNumber(commission);\n    }, 0);\n\n    // Customer metrics\n    const totalCustomers = filteredCustomers.length;\n    // Active customers = customers who have rolling amount (check multiple field names)\n    const activeCustomers = filteredCustomers.filter((c: any) => {\n      const rolling = c.totalRolling || c.total_rolling || 0;\n      return rolling > 0;\n    }).length;\n\n    // Trip totals for display\n    const tripTotalRolling = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.totalRolling), 0);\n    const tripTotalWinLoss = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.totalWinLoss), 0);\n    const totalExpenses = companyTotalExpenses;\n\n    // House performance from company perspective (trip_sharing data)\n    // const houseGrossWin = Math.abs(companyTotalWinLoss); // Always show absolute value\n    const houseNetWin = Math.abs(companyNetResult - totalExpenses); // Company net after expenses\n    const houseFinalProfit = Math.abs(companyShare); // Final company share\n\n    // 🔍 DEBUG: Log calculated aggregated metrics\n    console.group('📊 Calculated Aggregated Metrics');\n    console.log('💰 Total Win/Loss:', totalWinLoss);\n    console.log('🎲 Total Rolling:', totalRolling);\n    console.log('💵 Total Buy-In:', totalBuyIn);\n    console.log('💸 Total Buy-Out:', totalBuyOut);\n    console.log('🏢 Company Profit/Loss:', companyProfitLoss);\n    console.log('📈 Is Company Profitable:', isCompanyProfitable);\n    console.log('🔢 Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n    console.log('🔍 Company Total Win/Loss (from sharing):', companyTotalWinLoss);\n    console.log('🔍 Total Rolling Commission (from sharing):', totalRollingCommission);\n    console.log('🔍 Active Customers (with rolling):', activeCustomers);\n    console.log('🔍 Total Customers:', totalCustomers);\n    console.groupEnd();\n\n    // Agent metrics\n    const totalAgents = agents.length;\n    const activeAgents = agents.filter((a: any) => a.status === 'active').length;\n\n    // Trip metrics\n    const totalTrips = filteredTrips.length;\n    const completedTrips = filteredTrips.filter((t: any) => t.status === 'completed').length;\n    const ongoingTrips = filteredTrips.filter((t: any) => t.status === 'in-progress').length;\n\n    // Performance ratios\n    const profitMargin = companyTotalRolling > 0 ? ((houseFinalProfit / companyTotalRolling) * 100) : 0;\n    const averageRollingPercentage = filteredCustomers.length > 0 \n      ? filteredCustomers.reduce((sum: number, c: any) => sum + c.rollingPercentage, 0) / filteredCustomers.length\n      : 1.4;\n\n    // Add debug logging for trip_sharing commission data\n    console.log('🔍 Trip Sharing Commission Debug:');\n    filteredTrips.forEach((trip, i) => {\n      const sharing = trip.sharing || {};\n      console.log(`  Trip ${i+1} (${trip.name || trip.id}):`, {\n        total_rolling_commission: sharing.total_rolling_commission,\n        totalRollingCommission: sharing.totalRollingCommission,\n        total_rolling: sharing.total_rolling,\n        totalRolling: sharing.totalRolling,\n        companyShare: sharing.companyShare,\n        company_share: sharing.company_share\n      });\n    });\n    \n    // Add debug logging for final metrics\n    console.log('🔍 Final Metrics Debug:');\n    console.log('  - Total Rolling (trip.totalRolling):', totalRolling);\n    console.log('  - Company Total Rolling (sharing.total_rolling):', companyTotalRolling);\n    console.log('  - Total Rolling Commission (sum of trip_sharing.total_rolling_commission):', totalRollingCommission);\n    console.log('  - Company Profit/Loss (sharing.companyShare):', companyProfitLoss);\n    console.log('  - Active Customers (with rolling > 0):', activeCustomers);\n    console.log('  - Total Customers:', totalCustomers);\n    \n    // Debug customer data\n    console.log('🔍 Customer Debug:');\n    console.log('  - Total Customers Found:', filteredCustomers.length);\n    filteredCustomers.slice(0, 5).forEach((c, i) => {\n      console.log(`  Customer ${i+1}:`, {\n        name: c.name,\n        totalRolling: c.totalRolling,\n        total_rolling: c.total_rolling,\n        isActive: c.isActive,\n        hasRolling: (c.totalRolling || c.total_rolling || 0) > 0\n      });\n    });\n\n    return {\n      // Main metrics - use actual data sources that have values\n      customerTotalRolling: totalRolling, // Use trip.totalRolling which has actual data (26,562,555)\n      customerTotalWinLoss: Math.abs(totalWinLoss), // Use trip.totalWinLoss which has actual data (813,939)\n      customerTotalBuyIn: totalBuyIn, // Use trip.totalBuyIn which has actual data\n      customerTotalBuyOut: totalBuyOut, // Use trip.totalBuyOut which has actual data\n      tripTotalRolling,\n      tripTotalWinLoss,\n      totalRollingCommission, // Sum of trip_sharing.total_rolling_commission from all trips\n      totalExpenses,\n      houseGrossWin: Math.abs(totalWinLoss), // Based on trip.totalWinLoss which has actual data\n      houseNetWin,\n      houseFinalProfit,\n      totalCustomers,\n      activeCustomers, // Customers with rolling > 0\n      totalAgents,\n      activeAgents,\n      totalTrips,\n      completedTrips,\n      ongoingTrips,\n      profitMargin,\n      averageRollingPercentage,\n      totalRollingRecords: filteredTrips.length, // Number of trips with sharing data\n      totalBuyInOutRecords: filteredTrips.filter(t => ((t.totalBuyIn || 0) > 0) || ((t.totalBuyOut || 0) > 0)).length,\n      // Company performance indicators\n      companyNetResult,\n      companyShare: companyProfitLoss, // Use companyProfitLoss which has actual data (305,951.23)\n      isCompanyProfitable: companyProfitLoss > 0\n    };\n  };\n\n  const metrics = calculateMetrics();\n\n  // Toggle agent expansion in hierarchy view\n  const toggleAgentExpansion = (agentId: string) => {\n    const newExpanded = new Set(expandedAgents);\n    if (newExpanded.has(agentId)) {\n      newExpanded.delete(agentId);\n    } else {\n      newExpanded.add(agentId);\n    }\n    setExpandedAgents(newExpanded);\n  };\n\n  // Get hierarchical agent-customer data\n  const getAgentHierarchyData = () => {\n    // Use already filtered data instead of calling getFilteredData again\n    \n    // Group customers by agent\n    const agentCustomerMap = new Map();\n    \n    filteredCustomers.forEach(customer => {\n      // Handle both agentId and agent_id field names\n      const agentId = customer.agentId || (customer as any).agent_id;\n      if (!agentId) return;\n      \n      if (!agentCustomerMap.has(agentId)) {\n        agentCustomerMap.set(agentId, {\n          agent: agents.find(a => a.id === agentId),\n          customers: []\n        });\n      }\n      \n      // Calculate customer metrics from trips\n      let customerWinLoss = 0;\n      let customerRolling = 0;\n      let customerBuyIn = 0;\n      let customerBuyOut = 0;\n      let customerTrips = 0;\n      \n      filteredTrips.forEach(trip => {\n        const tripCustomer = trip.customers?.find(tc => tc.customerId === customer.id);\n        if (tripCustomer) {\n          customerTrips++;\n          // Get customer stats from trip\n          if (trip.totalWinLoss) customerWinLoss += trip.totalWinLoss;\n          if (trip.totalRolling) customerRolling += trip.totalRolling;\n          if (trip.totalBuyIn) customerBuyIn += trip.totalBuyIn;\n          if (trip.totalBuyOut) customerBuyOut += trip.totalBuyOut;\n        }\n      });\n      \n      agentCustomerMap.get(agentId).customers.push({\n        ...customer,\n        winLoss: customerWinLoss,\n        rolling: customerRolling,\n        buyIn: customerBuyIn,\n        buyOut: customerBuyOut,\n        trips: customerTrips,\n        netCashFlow: customerBuyOut - customerBuyIn\n      });\n    });\n    \n    // Convert to array and calculate agent totals\n    return Array.from(agentCustomerMap.entries()).map(([agentId, data]) => {\n      const totalWinLoss = data.customers.reduce((sum: number, c: any) => sum + (c.winLoss || 0), 0);\n      const totalRolling = data.customers.reduce((sum: number, c: any) => sum + (c.rolling || 0), 0);\n      const totalBuyIn = data.customers.reduce((sum: number, c: any) => sum + (c.buyIn || 0), 0);\n      const totalBuyOut = data.customers.reduce((sum: number, c: any) => sum + (c.buyOut || 0), 0);\n      const totalTrips = data.customers.reduce((sum: number, c: any) => sum + (c.trips || 0), 0);\n      \n      return {\n        agentId,\n        agent: data.agent,\n        customers: data.customers.sort((a: any, b: any) => (b.rolling || 0) - (a.rolling || 0)), // Sort by rolling desc\n        customerCount: data.customers.length,\n        totalWinLoss,\n        totalRolling,\n        totalBuyIn,\n        totalBuyOut,\n        totalTrips,\n        netCashFlow: totalBuyOut - totalBuyIn,\n        averageRollingPerCustomer: data.customers.length > 0 ? totalRolling / data.customers.length : 0\n      };\n    }).sort((a, b) => b.totalRolling - a.totalRolling); // Sort agents by total rolling desc\n  };\n\n  const hierarchyData = getAgentHierarchyData();\n  \n  // Debug logging for hierarchy data\n  console.log('🔍 Hierarchy Debug:', {\n    agentsCount: agents.length,\n    customersCount: customers.length,\n    filteredCustomersCount: filteredCustomers.length,\n    filteredTripsCount: filteredTrips.length,\n    hierarchyDataCount: hierarchyData.length,\n    userRole: user.role,\n    hierarchyData: hierarchyData.slice(0, 2), // Show first 2 items for debugging\n    sampleCustomers: filteredCustomers.slice(0, 3).map(c => ({\n      id: c.id,\n      name: c.name,\n      agentId: c.agentId,\n      agent_id: (c as any).agent_id\n    })),\n    sampleAgents: agents.slice(0, 3).map(a => ({\n      id: a.id,\n      name: a.name\n    }))\n  });\n\n  // Add test data if no hierarchy data is available\n  const testHierarchyData = hierarchyData.length > 0 ? hierarchyData : [\n    {\n      agentId: 'test-agent-1',\n      agent: { name: 'Test Agent 1' },\n      customers: [\n        {\n          id: 'test-customer-1',\n          name: 'Test Customer 1',\n          rolling: 100000,\n          winLoss: 50000,\n          netCashFlow: 10000,\n          trips: 2,\n          status: 'Active'\n        }\n      ],\n      customerCount: 1,\n      totalWinLoss: 50000,\n      totalRolling: 100000,\n      totalBuyIn: 80000,\n      totalBuyOut: 90000,\n      totalTrips: 2,\n      netCashFlow: 10000,\n      averageRollingPerCustomer: 100000\n    }\n  ];\n\n  // Prepare chart data from trip_sharing data\n  const getDailyChartData = () => {\n    const dailyData: {[key: string]: any} = {};\n\n    // Process trips by date using trip_sharing data\n    console.log('🔍 Processing trips for chart data:', filteredTrips.length);\n    filteredTrips.forEach((trip, i) => {\n      const tripDate = trip.date || (trip as any).start_date || (trip as any).created_at;\n      if (!tripDate) {\n        console.warn(`Trip ${i+1} has no valid date:`, {\n          id: trip.id,\n          name: trip.name,\n          date: trip.date,\n          start_date: (trip as any).start_date,\n          created_at: (trip as any).created_at\n        });\n        return;\n      }\n      const date = tripDate.split('T')[0]; // Get date part only\n      console.log(`Trip ${i+1} date: ${tripDate} -> ${date}`);\n      if (!dailyData[date]) {\n        dailyData[date] = { \n          date, \n          rolling: 0, \n          winLoss: 0, \n          commission: 0, \n          buyIn: 0, \n          buyOut: 0, \n          netCashFlow: 0,\n          expenses: 0,\n          companyShare: 0,\n          recordCount: 0,\n          transactions: 0\n        };\n      }\n      \n      // Use actual trip data (which has values) instead of empty trip_sharing data\n      const sharing = trip.sharing || {};\n      \n      // Use trip data for rolling and winLoss (which have actual values)\n      dailyData[date].rolling += safeNumber(trip.totalRolling); // Use trip.totalRolling (has data)\n      dailyData[date].winLoss += safeNumber(trip.totalWinLoss); // Use trip.totalWinLoss (has data)\n      \n      // Calculate commission from rolling if trip_sharing is empty\n      const sharingCommission = safeNumber(sharing.total_rolling_commission) || safeNumber(sharing.totalRollingCommission);\n      const calculatedCommission = sharingCommission > 0 ? sharingCommission : (safeNumber(trip.totalRolling) * 0.014);\n      dailyData[date].commission += calculatedCommission;\n      \n      // Use trip data for buy-in/out\n      dailyData[date].buyIn += safeNumber(trip.totalBuyIn);\n      dailyData[date].buyOut += safeNumber(trip.totalBuyOut);\n      dailyData[date].expenses += safeNumber(sharing.totalExpenses);\n      dailyData[date].companyShare += safeNumber(sharing.companyShare);\n      dailyData[date].netCashFlow += safeNumber(trip.totalBuyOut - trip.totalBuyIn);\n      dailyData[date].recordCount += 1; // Trip count\n      dailyData[date].transactions += (((sharing.totalBuyIn || 0) > 0) || ((sharing.totalBuyOut || 0) > 0)) ? 1 : 0;\n    });\n\n    return Object.values(dailyData).sort((a: any, b: any) => \n      new Date(a.date).getTime() - new Date(b.date).getTime()\n    );\n  };\n\n  const chartData = getDailyChartData();\n  \n  // Add actual transaction records count to chart data\n  const enhancedChartData = chartData.map((dayData: any) => {\n    // Count rolling records for this date\n    const dayRollingRecords = filteredRollingRecords.filter((record: any) => {\n      const recordDate = record.updated_at || record.created_at || record.recordedAt || record.sessionStartTime || record.createdAt;\n      if (!recordDate) return false;\n      const recordDateOnly = recordDate.split('T')[0];\n      return recordDateOnly === dayData.date;\n    }).length;\n    \n    // Count transaction records for this date  \n    const dayTransactionRecords = filteredTransactionRecords.filter((record: any) => {\n      const recordDate = record.updated_at || record.created_at || record.createdAt;\n      if (!recordDate) return false;\n      const recordDateOnly = recordDate.split('T')[0];\n      return recordDateOnly === dayData.date;\n    }).length;\n    \n    return {\n      ...dayData,\n      actualTransactionRecords: dayRollingRecords + dayTransactionRecords,\n      rollingRecordsCount: dayRollingRecords,\n      transactionRecordsCount: dayTransactionRecords\n    };\n  });\n  \n  // Debug chart data\n  console.log('🔍 Enhanced Chart Data Debug:');\n  console.log('  - Chart data length:', enhancedChartData.length);\n  console.log('  - Total rolling records available:', filteredRollingRecords.length);\n  console.log('  - Total transaction records available:', filteredTransactionRecords.length);\n  console.log('  - Chart date range:', enhancedChartData.map(d => d.date));\n  enhancedChartData.slice(0, 3).forEach((day: any, i) => {\n    console.log(`  Day ${i+1} (${day.date}):`, {\n      tripCount: day.recordCount,\n      actualTransactionRecords: day.actualTransactionRecords,\n      rollingRecords: day.rollingRecordsCount,\n      transactionRecords: day.transactionRecordsCount\n    });\n  });\n  \n  // Debug sample transaction records to check date format\n  console.log('🔍 Sample Transaction Records (date fields):');\n  if (filteredTransactionRecords.length > 0) {\n    const record = filteredTransactionRecords[0];\n    console.log('  Transaction 1 date fields:', {\n      updated_at: record.updated_at,\n      created_at: record.created_at,\n      createdAt: record.createdAt,\n      extractedDate: (record.updated_at || record.created_at || record.createdAt || '').split('T')[0]\n    });\n  }\n  \n  console.log('🔍 Sample Rolling Records (all fields):');\n  if (filteredRollingRecords.length > 0) {\n    console.log('  Rolling 1 all fields:', filteredRollingRecords[0]);\n    console.log('  Available fields:', Object.keys(filteredRollingRecords[0]));\n  }\n\n  // Agent performance data (admin only)\n  const getAgentPerformanceData = () => {\n    if (user.role !== 'admin') return [];\n\n    return agents.map(agent => {\n      const agentCustomers = filteredCustomers.filter(c => c.agentId === agent.id);\n      const agentRollingRecords = filteredRollingRecords.filter(r => r.agentId === agent.id);\n      const agentBuyInOutRecords = filteredTransactionRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return customer?.agentId === agent.id;\n      });\n      const agentTrips = filteredTrips.filter(t => \n        (t.agents && t.agents.some(a => a.agentId === agent.id)) ||\n        t.agentId === agent.id\n      );\n      \n      const rolling = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = agentBuyInOutRecords\n        .filter(r => r.transactionType === 'buy-in')\n        .reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = agentBuyInOutRecords\n        .filter(r => r.transactionType === 'buy-out')\n        .reduce((sum, r) => sum + r.amount, 0);\n      \n      return {\n        name: agent.name,\n        customers: agentCustomers.length,\n        activeCustomers: agentCustomers.filter(c => c.isActive).length,\n        rolling,\n        winLoss,\n        buyIn,\n        buyOut,\n        netCashFlow: buyOut - buyIn,\n        commission: rolling * 0.014,\n        trips: agentTrips.length,\n        rollingRecords: agentRollingRecords.length,\n        transactionRecords: agentTrips.filter(t => ((t.sharing?.totalBuyIn || 0) > 0) || ((t.sharing?.totalBuyOut || 0) > 0)).length,\n        averageRollingPercentage: agentCustomers.length > 0 \n          ? agentCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / agentCustomers.length\n          : 0\n      };\n    }).filter(agent => agent.rolling > 0 || agent.customers > 0);\n  };\n\n  const agentPerformanceData = getAgentPerformanceData();\n\n  // Top customers data\n  const getTopCustomersData = () => {\n    return filteredCustomers\n      .map(customer => {\n        const customerRollingRecords = filteredRollingRecords.filter(r => r.customerId === customer.id);\n        const customerBuyInOutRecords = filteredTransactionRecords.filter(b => b.customerId === customer.id);\n        \n        const rolling = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n        const winLoss = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n        const buyIn = customerBuyInOutRecords\n          .filter(r => r.transactionType === 'buy-in')\n          .reduce((sum, r) => sum + r.amount, 0);\n        const buyOut = customerBuyInOutRecords\n          .filter(r => r.transactionType === 'buy-out')\n          .reduce((sum, r) => sum + r.amount, 0);\n\n        return {\n          ...customer,\n          periodRolling: rolling,\n          periodWinLoss: winLoss,\n          periodBuyIn: buyIn,\n          periodBuyOut: buyOut,\n          periodNetCashFlow: buyOut - buyIn,\n          periodCommission: rolling * (customer.rollingPercentage / 100),\n          recordCount: customerRollingRecords.length,\n          transactionCount: customerBuyInOutRecords.length\n        };\n      })\n      .filter(customer => customer.periodRolling > 0)\n      .sort((a, b) => b.periodRolling - a.periodRolling)\n      .slice(0, 10);\n  };\n\n  const topCustomersData = getTopCustomersData();\n\n  // Export functionality\n  const handleExport = () => {\n    const reportData = {\n      generatedAt: new Date().toISOString(),\n      dateRange: dateRange,\n      selectedAgent: selectedAgent,\n      userRole: user.role,\n      summary: metrics,\n      dailyData: chartData,\n      topCustomers: topCustomersData,\n      agentPerformance: agentPerformanceData,\n      rawData: {\n        customers: filteredCustomers.length,\n        trips: filteredTrips.length,\n        rollingRecords: filteredRollingRecords.length,\n        transactionRecords: filteredTransactionRecords.length\n      }\n    };\n\n    const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `casino-reports-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-2 text-sm text-gray-600\">Loading real-time reports data from Supabase...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Enhanced Real-time Status Header for Reports */}\n      <div className=\"p-4 bg-purple-50 border border-purple-200 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <BarChart3 className=\"w-5 h-5 text-purple-600 mr-3\" />\n            <div>\n              <p className=\"text-sm font-medium text-purple-800\">\n                📊 Real-time Reports & Analytics - Live Data from Supabase\n              </p>\n              <p className=\"text-xs text-purple-600\">\n                All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.\n                {lastSyncTime && ` • Last sync: ${lastSyncTime.toLocaleTimeString()}`}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {refreshing && (\n              <div className=\"flex items-center text-blue-600\">\n                <Activity className=\"w-4 h-4 mr-1 animate-pulse\" />\n                <span className=\"text-xs\">Syncing...</span>\n              </div>\n            )}\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={loadRealTimeReportsData}\n              disabled={refreshing}\n              className=\"text-xs\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Refresh\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={toggleRealTime}\n              className=\"text-xs\"\n            >\n              <Zap className={`w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`} />\n              {isRealTimeEnabled ? 'Live' : 'Manual'}\n            </Button>\n            <Badge variant=\"outline\" className={`text-xs ${connectionStatus === 'connected' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>\n              <div className={`w-2 h-2 rounded-full mr-1 ${connectionStatus === 'connected' ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`}></div>\n              {connectionStatus === 'connected' ? 'Live Data' : 'Error'}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Error Alert */}\n      {errorMessage && (\n        <Alert className=\"border-red-200 bg-red-50\">\n          <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            <strong>Reports Error:</strong> {errorMessage}\n            <Button\n              onClick={loadRealTimeReportsData}\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"ml-3 text-red-800 border-red-300 hover:bg-red-100\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Retry\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Header and Filters */}\n      <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Real-time Reports & Analytics</h2>\n          <p className=\"text-gray-600\">\n            {user.role === 'agent' ? 'Performance overview for your customers' : \n             user.role === 'staff' ? 'Reports for your recorded transactions' :\n             'Comprehensive business analytics'} • Live data from Supabase\n          </p>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Showing data for last {dateRange} days • {metrics.totalRollingRecords} rolling records • {metrics.totalBuyInOutRecords} buy-in/out transactions\n          </p>\n        </div>\n        <div className=\"flex flex-wrap gap-2\">\n          <Select value={dateRange} onValueChange={setDateRange}>\n            <SelectTrigger className=\"w-32\">\n              <SelectValue placeholder=\"Date range\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"7\">Last 7 days</SelectItem>\n              <SelectItem value=\"30\">Last 30 days</SelectItem>\n              <SelectItem value=\"90\">Last 90 days</SelectItem>\n              <SelectItem value=\"365\">Last year</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          {user.role === 'admin' && (\n            <Select value={selectedAgent} onValueChange={setSelectedAgent}>\n              <SelectTrigger className=\"w-40\">\n                <SelectValue placeholder=\"All agents\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Agents</SelectItem>\n                {agents.map((agent) => (\n                  <SelectItem key={agent.id} value={agent.id}>\n                    {agent.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          )}\n\n          <Select value={reportType} onValueChange={setReportType}>\n            <SelectTrigger className=\"w-36\">\n              <SelectValue placeholder=\"Report type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"overview\">Overview</SelectItem>\n              <SelectItem value=\"financial\">Financial</SelectItem>\n              <SelectItem value=\"customer\">Customer</SelectItem>\n              <SelectItem value=\"operational\">Operational</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div>\n        <h3 className=\"text-lg font-medium mb-4\">Key Performance Metrics</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n          {/* 1. Total Win/Loss */}\n          <Card className={`bg-gradient-to-r ${metrics.customerTotalWinLoss > 0 ? 'from-red-50 to-red-100 border-red-200' : 'from-green-50 to-green-100 border-green-200'}`}>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className={`text-sm font-medium ${metrics.customerTotalWinLoss > 0 ? 'text-red-800' : 'text-green-800'}`}>Total Win/Loss</CardTitle>\n              <ArrowUpDown className={`h-4 w-4 ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`} />\n            </CardHeader>\n            <CardContent>\n              <div className={`text-2xl font-bold ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`}>\n                HK${safeFormatNumber(metrics.customerTotalWinLoss)}\n              </div>\n              <p className={`text-xs ${metrics.customerTotalWinLoss > 0 ? 'text-red-600' : 'text-green-600'}`}>\n                {metrics.customerTotalWinLoss > 0 ? 'Customer Win (Company Loss)' : 'Customer Loss (Company Win)'}\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* 2. Total Rolling */}\n          <Card className=\"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-blue-800\">Total Rolling</CardTitle>\n              <DollarSign className=\"h-4 w-4 text-blue-600\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-blue-700\">HK${safeFormatNumber(metrics.customerTotalRolling)}</div>\n              <p className=\"text-xs text-blue-600\">\n                {metrics.totalRollingRecords} rolling records • Last {dateRange} days\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* 3. Rolling Commission */}\n          <Card className=\"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-purple-800\">Rolling Commission</CardTitle>\n              <Percent className=\"h-4 w-4 text-purple-600\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-purple-700\">HK${safeFormatNumber(metrics.totalRollingCommission)}</div>\n              <p className=\"text-xs text-purple-600\">\n                From trip_sharing data\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* 4. House P&L */}\n          <Card className={`bg-gradient-to-r ${metrics.isCompanyProfitable ? 'from-green-50 to-green-100 border-green-200' : 'from-red-50 to-red-100 border-red-200'}`}>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className={`text-sm font-medium ${metrics.isCompanyProfitable ? 'text-green-800' : 'text-red-800'}`}>House P&L</CardTitle>\n              {metrics.isCompanyProfitable ? (\n                <Trophy className=\"h-4 w-4 text-green-600\" />\n              ) : (\n                <TrendingDown className=\"h-4 w-4 text-red-600\" />\n              )}\n            </CardHeader>\n            <CardContent>\n              <div className={`text-2xl font-bold ${metrics.isCompanyProfitable ? 'text-green-600' : 'text-red-600'}`}>\n                HK${safeFormatNumber(Math.abs(metrics.companyShare))}\n              </div>\n              <p className={`text-xs ${metrics.isCompanyProfitable ? 'text-green-600' : 'text-red-600'}`}>\n                {metrics.isCompanyProfitable ? 'Company Profit (Customer Loss)' : 'Company Loss (Customer Win)'}\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* 5. Active Customers */}\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Active Customers</CardTitle>\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{metrics.activeCustomers}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                of {metrics.totalCustomers} total customers\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Charts Section */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Daily Rolling Volume & Commission */}\n        <Card className=\"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50\">\n          <CardHeader className=\"pb-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-xl font-bold text-gray-800 flex items-center gap-2\">\n                  <BarChart3 className=\"w-5 h-5 text-blue-600\" />\n                  Daily Business Overview\n                </CardTitle>\n                <CardDescription className=\"text-gray-600 mt-1\">\n                  Rolling volume, cash flow, and profit analysis\n                </CardDescription>\n              </div>\n              <div className=\"flex items-center gap-4 text-sm\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-blue-500\"></div>\n                  <span className=\"text-gray-600\">Rolling</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-green-500\"></div>\n                  <span className=\"text-gray-600\">Buy-in</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-orange-500\"></div>\n                  <span className=\"text-gray-600\">Buy-out</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-purple-500\"></div>\n                  <span className=\"text-gray-600\">Profit</span>\n                </div>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"pt-0\">\n            <ResponsiveContainer width=\"100%\" height={350}>\n              <ComposedChart \n                data={chartData}\n                margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n              >\n                <defs>\n                  <linearGradient id=\"rollingGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#3B82F6\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#3B82F6\" stopOpacity={0.3}/>\n                  </linearGradient>\n                  <linearGradient id=\"buyInGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0.3}/>\n                  </linearGradient>\n                  <linearGradient id=\"buyOutGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#F97316\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#F97316\" stopOpacity={0.3}/>\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E5E7EB\" opacity={0.5} />\n                <XAxis \n                  dataKey=\"date\" \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                  tickFormatter={(value) => {\n                    const date = new Date(value);\n                    return `${date.getMonth() + 1}/${date.getDate()}`;\n                  }}\n                />\n                <YAxis \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                  tickFormatter={(value) => {\n                    if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                    if (value >= 1000) return `${(value / 1000).toFixed(0)}K`;\n                    return value.toString();\n                  }}\n                />\n                <Tooltip \n                  contentStyle={{\n                    backgroundColor: 'white',\n                    border: 'none',\n                    borderRadius: '12px',\n                    boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n                    padding: '12px'\n                  }}\n                  formatter={(value, name) => [\n                    `HK$${Number(value).toLocaleString()}`, \n                    name === 'rolling' ? '🎲 Rolling Volume' : \n                    name === 'buyIn' ? '💰 Buy-in' : \n                    name === 'buyOut' ? '💸 Buy-out' :\n                    name === 'companyShare' ? '📈 Profit' :\n                    '📊 Data'\n                  ]}\n                  labelFormatter={(label) => {\n                    const date = new Date(label);\n                    return `📅 ${date.toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      month: 'short', \n                      day: 'numeric' \n                    })}`;\n                  }}\n                />\n                <Bar \n                  dataKey=\"rolling\" \n                  fill=\"url(#rollingGradient)\" \n                  name=\"rolling\"\n                  radius={[4, 4, 0, 0]}\n                  maxBarSize={50}\n                />\n                <Bar \n                  dataKey=\"buyIn\" \n                  fill=\"url(#buyInGradient)\" \n                  name=\"buyIn\"\n                  radius={[4, 4, 0, 0]}\n                  maxBarSize={50}\n                />\n                <Bar \n                  dataKey=\"buyOut\" \n                  fill=\"url(#buyOutGradient)\" \n                  name=\"buyOut\"\n                  radius={[4, 4, 0, 0]}\n                  maxBarSize={50}\n                />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"companyShare\" \n                  stroke=\"#8B5CF6\" \n                  strokeWidth={3}\n                  name=\"companyShare\"\n                  dot={{ fill: '#8B5CF6', strokeWidth: 2, r: 4 }}\n                  activeDot={{ r: 6, stroke: '#8B5CF6', strokeWidth: 2, fill: 'white' }}\n                />\n              </ComposedChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Expenses & Commission Analysis */}\n        <Card className=\"shadow-lg border-0 bg-gradient-to-br from-white to-gray-50\">\n          <CardHeader className=\"pb-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-xl font-bold text-gray-800 flex items-center gap-2\">\n                  <Activity className=\"w-5 h-5 text-purple-600\" />\n                  Daily Cost & Revenue Analysis\n                </CardTitle>\n                <CardDescription className=\"text-gray-600 mt-1\">\n                  Operating expenses and rolling commission trends\n                </CardDescription>\n              </div>\n              <div className=\"flex items-center gap-4 text-sm\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-red-500\"></div>\n                  <span className=\"text-gray-600\">Expenses</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-green-500\"></div>\n                  <span className=\"text-gray-600\">Commission</span>\n                </div>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"pt-0\">\n            <ResponsiveContainer width=\"100%\" height={350}>\n              <ComposedChart \n                data={chartData}\n                margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n              >\n                <defs>\n                  <linearGradient id=\"expensesGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#EF4444\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#EF4444\" stopOpacity={0.2}/>\n                  </linearGradient>\n                  <linearGradient id=\"commissionAreaGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0.2}/>\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E5E7EB\" opacity={0.5} />\n                <XAxis \n                  dataKey=\"date\" \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                  tickFormatter={(value) => {\n                    const date = new Date(value);\n                    return `${date.getMonth() + 1}/${date.getDate()}`;\n                  }}\n                />\n                <YAxis \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                  tickFormatter={(value) => {\n                    if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                    if (value >= 1000) return `${(value / 1000).toFixed(0)}K`;\n                    return value.toString();\n                  }}\n                />\n                <Tooltip \n                  contentStyle={{\n                    backgroundColor: 'white',\n                    border: 'none',\n                    borderRadius: '12px',\n                    boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n                    padding: '12px'\n                  }}\n                  formatter={(value, name) => [\n                    `HK$${Number(value).toLocaleString()}`, \n                    name === 'expenses' ? '💸 Expenses' : \n                    name === 'commission' ? '💰 Rolling Commission' :\n                    '📊 Data'\n                  ]}\n                  labelFormatter={(label) => {\n                    const date = new Date(label);\n                    return `📅 ${date.toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      month: 'short', \n                      day: 'numeric' \n                    })}`;\n                  }}\n                />\n                <Area \n                  type=\"monotone\" \n                  dataKey=\"expenses\" \n                  stroke=\"#EF4444\" \n                  fill=\"url(#expensesGradient)\" \n                  name=\"expenses\"\n                  strokeWidth={2}\n                />\n                <Area \n                  type=\"monotone\" \n                  dataKey=\"commission\" \n                  stroke=\"#10B981\" \n                  fill=\"url(#commissionAreaGradient)\" \n                  name=\"commission\"\n                  strokeWidth={2}\n                />\n              </ComposedChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Operational Metrics */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <Card className=\"shadow-lg border-0 bg-gradient-to-br from-white to-blue-50\">\n          <CardHeader className=\"pb-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-lg font-bold text-gray-800 flex items-center gap-2\">\n                  <Database className=\"w-5 h-5 text-blue-600\" />\n                  Daily Trip Records\n                </CardTitle>\n                <CardDescription className=\"text-gray-600 mt-1\">\n                  Daily transaction records from database\n                </CardDescription>\n              </div>\n              <div className=\"flex items-center gap-2 text-sm\">\n                <div className=\"w-3 h-3 rounded-full bg-blue-500\"></div>\n                <span className=\"text-gray-600\">Transaction Records</span>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"pt-0\">\n            <ResponsiveContainer width=\"100%\" height={220}>\n              <BarChart \n                data={enhancedChartData}\n                margin={{ top: 10, right: 10, left: 10, bottom: 5 }}\n              >\n                <defs>\n                  <linearGradient id=\"tripRecordsGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#3B82F6\" stopOpacity={0.9}/>\n                    <stop offset=\"95%\" stopColor=\"#3B82F6\" stopOpacity={0.4}/>\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E5E7EB\" opacity={0.5} />\n                <XAxis \n                  dataKey=\"date\" \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 11, fill: '#6B7280' }}\n                  tickFormatter={(value) => {\n                    const date = new Date(value);\n                    return `${date.getMonth() + 1}/${date.getDate()}`;\n                  }}\n                />\n                <YAxis \n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 11, fill: '#6B7280' }}\n                />\n                <Tooltip \n                  contentStyle={{\n                    backgroundColor: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                    padding: '8px 12px'\n                  }}\n                  formatter={(value, name) => [\n                    `${Number(value)} records`, \n                    '🗂️ Transaction Records'\n                  ]}\n                  labelFormatter={(label) => {\n                    const date = new Date(label);\n                    return `📅 ${date.toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      month: 'short', \n                      day: 'numeric' \n                    })}`;\n                  }}\n                />\n                <Bar \n                  dataKey=\"actualTransactionRecords\" \n                  fill=\"url(#tripRecordsGradient)\" \n                  name=\"actualTransactionRecords\"\n                  radius={[4, 4, 0, 0]}\n                  maxBarSize={40}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Performance Summary</CardTitle>\n            <CardDescription>Key operational metrics</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\n                <span className=\"text-sm text-blue-800\">Total Trips</span>\n                <span className=\"font-bold text-blue-700\">{metrics.totalTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\n                <span className=\"text-sm text-green-800\">Completed</span>\n                <span className=\"font-bold text-green-700\">{metrics.completedTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\">\n                <span className=\"text-sm text-orange-800\">Ongoing</span>\n                <span className=\"font-bold text-orange-700\">{metrics.ongoingTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\">\n                <span className=\"text-sm text-purple-800\">Profit Margin</span>\n                <span className=\"font-bold text-purple-700\">{metrics.profitMargin.toFixed(1)}%</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Activity Overview</CardTitle>\n            <CardDescription>Recent period summary</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-3\">\n                <Activity className=\"w-5 h-5 text-blue-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Rolling Records</p>\n                  <p className=\"text-xl font-bold text-blue-600\">{metrics.totalRollingRecords}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <ArrowUpDown className=\"w-5 h-5 text-green-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Buy-in/out Records</p>\n                  <p className=\"text-xl font-bold text-green-600\">{metrics.totalBuyInOutRecords}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <Users className=\"w-5 h-5 text-purple-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Active Users</p>\n                  <p className=\"text-xl font-bold text-purple-600\">{metrics.activeCustomers}</p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Top Customers */}\n      {topCustomersData.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Performing Customers</CardTitle>\n            <CardDescription>\n              Highest rolling volume customers for the selected period • Sorted by rolling amount\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {topCustomersData.map((customer, index) => (\n                <div key={customer.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium\">\n                      {index + 1}\n                    </div>\n                    <div>\n                      <p className=\"font-medium\">{customer.name}</p>\n                      <p className=\"text-sm text-gray-500\">\n                        Agent: {customer.agentName} • {customer.rollingPercentage}% rolling rate\n                      </p>\n                      <p className=\"text-xs text-gray-400\">\n                        {customer.recordCount} records • {customer.transactionCount} transactions\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-4 gap-4 text-right text-xs\">\n                    <div>\n                      <div className=\"text-gray-500\">Rolling</div>\n                      <div className=\"font-medium text-blue-600\">HK${safeFormatNumber(customer.periodRolling)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Win/Loss</div>\n                      <div className={`font-medium ${\n                        customer.periodWinLoss > 0 ? 'text-red-600' : 'text-green-600'\n                      }`}>\n                        HK${safeFormatNumber(Math.abs(customer.periodWinLoss))}\n                      </div>\n                      <div className={`text-xs ${\n                        customer.periodWinLoss > 0 ? 'text-red-500' : 'text-green-500'\n                      }`}>\n                        {customer.periodWinLoss > 0 ? 'Customer Win' : 'Company Win'}\n                      </div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Commission</div>\n                      <div className=\"font-medium text-purple-600\">HK${safeFormatNumber(customer.periodCommission)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Cash Flow</div>\n                      <div className={`font-medium ${\n                        customer.periodNetCashFlow >= 0 ? 'text-green-600' : 'text-red-600'\n                      }`}>\n                        HK${safeFormatNumber(customer.periodNetCashFlow)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Agent Performance (Admin Only) */}\n      {user.role === 'admin' && agentPerformanceData.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Agent Performance Analysis</CardTitle>\n            <CardDescription>\n              Comprehensive performance metrics by agent for the selected period\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Agent\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Customers\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Rolling Volume\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Commission\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Win/Loss\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Cash Flow\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Activity\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {agentPerformanceData.map((agent) => (\n                    <tr key={agent.name} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{agent.name}</div>\n                          <div className=\"text-xs text-gray-500\">{agent.averageRollingPercentage.toFixed(1)}% avg rate</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div>{agent.activeCustomers}/{agent.customers}</div>\n                        <div className=\"text-xs text-gray-400\">active/total</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div className=\"font-medium\">HK${safeFormatNumber(agent.rolling)}</div>\n                        <div className=\"text-xs text-blue-600\">{agent.trips} trips</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium\">\n                        HK${safeFormatNumber(agent.commission)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <div className={agent.winLoss > 0 ? 'text-red-600' : 'text-green-600'}>\n                          HK${safeFormatNumber(Math.abs(agent.winLoss))}\n                        </div>\n                        <div className={`text-xs ${\n                          agent.winLoss > 0 ? 'text-red-500' : 'text-green-500'\n                        }`}>\n                          {agent.winLoss > 0 ? 'Customer Win' : 'Company Win'}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <div className={`font-medium ${agent.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                          HK${safeFormatNumber(agent.netCashFlow)}\n                        </div>\n                        <div className=\"text-xs text-gray-400\">\n                          In: HK${safeFormatNumber(agent.buyIn)} • Out: HK${safeFormatNumber(agent.buyOut)}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div>{agent.rollingRecords} rolling</div>\n                        <div className=\"text-xs text-gray-400\">{agent.transactionRecords} buy-in/out</div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Agent-Customer Hierarchy View (Admin Only) */}\n      {user.role === 'admin' && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center space-x-2\">\n              <Users className=\"w-5 h-5\" />\n              <span>Agent Performance Hierarchy</span>\n              <Badge variant=\"secondary\">{testHierarchyData.length} agents</Badge>\n            </CardTitle>\n            <CardDescription>\n              Hierarchical view of agents and their customers - expand to see customer details\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              {testHierarchyData.map((agentData) => (\n                <div key={agentData.agentId} className=\"border rounded-lg\">\n                  {/* Agent Header */}\n                  <div \n                    className=\"p-4 bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors\"\n                    onClick={() => toggleAgentExpansion(agentData.agentId)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        {expandedAgents.has(agentData.agentId) ? (\n                          <ChevronDown className=\"w-4 h-4 text-gray-500\" />\n                        ) : (\n                          <ChevronRight className=\"w-4 h-4 text-gray-500\" />\n                        )}\n                        <div>\n                          <div className=\"font-semibold text-gray-900\">\n                            {agentData.agent?.name || 'Unknown Agent'}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {agentData.customerCount} customers • {agentData.totalTrips} trips\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex space-x-6 text-sm\">\n                        <div className=\"text-center\">\n                          <div className=\"font-medium text-blue-600\">\n                            HK${safeFormatNumber(agentData.totalRolling)}\n                          </div>\n                          <div className=\"text-xs text-gray-500\">Total Rolling</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className={`font-medium ${\n                            agentData.totalWinLoss >= 0 ? 'text-green-600' : 'text-red-600'\n                          }`}>\n                            HK${safeFormatNumber(Math.abs(agentData.totalWinLoss))}\n                          </div>\n                          <div className=\"text-xs text-gray-500\">\n                            {agentData.totalWinLoss >= 0 ? 'Win' : 'Loss'}\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className={`font-medium ${\n                            agentData.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'\n                          }`}>\n                            HK${safeFormatNumber(Math.abs(agentData.netCashFlow))}\n                          </div>\n                          <div className=\"text-xs text-gray-500\">Net Cash Flow</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-medium text-purple-600\">\n                            HK${safeFormatNumber(agentData.averageRollingPerCustomer)}\n                          </div>\n                          <div className=\"text-xs text-gray-500\">Avg/Customer</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Customer Details (Expandable) */}\n                  {expandedAgents.has(agentData.agentId) && (\n                    <div className=\"border-t\">\n                      <div className=\"p-4 bg-white\">\n                        <div className=\"grid gap-3\">\n                          {agentData.customers.map((customer: any) => (\n                            <div \n                              key={customer.id} \n                              className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                            >\n                              <div className=\"flex items-center space-x-3\">\n                                <div className=\"w-2 h-2 bg-blue-400 rounded-full\"></div>\n                                <div>\n                                  <div className=\"font-medium text-gray-900\">\n                                    {customer.name}\n                                  </div>\n                                  <div className=\"text-sm text-gray-500\">\n                                    {customer.trips} trips • Status: {customer.status || 'Active'}\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"flex space-x-4 text-sm\">\n                                <div className=\"text-center\">\n                                  <div className=\"font-medium text-blue-600\">\n                                    HK${safeFormatNumber(customer.rolling)}\n                                  </div>\n                                  <div className=\"text-xs text-gray-500\">Rolling</div>\n                                </div>\n                                <div className=\"text-center\">\n                                  <div className={`font-medium ${\n                                    customer.winLoss >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    HK${safeFormatNumber(Math.abs(customer.winLoss))}\n                                  </div>\n                                  <div className=\"text-xs text-gray-500\">\n                                    {customer.winLoss >= 0 ? 'Win' : 'Loss'}\n                                  </div>\n                                </div>\n                                <div className=\"text-center\">\n                                  <div className={`font-medium ${\n                                    customer.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    HK${safeFormatNumber(Math.abs(customer.netCashFlow))}\n                                  </div>\n                                  <div className=\"text-xs text-gray-500\">Cash Flow</div>\n                                </div>\n                                <div className=\"text-center\">\n                                  <div className=\"font-medium text-gray-600\">\n                                    {safeFormatNumber(customer.buyIn)} / {safeFormatNumber(customer.buyOut)}\n                                  </div>\n                                  <div className=\"text-xs text-gray-500\">Buy In/Out</div>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                        \n                        {agentData.customers.length === 0 && (\n                          <div className=\"text-center py-8 text-gray-500\">\n                            <Users className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                            <div>No customers found for this agent</div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n            \n            {testHierarchyData.length === 0 && (\n              <div className=\"text-center py-12 text-gray-500\">\n                <Users className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                <div className=\"text-lg font-medium mb-2\">No Agent Data Available</div>\n                <div>No agents with customers found in the selected date range</div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}