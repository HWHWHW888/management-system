{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/ProjectManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Textarea } from './ui/textarea';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from './ui/alert-dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from './ui/table';\nimport { db } from '../utils/supabase/supabaseClients';\nimport { apiClient } from '../utils/api/apiClient';\nimport { MapPin, RefreshCw, Activity, AlertTriangle, Zap, Users, DollarSign, Settings, Plus, Trash2, Eye, BarChart, UserCheck, X, CheckCircle, Share2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\nfunction ProjectManagementComponent() {\n  _s();\n  var _selectedTrip$status, _selectedTrip$status2, _selectedTrip$custome2, _selectedTrip$custome3, _selectedTrip$custome4, _selectedTrip$agents, _staff, _selectedCustomerForT, _selectedCustomerForR, _staff2;\n  // Mock user for now since AuthContext is not available\n  const user = {\n    role: 'admin',\n    agentId: null,\n    username: 'admin'\n  };\n  const clearError = () => {};\n  const showError = message => console.error(message);\n\n  // Utility function for safe number conversion\n  const safeNumber = value => {\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n  // Data states\n  const [trips, setTrips] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [staff, setStaff] = useState([]);\n  const [selectedTrip, setSelectedTrip] = useState(null);\n  const [activeTab, setActiveTab] = useState('trips');\n  const [selectedTripTab, setSelectedTripTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState(null);\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  // Trip expenses and sharing states\n  const [tripExpenses, setTripExpenses] = useState([]);\n  const [tripSharing, setTripSharing] = useState(null);\n  const [agentProfits, setAgentProfits] = useState([]);\n\n  // Form states\n  const [showCreateTrip, setShowCreateTrip] = useState(false);\n  const [showAddCustomer, setShowAddCustomer] = useState(false);\n  const [showEditAgent, setShowEditAgent] = useState(false);\n  const [showDeleteAgent, setShowDeleteAgent] = useState(false);\n  const [showAddStaff, setShowAddStaff] = useState(false);\n  const [showAddTransaction, setShowAddTransaction] = useState(false);\n  const [showAddRolling, setShowAddRolling] = useState(false);\n  const [selectedCustomerForTransaction, setSelectedCustomerForTransaction] = useState(null);\n  const [selectedCustomerForRolling, setSelectedCustomerForRolling] = useState(null);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [expensesLoading, setExpensesLoading] = useState(false);\n  const [sharingLoading, setSharingLoading] = useState(false);\n\n  // Transaction and Rolling form states\n  const [transactionForm, setTransactionForm] = useState({\n    type: 'buy-in',\n    // buy-in, cash-out (database format)\n    amount: '',\n    description: ''\n  });\n  const [rollingForm, setRollingForm] = useState({\n    amount: '',\n    staff_id: '',\n    game_type: 'baccarat',\n    description: ''\n  });\n\n  // Form data states\n  const [newTrip, setNewTrip] = useState({\n    name: '',\n    description: '',\n    date: '',\n    endDate: '',\n    venue: '',\n    budget: '',\n    status: 'active'\n  });\n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: 0,\n    category: 'flight'\n  });\n  const [editAgentShare, setEditAgentShare] = useState(25);\n  const [editingAgent, setEditingAgent] = useState(null);\n  const [deletingAgent, setDeletingAgent] = useState(null);\n\n  // Currency states\n  const [currencyRates, setCurrencyRates] = useState([]);\n  const [selectedCurrency, setSelectedCurrency] = useState('HKD');\n  const [showCurrencyDialog, setShowCurrencyDialog] = useState(false);\n  const [newRate, setNewRate] = useState({\n    from_currency: 'HKD',\n    to_currency: 'MYR',\n    exchange_rate: ''\n  });\n\n  // Helper functions\n  const safeFormatNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) return '0';\n    return value.toLocaleString();\n  };\n\n  // Permissions\n  const isAdmin = user.role === 'admin';\n  const isAgent = user.role === 'agent';\n\n  // API functions for trip expenses and sharing\n  const loadTripExpenses = async tripId => {\n    try {\n      setExpensesLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/expenses`);\n      if (response.success) {\n        setTripExpenses(response.data.expenses || []);\n      }\n    } catch (error) {\n      console.error('Error loading trip expenses:', error);\n      showError('Failed to load trip expenses');\n    } finally {\n      setExpensesLoading(false);\n    }\n  };\n  const loadTripSharing = async tripId => {\n    try {\n      setSharingLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/sharing`);\n      if (response.success) {\n        setTripSharing(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip sharing:', error);\n      showError('Failed to load trip sharing');\n    } finally {\n      setSharingLoading(false);\n    }\n  };\n  const loadAgentProfits = useCallback(async tripId => {\n    try {\n      console.log('ðŸ” Loading agent profits for trip:', tripId);\n      const response = await apiClient.get(`/trips/${tripId}/agents/profits`);\n      console.log('ðŸ“Š Agent profits API response:', response);\n      if (response.success) {\n        console.log('âœ… Agent profits data:', response.data);\n        console.log('âœ… Setting agentProfits state to:', response.data);\n        setAgentProfits(response.data || []);\n        console.log('âœ… AgentProfits state updated');\n      } else {\n        console.log('âŒ Agent profits API failed:', response);\n        setAgentProfits([]);\n      }\n    } catch (error) {\n      console.error('Error loading agent profits:', error);\n      showError('Failed to load agent profits');\n      setAgentProfits([]);\n    }\n  }, []);\n  const updateCommissionRate = async (agentId, customerId, commissionRate) => {\n    try {\n      if (!selectedTrip) return;\n      setSaving(true);\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/agents/${agentId}/commission`, {\n        customer_id: customerId,\n        commission_rate: commissionRate\n      });\n      if (response.success) {\n        // Reload agent profits to reflect the change\n        await loadAgentProfits(selectedTrip.id);\n        console.log('Commission rate updated successfully');\n      } else {\n        showError('Failed to update commission rate');\n      }\n    } catch (error) {\n      console.error('Error updating commission rate:', error);\n      showError('Failed to update commission rate');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const addTripExpense = async (tripId, expenseData) => {\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${tripId}/expenses`, expenseData);\n      if (response.success) {\n        await loadTripExpenses(tripId);\n        await loadTripSharing(tripId);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding trip expense:', error);\n      showError('Failed to add trip expense');\n      return false;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Enhanced data loading with better error handling and caching\n  const loadAllRealTimeData = useCallback(async (forceRefresh = false) => {\n    try {\n      if (!forceRefresh && dataLoaded && trips.length > 0) {\n        console.log('ðŸ“‹ Using cached data, skipping reload');\n        return;\n      }\n      setLoading(true);\n      setErrorMessage('');\n      clearError();\n\n      // First ensure we have authentication\n      const token = await tokenManager.getToken();\n      if (!token) {\n        console.log('âŒ No authentication token available, attempting auto-login...');\n\n        // Try to auto-login with admin credentials\n        try {\n          var _loginData$data;\n          const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const loginResponse = await fetch(`${apiUrl}/auth/login`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'admin',\n              password: 'admin123'\n            })\n          });\n          const loginData = await loginResponse.json();\n          if (loginData.success && (_loginData$data = loginData.data) !== null && _loginData$data !== void 0 && _loginData$data.token) {\n            console.log('âœ… Auto-login successful');\n            tokenManager.setToken(loginData.data.token);\n\n            // Store user data in localStorage for consistency\n            const userData = {\n              ...loginData.data.user,\n              token: loginData.data.token\n            };\n            localStorage.setItem('casinoUser', JSON.stringify(userData));\n          } else {\n            console.log('âŒ Auto-login failed:', loginData);\n            setErrorMessage('Authentication required. Please login first.');\n            setLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('âŒ Auto-login error:', error);\n          setErrorMessage('Authentication failed. Please check your connection.');\n          setLoading(false);\n          return;\n        }\n      }\n\n      // Load basic data first (fast)\n      const [tripsData, customersData, agentsData, staffResponse] = await Promise.all([db.get('trips', []), db.get('customers', []), db.get('agents', []), apiClient.get('/staffs')]);\n\n      // Extract staff data from API response\n      const staffData = staffResponse.success ? staffResponse.data : [];\n\n      // Transform trips with basic data only (no heavy API calls)\n      const transformedTrips = (tripsData || []).map(trip => {\n        return {\n          id: trip.id,\n          name: trip.trip_name || trip.name || 'Unnamed Trip',\n          description: trip.description || '',\n          date: trip.start_date || trip.date,\n          startDate: trip.start_date || trip.date,\n          endDate: trip.end_date || trip.endDate,\n          status: trip.status || 'active',\n          budget: trip.total_budget || 0,\n          createdAt: trip.created_at || new Date().toISOString(),\n          customers: [],\n          agents: [],\n          expenses: [],\n          totalRolling: 0,\n          totalWinLoss: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          calculatedTotalRolling: 0,\n          sharing: {\n            totalWinLoss: 0,\n            totalExpenses: 0,\n            totalRollingCommission: 0,\n            totalBuyIn: 0,\n            totalBuyOut: 0,\n            netResult: 0,\n            netCashFlow: 0,\n            totalAgentShare: 0,\n            companyShare: 0,\n            agentSharePercentage: 0,\n            companySharePercentage: 100,\n            agentShares: [],\n            agentBreakdown: []\n          },\n          attachments: [],\n          lastDataUpdate: new Date().toISOString(),\n          activeCustomersCount: 0,\n          recentActivityCount: 0,\n          totalExpenses: 0,\n          _dataLoaded: false\n        };\n      });\n\n      // Set state with basic data immediately for fast UI response\n      setTrips(transformedTrips);\n      setCustomers(customersData || []);\n      setAgents(agentsData || []);\n      setStaff(staffData || []);\n      setLastSyncTime(new Date());\n      setDataLoaded(true);\n      console.log(`âœ… Basic project data loaded quickly: ${transformedTrips.length} trips`);\n\n      // Load detailed trip data in background (lazy loading)\n      if (transformedTrips.length > 0) {\n        setTimeout(async () => {\n          try {\n            const enrichedTrips = await Promise.all(transformedTrips.map(async trip => {\n              try {\n                const [statsResponse, sharingResponse, customersResponse] = await Promise.all([apiClient.get(`/trips/${trip.id}/statistics`), apiClient.get(`/trips/${trip.id}/sharing`), apiClient.get(`/trips/${trip.id}/customer-stats`)]);\n                const tripStats = statsResponse.success ? statsResponse.data : null;\n                const tripSharing = sharingResponse.success ? sharingResponse.data : null;\n                const tripCustomers = customersResponse.success ? customersResponse.data : [];\n                const statsRoot = (tripStats === null || tripStats === void 0 ? void 0 : tripStats.statistics) || tripStats;\n                return {\n                  ...trip,\n                  customers: tripCustomers,\n                  totalRolling: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_rolling) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_rolling) || 0,\n                  totalWinLoss: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.net_profit) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.net_profit) || 0,\n                  totalBuyIn: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_buy_in) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_buy_in) || 0,\n                  totalBuyOut: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_cash_out) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_cash_out) || 0,\n                  calculatedTotalRolling: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_rolling) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_rolling) || 0,\n                  sharing: {\n                    total_rolling: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_rolling) || 0,\n                    total_expenses: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_expenses) || 0,\n                    net_result: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.net_result) || 0,\n                    totalWinLoss: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_win_loss) || 0,\n                    totalRollingCommission: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_rolling_commission) || 0,\n                    totalBuyIn: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_buy_in) || 0,\n                    totalBuyOut: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_buy_out) || 0,\n                    netCashFlow: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.net_cash_flow) || 0,\n                    totalAgentShare: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_agent_share) || 0,\n                    companyShare: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.company_share) || 0,\n                    agentSharePercentage: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_share_percentage) || 0,\n                    companySharePercentage: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.company_share_percentage) || 100,\n                    agentShares: [],\n                    agentBreakdown: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_breakdown) || []\n                  },\n                  totalExpenses: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_expenses) || 0,\n                  _dataLoaded: true\n                };\n              } catch (error) {\n                console.warn(`Failed to load detailed data for trip ${trip.id}:`, error);\n                return {\n                  ...trip,\n                  _dataLoaded: false\n                };\n              }\n            }));\n\n            // Update trips with detailed data\n            setTrips(enrichedTrips);\n            console.log('âœ… Detailed trip data loaded in background');\n          } catch (error) {\n            console.warn('Background data loading failed:', error);\n          }\n        }, 100); // Load detailed data after 100ms\n      }\n    } catch (error) {\n      console.error('âŒ Error loading data:', error);\n      setErrorMessage(`Failed to load project data: ${error}`);\n      showError('Failed to load project data');\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTrip, dataLoaded, trips.length]);\n\n  // Initial data load only\n  useEffect(() => {\n    loadAllRealTimeData(true);\n  }, []);\n\n  // Separate effect for real-time updates (less frequent)\n  useEffect(() => {\n    let refreshInterval;\n    if (isRealTimeEnabled && dataLoaded) {\n      refreshInterval = setInterval(() => {\n        console.log('ðŸ”„ Real-time refresh triggered');\n        loadAllRealTimeData(true);\n      }, REAL_TIME_REFRESH_INTERVAL * 2); // Double the interval to reduce load\n    }\n    return () => {\n      if (refreshInterval) clearInterval(refreshInterval);\n    };\n  }, [isRealTimeEnabled, dataLoaded]);\n\n  // Load agent profits when switching to agents tab\n  useEffect(() => {\n    if (selectedTrip && selectedTripTab === 'agents') {\n      console.log('ðŸŽ¯ Loading agent profits for selected trip:', {\n        tripId: selectedTrip.id,\n        tripName: selectedTrip.name,\n        customers: selectedTrip.customers,\n        agents: selectedTrip.agents\n      });\n      loadAgentProfits(selectedTrip.id);\n    }\n  }, [selectedTrip, selectedTripTab, loadAgentProfits]);\n\n  // Get filtered trips based on user role\n  const getFilteredTrips = () => {\n    if (user.role === 'agent' && user.agentId) {\n      return trips.filter(trip => {\n        var _trip$agents;\n        return ((_trip$agents = trip.agents) === null || _trip$agents === void 0 ? void 0 : _trip$agents.some(agent => agent.agentId === user.agentId)) || trip.agentId === user.agentId;\n      });\n    }\n    return trips;\n  };\n\n  // Save trips to database\n  const saveTrips = async updatedTrips => {\n    try {\n      setSaving(true);\n      await db.save('trips', updatedTrips);\n      setTrips(updatedTrips);\n      setLastSyncTime(new Date());\n      console.log('âœ… Trips saved to Supabase');\n    } catch (error) {\n      console.error('âŒ Error saving trips:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to save trips: ${errorMessage}`);\n      throw error;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Create new trip\n  const handleCreateTrip = async () => {\n    if (!newTrip.name.trim() || !newTrip.date || !newTrip.venue) {\n      showError('Please fill in all required fields (Name, Date, Venue)');\n      return;\n    }\n    try {\n      setSaving(true);\n\n      // Prepare data for backend API\n      const tripData = {\n        trip_name: newTrip.name,\n        destination: newTrip.venue,\n        start_date: newTrip.date,\n        end_date: newTrip.endDate || newTrip.date,\n        total_budget: parseFloat(newTrip.budget) || 0,\n        description: newTrip.description || '',\n        status: newTrip.status\n      };\n      console.log('Creating trip with data:', tripData);\n\n      // Call backend API to create trip\n      const response = await apiClient.post('/trips', tripData);\n      if (response.success) {\n        console.log('âœ… Trip created successfully:', response.data);\n\n        // Refresh trips list\n        await loadAllRealTimeData();\n        setShowCreateTrip(false);\n        setNewTrip({\n          name: '',\n          description: '',\n          date: '',\n          endDate: '',\n          venue: '',\n          budget: '',\n          status: 'active'\n        });\n        console.log('âœ… Trip created successfully:', response.data.trip_name);\n      } else {\n        throw new Error(response.error || 'Failed to create trip');\n      }\n    } catch (error) {\n      console.error('âŒ Error creating trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Select trip for detailed view with comprehensive backend data\n  const selectTrip = async trip => {\n    console.log('ðŸŽ¯ Selecting trip for details:', trip.name);\n    try {\n      var _expensesResponse$dat, _customersResponse$da, _statisticsResponse$d, _statisticsResponse$d2, _statisticsResponse$d3, _statisticsResponse$d4, _statisticsResponse$d5, _statisticsResponse$d6, _statisticsResponse$d7, _statisticsResponse$d8, _statisticsResponse$d9, _statisticsResponse$d0, _statisticsResponse$d1, _statisticsResponse$d10;\n      setLoading(true);\n\n      // Load comprehensive trip data from backend API\n      const [customersResponse, expensesResponse, sharingResponse, statisticsResponse, transactionsResponse, agentsResponse, staffResponse] = await Promise.all([apiClient.get(`/trips/${trip.id}/customer-stats`), apiClient.get(`/trips/${trip.id}/expenses`), apiClient.get(`/trips/${trip.id}/sharing`), apiClient.get(`/trips/${trip.id}/statistics`), apiClient.get(`/trips/${trip.id}/transactions`), apiClient.get(`/trips/${trip.id}/agents`), apiClient.get(`/trips/${trip.id}/staff`)]);\n      console.log('ðŸ“Š Backend API responses:', {\n        customers: customersResponse,\n        expenses: expensesResponse,\n        sharing: sharingResponse,\n        statistics: statisticsResponse,\n        transactions: transactionsResponse,\n        agents: agentsResponse,\n        staff: staffResponse\n      });\n\n      // Create enriched trip object with actual backend data\n      const enrichedTrip = {\n        ...trip,\n        customers: customersResponse.success ? customersResponse.data : [],\n        expenses: expensesResponse.success ? ((_expensesResponse$dat = expensesResponse.data) === null || _expensesResponse$dat === void 0 ? void 0 : _expensesResponse$dat.expenses) || [] : [],\n        agents: agentsResponse.success ? agentsResponse.data : [],\n        staff: staffResponse.success ? staffResponse.data : [],\n        sharing: sharingResponse.success ? sharingResponse.data : trip.sharing,\n        statistics: statisticsResponse.success ? statisticsResponse.data : null,\n        transactions: transactionsResponse.success ? transactionsResponse.data : [],\n        activeCustomersCount: customersResponse.success ? ((_customersResponse$da = customersResponse.data) === null || _customersResponse$da === void 0 ? void 0 : _customersResponse$da.length) || 0 : trip.activeCustomersCount || 0,\n        backendData: {\n          totalBuyIn: statisticsResponse.success ? ((_statisticsResponse$d = statisticsResponse.data) === null || _statisticsResponse$d === void 0 ? void 0 : (_statisticsResponse$d2 = _statisticsResponse$d.statistics) === null || _statisticsResponse$d2 === void 0 ? void 0 : _statisticsResponse$d2.total_buy_in) || 0 : 0,\n          totalCashOut: statisticsResponse.success ? ((_statisticsResponse$d3 = statisticsResponse.data) === null || _statisticsResponse$d3 === void 0 ? void 0 : (_statisticsResponse$d4 = _statisticsResponse$d3.statistics) === null || _statisticsResponse$d4 === void 0 ? void 0 : _statisticsResponse$d4.total_cash_out) || 0 : 0,\n          totalWin: statisticsResponse.success ? ((_statisticsResponse$d5 = statisticsResponse.data) === null || _statisticsResponse$d5 === void 0 ? void 0 : (_statisticsResponse$d6 = _statisticsResponse$d5.statistics) === null || _statisticsResponse$d6 === void 0 ? void 0 : _statisticsResponse$d6.total_win) || 0 : 0,\n          totalLoss: statisticsResponse.success ? ((_statisticsResponse$d7 = statisticsResponse.data) === null || _statisticsResponse$d7 === void 0 ? void 0 : (_statisticsResponse$d8 = _statisticsResponse$d7.statistics) === null || _statisticsResponse$d8 === void 0 ? void 0 : _statisticsResponse$d8.total_loss) || 0 : 0,\n          netProfit: statisticsResponse.success ? ((_statisticsResponse$d9 = statisticsResponse.data) === null || _statisticsResponse$d9 === void 0 ? void 0 : (_statisticsResponse$d0 = _statisticsResponse$d9.statistics) === null || _statisticsResponse$d0 === void 0 ? void 0 : _statisticsResponse$d0.net_profit) || 0 : 0,\n          profitMargin: statisticsResponse.success ? ((_statisticsResponse$d1 = statisticsResponse.data) === null || _statisticsResponse$d1 === void 0 ? void 0 : (_statisticsResponse$d10 = _statisticsResponse$d1.statistics) === null || _statisticsResponse$d10 === void 0 ? void 0 : _statisticsResponse$d10.profit_margin) || 0 : 0,\n          customerStatsLoaded: customersResponse.success,\n          expensesLoaded: expensesResponse.success,\n          agentsLoaded: agentsResponse.success,\n          sharingLoaded: sharingResponse.success,\n          statisticsLoaded: statisticsResponse.success,\n          transactionsLoaded: transactionsResponse.success\n        }\n      };\n\n      // Calculate financial totals from actual backend data\n      if (enrichedTrip.customers && enrichedTrip.customers.length > 0) {\n        enrichedTrip.totalBuyIn = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.total_buy_in), 0);\n        enrichedTrip.totalBuyOut = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.total_cash_out), 0);\n        enrichedTrip.totalRolling = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.rolling_amount), 0);\n        enrichedTrip.totalWinLoss = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.net_result), 0);\n      }\n      if (enrichedTrip.expenses && enrichedTrip.expenses.length > 0) {\n        enrichedTrip.totalExpenses = enrichedTrip.expenses.reduce((sum, e) => sum + safeNumber(e.amount), 0);\n      }\n      console.log('ðŸ“Š Enriched trip with backend data:', enrichedTrip);\n\n      // Update state variables for tabs to display backend data\n      setTripExpenses(enrichedTrip.expenses || []);\n      setTripSharing(enrichedTrip.sharing || null);\n\n      // Load agent profits for the selected trip\n      await loadAgentProfits(trip.id);\n\n      // Backend data status is already included in the initial backendData object\n\n      setSelectedTrip(enrichedTrip);\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } catch (error) {\n      console.error('âŒ Error loading trip details:', error);\n      setSelectedTrip(trip); // Fallback to original trip data\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add customer to trip\n  const handleAddCustomerToTrip = async customerId => {\n    if (!selectedTrip) return;\n    const customer = customers.find(c => c.id === customerId);\n    if (!customer) return;\n    if (selectedTrip.customers.some(tc => tc.customerId === customerId || tc.customer_id === customerId)) {\n      showError('Customer is already added to this trip');\n      return;\n    }\n    setSaving(true);\n    try {\n      // Make API call to add customer to trip\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/customers`, {\n        customer_id: customerId\n      });\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to add customer to trip');\n      }\n      console.log('âœ… Customer added to trip via API:', customer.name);\n\n      // Refresh trip data to get updated customer list\n      await selectTrip(selectedTrip);\n      setShowAddCustomer(false);\n    } catch (error) {\n      console.error('âŒ Error adding customer to trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to add customer to trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove customer from trip\n  const handleRemoveCustomerFromTrip = async customerId => {\n    if (!selectedTrip) return;\n    console.log('ðŸ”„ Starting delete customer process:', {\n      customerId,\n      tripId: selectedTrip.id\n    });\n    setSaving(true);\n    try {\n      // Make API call to remove customer from trip\n      console.log('ðŸ“¡ Making API call to delete customer...');\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/customers/${customerId}`);\n      console.log('ðŸ“¨ API Response:', response);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove customer from trip');\n      }\n      console.log('âœ… Customer removed from trip via API successfully');\n\n      // Refresh trip data to get updated customer list\n      console.log('ðŸ”„ Refreshing trip data...');\n      await selectTrip(selectedTrip);\n      console.log('âœ… Trip data refreshed after customer removal');\n    } catch (error) {\n      console.error('âŒ Error removing customer from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove customer from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Add staff to trip\n  const handleAddStaffToTrip = async staffId => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/staff`, {\n        staff_id: staffId\n      });\n      if (response.success) {\n        console.log(' Staff added to trip via API');\n\n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        setShowAddStaff(false);\n      } else {\n        showError(response.error || 'Failed to add staff to trip');\n      }\n    } catch (error) {\n      console.error('Error adding staff to trip:', error);\n      showError('Failed to add staff to trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove staff from trip\n  const handleRemoveStaffFromTrip = async staffId => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n    try {\n      setSaving(true);\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/staff/${staffId}`);\n      if (response.success) {\n        console.log(' Staff removed from trip via API');\n\n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n      } else {\n        showError(response.error || 'Failed to remove staff from trip');\n      }\n    } catch (error) {\n      console.error('Error removing staff from trip:', error);\n      showError('Failed to remove staff from trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle transaction operations\n  const handleAddTransaction = async () => {\n    if (!selectedTrip || !selectedCustomerForTransaction) return;\n    setSaving(true);\n    try {\n      // Check authentication first\n      const userData = localStorage.getItem('casinoUser');\n      if (!userData) {\n        showError('Please login first to add transactions');\n        return;\n      }\n\n      // Fix transaction type mapping: buy_in -> buy-in, cash_out -> cash-out\n      const transactionTypeMapping = {\n        'buy_in': 'buy-in',\n        'cash_out': 'cash-out',\n        'buy-in': 'buy-in',\n        'cash-out': 'cash-out'\n      };\n      const mappedTransactionType = transactionTypeMapping[transactionForm.type] || transactionForm.type;\n\n      // Ensure we have proper customer_id\n      const customerId = selectedCustomerForTransaction.customerId || selectedCustomerForTransaction.customer_id || selectedCustomerForTransaction.id;\n      if (!customerId) {\n        showError('Customer ID is required for transaction');\n        return;\n      }\n      const transactionData = {\n        customer_id: customerId,\n        transaction_type: mappedTransactionType,\n        // Must be 'buy-in' or 'cash-out'\n        amount: parseFloat(transactionForm.amount),\n        status: 'completed',\n        // Add required status field\n        notes: transactionForm.description || null\n      };\n      console.log('ðŸ”„ Adding transaction:', transactionData);\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/transactions`, transactionData);\n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddTransaction(false);\n        setTransactionForm({\n          type: 'buy-in',\n          amount: '',\n          description: ''\n        });\n        setSelectedCustomerForTransaction(null);\n      } else {\n        showError('Failed to add transaction');\n      }\n    } catch (error) {\n      console.error('Error adding transaction:', error);\n      showError('Failed to add transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle rolling operations\n  const handleAddRolling = async () => {\n    if (!selectedTrip || !selectedCustomerForRolling) return;\n    setSaving(true);\n    try {\n      console.log('ðŸŽ¯ Rolling request data:', {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        notes: rollingForm.description\n      });\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/rolling-records`, {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        notes: rollingForm.description\n      });\n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddRolling(false);\n        setRollingForm({\n          amount: '',\n          staff_id: '',\n          game_type: 'baccarat',\n          description: ''\n        });\n        setSelectedCustomerForRolling(null);\n      } else {\n        showError('Failed to add rolling');\n      }\n    } catch (error) {\n      console.error('Error adding rolling:', error);\n      showError('Failed to add rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Edit agent share\n  const handleEditAgentShare = async () => {\n    if (!selectedTrip || !editingAgent) return;\n    if (editAgentShare <= 0 || editAgentShare > 100) {\n      showError('Please enter a valid share percentage between 1 and 100');\n      return;\n    }\n    try {\n      const updatedTrip = {\n        ...selectedTrip,\n        agents: (selectedTrip.agents || []).map(agent => agent.agentId === editingAgent.agentId ? {\n          ...agent,\n          sharePercentage: editAgentShare\n        } : agent),\n        lastDataUpdate: new Date().toISOString()\n      };\n      const updatedTrips = (trips || []).map(t => t.id === selectedTrip.id ? updatedTrip : t);\n      await saveTrips(updatedTrips);\n      setSelectedTrip(updatedTrip);\n      setShowEditAgent(false);\n      setEditingAgent(null);\n      setEditAgentShare(25);\n      console.log('âœ… Agent share updated:', editingAgent.agentName);\n    } catch (error) {\n      console.error('âŒ Error updating agent share:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to update agent share: ${errorMessage}`);\n    }\n  };\n\n  // Delete agent from trip\n  const handleDeleteAgentFromTrip = async () => {\n    if (!selectedTrip || !deletingAgent) return;\n    setSaving(true);\n    try {\n      // Make API call to remove agent from trip\n      const agentIdToRemove = deletingAgent.agentId || deletingAgent.agent_id;\n      console.log('ðŸ—‘ï¸ Attempting to delete agent:', {\n        tripId: selectedTrip.id,\n        agentIdToRemove,\n        deletingAgent,\n        url: `/trips/${selectedTrip.id}/agents/${agentIdToRemove}`\n      });\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/agents/${agentIdToRemove}`);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove agent from trip');\n      }\n      console.log('âœ… Agent removed from trip via API:', deletingAgent.agentName);\n\n      // Refresh trip data to get updated agent list\n      await selectTrip(selectedTrip);\n      setShowDeleteAgent(false);\n      setDeletingAgent(null);\n    } catch (error) {\n      console.error('âŒ Error removing agent from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove agent from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Add expense to trip using API\n  const handleAddExpense = async () => {\n    if (!selectedTrip || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n    const expenseData = {\n      expense_type: newExpense.category,\n      amount: newExpense.amount,\n      description: newExpense.description\n    };\n    const success = await addTripExpense(selectedTrip.id, expenseData);\n    if (success) {\n      setShowAddExpense(false);\n      setNewExpense({\n        description: '',\n        amount: 0,\n        category: 'flight'\n      });\n      console.log('âœ… Expense added to trip via API');\n    }\n  };\n  const filteredTrips = getFilteredTrips();\n\n  // Debug logging\n  useEffect(() => {\n    const debugInfo = async () => {\n      const hasToken = await tokenManager.getToken();\n      console.log('ðŸ“Š Debug info:', {\n        trips: trips === null || trips === void 0 ? void 0 : trips.length,\n        filteredTrips: filteredTrips === null || filteredTrips === void 0 ? void 0 : filteredTrips.length,\n        dataLoaded,\n        loading,\n        userRole: user.role,\n        agentId: user.agentId,\n        hasToken: hasToken ? 'YES' : 'NO'\n      });\n    };\n    debugInfo();\n  }, [trips, filteredTrips, dataLoaded, loading, user.role, user.agentId]);\n\n  // Loading state\n  if (loading && !dataLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-600\",\n          children: \"Loading Project Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Connecting to Supabase and loading trips, customers, and agents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 w-48 bg-gray-200 rounded-full h-2 mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2 rounded-full animate-pulse\",\n            style: {\n              width: '60%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 995,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 994,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 990,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 989,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-5 h-5 text-blue-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-blue-800\",\n              children: \"\\uD83C\\uDFAF Project Management - Agent Share CRUD Added\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600\",\n              children: [\"Full CRUD functionality for agent shares now available in trip details\", lastSyncTime && ` â€¢ Last sync: ${lastSyncTime.toLocaleTimeString()}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [saving && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-4 h-4 mr-1 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"Saving...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => loadAllRealTimeData(true),\n            disabled: loading,\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-3 h-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 15\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1026,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => setIsRealTimeEnabled(!isRealTimeEnabled),\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(Zap, {\n              className: `w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 15\n            }, this), isRealTimeEnabled ? 'Live' : 'Manual']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"outline\",\n            className: \"text-xs bg-green-50 text-green-700\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-2 h-2 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 15\n            }, this), \"CRUD Ready\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1006,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1005,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Trips Loaded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-blue-600\",\n                children: (trips === null || trips === void 0 ? void 0 : trips.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-8 h-8 text-blue-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Customers Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1070,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: (customers === null || customers === void 0 ? void 0 : customers.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1069,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-8 h-8 text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1068,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1066,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Agents Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-purple-600\",\n                children: (agents === null || agents === void 0 ? void 0 : agents.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(UserCheck, {\n              className: \"w-8 h-8 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"border-red-200 bg-red-50\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-4 h-4 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n        className: \"text-red-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 13\n        }, this), \" \", errorMessage, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => loadAllRealTimeData(true),\n          size: \"sm\",\n          variant: \"outline\",\n          className: \"ml-3 text-red-800 border-red-300 hover:bg-red-100\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 15\n          }, this), \"Retry\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1096,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1092,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onValueChange: setActiveTab,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full grid-cols-2\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"trips\",\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1113,\n            columnNumber: 13\n          }, this), \"All Trips\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"trip-details\",\n          disabled: !selectedTrip,\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1117,\n            columnNumber: 13\n          }, this), \"Trip Details \", selectedTrip && `- ${selectedTrip.name}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"trips\",\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold\",\n              children: \"Project Management\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"Manage trips and project data with full CRUD functionality\", user.role === 'agent' && ' (Your trips only)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 13\n          }, this), (isAdmin || isAgent) && /*#__PURE__*/_jsxDEV(Dialog, {\n            open: showCreateTrip,\n            onOpenChange: setShowCreateTrip,\n            children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n              asChild: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1136,\n                  columnNumber: 21\n                }, this), \"Create Trip\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  children: \"Create New Trip\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1142,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                  children: \"Create a new trip that will be saved to Supabase database.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1143,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"tripName\",\n                    children: \"Trip Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1149,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"tripName\",\n                    value: newTrip.name,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      name: e.target.value\n                    }),\n                    placeholder: \"Enter trip name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1150,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1148,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"tripDescription\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1158,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                    id: \"tripDescription\",\n                    value: newTrip.description,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      description: e.target.value\n                    }),\n                    placeholder: \"Trip description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1159,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"startDate\",\n                      children: \"Start Date *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1168,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"startDate\",\n                      type: \"date\",\n                      value: newTrip.date,\n                      onChange: e => setNewTrip({\n                        ...newTrip,\n                        date: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1169,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"endDate\",\n                      children: \"End Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1177,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"endDate\",\n                      type: \"date\",\n                      value: newTrip.endDate,\n                      onChange: e => setNewTrip({\n                        ...newTrip,\n                        endDate: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1178,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1176,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"venue\",\n                    children: \"Venue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1187,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"venue\",\n                    value: newTrip.venue,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      venue: e.target.value\n                    }),\n                    placeholder: \"Casino venue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1188,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"budget\",\n                    children: \"Budget (HK$)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1196,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"budget\",\n                    type: \"number\",\n                    value: newTrip.budget,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      budget: e.target.value\n                    }),\n                    placeholder: \"Enter trip budget\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1197,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"status\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1206,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: newTrip.status,\n                    onValueChange: value => setNewTrip({\n                      ...newTrip,\n                      status: value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                      children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1214,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1213,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                      children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"active\",\n                        children: \"Active\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1217,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"in-progress\",\n                        children: \"In Progress\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1218,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"completed\",\n                        children: \"Completed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1219,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"cancelled\",\n                        children: \"Cancelled\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1220,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1216,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1207,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1205,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline\",\n                    onClick: () => setShowCreateTrip(false),\n                    disabled: saving,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1225,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleCreateTrip,\n                    disabled: saving,\n                    children: saving ? 'Creating...' : 'Create Trip'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1232,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1147,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1133,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Loading trips...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1244,\n          columnNumber: 13\n        }, this) : ((filteredTrips === null || filteredTrips === void 0 ? void 0 : filteredTrips.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: !dataLoaded ? 'Loading trips...' : 'No trips found'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: !dataLoaded ? 'Please wait while we load your trip data from Supabase.' : 'Create your first trip to start managing projects and customer rolling amounts.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 17\n            }, this), dataLoaded && (isAdmin || isAgent) && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowCreateTrip(true),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 21\n              }, this), \"Create First Trip\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 19\n            }, this), !dataLoaded && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => loadAllRealTimeData(true),\n              variant: \"outline\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1271,\n                columnNumber: 21\n              }, this), \"Retry Loading\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1251,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [(() => {\n            console.log('ðŸ” Rendering trips:', filteredTrips === null || filteredTrips === void 0 ? void 0 : filteredTrips.length, filteredTrips);\n            return null;\n          })(), (filteredTrips || []).map(trip => {\n            var _trip$status, _trip$status2, _trip$customers, _trip$sharing, _trip$sharing2, _trip$sharing3, _trip$sharing4;\n            // Use loaded statistics data\n            const netProfit = trip.totalWinLoss || 0;\n            return /*#__PURE__*/_jsxDEV(Card, {\n              className: \"overflow-hidden hover:shadow-md transition-shadow\",\n              children: /*#__PURE__*/_jsxDEV(CardHeader, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                      className: \"text-xl\",\n                      children: trip.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1292,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                      className: \"mt-1\",\n                      children: [trip.description, \" \\u2022 \", trip.date]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1293,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1291,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                      variant: trip.status === 'completed' ? 'default' : trip.status === 'in-progress' ? 'secondary' : 'outline',\n                      children: ((_trip$status = trip.status) === null || _trip$status === void 0 ? void 0 : _trip$status.charAt(0).toUpperCase()) + ((_trip$status2 = trip.status) === null || _trip$status2 === void 0 ? void 0 : _trip$status2.slice(1))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1299,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      variant: \"outline\",\n                      onClick: () => selectTrip(trip),\n                      children: [/*#__PURE__*/_jsxDEV(Eye, {\n                        className: \"w-4 h-4 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1306,\n                        columnNumber: 29\n                      }, this), \"View Details\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1305,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1298,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Customers\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1315,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: ((_trip$customers = trip.customers) === null || _trip$customers === void 0 ? void 0 : _trip$customers.length) || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1316,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1314,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Total Rolling\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1319,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-blue-600\",\n                      children: [\"HK$\", safeFormatNumber(((_trip$sharing = trip.sharing) === null || _trip$sharing === void 0 ? void 0 : _trip$sharing.total_rolling) || 0)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1320,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1318,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Expenses\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1323,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-red-600\",\n                      children: [\"HK$\", safeFormatNumber(Math.abs(((_trip$sharing2 = trip.sharing) === null || _trip$sharing2 === void 0 ? void 0 : _trip$sharing2.total_expenses) || 0))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1324,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1322,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Profit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1327,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `font-medium ${(((_trip$sharing3 = trip.sharing) === null || _trip$sharing3 === void 0 ? void 0 : _trip$sharing3.net_result) || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                      children: [\"HK$\", safeFormatNumber(Math.abs(((_trip$sharing4 = trip.sharing) === null || _trip$sharing4 === void 0 ? void 0 : _trip$sharing4.net_result) || 0))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1328,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1326,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1313,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1289,\n                columnNumber: 21\n              }, this)\n            }, trip.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1288,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"trip-details\",\n        className: \"space-y-4\",\n        children: selectedTrip ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold\",\n                children: selectedTrip.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: selectedTrip.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  variant: selectedTrip.status === 'completed' ? 'default' : selectedTrip.status === 'in-progress' ? 'secondary' : 'outline',\n                  children: ((_selectedTrip$status = selectedTrip.status) === null || _selectedTrip$status === void 0 ? void 0 : _selectedTrip$status.charAt(0).toUpperCase()) + ((_selectedTrip$status2 = selectedTrip.status) === null || _selectedTrip$status2 === void 0 ? void 0 : _selectedTrip$status2.slice(1))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500\",\n                  children: selectedTrip.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1356,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1349,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              onClick: () => setActiveTab('trips'),\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1360,\n                columnNumber: 19\n              }, this), \"Back to Trips\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n            value: selectedTripTab,\n            onValueChange: setSelectedTripTab,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(TabsList, {\n              className: \"grid w-full grid-cols-7\",\n              children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"overview\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(BarChart, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1369,\n                  columnNumber: 21\n                }, this), \"Overview\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"customers\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1373,\n                  columnNumber: 21\n                }, this), \"Customers\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"agents\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(UserCheck, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1377,\n                  columnNumber: 21\n                }, this), \"Agents\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"staff\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1381,\n                  columnNumber: 21\n                }, this), \"Staff\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"expenses\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1385,\n                  columnNumber: 21\n                }, this), \"Expenses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1384,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"currency\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1389,\n                  columnNumber: 21\n                }, this), \"Currency\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"sharing\",\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Settings, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1393,\n                  columnNumber: 21\n                }, this), \"Financials\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1392,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"overview\",\n              className: \"space-y-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: ((_backendData, _selectedTrip$custome, _backendData2, _sharing, _backendData3, _sharing2, _backendData4, _sharing3, _backendData5, _backendData6, _backendData7, _backendData8, _backendData9, _backendData0, _backendData1, _backendData10, _backendData11, _backendData12, _backendData13, _backendData14, _backendData15) => {\n                  // Use backend data directly - no local calculation needed\n                  const totalExpenses = ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.expenses) || []).reduce((sum, e) => sum + safeNumber(e.amount), 0);\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Buy-in\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1410,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1409,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-green-600\",\n                            children: [\"HK$\", safeFormatNumber((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData = selectedTrip.backendData) === null || _backendData === void 0 ? void 0 : _backendData.totalBuyIn) || 0)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1413,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: [(selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.activeCustomersCount) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome = selectedTrip.customers) === null || _selectedTrip$custome === void 0 ? void 0 : _selectedTrip$custome.length) || 0, \" customers\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1416,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-green-500\",\n                            children: \"From transactions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1417,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1412,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1408,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Buy-out\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1422,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1421,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-red-600\",\n                            children: [\"HK$\", safeFormatNumber(Math.abs((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData2 = selectedTrip.backendData) === null || _backendData2 === void 0 ? void 0 : _backendData2.totalCashOut) || 0))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1425,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Customer withdrawals\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1428,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-red-500\",\n                            children: \"From transactions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1429,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1424,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1420,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1434,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1433,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-red-600\",\n                            children: [\"HK$\", safeFormatNumber(Math.abs(totalExpenses))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1437,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"After all expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1440,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-red-500\",\n                            children: \"House perspective\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1441,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1436,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1432,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Profit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1446,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1445,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `text-2xl font-bold ${((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing = selectedTrip.sharing) === null || _sharing === void 0 ? void 0 : _sharing.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData3 = selectedTrip.backendData) === null || _backendData3 === void 0 ? void 0 : _backendData3.netProfit) || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                            children: [\"HK$\", safeFormatNumber(Math.abs((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing2 = selectedTrip.sharing) === null || _sharing2 === void 0 ? void 0 : _sharing2.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData4 = selectedTrip.backendData) === null || _backendData4 === void 0 ? void 0 : _backendData4.netProfit) || 0))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1449,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"House perspective\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1454,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: `text-xs ${((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing3 = selectedTrip.sharing) === null || _sharing3 === void 0 ? void 0 : _sharing3.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData5 = selectedTrip.backendData) === null || _backendData5 === void 0 ? void 0 : _backendData5.netProfit) || 0) >= 0 ? 'text-green-500' : 'text-red-500'}`,\n                            children: \"After all expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1455,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1448,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1444,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1407,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Card, {\n                      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                          className: \"text-sm\",\n                          children: \"Quick Actions\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1463,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1462,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-wrap gap-3\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => setSelectedTripTab('expenses'),\n                            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                              className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1472,\n                              columnNumber: 35\n                            }, this), \"Manage Expenses\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1467,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => setSelectedTripTab('sharing'),\n                            children: [/*#__PURE__*/_jsxDEV(Share2, {\n                              className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1480,\n                              columnNumber: 35\n                            }, this), \"Manage Sharing\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1475,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1466,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1465,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1461,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Card, {\n                      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                          className: \"text-sm\",\n                          children: \"Backend Data Status\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1490,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1489,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                        className: \"space-y-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs space-y-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Customer Stats:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1495,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData6 = selectedTrip.backendData) !== null && _backendData6 !== void 0 && _backendData6.customerStatsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData7 = selectedTrip.backendData) !== null && _backendData7 !== void 0 && _backendData7.customerStatsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1496,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1494,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Agents:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1501,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData8 = selectedTrip.backendData) !== null && _backendData8 !== void 0 && _backendData8.agentsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData9 = selectedTrip.backendData) !== null && _backendData9 !== void 0 && _backendData9.agentsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1502,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1500,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Expenses:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1507,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData0 = selectedTrip.backendData) !== null && _backendData0 !== void 0 && _backendData0.expensesLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData1 = selectedTrip.backendData) !== null && _backendData1 !== void 0 && _backendData1.expensesLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1508,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1506,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Sharing:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1513,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData10 = selectedTrip.backendData) !== null && _backendData10 !== void 0 && _backendData10.sharingLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData11 = selectedTrip.backendData) !== null && _backendData11 !== void 0 && _backendData11.sharingLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1514,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1512,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Statistics:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1519,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData12 = selectedTrip.backendData) !== null && _backendData12 !== void 0 && _backendData12.statisticsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData13 = selectedTrip.backendData) !== null && _backendData13 !== void 0 && _backendData13.statisticsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1520,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1518,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Transactions:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1525,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData14 = selectedTrip.backendData) !== null && _backendData14 !== void 0 && _backendData14.transactionsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData15 = selectedTrip.backendData) !== null && _backendData15 !== void 0 && _backendData15.transactionsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1526,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1524,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1493,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1492,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1488,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"customers\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Customers (\", (selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.activeCustomersCount) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome2 = selectedTrip.customers) === null || _selectedTrip$custome2 === void 0 ? void 0 : _selectedTrip$custome2.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1542,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddCustomer,\n                  onOpenChange: setShowAddCustomer,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1546,\n                        columnNumber: 27\n                      }, this), \"Add Customer\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1545,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1544,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Customer to Trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1552,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: [\"Select from available customers (\", (customers || []).filter(c => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).some(tc => tc.customerId === c.id)).length, \" total)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1553,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1551,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4 max-h-96 overflow-y-auto\",\n                      children: [(customers || []).filter(c => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).some(tc => tc.customerId === c.id)).map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between p-3 border rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium\",\n                            children: customer.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1563,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: customer.email\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1564,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-400\",\n                            children: [\"Agent: \", customer.agentName]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1565,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1562,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          size: \"sm\",\n                          onClick: () => handleAddCustomerToTrip(customer.id),\n                          disabled: saving,\n                          children: saving ? 'Adding...' : 'Add'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1567,\n                          columnNumber: 33\n                        }, this)]\n                      }, customer.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1561,\n                        columnNumber: 31\n                      }, this)), (customers || []).filter(c => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).some(tc => tc.customerId === c.id)).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-center text-gray-500 py-8\",\n                        children: \"All customers are already added to this trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1573,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1557,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1550,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1541,\n                columnNumber: 19\n              }, this), ((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome3 = selectedTrip.customers) === null || _selectedTrip$custome3 === void 0 ? void 0 : _selectedTrip$custome3.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1583,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No customers added to this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1584,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-4\",\n                    onClick: () => setShowAddCustomer(true),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1586,\n                      columnNumber: 27\n                    }, this), \"Add First Customer\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1585,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1581,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).map(tripCustomer => {\n                  var _tripCustomer$custome, _tripCustomer$custome2;\n                  return /*#__PURE__*/_jsxDEV(Card, {\n                    children: /*#__PURE__*/_jsxDEV(CardContent, {\n                      className: \"pt-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center justify-between mb-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                              className: \"font-medium\",\n                              children: tripCustomer.customerName || ((_tripCustomer$custome = tripCustomer.customer) === null || _tripCustomer$custome === void 0 ? void 0 : _tripCustomer$custome.name)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1599,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                              variant: \"outline\",\n                              className: \"text-xs\",\n                              children: [\"VIP: \", ((_tripCustomer$custome2 = tripCustomer.customer) === null || _tripCustomer$custome2 === void 0 ? void 0 : _tripCustomer$custome2.vip_level) || 'Standard']\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1600,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1598,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Buy-in:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1606,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"font-medium text-blue-600\",\n                                children: [\"HK$\", safeFormatNumber(tripCustomer.total_buy_in || tripCustomer.buyInAmount || 0)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1607,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1605,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Cash-out:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1612,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"font-medium text-purple-600\",\n                                children: [\"HK$\", safeFormatNumber(tripCustomer.total_cash_out || tripCustomer.buyOutAmount || 0)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1613,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1611,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Rolling:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1618,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"font-medium text-orange-600\",\n                                children: [\"HK$\", safeFormatNumber(tripCustomer.rolling_amount || tripCustomer.rollingAmount || 0)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1619,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1617,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Win/Loss:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1624,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `font-medium ${(tripCustomer.total_buy_in || 0) > (tripCustomer.total_cash_out || 0) ? 'text-green-600' : 'text-red-600'}`,\n                                children: [\"HK$\", safeFormatNumber(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0)))]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1625,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1623,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Net Result:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1632,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `font-medium ${(tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) - (tripCustomer.rolling_amount || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                                children: [\"HK$\", safeFormatNumber(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) - (tripCustomer.rolling_amount || 0)))]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1633,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1631,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1604,\n                            columnNumber: 33\n                          }, this), tripCustomer.commission_earned && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 p-2 bg-yellow-50 rounded text-xs\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-yellow-700\",\n                              children: [\"Commission Earned: HK$\", safeFormatNumber(tripCustomer.commission_earned)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1643,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1642,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1597,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline\",\n                            size: \"sm\",\n                            onClick: () => {\n                              setSelectedCustomerForTransaction(tripCustomer);\n                              setShowAddTransaction(true);\n                            },\n                            disabled: saving,\n                            children: [/*#__PURE__*/_jsxDEV(Plus, {\n                              className: \"w-3 h-3 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1657,\n                              columnNumber: 35\n                            }, this), \"Transaction\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1648,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline\",\n                            size: \"sm\",\n                            onClick: () => {\n                              setSelectedCustomerForRolling(tripCustomer);\n                              setShowAddRolling(true);\n                            },\n                            disabled: saving,\n                            children: [/*#__PURE__*/_jsxDEV(Plus, {\n                              className: \"w-3 h-3 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1669,\n                              columnNumber: 35\n                            }, this), \"Rolling\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1660,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline\",\n                            size: \"sm\",\n                            onClick: () => handleRemoveCustomerFromTrip(tripCustomer.customerId || tripCustomer.customer_id),\n                            disabled: saving,\n                            children: /*#__PURE__*/_jsxDEV(X, {\n                              className: \"w-4 h-4\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1678,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1672,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1647,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1596,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1595,\n                      columnNumber: 27\n                    }, this)\n                  }, tripCustomer.customerId || tripCustomer.customer_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1594,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1592,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1540,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"agents\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Agent Individual Profits\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1692,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"outline\",\n                  onClick: () => {\n                    if (selectedTrip) {\n                      console.log('ðŸ”„ Manual refresh clicked for trip:', selectedTrip.id);\n                      loadAgentProfits(selectedTrip.id);\n                    }\n                  },\n                  disabled: loading,\n                  children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1704,\n                    columnNumber: 23\n                  }, this), \"Refresh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1693,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1691,\n                columnNumber: 19\n              }, this), false ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1712,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading agent profits...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1713,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1710,\n                columnNumber: 21\n              }, this) : !agentProfits || agentProfits.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"text-center py-8\",\n                    children: [/*#__PURE__*/_jsxDEV(UserCheck, {\n                      className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1720,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500\",\n                      children: \"No agents with customers in this trip\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1721,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-400 mt-2\",\n                      children: \"Agents are automatically added when their customers join the trip\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1722,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1719,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1718,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"border-yellow-200 bg-yellow-50\",\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"pt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-yellow-800 mb-2\",\n                      children: \"Debug Information\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1729,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-yellow-700 space-y-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Trip ID: \", selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.id]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1731,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Customers in trip: \", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome4 = selectedTrip.customers) === null || _selectedTrip$custome4 === void 0 ? void 0 : _selectedTrip$custome4.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1732,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agents in trip: \", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$agents = selectedTrip.agents) === null || _selectedTrip$agents === void 0 ? void 0 : _selectedTrip$agents.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1733,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agent profits loaded: \", (agentProfits === null || agentProfits === void 0 ? void 0 : agentProfits.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1734,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agent profits state: \", JSON.stringify(agentProfits)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1735,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1730,\n                      columnNumber: 27\n                    }, this), (selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) && selectedTrip.customers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-medium text-yellow-800\",\n                        children: \"Customers:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1739,\n                        columnNumber: 31\n                      }, this), selectedTrip.customers.map((customer, index) => {\n                        var _customer$customer;\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-yellow-600\",\n                          children: [customer.customerName || ((_customer$customer = customer.customer) === null || _customer$customer === void 0 ? void 0 : _customer$customer.name) || 'Unknown', \" (ID: \", customer.customerId || customer.customer_id, \")\"]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1741,\n                          columnNumber: 33\n                        }, this);\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1738,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1728,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1727,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1717,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: agentProfits.map(agentProfit => /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                          className: \"text-lg\",\n                          children: agentProfit.agent_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1757,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                          children: agentProfit.agent_email\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1758,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1756,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-2xl font-bold text-blue-600\",\n                          children: [\"HK$\", safeFormatNumber(agentProfit.total_agent_commission || agentProfit.total_commission || 0)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1761,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"Total Commission\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1764,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1760,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1755,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1754,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 gap-4 mb-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-3 bg-blue-50 rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Customer Net Result\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1772,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `text-lg font-bold ${agentProfit.total_customer_net >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                            children: [\"HK$\", safeFormatNumber(agentProfit.total_customer_net)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1773,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1771,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-3 bg-green-50 rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Total Customers\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1780,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-lg font-bold text-gray-800\",\n                            children: agentProfit.customers.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1781,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1779,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1770,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: \"font-medium mb-3\",\n                          children: \"Customer Breakdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1788,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"space-y-3\",\n                          children: agentProfit.customers.map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"border rounded p-3\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex justify-between items-start mb-2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"font-medium\",\n                                  children: customer.customer_name\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1794,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-sm text-gray-500\",\n                                  children: [\"Buy-in: HK$\", safeFormatNumber(customer.buy_in), \" | Cash-out: HK$\", safeFormatNumber(customer.cash_out)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1795,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1793,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-right\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: `font-bold ${customer.net_result >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                                  children: [\"HK$\", safeFormatNumber(customer.net_result)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1801,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-sm text-gray-500\",\n                                  children: \"Net Result\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1806,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1800,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1792,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex justify-between items-center pt-2 border-t\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex items-center space-x-4\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-sm\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"text-gray-500\",\n                                    children: \"Rolling:\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1813,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"font-medium ml-1\",\n                                    children: [\"HK$\", safeFormatNumber(customer.rolling_amount)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1814,\n                                    columnNumber: 45\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1812,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"flex items-center space-x-2\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Commission Rate:\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1817,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                                    type: \"number\",\n                                    value: customer.commission_rate,\n                                    onChange: e => {\n                                      const newRate = parseFloat(e.target.value) || 0;\n                                      console.log('ðŸ”„ Commission rate changed:', {\n                                        agentId: agentProfit.agent_id,\n                                        customerId: customer.customer_id,\n                                        newRate\n                                      });\n                                      updateCommissionRate(agentProfit.agent_id, customer.customer_id, newRate);\n                                    },\n                                    className: \"w-20 h-8 text-sm\",\n                                    min: \"0\",\n                                    max: \"100\",\n                                    step: \"0.1\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1818,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"%\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1831,\n                                    columnNumber: 45\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1816,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1811,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-right\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"font-bold text-blue-600\",\n                                  children: [\"HK$\", safeFormatNumber(customer.agent_commission || customer.commission_earned || 0)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1835,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-xs text-gray-500\",\n                                  children: \"Commission\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1838,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1834,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1810,\n                              columnNumber: 39\n                            }, this)]\n                          }, customer.customer_id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1791,\n                            columnNumber: 37\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1789,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1787,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1769,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1768,\n                    columnNumber: 27\n                  }, this)]\n                }, agentProfit.agent_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1753,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1751,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: showEditAgent,\n                onOpenChange: setShowEditAgent,\n                children: /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                      children: \"Edit Agent Share\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1856,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                      children: [\"Update \", editingAgent === null || editingAgent === void 0 ? void 0 : editingAgent.agentName, \"'s share percentage\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1857,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1855,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editSharePercentage\",\n                        children: \"Share Percentage *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1863,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"editSharePercentage\",\n                        type: \"number\",\n                        value: editAgentShare,\n                        onChange: e => setEditAgentShare(parseFloat(e.target.value) || 0),\n                        placeholder: \"Enter percentage (e.g., 25)\",\n                        min: \"0.1\",\n                        max: \"100\",\n                        step: \"0.1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1864,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: \"Enter a value between 0.1 and 100\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1874,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1862,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline\",\n                        onClick: () => setShowEditAgent(false),\n                        disabled: saving,\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1877,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: handleEditAgentShare,\n                        disabled: saving,\n                        children: saving ? 'Updating...' : 'Update Share'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1884,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1876,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1861,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1854,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1853,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n                open: showDeleteAgent,\n                onOpenChange: setShowDeleteAgent,\n                children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogTitle, {\n                      children: \"Remove Agent from Trip\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1896,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogDescription, {\n                      children: [\"Are you sure you want to remove \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: deletingAgent === null || deletingAgent === void 0 ? void 0 : deletingAgent.agentName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1898,\n                        columnNumber: 59\n                      }, this), \" from this trip? This will remove their \", deletingAgent === null || deletingAgent === void 0 ? void 0 : deletingAgent.sharePercentage, \"% share allocation.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1900,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1900,\n                        columnNumber: 33\n                      }, this), \"This action cannot be undone.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1897,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1895,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogCancel, {\n                      disabled: saving,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1905,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogAction, {\n                      onClick: handleDeleteAgentFromTrip,\n                      disabled: saving,\n                      className: \"bg-red-600 hover:bg-red-700\",\n                      children: saving ? 'Removing...' : 'Remove Agent'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1906,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1904,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1894,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1893,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"staff\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Staff (\", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_staff = selectedTrip.staff) === null || _staff === void 0 ? void 0 : _staff.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1921,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddStaff,\n                  onOpenChange: setShowAddStaff,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1925,\n                        columnNumber: 27\n                      }, this), \"Add Staff\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1924,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1923,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Staff to Trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1931,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: [\"Select from available staff members (\", (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => ts.staffId === s.id || ts.staff_id === s.id)).length, \" available)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1932,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1930,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4 max-h-96 overflow-y-auto\",\n                      children: [(() => {\n                        console.log('ðŸ” Debug staff filtering:', {\n                          allStaff: staff,\n                          tripStaff: selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff,\n                          staffCount: (staff === null || staff === void 0 ? void 0 : staff.length) || 0,\n                          tripStaffCount: ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).length\n                        });\n                        const availableStaff = (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => {\n                          // Check multiple possible ID fields from the backend response\n                          const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                          const match = tripStaffId === s.id;\n                          console.log('ðŸ” Checking staff match:', {\n                            staffId: s.id,\n                            staffName: s.name,\n                            tripStaffId,\n                            tripStaff: ts,\n                            match\n                          });\n                          return match;\n                        }));\n                        console.log('âœ… Available staff after filtering:', availableStaff);\n                        return availableStaff.map(staffMember => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between p-3 border rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium\",\n                              children: staffMember.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1965,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-500\",\n                              children: staffMember.email\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1966,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-400\",\n                              children: [\"Position: \", staffMember.position]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1967,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1964,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            onClick: () => handleAddStaffToTrip(staffMember.id),\n                            disabled: saving,\n                            children: saving ? 'Adding...' : 'Add'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1969,\n                            columnNumber: 33\n                          }, this)]\n                        }, staffMember.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1963,\n                          columnNumber: 31\n                        }, this));\n                      })(), (() => {\n                        const availableStaff = (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => {\n                          const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                          return tripStaffId === s.id;\n                        }));\n                        return availableStaff.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-center text-gray-500 py-8\",\n                          children: \"All staff members are already assigned to this trip\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1982,\n                          columnNumber: 31\n                        }, this);\n                      })()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1936,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1929,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1922,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1920,\n                columnNumber: 19\n              }, this), !selectedTrip || !selectedTrip.staff || !Array.isArray(selectedTrip.staff) || selectedTrip.staff.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1993,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No staff assigned to this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1994,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-400 mt-2\",\n                    children: \"Add staff members to help manage this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1995,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1992,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1991,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: (selectedTrip.staff || []).map(staffMember => /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"p-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n                          children: /*#__PURE__*/_jsxDEV(Users, {\n                            className: \"w-5 h-5 text-blue-600\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2006,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2005,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium\",\n                            children: staffMember.name || staffMember.staffName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2009,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: staffMember.email || staffMember.staffEmail\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2010,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-400\",\n                            children: [\"Position: \", staffMember.position || staffMember.staffPosition]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2011,\n                            columnNumber: 35\n                          }, this), staffMember.created_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-400\",\n                            children: [\"Added: \", new Date(staffMember.created_at).toLocaleDateString()]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2015,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2008,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2004,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          size: \"sm\",\n                          variant: \"outline\",\n                          onClick: () => handleRemoveStaffFromTrip(staffMember.staff_id || staffMember.id),\n                          disabled: saving,\n                          children: /*#__PURE__*/_jsxDEV(Trash2, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2028,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2022,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2021,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2003,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2002,\n                    columnNumber: 27\n                  }, this)\n                }, staffMember.id || staffMember.staff_id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2001,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1999,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1919,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"expenses\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Expenses (\", (tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2042,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddExpense,\n                  onOpenChange: setShowAddExpense,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2046,\n                        columnNumber: 27\n                      }, this), \"Add Expense\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2045,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2044,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Expense\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2052,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: \"Record a new expense for this trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2053,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2051,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseDescription\",\n                          children: \"Description\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2059,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"expenseDescription\",\n                          value: newExpense.description,\n                          onChange: e => setNewExpense({\n                            ...newExpense,\n                            description: e.target.value\n                          }),\n                          placeholder: \"Expense description\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2060,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2058,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseAmount\",\n                          children: \"Amount (HKD)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2068,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"expenseAmount\",\n                          type: \"number\",\n                          value: newExpense.amount,\n                          onChange: e => setNewExpense({\n                            ...newExpense,\n                            amount: parseFloat(e.target.value) || 0\n                          }),\n                          placeholder: \"0.00\",\n                          min: \"0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2069,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2067,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseCategory\",\n                          children: \"Category\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2079,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Select, {\n                          value: newExpense.category,\n                          onValueChange: value => setNewExpense({\n                            ...newExpense,\n                            category: value\n                          }),\n                          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                            children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2085,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2084,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"accommodation\",\n                              children: \"Accommodation\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2088,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"transportation\",\n                              children: \"Transportation\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2089,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"entertainment\",\n                              children: \"Entertainment\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2090,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"food_beverage\",\n                              children: \"Food & Beverage\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2091,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"other\",\n                              children: \"Other\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2092,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2087,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2080,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2078,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-end space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline\",\n                          onClick: () => setShowAddExpense(false),\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2097,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          onClick: handleAddExpense,\n                          children: \"Add Expense\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2100,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2096,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2057,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2050,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2043,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2041,\n                columnNumber: 19\n              }, this), expensesLoading ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2112,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading expenses...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2113,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2111,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2110,\n                columnNumber: 21\n              }, this) : ((tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2119,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No expenses recorded for this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2120,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-4\",\n                    onClick: () => setShowAddExpense(true),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2122,\n                      columnNumber: 27\n                    }, this), \"Add First Expense\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2121,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2118,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2117,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      className: \"text-lg\",\n                      children: \"Expenses Summary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2132,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2131,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-bold text-red-600\",\n                      children: [\"HK$\", safeFormatNumber((tripExpenses || []).reduce((sum, exp) => sum + (exp.amount || 0), 0))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2135,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [(tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0, \" expense items\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2138,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2134,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2130,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(Table, {\n                      children: [/*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: /*#__PURE__*/_jsxDEV(TableRow, {\n                          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Description\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2148,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Type\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2149,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2150,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            className: \"text-right\",\n                            children: \"Amount\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2151,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2147,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2146,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                        children: (tripExpenses || []).map(expense => {\n                          var _expense$expense_type;\n                          return /*#__PURE__*/_jsxDEV(TableRow, {\n                            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"font-medium\",\n                              children: expense.description\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2157,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"capitalize\",\n                              children: (_expense$expense_type = expense.expense_type) === null || _expense$expense_type === void 0 ? void 0 : _expense$expense_type.replace('_', ' ')\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2158,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: expense.expense_date\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2159,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"text-right font-medium text-red-600\",\n                              children: [\"HK$\", safeFormatNumber(expense.amount)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2160,\n                              columnNumber: 35\n                            }, this)]\n                          }, expense.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2156,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2154,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2145,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2144,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2143,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2128,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2040,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"sharing\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Financial Overview & Profit Sharing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2176,\n                  columnNumber: 21\n                }, this), tripSharing && /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"outline\",\n                  onClick: () => selectedTrip && loadTripSharing(selectedTrip.id),\n                  disabled: sharingLoading,\n                  children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2184,\n                    columnNumber: 25\n                  }, this), \"Refresh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2178,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2175,\n                columnNumber: 19\n              }, this), sharingLoading ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2193,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading sharing data...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2194,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2192,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2191,\n                columnNumber: 21\n              }, this) : !tripSharing ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Settings, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2200,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No sharing data available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2201,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-400 mt-2\",\n                    children: \"Sharing data will be calculated automatically when trip has transactions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2202,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2199,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2198,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Net Result\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2211,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2210,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.net_result))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2214,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"After all expenses and commissions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2219,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2213,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2209,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Agent Share\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2225,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2224,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.total_agent_share >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.total_agent_share))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2228,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [tripSharing.agent_share_percentage, \"% of net result\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2233,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2227,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2223,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Company Share\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2239,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2238,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.company_share >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.company_share))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2242,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [tripSharing.company_share_percentage, \"% of net result\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2247,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2241,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2237,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2208,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Financial Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2255,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2254,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-green-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Buy-in\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2260,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-green-600 font-bold\",\n                          children: [\"HK$\", safeFormatNumber(tripSharing.total_buy_in)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2261,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2259,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-red-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Cash-out\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2264,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-red-600 font-bold\",\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.total_buy_out))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2265,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2263,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-gray-100 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Gross Profit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2268,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-bold ${tripSharing.total_win_loss >= 0 ? 'text-red-600' : 'text-green-600'}`,\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.total_win_loss))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2269,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2267,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-purple-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Rolling Commission\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2276,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-purple-600 font-bold\",\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.total_rolling_commission))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2277,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2275,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-red-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Expenses\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2280,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-red-600 font-bold\",\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.total_expenses))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2281,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2279,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-blue-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Net Result\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2284,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-bold ${tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.net_result))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2285,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2283,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-gray-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Net Cash Flow\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2292,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-bold ${tripSharing.net_cash_flow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: [\"HK$\", safeFormatNumber(Math.abs(tripSharing.net_cash_flow))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2293,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2291,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2258,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2257,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2253,\n                  columnNumber: 23\n                }, this), tripSharing.agent_breakdown && Object.keys(tripSharing.agent_breakdown).length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Agent Share Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2307,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2306,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: Object.entries((tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_breakdown) || {}).map(([agentId, agentData]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 border rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium\",\n                            children: agentData.agent_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2314,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: [\"Commission Rate: \", agentData.commission_rate, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2315,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2313,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `font-bold ${agentData.share_amount >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: [\"HK$\", safeFormatNumber(Math.abs(agentData.share_amount))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2317,\n                          columnNumber: 35\n                        }, this)]\n                      }, agentId, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2312,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2310,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2309,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2305,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Sharing Configuration\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2332,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                      children: \"Adjust the profit sharing percentages between agents and company\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2333,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2331,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 gap-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(Label, {\n                            children: \"Agent Share Percentage\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2341,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-blue-600\",\n                            children: [tripSharing.agent_share_percentage, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2342,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2340,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(Label, {\n                            children: \"Company Share Percentage\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2347,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-purple-600\",\n                            children: [tripSharing.company_share_percentage, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2348,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2346,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2339,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"pt-4 border-t\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mb-4\",\n                          children: [\"Current sharing model: \", tripSharing.agent_share_percentage, \"% to agents, \", tripSharing.company_share_percentage, \"% to company\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2354,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline\",\n                          size: \"sm\",\n                          onClick: () => {\n                            // TODO: Add sharing configuration dialog\n                            showError('Sharing configuration will be available in the next update');\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(Settings, {\n                            className: \"w-4 h-4 mr-2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2365,\n                            columnNumber: 33\n                          }, this), \"Configure Sharing\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2357,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2353,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2338,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2337,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2206,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1366,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"No Trip Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"Please select a trip from the trips list to view detailed information.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2383,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setActiveTab('trips'),\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2387,\n                columnNumber: 19\n              }, this), \"Go to Trips List\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2380,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2379,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddTransaction,\n      onOpenChange: setShowAddTransaction,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Add Transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: [\"Add a new transaction for \", (selectedCustomerForTransaction === null || selectedCustomerForTransaction === void 0 ? void 0 : selectedCustomerForTransaction.customerName) || (selectedCustomerForTransaction === null || selectedCustomerForTransaction === void 0 ? void 0 : (_selectedCustomerForT = selectedCustomerForTransaction.customer) === null || _selectedCustomerForT === void 0 ? void 0 : _selectedCustomerForT.name)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionType\",\n              children: \"Transaction Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: transactionForm.type,\n              onValueChange: value => setTransactionForm({\n                ...transactionForm,\n                type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"transactionType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2413,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"buy-in\",\n                  children: \"Buy In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2416,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"cash-out\",\n                  children: \"Cash Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2417,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2415,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2406,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionAmount\",\n              children: \"Amount (HK$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"transactionAmount\",\n              type: \"number\",\n              placeholder: \"Enter amount\",\n              value: transactionForm.amount,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                amount: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2423,\n              columnNumber: 15\n            }, this), !transactionForm.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Amount is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionDescription\",\n              children: \"Description (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"transactionDescription\",\n              type: \"text\",\n              placeholder: \"Enter description\",\n              value: transactionForm.description,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                description: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2437,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowAddTransaction(false),\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddTransaction,\n            disabled: saving || !transactionForm.amount,\n            children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2456,\n                columnNumber: 19\n              }, this), \"Adding...\"]\n            }, void 0, true) : 'Add Transaction'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2446,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2398,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddRolling,\n      onOpenChange: setShowAddRolling,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Add Rolling\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: [\"Add rolling amount for \", (selectedCustomerForRolling === null || selectedCustomerForRolling === void 0 ? void 0 : selectedCustomerForRolling.customerName) || (selectedCustomerForRolling === null || selectedCustomerForRolling === void 0 ? void 0 : (_selectedCustomerForR = selectedCustomerForRolling.customer) === null || _selectedCustomerForR === void 0 ? void 0 : _selectedCustomerForR.name)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"staffMember\",\n              children: [\"Staff Member \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2478,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.staff_id,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                staff_id: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"staffMember\",\n                className: !rollingForm.staff_id ? \"border-red-300\" : \"\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select staff member\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2484,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: selectedTrip === null || selectedTrip === void 0 ? void 0 : (_staff2 = selectedTrip.staff) === null || _staff2 === void 0 ? void 0 : _staff2.map(staffMember => {\n                  var _staffMember$staff;\n                  return /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: staffMember.staffId || staffMember.staff_id,\n                    children: staffMember.staffName || ((_staffMember$staff = staffMember.staff) === null || _staffMember$staff === void 0 ? void 0 : _staffMember$staff.name)\n                  }, staffMember.staffId || staffMember.staff_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2488,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2486,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2479,\n              columnNumber: 15\n            }, this), !rollingForm.staff_id && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Staff member is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"gameType\",\n              children: [\"Game Type \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2502,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2502,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.game_type,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                game_type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"gameType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2508,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2507,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"baccarat\",\n                  children: \"Baccarat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2511,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"blackjack\",\n                  children: \"Blackjack\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2512,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"roulette\",\n                  children: \"Roulette\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2513,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"poker\",\n                  children: \"Poker\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2514,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"slots\",\n                  children: \"Slots\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2515,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2516,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2510,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2503,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"rollingAmount\",\n              children: [\"Rolling Amount (HK$) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2521,\n                columnNumber: 67\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"rollingAmount\",\n              type: \"number\",\n              placeholder: \"Enter rolling amount\",\n              value: rollingForm.amount,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                amount: e.target.value\n              }),\n              className: !rollingForm.amount ? \"border-red-300\" : \"\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2522,\n              columnNumber: 15\n            }, this), !rollingForm.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Rolling amount is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2532,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"rollingNotes\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"rollingNotes\",\n              type: \"text\",\n              placeholder: \"Enter notes\",\n              value: rollingForm.description,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                description: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2537,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2535,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowAddRolling(false),\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2547,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddRolling,\n            disabled: saving || !rollingForm.amount || !rollingForm.staff_id,\n            children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2556,\n                columnNumber: 19\n              }, this), \"Adding...\"]\n            }, void 0, true) : 'Add Rolling'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2550,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2469,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2468,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1003,\n    columnNumber: 5\n  }, this);\n}\n_s(ProjectManagementComponent, \"KopKytSYN40gknR9nzyy1gVKgOQ=\");\n_c = ProjectManagementComponent;\nexport default ProjectManagementComponent;\nvar _c;\n$RefreshReg$(_c, \"ProjectManagementComponent\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Alert","AlertDescription","Badge","Tabs","TabsContent","TabsList","TabsTrigger","tokenManager","Textarea","Input","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Dialog","DialogContent","DialogDescription","DialogHeader","DialogTitle","DialogTrigger","AlertDialog","AlertDialogAction","AlertDialogCancel","AlertDialogContent","AlertDialogDescription","AlertDialogFooter","AlertDialogHeader","AlertDialogTitle","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","db","apiClient","MapPin","RefreshCw","Activity","AlertTriangle","Zap","Users","DollarSign","Settings","Plus","Trash2","Eye","BarChart","UserCheck","X","CheckCircle","Share2","jsxDEV","_jsxDEV","Fragment","_Fragment","REAL_TIME_REFRESH_INTERVAL","ProjectManagementComponent","_s","_selectedTrip$status","_selectedTrip$status2","_selectedTrip$custome2","_selectedTrip$custome3","_selectedTrip$custome4","_selectedTrip$agents","_staff","_selectedCustomerForT","_selectedCustomerForR","_staff2","user","role","agentId","username","clearError","showError","message","console","error","safeNumber","value","num","parseFloat","isNaN","trips","setTrips","customers","setCustomers","agents","setAgents","staff","setStaff","selectedTrip","setSelectedTrip","activeTab","setActiveTab","selectedTripTab","setSelectedTripTab","loading","setLoading","saving","setSaving","lastSyncTime","setLastSyncTime","isRealTimeEnabled","setIsRealTimeEnabled","errorMessage","setErrorMessage","dataLoaded","setDataLoaded","tripExpenses","setTripExpenses","tripSharing","setTripSharing","agentProfits","setAgentProfits","showCreateTrip","setShowCreateTrip","showAddCustomer","setShowAddCustomer","showEditAgent","setShowEditAgent","showDeleteAgent","setShowDeleteAgent","showAddStaff","setShowAddStaff","showAddTransaction","setShowAddTransaction","showAddRolling","setShowAddRolling","selectedCustomerForTransaction","setSelectedCustomerForTransaction","selectedCustomerForRolling","setSelectedCustomerForRolling","showAddExpense","setShowAddExpense","expensesLoading","setExpensesLoading","sharingLoading","setSharingLoading","transactionForm","setTransactionForm","type","amount","description","rollingForm","setRollingForm","staff_id","game_type","newTrip","setNewTrip","name","date","endDate","venue","budget","status","newExpense","setNewExpense","category","editAgentShare","setEditAgentShare","editingAgent","setEditingAgent","deletingAgent","setDeletingAgent","currencyRates","setCurrencyRates","selectedCurrency","setSelectedCurrency","showCurrencyDialog","setShowCurrencyDialog","newRate","setNewRate","from_currency","to_currency","exchange_rate","safeFormatNumber","undefined","toLocaleString","isAdmin","isAgent","loadTripExpenses","tripId","response","get","success","data","expenses","loadTripSharing","loadAgentProfits","log","updateCommissionRate","customerId","commissionRate","put","id","customer_id","commission_rate","addTripExpense","expenseData","post","loadAllRealTimeData","forceRefresh","length","token","getToken","_loginData$data","apiUrl","process","env","REACT_APP_API_URL","loginResponse","fetch","method","headers","body","JSON","stringify","password","loginData","json","setToken","userData","localStorage","setItem","tripsData","customersData","agentsData","staffResponse","Promise","all","staffData","transformedTrips","map","trip","trip_name","start_date","startDate","end_date","total_budget","createdAt","created_at","Date","toISOString","totalRolling","totalWinLoss","totalBuyIn","totalBuyOut","calculatedTotalRolling","sharing","totalExpenses","totalRollingCommission","netResult","netCashFlow","totalAgentShare","companyShare","agentSharePercentage","companySharePercentage","agentShares","agentBreakdown","attachments","lastDataUpdate","activeCustomersCount","recentActivityCount","_dataLoaded","setTimeout","enrichedTrips","statsResponse","sharingResponse","customersResponse","tripStats","tripCustomers","statsRoot","statistics","total_rolling","net_profit","total_buy_in","total_cash_out","total_expenses","net_result","total_win_loss","total_rolling_commission","total_buy_out","net_cash_flow","total_agent_share","company_share","agent_share_percentage","company_share_percentage","agent_breakdown","warn","refreshInterval","setInterval","clearInterval","tripName","getFilteredTrips","filter","_trip$agents","some","agent","saveTrips","updatedTrips","save","Error","handleCreateTrip","trim","tripData","destination","selectTrip","_expensesResponse$dat","_customersResponse$da","_statisticsResponse$d","_statisticsResponse$d2","_statisticsResponse$d3","_statisticsResponse$d4","_statisticsResponse$d5","_statisticsResponse$d6","_statisticsResponse$d7","_statisticsResponse$d8","_statisticsResponse$d9","_statisticsResponse$d0","_statisticsResponse$d1","_statisticsResponse$d10","expensesResponse","statisticsResponse","transactionsResponse","agentsResponse","transactions","enrichedTrip","backendData","totalCashOut","totalWin","total_win","totalLoss","total_loss","netProfit","profitMargin","profit_margin","customerStatsLoaded","expensesLoaded","agentsLoaded","sharingLoaded","statisticsLoaded","transactionsLoaded","reduce","sum","c","rolling_amount","e","handleAddCustomerToTrip","customer","find","tc","handleRemoveCustomerFromTrip","delete","handleAddStaffToTrip","staffId","handleRemoveStaffFromTrip","handleAddTransaction","getItem","transactionTypeMapping","mappedTransactionType","transactionData","transaction_type","notes","handleAddRolling","handleEditAgentShare","updatedTrip","sharePercentage","t","agentName","handleDeleteAgentFromTrip","agentIdToRemove","agent_id","url","handleAddExpense","expense_type","filteredTrips","debugInfo","hasToken","userRole","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","toLocaleTimeString","variant","size","onClick","disabled","onValueChange","open","onOpenChange","asChild","htmlFor","onChange","target","placeholder","_trip$status","_trip$status2","_trip$customers","_trip$sharing","_trip$sharing2","_trip$sharing3","_trip$sharing4","charAt","toUpperCase","slice","Math","abs","_backendData","_selectedTrip$custome","_backendData2","_sharing","_backendData3","_sharing2","_backendData4","_sharing3","_backendData5","_backendData6","_backendData7","_backendData8","_backendData9","_backendData0","_backendData1","_backendData10","_backendData11","_backendData12","_backendData13","_backendData14","_backendData15","email","tripCustomer","_tripCustomer$custome","_tripCustomer$custome2","customerName","vip_level","buyInAmount","buyOutAmount","rollingAmount","commission_earned","index","_customer$customer","agentProfit","agent_name","agent_email","total_agent_commission","total_commission","total_customer_net","customer_name","buy_in","cash_out","min","max","step","agent_commission","s","ts","allStaff","tripStaff","staffCount","tripStaffCount","availableStaff","tripStaffId","match","staffName","staffMember","position","Array","isArray","staffEmail","staffPosition","toLocaleDateString","exp","expense","_expense$expense_type","replace","expense_date","Object","keys","entries","agentData","share_amount","required","_staffMember$staff","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/ProjectManagement.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Textarea } from './ui/textarea';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from './ui/alert-dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from './ui/table';\nimport { Trip, Customer, Agent } from '../types';\nimport { db } from '../utils/supabase/supabaseClients';\nimport { apiClient } from '../utils/api/apiClient';\nimport { \n  SUPPORTED_CURRENCIES, \n  formatCurrency, \n  convertCurrency, \n  getCurrencySymbol,\n  CurrencyRate \n} from '../utils/currency';\nimport { \n  MapPin, RefreshCw, Activity, AlertTriangle, Zap,\n  Users, DollarSign, Settings, Plus, Trash2, Eye,\n  BarChart, UserCheck, X, CheckCircle, Share2\n} from 'lucide-react';\n\n\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\n\nfunction ProjectManagementComponent() {\n  // Mock user for now since AuthContext is not available\n  const user = { role: 'admin', agentId: null, username: 'admin' };\n  const clearError = () => {};\n  const showError = (message: string) => console.error(message);\n  \n  // Utility function for safe number conversion\n  const safeNumber = (value: any): number => {\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  };\n  // Data states\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [agents, setAgents] = useState<Agent[]>([]);\n  const [staff, setStaff] = useState<any[]>([]);\n  const [selectedTrip, setSelectedTrip] = useState<Trip | null>(null);\n  const [activeTab, setActiveTab] = useState('trips');\n  const [selectedTripTab, setSelectedTripTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState<Date | null>(null);\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n  \n  // Trip expenses and sharing states\n  const [tripExpenses, setTripExpenses] = useState<any[]>([]);\n  const [tripSharing, setTripSharing] = useState<any>(null);\n  const [agentProfits, setAgentProfits] = useState<any[]>([]);\n  \n  // Form states\n  const [showCreateTrip, setShowCreateTrip] = useState(false);\n  const [showAddCustomer, setShowAddCustomer] = useState(false);\n  const [showEditAgent, setShowEditAgent] = useState(false);\n  const [showDeleteAgent, setShowDeleteAgent] = useState(false);\n  const [showAddStaff, setShowAddStaff] = useState(false);\n  const [showAddTransaction, setShowAddTransaction] = useState(false);\n  const [showAddRolling, setShowAddRolling] = useState(false);\n  const [selectedCustomerForTransaction, setSelectedCustomerForTransaction] = useState<any>(null);\n  const [selectedCustomerForRolling, setSelectedCustomerForRolling] = useState<any>(null);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  \n  const [expensesLoading, setExpensesLoading] = useState(false);\n  const [sharingLoading, setSharingLoading] = useState(false);\n  \n  // Transaction and Rolling form states\n  const [transactionForm, setTransactionForm] = useState({\n    type: 'buy-in', // buy-in, cash-out (database format)\n    amount: '',\n    description: ''\n  });\n  const [rollingForm, setRollingForm] = useState({\n    amount: '',\n    staff_id: '',\n    game_type: 'baccarat',\n    description: ''\n  });\n\n  // Form data states\n  const [newTrip, setNewTrip] = useState({\n    name: '',\n    description: '',\n    date: '',\n    endDate: '',\n    venue: '',\n    budget: '',\n    status: 'active' as 'active' | 'in-progress' | 'completed' | 'cancelled'\n  });\n  \n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: 0,\n    category: 'flight' as const\n  });\n  const [editAgentShare, setEditAgentShare] = useState(25);\n  const [editingAgent, setEditingAgent] = useState<any>(null);\n  const [deletingAgent, setDeletingAgent] = useState<any>(null);\n  \n  // Currency states\n  const [currencyRates, setCurrencyRates] = useState<CurrencyRate[]>([]);\n  const [selectedCurrency, setSelectedCurrency] = useState('HKD');\n  const [showCurrencyDialog, setShowCurrencyDialog] = useState(false);\n  const [newRate, setNewRate] = useState({\n    from_currency: 'HKD',\n    to_currency: 'MYR',\n    exchange_rate: ''\n  });\n\n  // Helper functions\n  const safeFormatNumber = (value: number | undefined | null): string => {\n    if (value === undefined || value === null || isNaN(value)) return '0';\n    return value.toLocaleString();\n  };\n\n  // Permissions\n  const isAdmin = user.role === 'admin';\n  const isAgent = user.role === 'agent';\n\n  // API functions for trip expenses and sharing\n  const loadTripExpenses = async (tripId: string) => {\n    try {\n      setExpensesLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/expenses`);\n      if (response.success) {\n        setTripExpenses(response.data.expenses || []);\n      }\n    } catch (error) {\n      console.error('Error loading trip expenses:', error);\n      showError('Failed to load trip expenses');\n    } finally {\n      setExpensesLoading(false);\n    }\n  };\n\n  const loadTripSharing = async (tripId: string) => {\n    try {\n      setSharingLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/sharing`);\n      if (response.success) {\n        setTripSharing(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip sharing:', error);\n      showError('Failed to load trip sharing');\n    } finally {\n      setSharingLoading(false);\n    }\n  };\n\n  const loadAgentProfits = useCallback(async (tripId: string) => {\n    try {\n      console.log('ðŸ” Loading agent profits for trip:', tripId);\n      const response = await apiClient.get(`/trips/${tripId}/agents/profits`);\n      console.log('ðŸ“Š Agent profits API response:', response);\n      if (response.success) {\n        console.log('âœ… Agent profits data:', response.data);\n        console.log('âœ… Setting agentProfits state to:', response.data);\n        setAgentProfits(response.data || []);\n        console.log('âœ… AgentProfits state updated');\n      } else {\n        console.log('âŒ Agent profits API failed:', response);\n        setAgentProfits([]);\n      }\n    } catch (error) {\n      console.error('Error loading agent profits:', error);\n      showError('Failed to load agent profits');\n      setAgentProfits([]);\n    }\n  }, []);\n\n  const updateCommissionRate = async (agentId: string, customerId: string, commissionRate: number) => {\n    try {\n      if (!selectedTrip) return;\n      \n      setSaving(true);\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/agents/${agentId}/commission`, {\n        customer_id: customerId,\n        commission_rate: commissionRate\n      });\n      \n      if (response.success) {\n        // Reload agent profits to reflect the change\n        await loadAgentProfits(selectedTrip.id);\n        console.log('Commission rate updated successfully');\n      } else {\n        showError('Failed to update commission rate');\n      }\n    } catch (error) {\n      console.error('Error updating commission rate:', error);\n      showError('Failed to update commission rate');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const addTripExpense = async (tripId: string, expenseData: any) => {\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${tripId}/expenses`, expenseData);\n      if (response.success) {\n        await loadTripExpenses(tripId);\n        await loadTripSharing(tripId);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding trip expense:', error);\n      showError('Failed to add trip expense');\n      return false;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Enhanced data loading with better error handling and caching\n  const loadAllRealTimeData = useCallback(async (forceRefresh = false) => {\n    try {\n      if (!forceRefresh && dataLoaded && trips.length > 0) {\n        console.log('ðŸ“‹ Using cached data, skipping reload');\n        return;\n      }\n      \n      setLoading(true);\n      setErrorMessage('');\n      clearError();\n      \n      // First ensure we have authentication\n      const token = await tokenManager.getToken();\n      if (!token) {\n        console.log('âŒ No authentication token available, attempting auto-login...');\n        \n        // Try to auto-login with admin credentials\n        try {\n          const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const loginResponse = await fetch(`${apiUrl}/auth/login`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'admin',\n              password: 'admin123'\n            })\n          });\n          \n          const loginData = await loginResponse.json();\n          \n          if (loginData.success && loginData.data?.token) {\n            console.log('âœ… Auto-login successful');\n            tokenManager.setToken(loginData.data.token);\n            \n            // Store user data in localStorage for consistency\n            const userData = {\n              ...loginData.data.user,\n              token: loginData.data.token\n            };\n            localStorage.setItem('casinoUser', JSON.stringify(userData));\n          } else {\n            console.log('âŒ Auto-login failed:', loginData);\n            setErrorMessage('Authentication required. Please login first.');\n            setLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('âŒ Auto-login error:', error);\n          setErrorMessage('Authentication failed. Please check your connection.');\n          setLoading(false);\n          return;\n        }\n      }\n      \n      // Load basic data first (fast)\n      const [tripsData, customersData, agentsData, staffResponse] = await Promise.all([\n        db.get('trips', []),\n        db.get('customers', []),\n        db.get('agents', []),\n        apiClient.get('/staffs')\n      ]);\n      \n      // Extract staff data from API response\n      const staffData = staffResponse.success ? staffResponse.data : [];\n\n      // Transform trips with basic data only (no heavy API calls)\n      const transformedTrips = (tripsData || []).map((trip: any) => {\n        return {\n          id: trip.id,\n          name: trip.trip_name || trip.name || 'Unnamed Trip',\n          description: trip.description || '',\n          date: trip.start_date || trip.date,\n          startDate: trip.start_date || trip.date,\n          endDate: trip.end_date || trip.endDate,\n          status: trip.status || 'active',\n          budget: trip.total_budget || 0,\n          createdAt: trip.created_at || new Date().toISOString(),\n          customers: [],\n          agents: [],\n          expenses: [],\n          totalRolling: 0,\n          totalWinLoss: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          calculatedTotalRolling: 0,\n          sharing: {\n            totalWinLoss: 0,\n            totalExpenses: 0,\n            totalRollingCommission: 0,\n            totalBuyIn: 0,\n            totalBuyOut: 0,\n            netResult: 0,\n            netCashFlow: 0,\n            totalAgentShare: 0,\n            companyShare: 0,\n            agentSharePercentage: 0,\n            companySharePercentage: 100,\n            agentShares: [],\n            agentBreakdown: []\n          },\n          attachments: [],\n          lastDataUpdate: new Date().toISOString(),\n          activeCustomersCount: 0,\n          recentActivityCount: 0,\n          totalExpenses: 0,\n          _dataLoaded: false\n        } as unknown as Trip;\n      });\n\n      // Set state with basic data immediately for fast UI response\n      setTrips(transformedTrips);\n      setCustomers(customersData || []);\n      setAgents(agentsData || []);\n      setStaff(staffData || []);\n      setLastSyncTime(new Date());\n      setDataLoaded(true);\n      \n      console.log(`âœ… Basic project data loaded quickly: ${transformedTrips.length} trips`);\n      \n      // Load detailed trip data in background (lazy loading)\n      if (transformedTrips.length > 0) {\n        setTimeout(async () => {\n          try {\n            const enrichedTrips = await Promise.all(transformedTrips.map(async (trip: any) => {\n              try {\n                const [statsResponse, sharingResponse, customersResponse] = await Promise.all([\n                  apiClient.get(`/trips/${trip.id}/statistics`),\n                  apiClient.get(`/trips/${trip.id}/sharing`),\n                  apiClient.get(`/trips/${trip.id}/customer-stats`)\n                ]);\n                \n                const tripStats = statsResponse.success ? statsResponse.data : null;\n                const tripSharing = sharingResponse.success ? sharingResponse.data : null;\n                const tripCustomers = customersResponse.success ? customersResponse.data : [];\n                \n                const statsRoot = tripStats?.statistics || tripStats;\n                \n                return {\n                  ...trip,\n                  customers: tripCustomers,\n                  totalRolling: statsRoot?.total_rolling || tripStats?.total_rolling || 0,\n                  totalWinLoss: statsRoot?.net_profit || tripStats?.net_profit || 0,\n                  totalBuyIn: statsRoot?.total_buy_in || tripStats?.total_buy_in || 0,\n                  totalBuyOut: statsRoot?.total_cash_out || tripStats?.total_cash_out || 0,\n                  calculatedTotalRolling: statsRoot?.total_rolling || tripStats?.total_rolling || 0,\n                  sharing: {\n                    total_rolling: tripSharing?.total_rolling || 0,\n                    total_expenses: tripSharing?.total_expenses || 0,\n                    net_result: tripSharing?.net_result || 0,\n                    totalWinLoss: tripSharing?.total_win_loss || 0,\n                    totalRollingCommission: tripSharing?.total_rolling_commission || 0,\n                    totalBuyIn: tripSharing?.total_buy_in || 0,\n                    totalBuyOut: tripSharing?.total_buy_out || 0,\n                    netCashFlow: tripSharing?.net_cash_flow || 0,\n                    totalAgentShare: tripSharing?.total_agent_share || 0,\n                    companyShare: tripSharing?.company_share || 0,\n                    agentSharePercentage: tripSharing?.agent_share_percentage || 0,\n                    companySharePercentage: tripSharing?.company_share_percentage || 100,\n                    agentShares: [],\n                    agentBreakdown: tripSharing?.agent_breakdown || []\n                  },\n                  totalExpenses: tripSharing?.total_expenses || 0,\n                  _dataLoaded: true\n                };\n              } catch (error) {\n                console.warn(`Failed to load detailed data for trip ${trip.id}:`, error);\n                return { ...trip, _dataLoaded: false };\n              }\n            }));\n            \n            // Update trips with detailed data\n            setTrips(enrichedTrips);\n            console.log('âœ… Detailed trip data loaded in background');\n          } catch (error) {\n            console.warn('Background data loading failed:', error);\n          }\n        }, 100); // Load detailed data after 100ms\n      }\n      \n    } catch (error) {\n      console.error('âŒ Error loading data:', error);\n      setErrorMessage(`Failed to load project data: ${error}`);\n      showError('Failed to load project data');\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTrip, dataLoaded, trips.length]);\n\n  // Initial data load only\n  useEffect(() => {\n    loadAllRealTimeData(true);\n  }, []);\n\n  // Separate effect for real-time updates (less frequent)\n  useEffect(() => {\n    let refreshInterval: NodeJS.Timeout;\n    if (isRealTimeEnabled && dataLoaded) {\n      refreshInterval = setInterval(() => {\n        console.log('ðŸ”„ Real-time refresh triggered');\n        loadAllRealTimeData(true);\n      }, REAL_TIME_REFRESH_INTERVAL * 2); // Double the interval to reduce load\n    }\n\n    return () => {\n      if (refreshInterval) clearInterval(refreshInterval);\n    };\n  }, [isRealTimeEnabled, dataLoaded]);\n\n  // Load agent profits when switching to agents tab\n  useEffect(() => {\n    if (selectedTrip && selectedTripTab === 'agents') {\n      console.log('ðŸŽ¯ Loading agent profits for selected trip:', {\n        tripId: selectedTrip.id,\n        tripName: selectedTrip.name,\n        customers: selectedTrip.customers,\n        agents: selectedTrip.agents\n      });\n      loadAgentProfits(selectedTrip.id);\n    }\n  }, [selectedTrip, selectedTripTab, loadAgentProfits]);\n\n  // Get filtered trips based on user role\n  const getFilteredTrips = () => {\n    if (user.role === 'agent' && user.agentId) {\n      return trips.filter(trip => \n        trip.agents?.some(agent => agent.agentId === user.agentId) || \n        trip.agentId === user.agentId\n      );\n    }\n    return trips;\n  };\n\n  // Save trips to database\n  const saveTrips = async (updatedTrips: Trip[]) => {\n    try {\n      setSaving(true);\n      await db.save('trips', updatedTrips);\n      setTrips(updatedTrips);\n      setLastSyncTime(new Date());\n      console.log('âœ… Trips saved to Supabase');\n    } catch (error) {\n      console.error('âŒ Error saving trips:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to save trips: ${errorMessage}`);\n      throw error;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Create new trip\n  const handleCreateTrip = async () => {\n    if (!newTrip.name.trim() || !newTrip.date || !newTrip.venue) {\n      showError('Please fill in all required fields (Name, Date, Venue)');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      // Prepare data for backend API\n      const tripData = {\n        trip_name: newTrip.name,\n        destination: newTrip.venue,\n        start_date: newTrip.date,\n        end_date: newTrip.endDate || newTrip.date,\n        total_budget: parseFloat(newTrip.budget) || 0,\n        description: newTrip.description || '',\n        status: newTrip.status\n      };\n\n      console.log('Creating trip with data:', tripData);\n\n      // Call backend API to create trip\n      const response = await apiClient.post('/trips', tripData);\n      \n      if (response.success) {\n        console.log('âœ… Trip created successfully:', response.data);\n        \n        // Refresh trips list\n        await loadAllRealTimeData();\n        \n        setShowCreateTrip(false);\n        setNewTrip({\n          name: '',\n          description: '',\n          date: '',\n          endDate: '',\n          venue: '',\n          budget: '',\n          status: 'active' as 'active' | 'in-progress' | 'completed' | 'cancelled'\n        });\n        \n        console.log('âœ… Trip created successfully:', response.data.trip_name);\n      } else {\n        throw new Error(response.error || 'Failed to create trip');\n      }\n      \n    } catch (error) {\n      console.error('âŒ Error creating trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Select trip for detailed view with comprehensive backend data\n  const selectTrip = async (trip: Trip) => {\n    console.log('ðŸŽ¯ Selecting trip for details:', trip.name);\n    \n    try {\n      setLoading(true);\n      \n      // Load comprehensive trip data from backend API\n      const [customersResponse, expensesResponse, sharingResponse, statisticsResponse, transactionsResponse, agentsResponse, staffResponse] = await Promise.all([\n        apiClient.get(`/trips/${trip.id}/customer-stats`),\n        apiClient.get(`/trips/${trip.id}/expenses`),\n        apiClient.get(`/trips/${trip.id}/sharing`),\n        apiClient.get(`/trips/${trip.id}/statistics`),\n        apiClient.get(`/trips/${trip.id}/transactions`),\n        apiClient.get(`/trips/${trip.id}/agents`),\n        apiClient.get(`/trips/${trip.id}/staff`)\n      ]);\n      \n      console.log('ðŸ“Š Backend API responses:', {\n        customers: customersResponse,\n        expenses: expensesResponse,\n        sharing: sharingResponse,\n        statistics: statisticsResponse,\n        transactions: transactionsResponse,\n        agents: agentsResponse,\n        staff: staffResponse\n      });\n      \n      // Create enriched trip object with actual backend data\n      const enrichedTrip = {\n        ...trip,\n        customers: customersResponse.success ? customersResponse.data : [],\n        expenses: expensesResponse.success ? (expensesResponse.data?.expenses || []) : [],\n        agents: agentsResponse.success ? agentsResponse.data : [],\n        staff: staffResponse.success ? staffResponse.data : [],\n        sharing: sharingResponse.success ? sharingResponse.data : trip.sharing,\n        statistics: statisticsResponse.success ? statisticsResponse.data : null,\n        transactions: transactionsResponse.success ? transactionsResponse.data : [],\n        activeCustomersCount: customersResponse.success ? customersResponse.data?.length || 0 : trip.activeCustomersCount || 0,\n        backendData: {\n          totalBuyIn: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_buy_in || 0 : 0,\n          totalCashOut: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_cash_out || 0 : 0,\n          totalWin: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_win || 0 : 0,\n          totalLoss: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_loss || 0 : 0,\n          netProfit: statisticsResponse.success ? statisticsResponse.data?.statistics?.net_profit || 0 : 0,\n          profitMargin: statisticsResponse.success ? statisticsResponse.data?.statistics?.profit_margin || 0 : 0,\n          customerStatsLoaded: customersResponse.success,\n          expensesLoaded: expensesResponse.success,\n          agentsLoaded: agentsResponse.success,\n          sharingLoaded: sharingResponse.success,\n          statisticsLoaded: statisticsResponse.success,\n          transactionsLoaded: transactionsResponse.success\n        }\n      };\n      \n      // Calculate financial totals from actual backend data\n      if (enrichedTrip.customers && enrichedTrip.customers.length > 0) {\n        enrichedTrip.totalBuyIn = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.total_buy_in), 0);\n        enrichedTrip.totalBuyOut = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.total_cash_out), 0);\n        enrichedTrip.totalRolling = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.rolling_amount), 0);\n        enrichedTrip.totalWinLoss = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.net_result), 0);\n      }\n      \n      if (enrichedTrip.expenses && enrichedTrip.expenses.length > 0) {\n        enrichedTrip.totalExpenses = enrichedTrip.expenses.reduce((sum: number, e: any) => sum + safeNumber(e.amount), 0);\n      }\n      \n      console.log('ðŸ“Š Enriched trip with backend data:', enrichedTrip);\n      \n      // Update state variables for tabs to display backend data\n      setTripExpenses(enrichedTrip.expenses || []);\n      setTripSharing(enrichedTrip.sharing || null);\n      \n      // Load agent profits for the selected trip\n      await loadAgentProfits(trip.id);\n      \n      // Backend data status is already included in the initial backendData object\n      \n      setSelectedTrip(enrichedTrip);\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n      \n    } catch (error) {\n      console.error('âŒ Error loading trip details:', error);\n      setSelectedTrip(trip); // Fallback to original trip data\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add customer to trip\n  const handleAddCustomerToTrip = async (customerId: string) => {\n    if (!selectedTrip) return;\n\n    const customer = customers.find(c => c.id === customerId);\n    if (!customer) return;\n\n    if (selectedTrip.customers.some(tc => tc.customerId === customerId || (tc as any).customer_id === customerId)) {\n      showError('Customer is already added to this trip');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      // Make API call to add customer to trip\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/customers`, {\n        customer_id: customerId\n      });\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to add customer to trip');\n      }\n\n      console.log('âœ… Customer added to trip via API:', customer.name);\n      \n      // Refresh trip data to get updated customer list\n      await selectTrip(selectedTrip);\n      setShowAddCustomer(false);\n      \n    } catch (error) {\n      console.error('âŒ Error adding customer to trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to add customer to trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove customer from trip\n  const handleRemoveCustomerFromTrip = async (customerId: string) => {\n    if (!selectedTrip) return;\n\n    console.log('ðŸ”„ Starting delete customer process:', { customerId, tripId: selectedTrip.id });\n\n    setSaving(true);\n    try {\n      // Make API call to remove customer from trip\n      console.log('ðŸ“¡ Making API call to delete customer...');\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/customers/${customerId}`);\n\n      console.log('ðŸ“¨ API Response:', response);\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove customer from trip');\n      }\n\n      console.log('âœ… Customer removed from trip via API successfully');\n      \n      // Refresh trip data to get updated customer list\n      console.log('ðŸ”„ Refreshing trip data...');\n      await selectTrip(selectedTrip);\n      console.log('âœ… Trip data refreshed after customer removal');\n      \n    } catch (error) {\n      console.error('âŒ Error removing customer from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove customer from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Add staff to trip\n  const handleAddStaffToTrip = async (staffId: string) => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/staff`, {\n        staff_id: staffId\n      });\n      \n      if (response.success) {\n        console.log(' Staff added to trip via API');\n        \n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        setShowAddStaff(false);\n        \n      } else {\n        showError(response.error || 'Failed to add staff to trip');\n      }\n    } catch (error) {\n      console.error('Error adding staff to trip:', error);\n      showError('Failed to add staff to trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove staff from trip\n  const handleRemoveStaffFromTrip = async (staffId: string) => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/staff/${staffId}`);\n      \n      if (response.success) {\n        console.log(' Staff removed from trip via API');\n        \n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        \n      } else {\n        showError(response.error || 'Failed to remove staff from trip');\n      }\n    } catch (error) {\n      console.error('Error removing staff from trip:', error);\n      showError('Failed to remove staff from trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Handle transaction operations\n  const handleAddTransaction = async () => {\n    if (!selectedTrip || !selectedCustomerForTransaction) return;\n    \n    setSaving(true);\n    try {\n      // Check authentication first\n      const userData = localStorage.getItem('casinoUser');\n      if (!userData) {\n        showError('Please login first to add transactions');\n        return;\n      }\n\n      // Fix transaction type mapping: buy_in -> buy-in, cash_out -> cash-out\n      const transactionTypeMapping: { [key: string]: string } = {\n        'buy_in': 'buy-in',\n        'cash_out': 'cash-out',\n        'buy-in': 'buy-in',\n        'cash-out': 'cash-out'\n      };\n\n      const mappedTransactionType = transactionTypeMapping[transactionForm.type] || transactionForm.type;\n\n      // Ensure we have proper customer_id\n      const customerId = selectedCustomerForTransaction.customerId || \n                        selectedCustomerForTransaction.customer_id || \n                        selectedCustomerForTransaction.id;\n\n      if (!customerId) {\n        showError('Customer ID is required for transaction');\n        return;\n      }\n\n      const transactionData = {\n        customer_id: customerId,\n        transaction_type: mappedTransactionType, // Must be 'buy-in' or 'cash-out'\n        amount: parseFloat(transactionForm.amount),\n        status: 'completed', // Add required status field\n        notes: transactionForm.description || null\n      };\n\n      console.log('ðŸ”„ Adding transaction:', transactionData);\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/transactions`, transactionData);\n      \n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddTransaction(false);\n        setTransactionForm({ type: 'buy-in', amount: '', description: '' });\n        setSelectedCustomerForTransaction(null);\n      } else {\n        showError('Failed to add transaction');\n      }\n    } catch (error) {\n      console.error('Error adding transaction:', error);\n      showError('Failed to add transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle rolling operations\n  const handleAddRolling = async () => {\n    if (!selectedTrip || !selectedCustomerForRolling) return;\n    \n    setSaving(true);\n    try {\n      console.log('ðŸŽ¯ Rolling request data:', {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        notes: rollingForm.description\n      });\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/rolling-records`, {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        notes: rollingForm.description\n      });\n      \n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddRolling(false);\n        setRollingForm({ amount: '', staff_id: '', game_type: 'baccarat', description: '' });\n        setSelectedCustomerForRolling(null);\n      } else {\n        showError('Failed to add rolling');\n      }\n    } catch (error) {\n      console.error('Error adding rolling:', error);\n      showError('Failed to add rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Edit agent share\n  const handleEditAgentShare = async () => {\n    if (!selectedTrip || !editingAgent) return;\n\n    if (editAgentShare <= 0 || editAgentShare > 100) {\n      showError('Please enter a valid share percentage between 1 and 100');\n      return;\n    }\n\n    try {\n      const updatedTrip = {\n        ...selectedTrip,\n        agents: (selectedTrip.agents || []).map(agent => \n          agent.agentId === editingAgent.agentId \n            ? { ...agent, sharePercentage: editAgentShare }\n            : agent\n        ),\n        lastDataUpdate: new Date().toISOString()\n      };\n\n      const updatedTrips = (trips || []).map(t => t.id === selectedTrip.id ? updatedTrip : t);\n      await saveTrips(updatedTrips);\n      setSelectedTrip(updatedTrip);\n      setShowEditAgent(false);\n      setEditingAgent(null);\n      setEditAgentShare(25);\n      \n      console.log('âœ… Agent share updated:', editingAgent.agentName);\n    } catch (error) {\n      console.error('âŒ Error updating agent share:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to update agent share: ${errorMessage}`);\n    }\n  };\n\n  // Delete agent from trip\n  const handleDeleteAgentFromTrip = async () => {\n    if (!selectedTrip || !deletingAgent) return;\n\n    setSaving(true);\n    try {\n      // Make API call to remove agent from trip\n      const agentIdToRemove = deletingAgent.agentId || deletingAgent.agent_id;\n      console.log('ðŸ—‘ï¸ Attempting to delete agent:', {\n        tripId: selectedTrip.id,\n        agentIdToRemove,\n        deletingAgent,\n        url: `/trips/${selectedTrip.id}/agents/${agentIdToRemove}`\n      });\n      \n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/agents/${agentIdToRemove}`);\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove agent from trip');\n      }\n\n      console.log('âœ… Agent removed from trip via API:', deletingAgent.agentName);\n      \n      // Refresh trip data to get updated agent list\n      await selectTrip(selectedTrip);\n      setShowDeleteAgent(false);\n      setDeletingAgent(null);\n      \n    } catch (error) {\n      console.error('âŒ Error removing agent from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove agent from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Add expense to trip using API\n  const handleAddExpense = async () => {\n    if (!selectedTrip || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n\n    const expenseData = {\n      expense_type: newExpense.category,\n      amount: newExpense.amount,\n      description: newExpense.description\n    };\n\n    const success = await addTripExpense(selectedTrip.id, expenseData);\n    if (success) {\n      setShowAddExpense(false);\n      setNewExpense({\n        description: '',\n        amount: 0,\n        category: 'flight'\n      });\n      console.log('âœ… Expense added to trip via API');\n    }\n  };\n\n\n  const filteredTrips = getFilteredTrips();\n  \n  // Debug logging\n  useEffect(() => {\n    const debugInfo = async () => {\n      const hasToken = await tokenManager.getToken();\n      console.log('ðŸ“Š Debug info:', {\n        trips: trips?.length,\n        filteredTrips: filteredTrips?.length,\n        dataLoaded,\n        loading,\n        userRole: user.role,\n        agentId: user.agentId,\n        hasToken: hasToken ? 'YES' : 'NO'\n      });\n    };\n    debugInfo();\n  }, [trips, filteredTrips, dataLoaded, loading, user.role, user.agentId]);\n\n  // Loading state\n  if (loading && !dataLoaded) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-2 text-sm text-gray-600\">Loading Project Data</p>\n          <p className=\"text-xs text-gray-500\">Connecting to Supabase and loading trips, customers, and agents...</p>\n          <div className=\"mt-3 w-48 bg-gray-200 rounded-full h-2 mx-auto\">\n            <div className=\"bg-blue-600 h-2 rounded-full animate-pulse\" style={{width: '60%'}}></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Status Header */}\n      <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <MapPin className=\"w-5 h-5 text-blue-600 mr-3\" />\n            <div>\n              <p className=\"text-sm font-medium text-blue-800\">\n                ðŸŽ¯ Project Management - Agent Share CRUD Added\n              </p>\n              <p className=\"text-xs text-blue-600\">\n                Full CRUD functionality for agent shares now available in trip details\n                {lastSyncTime && ` â€¢ Last sync: ${lastSyncTime.toLocaleTimeString()}`}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {saving && (\n              <div className=\"flex items-center text-blue-600\">\n                <Activity className=\"w-4 h-4 mr-1 animate-pulse\" />\n                <span className=\"text-xs\">Saving...</span>\n              </div>\n            )}\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={() => loadAllRealTimeData(true)}\n              disabled={loading}\n              className=\"text-xs\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Refresh\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={() => setIsRealTimeEnabled(!isRealTimeEnabled)}\n              className=\"text-xs\"\n            >\n              <Zap className={`w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`} />\n              {isRealTimeEnabled ? 'Live' : 'Manual'}\n            </Button>\n            <Badge variant=\"outline\" className=\"text-xs bg-green-50 text-green-700\">\n              <CheckCircle className=\"w-2 h-2 mr-1\" />\n              CRUD Ready\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Data Loading Status */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Trips Loaded</p>\n                <p className=\"text-2xl font-bold text-blue-600\">{trips?.length || 0}</p>\n              </div>\n              <MapPin className=\"w-8 h-8 text-blue-400\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Customers Available</p>\n                <p className=\"text-2xl font-bold text-green-600\">{customers?.length || 0}</p>\n              </div>\n              <Users className=\"w-8 h-8 text-green-400\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Agents Available</p>\n                <p className=\"text-2xl font-bold text-purple-600\">{agents?.length || 0}</p>\n              </div>\n              <UserCheck className=\"w-8 h-8 text-purple-400\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Error Alert */}\n      {errorMessage && (\n        <Alert className=\"border-red-200 bg-red-50\">\n          <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            <strong>Error:</strong> {errorMessage}\n            <Button\n              onClick={() => loadAllRealTimeData(true)}\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"ml-3 text-red-800 border-red-300 hover:bg-red-100\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Retry\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Main Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-4\">\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"trips\" className=\"flex items-center gap-2\">\n            <MapPin className=\"w-4 h-4\" />\n            All Trips\n          </TabsTrigger>\n          <TabsTrigger value=\"trip-details\" disabled={!selectedTrip} className=\"flex items-center gap-2\">\n            <Eye className=\"w-4 h-4\" />\n            Trip Details {selectedTrip && `- ${selectedTrip.name}`}\n          </TabsTrigger>\n        </TabsList>\n\n        {/* All Trips Tab */}\n        <TabsContent value=\"trips\" className=\"space-y-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h2 className=\"text-2xl font-bold\">Project Management</h2>\n              <p className=\"text-gray-600\">\n                Manage trips and project data with full CRUD functionality\n                {user.role === 'agent' && ' (Your trips only)'}\n              </p>\n            </div>\n            {(isAdmin || isAgent) && (\n              <Dialog open={showCreateTrip} onOpenChange={setShowCreateTrip}>\n                <DialogTrigger asChild>\n                  <Button>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create Trip\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle>Create New Trip</DialogTitle>\n                    <DialogDescription>\n                      Create a new trip that will be saved to Supabase database.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"tripName\">Trip Name *</Label>\n                      <Input\n                        id=\"tripName\"\n                        value={newTrip.name}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, name: e.target.value})}\n                        placeholder=\"Enter trip name\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"tripDescription\">Description</Label>\n                      <Textarea\n                        id=\"tripDescription\"\n                        value={newTrip.description}\n                        onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setNewTrip({...newTrip, description: e.target.value})}\n                        placeholder=\"Trip description\"\n                      />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <Label htmlFor=\"startDate\">Start Date *</Label>\n                        <Input\n                          id=\"startDate\"\n                          type=\"date\"\n                          value={newTrip.date}\n                          onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, date: e.target.value})}\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"endDate\">End Date</Label>\n                        <Input\n                          id=\"endDate\"\n                          type=\"date\"\n                          value={newTrip.endDate}\n                          onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, endDate: e.target.value})}\n                        />\n                      </div>\n                    </div>\n                    <div>\n                      <Label htmlFor=\"venue\">Venue</Label>\n                      <Input\n                        id=\"venue\"\n                        value={newTrip.venue}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, venue: e.target.value})}\n                        placeholder=\"Casino venue\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"budget\">Budget (HK$)</Label>\n                      <Input\n                        id=\"budget\"\n                        type=\"number\"\n                        value={newTrip.budget}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, budget: e.target.value})}\n                        placeholder=\"Enter trip budget\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"status\">Status</Label>\n                      <Select \n                        value={newTrip.status} \n                        onValueChange={(value) => \n                          setNewTrip({...newTrip, status: value as 'active' | 'in-progress' | 'completed' | 'cancelled'})\n                        }\n                      >\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"active\">Active</SelectItem>\n                          <SelectItem value=\"in-progress\">In Progress</SelectItem>\n                          <SelectItem value=\"completed\">Completed</SelectItem>\n                          <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div className=\"flex justify-end space-x-2\">\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setShowCreateTrip(false)}\n                        disabled={saving}\n                      >\n                        Cancel\n                      </Button>\n                      <Button onClick={handleCreateTrip} disabled={saving}>\n                        {saving ? 'Creating...' : 'Create Trip'}\n                      </Button>\n                    </div>\n                  </div>\n                </DialogContent>\n              </Dialog>\n            )}\n          </div>\n\n          {/* Trips List */}\n          {loading ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                <p className=\"text-gray-500\">Loading trips...</p>\n              </CardContent>\n            </Card>\n          ) : (filteredTrips?.length || 0) === 0 ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                  {!dataLoaded ? 'Loading trips...' : 'No trips found'}\n                </h3>\n                <p className=\"text-gray-500 mb-4\">\n                  {!dataLoaded \n                    ? 'Please wait while we load your trip data from Supabase.'\n                    : 'Create your first trip to start managing projects and customer rolling amounts.'\n                  }\n                </p>\n                {dataLoaded && (isAdmin || isAgent) && (\n                  <Button onClick={() => setShowCreateTrip(true)}>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create First Trip\n                  </Button>\n                )}\n                {!dataLoaded && (\n                  <Button onClick={() => loadAllRealTimeData(true)} variant=\"outline\">\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\n                    Retry Loading\n                  </Button>\n                )}\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {(() => {\n                console.log('ðŸ” Rendering trips:', filteredTrips?.length, filteredTrips);\n                return null;\n              })()}\n              {(filteredTrips || []).map((trip) => {\n                // Use loaded statistics data\n                const netProfit = trip.totalWinLoss || 0;\n                \n                return (\n                  <Card key={trip.id} className=\"overflow-hidden hover:shadow-md transition-shadow\">\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <CardTitle className=\"text-xl\">{trip.name}</CardTitle>\n                          <CardDescription className=\"mt-1\">\n                            {trip.description} â€¢ {trip.date}\n                          </CardDescription>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant={\n                            trip.status === 'completed' ? 'default' : \n                            trip.status === 'in-progress' ? 'secondary' : 'outline'\n                          }>\n                            {trip.status?.charAt(0).toUpperCase() + trip.status?.slice(1)}\n                          </Badge>\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => selectTrip(trip)}>\n                            <Eye className=\"w-4 h-4 mr-1\" />\n                            View Details\n                          </Button>\n                        </div>\n                      </div>\n                      \n                      {/* Trip Summary Metrics using Backend Data */}\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4\">\n                        <div className=\"text-center\">\n                          <div className=\"text-gray-500 text-xs\">Customers</div>\n                          <div className=\"font-medium\">{trip.customers?.length || 0}</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-gray-500 text-xs\">Total Rolling</div>\n                          <div className=\"font-medium text-blue-600\">HK${safeFormatNumber(trip.sharing?.total_rolling || 0)}</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-gray-500 text-xs\">Expenses</div>\n                          <div className=\"font-medium text-red-600\">HK${safeFormatNumber(Math.abs(trip.sharing?.total_expenses || 0))}</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-gray-500 text-xs\">Profit</div>\n                          <div className={`font-medium ${(trip.sharing?.net_result || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                            HK${safeFormatNumber(Math.abs(trip.sharing?.net_result || 0))}\n                          </div>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                );\n              })}\n            </div>\n          )}\n        </TabsContent>\n\n        {/* Trip Details Tab */}\n        <TabsContent value=\"trip-details\" className=\"space-y-4\">\n          {selectedTrip ? (\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-2xl font-bold\">{selectedTrip.name}</h2>\n                  <p className=\"text-gray-600\">{selectedTrip.description}</p>\n                  <div className=\"flex items-center space-x-4 mt-2\">\n                    <Badge variant={\n                      selectedTrip.status === 'completed' ? 'default' : \n                      selectedTrip.status === 'in-progress' ? 'secondary' : 'outline'\n                    }>\n                      {selectedTrip.status?.charAt(0).toUpperCase() + selectedTrip.status?.slice(1)}\n                    </Badge>\n                    <span className=\"text-sm text-gray-500\">{selectedTrip.date}</span>\n                  </div>\n                </div>\n                <Button variant=\"outline\" onClick={() => setActiveTab('trips')}>\n                  <MapPin className=\"w-4 h-4 mr-2\" />\n                  Back to Trips\n                </Button>\n              </div>\n\n              {/* Trip Details Tabs */}\n              <Tabs value={selectedTripTab} onValueChange={setSelectedTripTab} className=\"space-y-4\">\n                <TabsList className=\"grid w-full grid-cols-7\">\n                  <TabsTrigger value=\"overview\" className=\"flex items-center gap-1\">\n                    <BarChart className=\"w-3 h-3\" />\n                    Overview\n                  </TabsTrigger>\n                  <TabsTrigger value=\"customers\" className=\"flex items-center gap-1\">\n                    <Users className=\"w-3 h-3\" />\n                    Customers\n                  </TabsTrigger>\n                  <TabsTrigger value=\"agents\" className=\"flex items-center gap-1\">\n                    <UserCheck className=\"w-3 h-3\" />\n                    Agents\n                  </TabsTrigger>\n                  <TabsTrigger value=\"staff\" className=\"flex items-center gap-1\">\n                    <Users className=\"w-3 h-3\" />\n                    Staff\n                  </TabsTrigger>\n                  <TabsTrigger value=\"expenses\" className=\"flex items-center gap-1\">\n                    <DollarSign className=\"w-3 h-3\" />\n                    Expenses\n                  </TabsTrigger>\n                  <TabsTrigger value=\"currency\" className=\"flex items-center gap-1\">\n                    <DollarSign className=\"w-3 h-3\" />\n                    Currency\n                  </TabsTrigger>\n                  <TabsTrigger value=\"sharing\" className=\"flex items-center gap-1\">\n                    <Settings className=\"w-3 h-3\" />\n                    Financials\n                  </TabsTrigger>\n                </TabsList>\n\n                {/* Overview Tab */}\n                <TabsContent value=\"overview\" className=\"space-y-4\">\n                  <div className=\"space-y-6\">\n                    {(() => {\n                      // Use backend data directly - no local calculation needed\n                      const totalExpenses = (selectedTrip?.expenses || []).reduce((sum: number, e: any) => sum + safeNumber(e.amount), 0);\n                      return (\n                        <>\n                          {/* Enhanced Trip Metrics with Backend Data Integration */}\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Buy-in</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-green-600\">\n                                  HK${safeFormatNumber((selectedTrip as any)?.backendData?.totalBuyIn || 0)}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">{selectedTrip?.activeCustomersCount || selectedTrip?.customers?.length || 0} customers</p>\n                                <p className=\"text-xs text-green-500\">From transactions</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Buy-out</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-red-600\">\n                                  HK${safeFormatNumber(Math.abs((selectedTrip as any)?.backendData?.totalCashOut || 0))}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">Customer withdrawals</p>\n                                <p className=\"text-xs text-red-500\">From transactions</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Expenses</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-red-600\">\n                                  HK${safeFormatNumber(Math.abs(totalExpenses))}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">After all expenses</p>\n                                <p className=\"text-xs text-red-500\">House perspective</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Profit</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className={`text-2xl font-bold ${\n                                  ((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n                                }`}>\n                                  HK${safeFormatNumber(Math.abs((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0))}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">House perspective</p>\n                                <p className={`text-xs ${((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0) >= 0 ? 'text-green-500' : 'text-red-500'}`}>After all expenses</p>\n                              </CardContent>\n                            </Card>\n                          </div>\n\n                          {/* Quick Actions */}\n                          <Card>\n                            <CardHeader>\n                              <CardTitle className=\"text-sm\">Quick Actions</CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                              <div className=\"flex flex-wrap gap-3\">\n                                <Button \n                                  size=\"sm\" \n                                  variant=\"outline\"\n                                  onClick={() => setSelectedTripTab('expenses')}\n                                >\n                                  <DollarSign className=\"w-4 h-4 mr-2\" />\n                                  Manage Expenses\n                                </Button>\n                                <Button \n                                  size=\"sm\" \n                                  variant=\"outline\"\n                                  onClick={() => setSelectedTripTab('sharing')}\n                                >\n                                  <Share2 className=\"w-4 h-4 mr-2\" />\n                                  Manage Sharing\n                                </Button>\n                              </div>\n                            </CardContent>\n                          </Card>\n\n                          {/* Backend Data Verification Panel */}\n                          <Card>\n                            <CardHeader>\n                              <CardTitle className=\"text-sm\">Backend Data Status</CardTitle>\n                            </CardHeader>\n                            <CardContent className=\"space-y-2\">\n                              <div className=\"text-xs space-y-1\">\n                                <div className=\"flex justify-between\">\n                                  <span>Customer Stats:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.customerStatsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.customerStatsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Agents:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.agentsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.agentsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Expenses:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.expensesLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.expensesLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Sharing:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.sharingLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.sharingLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Statistics:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.statisticsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.statisticsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Transactions:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.transactionsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.transactionsLoaded ? 'âœ“ Loaded' : 'âœ— Missing'}\n                                  </span>\n                                </div>\n                              </div>\n                            </CardContent>\n                          </Card>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </TabsContent>\n\n                {/* Customers Tab */}\n                <TabsContent value=\"customers\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Customers ({selectedTrip?.activeCustomersCount || selectedTrip?.customers?.length || 0})</h3>\n                    <Dialog open={showAddCustomer} onOpenChange={setShowAddCustomer}>\n                      <DialogTrigger asChild>\n                        <Button size=\"sm\">\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Add Customer\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Customer to Trip</DialogTitle>\n                          <DialogDescription>\n                            Select from available customers ({(customers || []).filter(c => !(selectedTrip?.customers || []).some(tc => tc.customerId === c.id)).length} total)\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                          {(customers || [])\n                            .filter(c => !(selectedTrip?.customers || []).some(tc => tc.customerId === c.id))\n                            .map(customer => (\n                              <div key={customer.id} className=\"flex items-center justify-between p-3 border rounded\">\n                                <div>\n                                  <div className=\"font-medium\">{customer.name}</div>\n                                  <div className=\"text-sm text-gray-500\">{customer.email}</div>\n                                  <div className=\"text-xs text-gray-400\">Agent: {customer.agentName}</div>\n                                </div>\n                                <Button size=\"sm\" onClick={() => handleAddCustomerToTrip(customer.id)} disabled={saving}>\n                                  {saving ? 'Adding...' : 'Add'}\n                                </Button>\n                              </div>\n                            ))}\n                          {(customers || []).filter(c => !(selectedTrip?.customers || []).some(tc => tc.customerId === c.id)).length === 0 && (\n                            <p className=\"text-center text-gray-500 py-8\">All customers are already added to this trip</p>\n                          )}\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n\n                  {(selectedTrip?.customers?.length || 0) === 0 ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Users className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No customers added to this trip</p>\n                        <Button className=\"mt-4\" onClick={() => setShowAddCustomer(true)}>\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Add First Customer\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {(selectedTrip?.customers || []).map((tripCustomer: any) => (\n                        <Card key={tripCustomer.customerId || tripCustomer.customer_id}>\n                          <CardContent className=\"pt-4\">\n                            <div className=\"flex items-center justify-between\">\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-center justify-between mb-2\">\n                                  <h4 className=\"font-medium\">{tripCustomer.customerName || tripCustomer.customer?.name}</h4>\n                                  <Badge variant=\"outline\" className=\"text-xs\">\n                                    VIP: {tripCustomer.customer?.vip_level || 'Standard'}\n                                  </Badge>\n                                </div>\n                                <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2\">\n                                  <div>\n                                    <span className=\"text-sm text-gray-500\">Buy-in:</span>\n                                    <div className=\"font-medium text-blue-600\">\n                                      HK${safeFormatNumber(tripCustomer.total_buy_in || tripCustomer.buyInAmount || 0)}\n                                    </div>\n                                  </div>\n                                  <div>\n                                    <span className=\"text-sm text-gray-500\">Cash-out:</span>\n                                    <div className=\"font-medium text-purple-600\">\n                                      HK${safeFormatNumber(tripCustomer.total_cash_out || tripCustomer.buyOutAmount || 0)}\n                                    </div>\n                                  </div>\n                                  <div>\n                                    <span className=\"text-sm text-gray-500\">Rolling:</span>\n                                    <div className=\"font-medium text-orange-600\">\n                                      HK${safeFormatNumber(tripCustomer.rolling_amount || tripCustomer.rollingAmount || 0)}\n                                    </div>\n                                  </div>\n                                  <div>\n                                    <span className=\"text-sm text-gray-500\">Win/Loss:</span>\n                                    <div className={`font-medium ${\n                                      (tripCustomer.total_buy_in || 0) > (tripCustomer.total_cash_out || 0) ? 'text-green-600' : 'text-red-600'\n                                    }`}>\n                                      HK${safeFormatNumber(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0)))}\n                                    </div>\n                                  </div>\n                                  <div>\n                                    <span className=\"text-sm text-gray-500\">Net Result:</span>\n                                    <div className={`font-medium ${\n                                      ((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) - (tripCustomer.rolling_amount || 0)) >= 0 ? 'text-green-600' : 'text-red-600'\n                                    }`}>\n                                      HK${safeFormatNumber(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) - (tripCustomer.rolling_amount || 0)))}\n                                    </div>\n                                  </div>\n                                </div>\n                                {/* Commission Info */}\n                                {tripCustomer.commission_earned && (\n                                  <div className=\"mt-2 p-2 bg-yellow-50 rounded text-xs\">\n                                    <span className=\"text-yellow-700\">Commission Earned: HK${safeFormatNumber(tripCustomer.commission_earned)}</span>\n                                  </div>\n                                )}\n                              </div>\n                              <div className=\"flex gap-2\">\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => {\n                                    setSelectedCustomerForTransaction(tripCustomer);\n                                    setShowAddTransaction(true);\n                                  }}\n                                  disabled={saving}\n                                >\n                                  <Plus className=\"w-3 h-3 mr-1\" />\n                                  Transaction\n                                </Button>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => {\n                                    setSelectedCustomerForRolling(tripCustomer);\n                                    setShowAddRolling(true);\n                                  }}\n                                  disabled={saving}\n                                >\n                                  <Plus className=\"w-3 h-3 mr-1\" />\n                                  Rolling\n                                </Button>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => handleRemoveCustomerFromTrip(tripCustomer.customerId || tripCustomer.customer_id)}\n                                  disabled={saving}\n                                >\n                                  <X className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Agent Profits Tab */}\n                <TabsContent value=\"agents\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Agent Individual Profits</h3>\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\"\n                      onClick={() => {\n                        if (selectedTrip) {\n                          console.log('ðŸ”„ Manual refresh clicked for trip:', selectedTrip.id);\n                          loadAgentProfits(selectedTrip.id);\n                        }\n                      }}\n                      disabled={loading}\n                    >\n                      <RefreshCw className=\"w-4 h-4 mr-2\" />\n                      Refresh\n                    </Button>\n                  </div>\n\n                  {false ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading agent profits...</p>\n                      </CardContent>\n                    </Card>\n                  ) : !agentProfits || agentProfits.length === 0 ? (\n                    <div className=\"space-y-4\">\n                      <Card>\n                        <CardContent className=\"text-center py-8\">\n                          <UserCheck className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                          <p className=\"text-gray-500\">No agents with customers in this trip</p>\n                          <p className=\"text-xs text-gray-400 mt-2\">Agents are automatically added when their customers join the trip</p>\n                        </CardContent>\n                      </Card>\n                      \n                      {/* Debug info */}\n                      <Card className=\"border-yellow-200 bg-yellow-50\">\n                        <CardContent className=\"pt-4\">\n                          <h4 className=\"font-medium text-yellow-800 mb-2\">Debug Information</h4>\n                          <div className=\"text-sm text-yellow-700 space-y-1\">\n                            <div>Trip ID: {selectedTrip?.id}</div>\n                            <div>Customers in trip: {selectedTrip?.customers?.length || 0}</div>\n                            <div>Agents in trip: {selectedTrip?.agents?.length || 0}</div>\n                            <div>Agent profits loaded: {agentProfits?.length || 0}</div>\n                            <div>Agent profits state: {JSON.stringify(agentProfits)}</div>\n                          </div>\n                          {selectedTrip?.customers && selectedTrip.customers.length > 0 && (\n                            <div className=\"mt-3\">\n                              <div className=\"text-sm font-medium text-yellow-800\">Customers:</div>\n                              {selectedTrip.customers.map((customer: any, index: number) => (\n                                <div key={index} className=\"text-xs text-yellow-600\">\n                                  {customer.customerName || customer.customer?.name || 'Unknown'} (ID: {customer.customerId || customer.customer_id})\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                        </CardContent>\n                      </Card>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-6\">\n                      {agentProfits.map((agentProfit: any) => (\n                        <Card key={agentProfit.agent_id}>\n                          <CardHeader>\n                            <div className=\"flex justify-between items-start\">\n                              <div>\n                                <CardTitle className=\"text-lg\">{agentProfit.agent_name}</CardTitle>\n                                <CardDescription>{agentProfit.agent_email}</CardDescription>\n                              </div>\n                              <div className=\"text-right\">\n                                <div className=\"text-2xl font-bold text-blue-600\">\n                                  HK${safeFormatNumber(agentProfit.total_agent_commission || agentProfit.total_commission || 0)}\n                                </div>\n                                <p className=\"text-sm text-gray-500\">Total Commission</p>\n                              </div>\n                            </div>\n                          </CardHeader>\n                          <CardContent>\n                            <div className=\"space-y-4\">\n                              <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                                <div className=\"p-3 bg-blue-50 rounded\">\n                                  <div className=\"text-sm text-gray-600\">Customer Net Result</div>\n                                  <div className={`text-lg font-bold ${\n                                    agentProfit.total_customer_net >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    HK${safeFormatNumber(agentProfit.total_customer_net)}\n                                  </div>\n                                </div>\n                                <div className=\"p-3 bg-green-50 rounded\">\n                                  <div className=\"text-sm text-gray-600\">Total Customers</div>\n                                  <div className=\"text-lg font-bold text-gray-800\">\n                                    {agentProfit.customers.length}\n                                  </div>\n                                </div>\n                              </div>\n\n                              <div>\n                                <h4 className=\"font-medium mb-3\">Customer Breakdown</h4>\n                                <div className=\"space-y-3\">\n                                  {agentProfit.customers.map((customer: any) => (\n                                    <div key={customer.customer_id} className=\"border rounded p-3\">\n                                      <div className=\"flex justify-between items-start mb-2\">\n                                        <div>\n                                          <div className=\"font-medium\">{customer.customer_name}</div>\n                                          <div className=\"text-sm text-gray-500\">\n                                            Buy-in: HK${safeFormatNumber(customer.buy_in)} | \n                                            Cash-out: HK${safeFormatNumber(customer.cash_out)}\n                                          </div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                          <div className={`font-bold ${\n                                            customer.net_result >= 0 ? 'text-green-600' : 'text-red-600'\n                                          }`}>\n                                            HK${safeFormatNumber(customer.net_result)}\n                                          </div>\n                                          <div className=\"text-sm text-gray-500\">Net Result</div>\n                                        </div>\n                                      </div>\n                                      \n                                      <div className=\"flex justify-between items-center pt-2 border-t\">\n                                        <div className=\"flex items-center space-x-4\">\n                                          <div className=\"text-sm\">\n                                            <span className=\"text-gray-500\">Rolling:</span>\n                                            <span className=\"font-medium ml-1\">HK${safeFormatNumber(customer.rolling_amount)}</span>\n                                          </div>\n                                          <div className=\"flex items-center space-x-2\">\n                                            <span className=\"text-sm text-gray-500\">Commission Rate:</span>\n                                            <Input\n                                              type=\"number\"\n                                              value={customer.commission_rate}\n                                              onChange={(e) => {\n                                                const newRate = parseFloat(e.target.value) || 0;\n                                                console.log('ðŸ”„ Commission rate changed:', { agentId: agentProfit.agent_id, customerId: customer.customer_id, newRate });\n                                                updateCommissionRate(agentProfit.agent_id, customer.customer_id, newRate);\n                                              }}\n                                              className=\"w-20 h-8 text-sm\"\n                                              min=\"0\"\n                                              max=\"100\"\n                                              step=\"0.1\"\n                                            />\n                                            <span className=\"text-sm text-gray-500\">%</span>\n                                          </div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                          <div className=\"font-bold text-blue-600\">\n                                            HK${safeFormatNumber(customer.agent_commission || customer.commission_earned || 0)}\n                                          </div>\n                                          <div className=\"text-xs text-gray-500\">Commission</div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  ))}\n                                </div>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Edit Agent Dialog */}\n                  <Dialog open={showEditAgent} onOpenChange={setShowEditAgent}>\n                    <DialogContent>\n                      <DialogHeader>\n                        <DialogTitle>Edit Agent Share</DialogTitle>\n                        <DialogDescription>\n                          Update {editingAgent?.agentName}'s share percentage\n                        </DialogDescription>\n                      </DialogHeader>\n                      <div className=\"space-y-4\">\n                        <div>\n                          <Label htmlFor=\"editSharePercentage\">Share Percentage *</Label>\n                          <Input\n                            id=\"editSharePercentage\"\n                            type=\"number\"\n                            value={editAgentShare}\n                            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEditAgentShare(parseFloat(e.target.value) || 0)}\n                            placeholder=\"Enter percentage (e.g., 25)\"\n                            min=\"0.1\"\n                            max=\"100\"\n                            step=\"0.1\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">Enter a value between 0.1 and 100</p>\n                        </div>\n                        <div className=\"flex justify-end space-x-2\">\n                          <Button \n                            variant=\"outline\" \n                            onClick={() => setShowEditAgent(false)}\n                            disabled={saving}\n                          >\n                            Cancel\n                          </Button>\n                          <Button onClick={handleEditAgentShare} disabled={saving}>\n                            {saving ? 'Updating...' : 'Update Share'}\n                          </Button>\n                        </div>\n                      </div>\n                    </DialogContent>\n                  </Dialog>\n\n                  {/* Delete Agent Confirmation Dialog */}\n                  <AlertDialog open={showDeleteAgent} onOpenChange={setShowDeleteAgent}>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>Remove Agent from Trip</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Are you sure you want to remove <strong>{deletingAgent?.agentName}</strong> from this trip? \n                          This will remove their {deletingAgent?.sharePercentage}% share allocation.\n                          <br /><br />\n                          This action cannot be undone.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel disabled={saving}>Cancel</AlertDialogCancel>\n                        <AlertDialogAction \n                          onClick={handleDeleteAgentFromTrip}\n                          disabled={saving}\n                          className=\"bg-red-600 hover:bg-red-700\"\n                        >\n                          {saving ? 'Removing...' : 'Remove Agent'}\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </TabsContent>\n\n                {/* Staff Tab */}\n                <TabsContent value=\"staff\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Staff ({(selectedTrip as any)?.staff?.length || 0})</h3>\n                    <Dialog open={showAddStaff} onOpenChange={setShowAddStaff}>\n                      <DialogTrigger asChild>\n                        <Button size=\"sm\">\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Add Staff\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Staff to Trip</DialogTitle>\n                          <DialogDescription>\n                            Select from available staff members ({(staff || []).filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => ts.staffId === s.id || ts.staff_id === s.id)).length} available)\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                          {(() => {\n                            console.log('ðŸ” Debug staff filtering:', {\n                              allStaff: staff,\n                              tripStaff: (selectedTrip as any)?.staff,\n                              staffCount: staff?.length || 0,\n                              tripStaffCount: ((selectedTrip as any)?.staff || []).length\n                            });\n                            \n                            const availableStaff = (staff || [])\n                              .filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => {\n                                // Check multiple possible ID fields from the backend response\n                                const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                                const match = tripStaffId === s.id;\n                                console.log('ðŸ” Checking staff match:', { \n                                  staffId: s.id, \n                                  staffName: s.name,\n                                  tripStaffId, \n                                  tripStaff: ts,\n                                  match \n                                });\n                                return match;\n                              }));\n                              \n                            console.log('âœ… Available staff after filtering:', availableStaff);\n                            \n                            return availableStaff.map(staffMember => (\n                              <div key={staffMember.id} className=\"flex items-center justify-between p-3 border rounded\">\n                                <div>\n                                  <div className=\"font-medium\">{staffMember.name}</div>\n                                  <div className=\"text-sm text-gray-500\">{staffMember.email}</div>\n                                  <div className=\"text-xs text-gray-400\">Position: {staffMember.position}</div>\n                                </div>\n                                <Button size=\"sm\" onClick={() => handleAddStaffToTrip(staffMember.id)} disabled={saving}>\n                                  {saving ? 'Adding...' : 'Add'}\n                                </Button>\n                              </div>\n                            ));\n                          })()}\n                          {(() => {\n                            const availableStaff = (staff || [])\n                              .filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => {\n                                const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                                return tripStaffId === s.id;\n                              }));\n                            return availableStaff.length === 0 && (\n                              <p className=\"text-center text-gray-500 py-8\">All staff members are already assigned to this trip</p>\n                            );\n                          })()}\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n\n                  {(!selectedTrip || !(selectedTrip as any).staff || !Array.isArray((selectedTrip as any).staff) || (selectedTrip as any).staff.length === 0) ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Users className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No staff assigned to this trip</p>\n                        <p className=\"text-xs text-gray-400 mt-2\">Add staff members to help manage this trip</p>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {((selectedTrip as any).staff || []).map((staffMember: any) => (\n                        <Card key={staffMember.id || staffMember.staff_id}>\n                          <CardContent className=\"p-4\">\n                            <div className=\"flex items-center justify-between\">\n                              <div className=\"flex items-center space-x-3\">\n                                <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                                  <Users className=\"w-5 h-5 text-blue-600\" />\n                                </div>\n                                <div>\n                                  <div className=\"font-medium\">{staffMember.name || staffMember.staffName}</div>\n                                  <div className=\"text-sm text-gray-500\">{staffMember.email || staffMember.staffEmail}</div>\n                                  <div className=\"text-xs text-gray-400\">\n                                    Position: {staffMember.position || staffMember.staffPosition}\n                                  </div>\n                                  {staffMember.created_at && (\n                                    <div className=\"text-xs text-gray-400\">\n                                      Added: {new Date(staffMember.created_at).toLocaleDateString()}\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                              <div className=\"flex items-center space-x-2\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => handleRemoveStaffFromTrip(staffMember.staff_id || staffMember.id)}\n                                  disabled={saving}\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Expenses Tab */}\n                <TabsContent value=\"expenses\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Expenses ({tripExpenses?.length || 0})</h3>\n                    <Dialog open={showAddExpense} onOpenChange={setShowAddExpense}>\n                      <DialogTrigger asChild>\n                        <Button size=\"sm\">\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Add Expense\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Expense</DialogTitle>\n                          <DialogDescription>\n                            Record a new expense for this trip\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4\">\n                          <div>\n                            <Label htmlFor=\"expenseDescription\">Description</Label>\n                            <Input\n                              id=\"expenseDescription\"\n                              value={newExpense.description}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, description: e.target.value})}\n                              placeholder=\"Expense description\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"expenseAmount\">Amount (HKD)</Label>\n                            <Input\n                              id=\"expenseAmount\"\n                              type=\"number\"\n                              value={newExpense.amount}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, amount: parseFloat(e.target.value) || 0})}\n                              placeholder=\"0.00\"\n                              min=\"0\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"expenseCategory\">Category</Label>\n                            <Select \n                              value={newExpense.category} \n                              onValueChange={(value: any) => setNewExpense({...newExpense, category: value})}\n                            >\n                              <SelectTrigger>\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"accommodation\">Accommodation</SelectItem>\n                                <SelectItem value=\"transportation\">Transportation</SelectItem>\n                                <SelectItem value=\"entertainment\">Entertainment</SelectItem>\n                                <SelectItem value=\"food_beverage\">Food & Beverage</SelectItem>\n                                <SelectItem value=\"other\">Other</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div className=\"flex justify-end space-x-2\">\n                            <Button variant=\"outline\" onClick={() => setShowAddExpense(false)}>\n                              Cancel\n                            </Button>\n                            <Button onClick={handleAddExpense}>\n                              Add Expense\n                            </Button>\n                          </div>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n\n                  {expensesLoading ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading expenses...</p>\n                      </CardContent>\n                    </Card>\n                  ) : (tripExpenses?.length || 0) === 0 ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <DollarSign className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No expenses recorded for this trip</p>\n                        <Button className=\"mt-4\" onClick={() => setShowAddExpense(true)}>\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Add First Expense\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {/* Expenses Summary */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle className=\"text-lg\">Expenses Summary</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"text-2xl font-bold text-red-600\">\n                            HK${safeFormatNumber((tripExpenses || []).reduce((sum, exp) => sum + (exp.amount || 0), 0))}\n                          </div>\n                          <p className=\"text-sm text-gray-500\">{tripExpenses?.length || 0} expense items</p>\n                        </CardContent>\n                      </Card>\n                      \n                      {/* Expenses Table */}\n                      <Card>\n                        <CardContent className=\"p-0\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead>Description</TableHead>\n                                <TableHead>Type</TableHead>\n                                <TableHead>Date</TableHead>\n                                <TableHead className=\"text-right\">Amount</TableHead>\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {(tripExpenses || []).map(expense => (\n                                <TableRow key={expense.id}>\n                                  <TableCell className=\"font-medium\">{expense.description}</TableCell>\n                                  <TableCell className=\"capitalize\">{expense.expense_type?.replace('_', ' ')}</TableCell>\n                                  <TableCell>{expense.expense_date}</TableCell>\n                                  <TableCell className=\"text-right font-medium text-red-600\">\n                                    HK${safeFormatNumber(expense.amount)}\n                                  </TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Trip Sharing Tab */}\n                <TabsContent value=\"sharing\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Financial Overview & Profit Sharing</h3>\n                    {tripSharing && (\n                      <Button \n                        size=\"sm\" \n                        variant=\"outline\"\n                        onClick={() => selectedTrip && loadTripSharing(selectedTrip.id)}\n                        disabled={sharingLoading}\n                      >\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\n                        Refresh\n                      </Button>\n                    )}\n                  </div>\n\n                  {sharingLoading ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading sharing data...</p>\n                      </CardContent>\n                    </Card>\n                  ) : !tripSharing ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Settings className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No sharing data available</p>\n                        <p className=\"text-xs text-gray-400 mt-2\">Sharing data will be calculated automatically when trip has transactions</p>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-6\">\n                      {/* Sharing Summary Cards */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Net Result</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              HK${safeFormatNumber(Math.abs(tripSharing.net_result))}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">After all expenses and commissions</p>\n                          </CardContent>\n                        </Card>\n                        \n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Agent Share</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.total_agent_share >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              HK${safeFormatNumber(Math.abs(tripSharing.total_agent_share))}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">{tripSharing.agent_share_percentage}% of net result</p>\n                          </CardContent>\n                        </Card>\n                        \n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Company Share</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.company_share >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              HK${safeFormatNumber(Math.abs(tripSharing.company_share))}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">{tripSharing.company_share_percentage}% of net result</p>\n                          </CardContent>\n                        </Card>\n                      </div>\n\n                      {/* Detailed Breakdown */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle>Financial Breakdown</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-3\">\n                            <div className=\"flex justify-between items-center p-3 bg-green-50 rounded\">\n                              <span className=\"font-medium\">Total Buy-in</span>\n                              <span className=\"text-green-600 font-bold\">HK${safeFormatNumber(tripSharing.total_buy_in)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-red-50 rounded\">\n                              <span className=\"font-medium\">Total Cash-out</span>\n                              <span className=\"text-red-600 font-bold\">HK${safeFormatNumber(Math.abs(tripSharing.total_buy_out))}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-gray-100 rounded\">\n                              <span className=\"font-medium\">Gross Profit</span>\n                              <span className={`font-bold ${\n                                tripSharing.total_win_loss >= 0 ? 'text-red-600' : 'text-green-600'\n                              }`}>\n                                HK${safeFormatNumber(Math.abs(tripSharing.total_win_loss))}\n                              </span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded\">\n                              <span className=\"font-medium\">Rolling Commission</span>\n                              <span className=\"text-purple-600 font-bold\">HK${safeFormatNumber(Math.abs(tripSharing.total_rolling_commission))}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-red-50 rounded\">\n                              <span className=\"font-medium\">Total Expenses</span>\n                              <span className=\"text-red-600 font-bold\">HK${safeFormatNumber(Math.abs(tripSharing.total_expenses))}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded\">\n                              <span className=\"font-medium\">Net Result</span>\n                              <span className={`font-bold ${\n                                tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'\n                              }`}>\n                                HK${safeFormatNumber(Math.abs(tripSharing.net_result))}\n                              </span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded\">\n                              <span className=\"font-medium\">Net Cash Flow</span>\n                              <span className={`font-bold ${\n                                tripSharing.net_cash_flow >= 0 ? 'text-green-600' : 'text-red-600'\n                              }`}>\n                                HK${safeFormatNumber(Math.abs(tripSharing.net_cash_flow))}\n                              </span>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n\n                      {/* Agent Breakdown */}\n                      {tripSharing.agent_breakdown && Object.keys(tripSharing.agent_breakdown).length > 0 && (\n                        <Card>\n                          <CardHeader>\n                            <CardTitle>Agent Share Breakdown</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className=\"space-y-3\">\n                              {Object.entries(tripSharing?.agent_breakdown || {}).map(([agentId, agentData]: [string, any]) => (\n                                <div key={agentId} className=\"flex justify-between items-center p-3 border rounded\">\n                                  <div>\n                                    <div className=\"font-medium\">{agentData.agent_name}</div>\n                                    <div className=\"text-sm text-gray-500\">Commission Rate: {agentData.commission_rate}%</div>\n                                  </div>\n                                  <div className={`font-bold ${\n                                    agentData.share_amount >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    HK${safeFormatNumber(Math.abs(agentData.share_amount))}\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          </CardContent>\n                        </Card>\n                      )}\n\n                      {/* Sharing Configuration */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle>Sharing Configuration</CardTitle>\n                          <CardDescription>\n                            Adjust the profit sharing percentages between agents and company\n                          </CardDescription>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-4\">\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              <div>\n                                <Label>Agent Share Percentage</Label>\n                                <div className=\"text-2xl font-bold text-blue-600\">\n                                  {tripSharing.agent_share_percentage}%\n                                </div>\n                              </div>\n                              <div>\n                                <Label>Company Share Percentage</Label>\n                                <div className=\"text-2xl font-bold text-purple-600\">\n                                  {tripSharing.company_share_percentage}%\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"pt-4 border-t\">\n                              <p className=\"text-sm text-gray-600 mb-4\">\n                                Current sharing model: {tripSharing.agent_share_percentage}% to agents, {tripSharing.company_share_percentage}% to company\n                              </p>\n                              <Button \n                                variant=\"outline\" \n                                size=\"sm\"\n                                onClick={() => {\n                                  // TODO: Add sharing configuration dialog\n                                  showError('Sharing configuration will be available in the next update');\n                                }}\n                              >\n                                <Settings className=\"w-4 h-4 mr-2\" />\n                                Configure Sharing\n                              </Button>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  )}\n                </TabsContent>\n\n              </Tabs>\n            </div>\n          ) : (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <Eye className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Trip Selected</h3>\n                <p className=\"text-gray-500 mb-4\">\n                  Please select a trip from the trips list to view detailed information.\n                </p>\n                <Button onClick={() => setActiveTab('trips')}>\n                  <MapPin className=\"w-4 h-4 mr-2\" />\n                  Go to Trips List\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Add Transaction Dialog */}\n      <Dialog open={showAddTransaction} onOpenChange={setShowAddTransaction}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Add Transaction</DialogTitle>\n            <DialogDescription>\n              Add a new transaction for {selectedCustomerForTransaction?.customerName || selectedCustomerForTransaction?.customer?.name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"transactionType\">Transaction Type</Label>\n              <Select\n                value={transactionForm.type}\n                onValueChange={(value) => setTransactionForm({...transactionForm, type: value})}\n              >\n                <SelectTrigger id=\"transactionType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"buy-in\">Buy In</SelectItem>\n                  <SelectItem value=\"cash-out\">Cash Out</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"transactionAmount\">Amount (HK$)</Label>\n              <Input\n                id=\"transactionAmount\"\n                type=\"number\"\n                placeholder=\"Enter amount\"\n                value={transactionForm.amount}\n                onChange={(e) => setTransactionForm({...transactionForm, amount: e.target.value})}\n                required\n              />\n              {!transactionForm.amount && (\n                <p className=\"text-xs text-red-500 mt-1\">Amount is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"transactionDescription\">Description (Optional)</Label>\n              <Input\n                id=\"transactionDescription\"\n                type=\"text\"\n                placeholder=\"Enter description\"\n                value={transactionForm.description}\n                onChange={(e) => setTransactionForm({...transactionForm, description: e.target.value})}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowAddTransaction(false)} disabled={saving}>\n              Cancel\n            </Button>\n            <Button \n              onClick={handleAddTransaction} \n              disabled={saving || !transactionForm.amount}\n            >\n              {saving ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Adding...\n                </>\n              ) : (\n                'Add Transaction'\n              )}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Add Rolling Dialog */}\n      <Dialog open={showAddRolling} onOpenChange={setShowAddRolling}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Add Rolling</DialogTitle>\n            <DialogDescription>\n              Add rolling amount for {selectedCustomerForRolling?.customerName || selectedCustomerForRolling?.customer?.name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"staffMember\">Staff Member <span className=\"text-red-500\">*</span></Label>\n              <Select\n                value={rollingForm.staff_id}\n                onValueChange={(value) => setRollingForm({...rollingForm, staff_id: value})}\n              >\n                <SelectTrigger id=\"staffMember\" className={!rollingForm.staff_id ? \"border-red-300\" : \"\"}>\n                  <SelectValue placeholder=\"Select staff member\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {(selectedTrip as any)?.staff?.map((staffMember: any) => (\n                    <SelectItem \n                      key={staffMember.staffId || staffMember.staff_id} \n                      value={staffMember.staffId || staffMember.staff_id}\n                    >\n                      {staffMember.staffName || staffMember.staff?.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {!rollingForm.staff_id && (\n                <p className=\"text-xs text-red-500 mt-1\">Staff member is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"gameType\">Game Type <span className=\"text-red-500\">*</span></Label>\n              <Select\n                value={rollingForm.game_type}\n                onValueChange={(value) => setRollingForm({...rollingForm, game_type: value})}\n              >\n                <SelectTrigger id=\"gameType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"baccarat\">Baccarat</SelectItem>\n                  <SelectItem value=\"blackjack\">Blackjack</SelectItem>\n                  <SelectItem value=\"roulette\">Roulette</SelectItem>\n                  <SelectItem value=\"poker\">Poker</SelectItem>\n                  <SelectItem value=\"slots\">Slots</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"rollingAmount\">Rolling Amount (HK$) <span className=\"text-red-500\">*</span></Label>\n              <Input\n                id=\"rollingAmount\"\n                type=\"number\"\n                placeholder=\"Enter rolling amount\"\n                value={rollingForm.amount}\n                onChange={(e) => setRollingForm({...rollingForm, amount: e.target.value})}\n                className={!rollingForm.amount ? \"border-red-300\" : \"\"}\n                required\n              />\n              {!rollingForm.amount && (\n                <p className=\"text-xs text-red-500 mt-1\">Rolling amount is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"rollingNotes\">Notes (Optional)</Label>\n              <Input\n                id=\"rollingNotes\"\n                type=\"text\"\n                placeholder=\"Enter notes\"\n                value={rollingForm.description}\n                onChange={(e) => setRollingForm({...rollingForm, description: e.target.value})}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowAddRolling(false)} disabled={saving}>\n              Cancel\n            </Button>\n            <Button \n              onClick={handleAddRolling} \n              disabled={saving || !rollingForm.amount || !rollingForm.staff_id}\n            >\n              {saving ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Adding...\n                </>\n              ) : (\n                'Add Rolling'\n              )}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default ProjectManagementComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}