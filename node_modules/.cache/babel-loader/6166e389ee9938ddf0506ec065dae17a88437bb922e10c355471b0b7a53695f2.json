{"ast":null,"code":"// Database wrapper that uses backend API instead of direct Supabase calls\nimport { apiClient } from './apiClient';\nimport { supabase } from '../supabase/supabaseClients';\nexport class DatabaseWrapper {\n  constructor() {\n    // Expose API client for direct access to customer methods\n    this.apiClient = apiClient;\n    this.connectionCache = null;\n    this.CACHE_DURATION = 30000;\n  }\n  // 30 seconds cache\n\n  async testConnection() {\n    try {\n      // Check cache first\n      if (this.connectionCache) {\n        const now = Date.now();\n        if (now - this.connectionCache.timestamp < this.CACHE_DURATION) {\n          console.log('‚ö° Using cached connection result');\n          return this.connectionCache.result;\n        }\n      }\n\n      // Test backend API health with timeout\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n\n      const response = await fetch(`${apiUrl === null || apiUrl === void 0 ? void 0 : apiUrl.replace('/api', '')}/health`, {\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      const data = await response.json();\n      const result = response.ok && data.status === 'OK' ? {\n        success: true,\n        message: 'Connected successfully',\n        details: 'Backend API connection is healthy'\n      } : {\n        success: false,\n        message: 'Connection failed',\n        details: 'Backend API is not responding'\n      };\n\n      // Cache the result\n      this.connectionCache = {\n        result,\n        timestamp: Date.now()\n      };\n      return result;\n    } catch (error) {\n      const result = {\n        success: false,\n        message: 'Connection error',\n        details: error.name === 'AbortError' ? 'Connection timeout' : error.message\n      };\n\n      // Cache failed result for shorter time\n      this.connectionCache = {\n        result,\n        timestamp: Date.now() - (this.CACHE_DURATION - 5000) // Cache for only 5 seconds\n      };\n      return result;\n    }\n  }\n  async isHealthy() {\n    try {\n      const connectionTest = await this.testConnection();\n      return connectionTest.success;\n    } catch (err) {\n      console.error('‚ùå Database health check error:', err);\n      return false;\n    }\n  }\n  async get(table, filters = []) {\n    try {\n      let data = [];\n      switch (table) {\n        case 'users':\n          const usersResponse = await apiClient.getUsers();\n          data = usersResponse.success ? usersResponse.data || [] : [];\n          break;\n        case 'customers':\n          const customersResponse = await apiClient.getCustomers();\n          data = customersResponse.success ? customersResponse.data || [] : [];\n          break;\n        case 'agents':\n          const agentsResponse = await apiClient.getAgents();\n          data = agentsResponse.success ? agentsResponse.data || [] : [];\n          break;\n        case 'trips':\n          const tripsResponse = await apiClient.getTrips();\n          data = tripsResponse.success ? tripsResponse.data || [] : [];\n          break;\n        case 'transactions':\n          const transactionsResponse = await apiClient.getTransactions();\n          data = transactionsResponse.success ? transactionsResponse.data || [] : [];\n          break;\n        case 'staff':\n          const staffResponse = await apiClient.getStaffs();\n          data = staffResponse.success ? staffResponse.data || [] : [];\n          break;\n        case 'rolling_records':\n          const rollingResponse = await apiClient.get('/rolling-records');\n          data = rollingResponse.success ? rollingResponse.data || [] : [];\n          break;\n        default:\n          console.warn(`Table ${table} not supported in API wrapper`);\n          return [];\n      }\n\n      // Apply filters if provided\n      if (filters.length > 0) {\n        data = data.filter(item => {\n          return filters.every(filter => {\n            if (filter.column && filter.value !== undefined) {\n              return item[filter.column] === filter.value;\n            }\n            return true;\n          });\n        });\n      }\n      return data || [];\n    } catch (error) {\n      console.error(`Error fetching from ${table}:`, error);\n      return [];\n    }\n  }\n  async save(table, data) {\n    try {\n      // For now, we'll handle single record creation\n      // In a real implementation, you'd want batch operations\n      const results = [];\n      for (const record of data) {\n        let result;\n        switch (table) {\n          case 'users':\n            result = await apiClient.createUser(record);\n            break;\n          case 'customers':\n            result = await apiClient.createCustomer(record);\n            break;\n          case 'agents':\n            result = await apiClient.createAgent(record);\n            break;\n          case 'trips':\n            result = await apiClient.createTrip(record);\n            break;\n          case 'transactions':\n            result = await apiClient.createTransaction(record);\n            break;\n          default:\n            throw new Error(`Table ${table} not supported for save operation`);\n        }\n        results.push(result);\n      }\n      return {\n        success: true,\n        results\n      };\n    } catch (error) {\n      console.error(`Error saving to ${table}:`, error);\n      throw error;\n    }\n  }\n  async initializeTables() {\n    try {\n      console.log('üîÑ Backend API handles table initialization...');\n      // Backend API handles table initialization\n      return true;\n    } catch (error) {\n      console.error('‚ùå Database initialization failed:', error);\n      throw error;\n    }\n  }\n  async initializeSampleDataIfNeeded() {\n    try {\n      // Create admin user directly via Supabase client (bypasses API token requirements)\n      const {\n        data: existingUser\n      } = await supabase.from('users').select('*').eq('username', 'admin').single();\n      if (!existingUser) {\n        var _authData$user;\n        // First create auth user\n        const {\n          data: authData,\n          error: authError\n        } = await supabase.auth.signUp({\n          email: 'admin@casino.com',\n          password: 'admin123',\n          options: {\n            data: {\n              username: 'admin',\n              role: 'admin'\n            }\n          }\n        });\n        if (authError && !authError.message.includes('already registered')) {\n          throw authError;\n        }\n\n        // Then create user profile\n        const userId = (authData === null || authData === void 0 ? void 0 : (_authData$user = authData.user) === null || _authData$user === void 0 ? void 0 : _authData$user.id) || 'admin-1';\n        const {\n          error: profileError\n        } = await supabase.from('users').insert([{\n          id: userId,\n          username: 'admin',\n          password: 'admin123',\n          role: 'admin'\n        }]);\n        if (profileError && !profileError.message.includes('duplicate')) {\n          console.warn('Profile creation failed:', profileError);\n        }\n        console.log('‚úÖ Admin user initialized');\n      }\n    } catch (error) {\n      console.error('Error initializing sample data:', error);\n    }\n  }\n\n  // Login method for authentication\n  async login(username, password) {\n    try {\n      var _responseData$data;\n      console.log('üîê DatabaseWrapper: Starting login process...');\n      const response = await apiClient.login(username, password);\n      console.log('üîê DatabaseWrapper: Login response:', response);\n      if (!response.success) {\n        throw new Error(response.error || 'Login failed');\n      }\n\n      // ApiClient now handles token storage automatically\n      // Just extract the user data from the response\n      const responseData = response.data;\n      let user = null;\n      let token = null;\n      if (responseData !== null && responseData !== void 0 && (_responseData$data = responseData.data) !== null && _responseData$data !== void 0 && _responseData$data.user) {\n        user = responseData.data.user;\n        token = responseData.data.token;\n      } else if (responseData !== null && responseData !== void 0 && responseData.user) {\n        user = responseData.user;\n        token = responseData.token;\n      } else {\n        // Fallback - create user from response data\n        user = {\n          id: (responseData === null || responseData === void 0 ? void 0 : responseData.id) || 'admin-1',\n          username: (responseData === null || responseData === void 0 ? void 0 : responseData.username) || username,\n          role: (responseData === null || responseData === void 0 ? void 0 : responseData.role) || 'admin'\n        };\n      }\n      console.log('üîë DatabaseWrapper: User extracted:', user);\n      console.log('üîë DatabaseWrapper: Token present:', token ? 'YES' : 'NO');\n\n      // ApiClient already saved to localStorage and set tokens\n      // Just return the user object\n      return user;\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  // Clear all data for fresh start\n  async clearAllDataForFreshStart() {\n    try {\n      console.log('‚ö†Ô∏è Clear data operation should be handled by backend API');\n      // This would need to be implemented as an admin endpoint\n      return true;\n    } catch (error) {\n      console.error('Error during fresh start:', error);\n      throw error;\n    }\n  }\n\n  // Export all data\n  async exportAllData() {\n    try {\n      const exportData = {};\n      const tables = ['users', 'agents', 'customers', 'trips', 'transactions'];\n      for (const table of tables) {\n        const data = await this.get(table, []);\n        exportData[table] = data || [];\n      }\n      return exportData;\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      throw error;\n    }\n  }\n\n  // Import all data\n  async importAllData(data) {\n    try {\n      const tables = ['users', 'agents', 'customers', 'trips', 'transactions'];\n      for (const table of tables) {\n        if (data[table] && Array.isArray(data[table]) && data[table].length > 0) {\n          await this.save(table, data[table]);\n        }\n      }\n      return true;\n    } catch (error) {\n      console.error('Error importing data:', error);\n      return false;\n    }\n  }\n\n  // Get database statistics\n  getStats() {\n    return {\n      mode: 'api',\n      healthy: true,\n      lastHealthCheck: new Date().toISOString(),\n      backupCount: 0\n    };\n  }\n\n  // Get available backups\n  getAvailableBackups() {\n    return [];\n  }\n\n  // Staff management methods\n  async getStaffs() {\n    try {\n      console.log('üìã DatabaseWrapper: Fetching all staff members...');\n      const response = await apiClient.getStaffs();\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff members');\n      }\n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff:', error);\n      throw error;\n    }\n  }\n  async getStaff(id) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching staff member: ${id}`);\n      const response = await apiClient.getStaff(id);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff:', error);\n      throw error;\n    }\n  }\n  async createStaff(staffData) {\n    try {\n      console.log('üë§ DatabaseWrapper: Creating staff member...');\n      const response = await apiClient.createStaff(staffData);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to create staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error creating staff:', error);\n      throw error;\n    }\n  }\n  async updateStaff(id, staffData) {\n    try {\n      console.log(`üë§ DatabaseWrapper: Updating staff member: ${id}`);\n      const response = await apiClient.updateStaff(id, staffData);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to update staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error updating staff:', error);\n      throw error;\n    }\n  }\n  async deleteStaff(id) {\n    try {\n      console.log(`üóëÔ∏è DatabaseWrapper: Deleting staff member: ${id}`);\n      const response = await apiClient.deleteStaff(id);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to delete staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error deleting staff:', error);\n      throw error;\n    }\n  }\n  async staffCheckIn(id, checkInData) {\n    try {\n      console.log(`‚è∞ DatabaseWrapper: Staff check-in: ${id}`);\n      const response = await apiClient.staffCheckIn(id, checkInData);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to check in staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error checking in staff:', error);\n      throw error;\n    }\n  }\n  async staffCheckOut(id, checkOutData) {\n    try {\n      console.log(`‚è∞ DatabaseWrapper: Staff check-out: ${id}`);\n      const response = await apiClient.staffCheckOut(id, checkOutData);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to check out staff member');\n      }\n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error checking out staff:', error);\n      throw error;\n    }\n  }\n  async getStaffShifts(id, params) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching shifts for staff: ${id}`);\n      const response = await apiClient.getStaffShifts(id, params);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff shifts');\n      }\n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff shifts:', error);\n      throw error;\n    }\n  }\n  async getStaffRollingRecords(id, params) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching rolling records for staff: ${id}`);\n      const response = await apiClient.getStaffRollingRecords(id, params);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff rolling records');\n      }\n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff rolling records:', error);\n      throw error;\n    }\n  }\n}\n\n// Export the wrapped database instance\nexport const db = new DatabaseWrapper();","map":{"version":3,"names":["apiClient","supabase","DatabaseWrapper","constructor","connectionCache","CACHE_DURATION","testConnection","now","Date","timestamp","console","log","result","apiUrl","process","env","REACT_APP_API_URL","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","replace","signal","clearTimeout","data","json","ok","status","success","message","details","error","name","isHealthy","connectionTest","err","get","table","filters","usersResponse","getUsers","customersResponse","getCustomers","agentsResponse","getAgents","tripsResponse","getTrips","transactionsResponse","getTransactions","staffResponse","getStaffs","rollingResponse","warn","length","filter","item","every","column","value","undefined","save","results","record","createUser","createCustomer","createAgent","createTrip","createTransaction","Error","push","initializeTables","initializeSampleDataIfNeeded","existingUser","from","select","eq","single","_authData$user","authData","authError","auth","signUp","email","password","options","username","role","includes","userId","user","id","profileError","insert","login","_responseData$data","responseData","token","clearAllDataForFreshStart","exportAllData","exportData","tables","importAllData","Array","isArray","getStats","mode","healthy","lastHealthCheck","toISOString","backupCount","getAvailableBackups","getStaff","createStaff","staffData","updateStaff","deleteStaff","staffCheckIn","checkInData","staffCheckOut","checkOutData","getStaffShifts","params","getStaffRollingRecords","db"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/utils/api/databaseWrapper.ts"],"sourcesContent":["// Database wrapper that uses backend API instead of direct Supabase calls\nimport { apiClient } from './apiClient';\nimport { supabase } from '../supabase/supabaseClients';\n\nexport class DatabaseWrapper {\n  // Expose API client for direct access to customer methods\n  public apiClient = apiClient;\n  private connectionCache: { result: any; timestamp: number } | null = null;\n  private readonly CACHE_DURATION = 30000; // 30 seconds cache\n\n  async testConnection() {\n    try {\n      // Check cache first\n      if (this.connectionCache) {\n        const now = Date.now();\n        if (now - this.connectionCache.timestamp < this.CACHE_DURATION) {\n          console.log('‚ö° Using cached connection result');\n          return this.connectionCache.result;\n        }\n      }\n\n      // Test backend API health with timeout\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n      \n      const response = await fetch(`${apiUrl?.replace('/api', '')}/health`, {\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      \n      const data = await response.json();\n      \n      const result = response.ok && data.status === 'OK' ? {\n        success: true,\n        message: 'Connected successfully',\n        details: 'Backend API connection is healthy'\n      } : {\n        success: false,\n        message: 'Connection failed',\n        details: 'Backend API is not responding'\n      };\n\n      // Cache the result\n      this.connectionCache = {\n        result,\n        timestamp: Date.now()\n      };\n\n      return result;\n    } catch (error: any) {\n      const result = {\n        success: false,\n        message: 'Connection error',\n        details: error.name === 'AbortError' ? 'Connection timeout' : error.message\n      };\n\n      // Cache failed result for shorter time\n      this.connectionCache = {\n        result,\n        timestamp: Date.now() - (this.CACHE_DURATION - 5000) // Cache for only 5 seconds\n      };\n\n      return result;\n    }\n  }\n\n  async isHealthy() {\n    try {\n      const connectionTest = await this.testConnection();\n      return connectionTest.success;\n    } catch (err) {\n      console.error('‚ùå Database health check error:', err);\n      return false;\n    }\n  }\n\n  async get(table: string, filters: Array<{column: string, value: any}> = []) {\n    try {\n      let data = [];\n      \n      switch (table) {\n        case 'users':\n          const usersResponse = await apiClient.getUsers();\n          data = usersResponse.success ? (usersResponse.data as any[]) || [] : [];\n          break;\n        case 'customers':\n          const customersResponse = await apiClient.getCustomers();\n          data = customersResponse.success ? (customersResponse.data as any[]) || [] : [];\n          break;\n        case 'agents':\n          const agentsResponse = await apiClient.getAgents();\n          data = agentsResponse.success ? (agentsResponse.data as any[]) || [] : [];\n          break;\n        case 'trips':\n          const tripsResponse = await apiClient.getTrips();\n          data = tripsResponse.success ? (tripsResponse.data as any[]) || [] : [];\n          break;\n        case 'transactions':\n          const transactionsResponse = await apiClient.getTransactions();\n          data = transactionsResponse.success ? (transactionsResponse.data as any[]) || [] : [];\n          break;\n        case 'staff':\n          const staffResponse = await apiClient.getStaffs();\n          data = staffResponse.success ? (staffResponse.data as any[]) || [] : [];\n          break;\n        case 'rolling_records':\n          const rollingResponse = await apiClient.get('/rolling-records');\n          data = rollingResponse.success ? (rollingResponse.data as any[]) || [] : [];\n          break;\n        default:\n          console.warn(`Table ${table} not supported in API wrapper`);\n          return [];\n      }\n\n      // Apply filters if provided\n      if (filters.length > 0) {\n        data = data.filter((item: any) => {\n          return filters.every(filter => {\n            if (filter.column && filter.value !== undefined) {\n              return item[filter.column] === filter.value;\n            }\n            return true;\n          });\n        });\n      }\n\n      return data || [];\n    } catch (error) {\n      console.error(`Error fetching from ${table}:`, error);\n      return [];\n    }\n  }\n\n  async save(table: string, data: any[]) {\n    try {\n      // For now, we'll handle single record creation\n      // In a real implementation, you'd want batch operations\n      const results = [];\n      \n      for (const record of data) {\n        let result;\n        \n        switch (table) {\n          case 'users':\n            result = await apiClient.createUser(record);\n            break;\n          case 'customers':\n            result = await apiClient.createCustomer(record);\n            break;\n          case 'agents':\n            result = await apiClient.createAgent(record);\n            break;\n          case 'trips':\n            result = await apiClient.createTrip(record);\n            break;\n          case 'transactions':\n            result = await apiClient.createTransaction(record);\n            break;\n          default:\n            throw new Error(`Table ${table} not supported for save operation`);\n        }\n        \n        results.push(result);\n      }\n      \n      return { success: true, results };\n    } catch (error) {\n      console.error(`Error saving to ${table}:`, error);\n      throw error;\n    }\n  }\n\n  async initializeTables() {\n    try {\n      console.log('üîÑ Backend API handles table initialization...');\n      // Backend API handles table initialization\n      return true;\n    } catch (error) {\n      console.error('‚ùå Database initialization failed:', error);\n      throw error;\n    }\n  }\n\n  async initializeSampleDataIfNeeded() {\n    try {\n      // Create admin user directly via Supabase client (bypasses API token requirements)\n      const { data: existingUser } = await supabase\n        .from('users')\n        .select('*')\n        .eq('username', 'admin')\n        .single();\n      \n      if (!existingUser) {\n        // First create auth user\n        const { data: authData, error: authError } = await supabase.auth.signUp({\n          email: 'admin@casino.com',\n          password: 'admin123',\n          options: {\n            data: {\n              username: 'admin',\n              role: 'admin'\n            }\n          }\n        });\n\n        if (authError && !authError.message.includes('already registered')) {\n          throw authError;\n        }\n\n        // Then create user profile\n        const userId = authData?.user?.id || 'admin-1';\n        const { error: profileError } = await supabase\n          .from('users')\n          .insert([{\n            id: userId,\n            username: 'admin',\n            password: 'admin123',\n            role: 'admin'\n          }]);\n\n        if (profileError && !profileError.message.includes('duplicate')) {\n          console.warn('Profile creation failed:', profileError);\n        }\n        \n        console.log('‚úÖ Admin user initialized');\n      }\n    } catch (error) {\n      console.error('Error initializing sample data:', error);\n    }\n  }\n\n  // Login method for authentication\n  async login(username: string, password: string) {\n    try {\n      console.log('üîê DatabaseWrapper: Starting login process...');\n      const response = await apiClient.login(username, password);\n      console.log('üîê DatabaseWrapper: Login response:', response);\n      \n      if (!response.success) {\n        throw new Error((response as any).error || 'Login failed');\n      }\n      \n      // ApiClient now handles token storage automatically\n      // Just extract the user data from the response\n      const responseData = response.data as any;\n      let user = null;\n      let token = null;\n      \n      if (responseData?.data?.user) {\n        user = responseData.data.user;\n        token = responseData.data.token;\n      } else if (responseData?.user) {\n        user = responseData.user;\n        token = responseData.token;\n      } else {\n        // Fallback - create user from response data\n        user = {\n          id: responseData?.id || 'admin-1',\n          username: responseData?.username || username,\n          role: responseData?.role || 'admin'\n        };\n      }\n      \n      console.log('üîë DatabaseWrapper: User extracted:', user);\n      console.log('üîë DatabaseWrapper: Token present:', token ? 'YES' : 'NO');\n      \n      // ApiClient already saved to localStorage and set tokens\n      // Just return the user object\n      return user;\n      \n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  // Clear all data for fresh start\n  async clearAllDataForFreshStart() {\n    try {\n      console.log('‚ö†Ô∏è Clear data operation should be handled by backend API');\n      // This would need to be implemented as an admin endpoint\n      return true;\n    } catch (error) {\n      console.error('Error during fresh start:', error);\n      throw error;\n    }\n  }\n\n  // Export all data\n  async exportAllData() {\n    try {\n      const exportData: any = {};\n      \n      const tables = ['users', 'agents', 'customers', 'trips', 'transactions'];\n      \n      for (const table of tables) {\n        const data = await this.get(table, []);\n        exportData[table] = data || [];\n      }\n      \n      return exportData;\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      throw error;\n    }\n  }\n\n  // Import all data\n  async importAllData(data: any) {\n    try {\n      const tables = ['users', 'agents', 'customers', 'trips', 'transactions'];\n      \n      for (const table of tables) {\n        if (data[table] && Array.isArray(data[table]) && data[table].length > 0) {\n          await this.save(table, data[table]);\n        }\n      }\n      \n      return true;\n    } catch (error) {\n      console.error('Error importing data:', error);\n      return false;\n    }\n  }\n\n  // Get database statistics\n  getStats() {\n    return {\n      mode: 'api',\n      healthy: true,\n      lastHealthCheck: new Date().toISOString(),\n      backupCount: 0\n    };\n  }\n\n  // Get available backups\n  getAvailableBackups() {\n    return [];\n  }\n\n  // Staff management methods\n  async getStaffs() {\n    try {\n      console.log('üìã DatabaseWrapper: Fetching all staff members...');\n      const response = await apiClient.getStaffs();\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff members');\n      }\n      \n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff:', error);\n      throw error;\n    }\n  }\n\n  async getStaff(id: string) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching staff member: ${id}`);\n      const response = await apiClient.getStaff(id);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff:', error);\n      throw error;\n    }\n  }\n\n  async createStaff(staffData: any) {\n    try {\n      console.log('üë§ DatabaseWrapper: Creating staff member...');\n      const response = await apiClient.createStaff(staffData);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to create staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error creating staff:', error);\n      throw error;\n    }\n  }\n\n  async updateStaff(id: string, staffData: any) {\n    try {\n      console.log(`üë§ DatabaseWrapper: Updating staff member: ${id}`);\n      const response = await apiClient.updateStaff(id, staffData);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to update staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error updating staff:', error);\n      throw error;\n    }\n  }\n\n  async deleteStaff(id: string) {\n    try {\n      console.log(`üóëÔ∏è DatabaseWrapper: Deleting staff member: ${id}`);\n      const response = await apiClient.deleteStaff(id);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to delete staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error deleting staff:', error);\n      throw error;\n    }\n  }\n\n  async staffCheckIn(id: string, checkInData: any) {\n    try {\n      console.log(`‚è∞ DatabaseWrapper: Staff check-in: ${id}`);\n      const response = await apiClient.staffCheckIn(id, checkInData);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to check in staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error checking in staff:', error);\n      throw error;\n    }\n  }\n\n  async staffCheckOut(id: string, checkOutData: any) {\n    try {\n      console.log(`‚è∞ DatabaseWrapper: Staff check-out: ${id}`);\n      const response = await apiClient.staffCheckOut(id, checkOutData);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to check out staff member');\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error checking out staff:', error);\n      throw error;\n    }\n  }\n\n  async getStaffShifts(id: string, params?: any) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching shifts for staff: ${id}`);\n      const response = await apiClient.getStaffShifts(id, params);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff shifts');\n      }\n      \n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff shifts:', error);\n      throw error;\n    }\n  }\n\n  async getStaffRollingRecords(id: string, params?: any) {\n    try {\n      console.log(`üìã DatabaseWrapper: Fetching rolling records for staff: ${id}`);\n      const response = await apiClient.getStaffRollingRecords(id, params);\n      \n      if (!response.success) {\n        throw new Error(response.error || 'Failed to fetch staff rolling records');\n      }\n      \n      return response.data || [];\n    } catch (error) {\n      console.error('‚ùå DatabaseWrapper: Error fetching staff rolling records:', error);\n      throw error;\n    }\n  }\n}\n\n// Export the wrapped database instance\nexport const db = new DatabaseWrapper();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}