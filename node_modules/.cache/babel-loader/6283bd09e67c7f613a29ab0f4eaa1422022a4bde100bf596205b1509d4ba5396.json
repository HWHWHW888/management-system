{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/StaffSelfService.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { Badge } from './ui/badge';\nimport { Textarea } from './ui/textarea';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Clock, CheckCircle, XCircle, RefreshCw, LogIn, LogOut, Activity, Calendar, MapPin, Users, Camera, Upload, DollarSign } from 'lucide-react';\nimport { ImageWithFallback } from './figma/ImageWithFallback';\nimport { withErrorHandler } from './withErrorHandler';\nimport { apiClient } from '../utils/api/apiClient';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction StaffSelfServiceComponent({\n  user,\n  showError,\n  clearError\n}) {\n  _s();\n  const [currentStaff, setCurrentStaff] = useState(null);\n  const [shifts, setShifts] = useState([]);\n  const [assignedTrips, setAssignedTrips] = useState([]);\n  const [isCheckInDialogOpen, setIsCheckInDialogOpen] = useState(false);\n  const [isCheckOutDialogOpen, setIsCheckOutDialogOpen] = useState(false);\n  const [checkInPhoto, setCheckInPhoto] = useState(null);\n  const [checkOutPhoto, setCheckOutPhoto] = useState(null);\n  const [checkInNotes, setCheckInNotes] = useState('');\n  const [checkOutNotes, setCheckOutNotes] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [selectedTripForUpload, setSelectedTripForUpload] = useState(null);\n  const [tripCustomers, setTripCustomers] = useState([]);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [uploadType, setUploadType] = useState('transaction');\n  const [uploadPhoto, setUploadPhoto] = useState(null);\n  const [uploadAmount, setUploadAmount] = useState('');\n  const [uploadNotes, setUploadNotes] = useState('');\n  const [isUploadDialogOpen, setIsUploadDialogOpen] = useState(false);\n  const [selectedTripDetails, setSelectedTripDetails] = useState(null);\n  const [customerTransactions, setCustomerTransactions] = useState([]);\n  const [customerRolling, setCustomerRolling] = useState([]);\n\n  // Load staff data and shifts\n  const loadStaffData = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      clearError();\n\n      // Use staff_id from user object (user.id is users table ID, user.staff_id is staff table ID)\n      const staffId = user.staff_id || user.id;\n      console.log('Loading staff data for staff ID:', staffId, 'User ID:', user.id);\n\n      // Get current staff info\n      const staffResponse = await apiClient.get(`/staffs/${staffId}`);\n      if (staffResponse.success) {\n        setCurrentStaff(staffResponse.data);\n      }\n\n      // Get staff shifts history\n      const shiftsResponse = await apiClient.get(`/staffs/${staffId}/shifts`);\n      if (shiftsResponse.success) {\n        setShifts(shiftsResponse.data);\n      }\n\n      // Get assigned trips (staff can only see their assigned trips)\n      const tripsResponse = await apiClient.get('/trips/my-schedule');\n      if (tripsResponse.success) {\n        // Enrich trips with customer data if available\n        const enrichedTrips = await Promise.all((tripsResponse.data || []).map(async trip => {\n          try {\n            // Try to get customer count for each trip\n            const customerResponse = await apiClient.get(`/trips/${trip.id}/customer-stats`);\n            return {\n              ...trip,\n              customers: customerResponse.success ? customerResponse.data : [],\n              activecustomerscount: customerResponse.success ? customerResponse.data.length : 0\n            };\n          } catch (error) {\n            console.warn(`Failed to load customers for trip ${trip.id}:`, error);\n            return {\n              ...trip,\n              customers: [],\n              activecustomerscount: 0\n            };\n          }\n        }));\n        setAssignedTrips(enrichedTrips);\n      } else {\n        setAssignedTrips([]);\n      }\n    } catch (error) {\n      console.error('Error loading staff data:', error);\n      showError('Failed to load staff data');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [user, clearError, showError]);\n  useEffect(() => {\n    loadStaffData();\n  }, [loadStaffData]);\n  const getCurrentShift = () => {\n    return shifts.find(shift => shift.status === 'checked-in');\n  };\n  const isCheckedIn = () => {\n    return getCurrentShift() !== undefined;\n  };\n  const handleCheckIn = async () => {\n    if (!checkInPhoto) return;\n    setIsSaving(true);\n    try {\n      // Convert photo to base64\n      const reader = new FileReader();\n      reader.onload = async e => {\n        try {\n          var _e$target;\n          const photoData = (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result;\n          const staffId = user.staff_id || user.id;\n          const response = await apiClient.post(`/staffs/${staffId}/check-in`, {\n            check_in_photo: photoData,\n            notes: checkInNotes\n          });\n          if (response.success) {\n            setIsCheckInDialogOpen(false);\n            setCheckInPhoto(null);\n            setCheckInNotes('');\n            await loadStaffData(); // Refresh data\n          } else {\n            showError('Check-in failed: ' + response.message);\n          }\n        } catch (error) {\n          console.error('Check-in error:', error);\n          showError('Check-in failed');\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(checkInPhoto);\n    } catch (error) {\n      console.error('Check-in error:', error);\n      showError('Check-in failed');\n      setIsSaving(false);\n    }\n  };\n  const handleCheckOut = async () => {\n    if (!checkOutPhoto) return;\n    setIsSaving(true);\n    try {\n      const reader = new FileReader();\n      reader.onload = async e => {\n        try {\n          var _e$target2;\n          const photoData = (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.result;\n          const staffId = user.staff_id || user.id;\n          const response = await apiClient.post(`/staffs/${staffId}/check-out`, {\n            check_out_photo: photoData,\n            notes: checkOutNotes\n          });\n          if (response.success) {\n            setIsCheckOutDialogOpen(false);\n            setCheckOutPhoto(null);\n            setCheckOutNotes('');\n            await loadStaffData(); // Refresh data\n          } else {\n            showError('Check-out failed: ' + response.message);\n          }\n        } catch (error) {\n          console.error('Check-out error:', error);\n          showError('Check-out failed');\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(checkOutPhoto);\n    } catch (error) {\n      console.error('Check-out error:', error);\n      showError('Check-out failed');\n      setIsSaving(false);\n    }\n  };\n\n  // Load customers for selected trip\n  const loadTripCustomers = async tripId => {\n    try {\n      const response = await apiClient.get(`/trips/${tripId}/customer-stats`);\n      if (response.success) {\n        setTripCustomers(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip customers:', error);\n      showError('Failed to load trip customers');\n    }\n  };\n\n  // Load detailed trip data with customers and their transactions/rolling\n  const loadTripDetails = async trip => {\n    try {\n      setSelectedTripDetails(trip);\n\n      // Load customers first - use direct database access for staff\n      const customersResponse = await apiClient.get(`/trips/${trip.id}/customer-stats`);\n      if (customersResponse.success) {\n        setTripCustomers(customersResponse.data);\n\n        // Load transactions and rolling records using general endpoints with trip_id filter\n        const [transactionsResponse, rollingResponse] = await Promise.all([apiClient.get(`/transactions?trip_id=${trip.id}`), apiClient.get(`/rolling-records?trip_id=${trip.id}`)]);\n        if (transactionsResponse.success) {\n          setCustomerTransactions(transactionsResponse.data || []);\n        }\n        if (rollingResponse.success) {\n          setCustomerRolling(rollingResponse.data || []);\n        }\n      } else {\n        // If API access fails, try to load from trip data directly\n        console.log('API access failed, using trip data:', trip);\n        if (trip.customers) {\n          setTripCustomers(trip.customers);\n        }\n        setCustomerTransactions([]);\n        setCustomerRolling([]);\n      }\n    } catch (error) {\n      console.error('Error loading trip details:', error);\n      showError('Failed to load trip details');\n\n      // Fallback: use any existing trip data\n      if (trip.customers) {\n        setTripCustomers(trip.customers);\n      }\n      setCustomerTransactions([]);\n      setCustomerRolling([]);\n    }\n  };\n\n  // Get transactions for a specific customer\n  const getCustomerTransactions = customerId => {\n    return customerTransactions.filter(t => t.customer_id === customerId || t.customerId === customerId);\n  };\n\n  // Get rolling records for a specific customer\n  const getCustomerRolling = customerId => {\n    return customerRolling.filter(r => r.customer_id === customerId || r.customerId === customerId);\n  };\n\n  // Handle photo upload for transaction/rolling\n  const handlePhotoUpload = async () => {\n    if (!uploadPhoto || !selectedCustomer || !uploadAmount) {\n      showError('Please fill in all required fields');\n      return;\n    }\n    setIsSaving(true);\n    try {\n      const reader = new FileReader();\n      reader.onload = async e => {\n        try {\n          var _e$target3;\n          const photoData = (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : _e$target3.result;\n          const uploadData = {\n            customer_id: selectedCustomer.customer_id || selectedCustomer.id,\n            type: uploadType,\n            amount: parseFloat(uploadAmount),\n            photo: photoData,\n            notes: uploadNotes,\n            staff_id: user.staff_id || user.id\n          };\n          const endpoint = uploadType === 'transaction' ? `/transactions` : `/rolling-records`;\n\n          // Add trip_id to upload data\n          uploadData.trip_id = selectedTripForUpload.id;\n          const response = await apiClient.post(endpoint, uploadData);\n          if (response.success) {\n            setIsUploadDialogOpen(false);\n            setUploadPhoto(null);\n            setUploadAmount('');\n            setUploadNotes('');\n            setSelectedCustomer(null);\n            // Refresh trip customers\n            await loadTripCustomers(selectedTripForUpload.id);\n          } else {\n            showError(`Failed to upload ${uploadType}: ` + response.message);\n          }\n        } catch (error) {\n          console.error(`${uploadType} upload error:`, error);\n          showError(`Failed to upload ${uploadType}`);\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(uploadPhoto);\n    } catch (error) {\n      console.error(`${uploadType} upload error:`, error);\n      showError(`Failed to upload ${uploadType}`);\n      setIsSaving(false);\n    }\n  };\n\n  // Open upload dialog\n  const openUploadDialog = async (trip, type) => {\n    setSelectedTripForUpload(trip);\n    setUploadType(type);\n    await loadTripCustomers(trip.id);\n    setIsUploadDialogOpen(true);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Loading staff information...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this);\n  }\n  const currentShift = getCurrentShift();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold\",\n          children: \"Staff Self-Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Welcome, \", (currentStaff === null || currentStaff === void 0 ? void 0 : currentStaff.name) || user.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4 mt-1\",\n          children: [/*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"outline\",\n            className: \"text-xs\",\n            children: [\"Staff ID: \", user.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"outline\",\n            className: \"text-xs\",\n            children: [assignedTrips.length, \" Assigned Trips\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline\",\n        onClick: loadStaffData,\n        disabled: isLoading,\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), \"Refresh\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Current Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: isCheckedIn() ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                  className: \"bg-green-100 text-green-800 px-3 py-1\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this), \"On Duty\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"Since: \", new Date(currentShift.check_in_time).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: [\"Shift Date: \", currentShift.shift_date, \" | Duration: \", Math.floor((new Date().getTime() - new Date(currentShift.check_in_time).getTime()) / (1000 * 60)), \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"secondary\",\n                className: \"px-3 py-1\",\n                children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), \"Off Duty\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ready to check in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: isCheckedIn() ? /*#__PURE__*/_jsxDEV(Dialog, {\n              open: isCheckOutDialogOpen,\n              onOpenChange: setIsCheckOutDialogOpen,\n              children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                asChild: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"destructive\",\n                  disabled: isSaving,\n                  children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this), \"Check Out\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                    children: \"Check Out\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                    children: \"Upload a photo as proof of check-out and add any end-of-shift notes.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"checkOutPhoto\",\n                      children: \"Check-out Photo (Required)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"checkOutPhoto\",\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: e => {\n                        var _e$target$files;\n                        return setCheckOutPhoto(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                      },\n                      className: \"mt-1\",\n                      required: true,\n                      disabled: isSaving\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"checkOutNotes\",\n                      children: \"End of Shift Notes (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                      id: \"checkOutNotes\",\n                      value: checkOutNotes,\n                      onChange: e => setCheckOutNotes(e.target.value),\n                      placeholder: \"Any end-of-shift notes...\",\n                      rows: 3,\n                      disabled: isSaving\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-end space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      variant: \"outline\",\n                      onClick: () => setIsCheckOutDialogOpen(false),\n                      disabled: isSaving,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleCheckOut,\n                      disabled: !checkOutPhoto || isSaving,\n                      children: isSaving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Activity, {\n                          className: \"w-4 h-4 mr-2 animate-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 456,\n                          columnNumber: 31\n                        }, this), \"Saving...\"]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                          className: \"w-4 h-4 mr-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 461,\n                          columnNumber: 31\n                        }, this), \"Check Out\"]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Dialog, {\n              open: isCheckInDialogOpen,\n              onOpenChange: setIsCheckInDialogOpen,\n              children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                asChild: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: isSaving,\n                  children: [/*#__PURE__*/_jsxDEV(LogIn, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 23\n                  }, this), \"Check In\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                    children: \"Check In\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                    children: \"Upload a photo as proof of check-in and add any notes for the shift.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"checkInPhoto\",\n                      children: \"Check-in Photo (Required)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"checkInPhoto\",\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: e => {\n                        var _e$target$files2;\n                        return setCheckInPhoto(((_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0]) || null);\n                      },\n                      className: \"mt-1\",\n                      required: true,\n                      disabled: isSaving\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"checkInNotes\",\n                      children: \"Notes (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                      id: \"checkInNotes\",\n                      value: checkInNotes,\n                      onChange: e => setCheckInNotes(e.target.value),\n                      placeholder: \"Any notes for this shift...\",\n                      rows: 3,\n                      disabled: isSaving\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-end space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      variant: \"outline\",\n                      onClick: () => setIsCheckInDialogOpen(false),\n                      disabled: isSaving,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 510,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleCheckIn,\n                      disabled: !checkInPhoto || isSaving,\n                      children: isSaving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Activity, {\n                          className: \"w-4 h-4 mr-2 animate-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 516,\n                          columnNumber: 31\n                        }, this), \"Saving...\"]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(LogIn, {\n                          className: \"w-4 h-4 mr-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 521,\n                          columnNumber: 31\n                        }, this), \"Check In\"]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 513,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultValue: \"trips\",\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full grid-cols-2\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"trips\",\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"My Trips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"shifts\",\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"My Shifts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"trips\",\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Assigned Trips\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n              children: \"Trips you are assigned to manage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: assignedTrips.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-12 h-12 mx-auto text-gray-400 mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No trips assigned.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: assignedTrips.map(trip => /*#__PURE__*/_jsxDEV(Card, {\n                className: \"border-l-4 border-l-blue-400\",\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium\",\n                        children: trip.trip_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 570,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      className: trip.status === 'active' ? 'bg-green-100 text-green-800' : trip.status === 'in-progress' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800',\n                      children: trip.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-4 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Destination\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 583,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: trip.destination\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Dates\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 587,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [new Date(trip.start_date).toLocaleDateString(), \" - \", new Date(trip.end_date).toLocaleDateString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 588,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 586,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex space-x-2\",\n                      children: trip.activecustomerscount > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                        variant: \"outline\",\n                        className: \"text-xs\",\n                        children: [trip.activecustomerscount, \" Active Customers\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex space-x-2\",\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        size: \"sm\",\n                        variant: \"outline\",\n                        onClick: () => loadTripDetails(trip),\n                        className: \"text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(Users, {\n                          className: \"w-3 h-3 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 606,\n                          columnNumber: 31\n                        }, this), \"View Customers\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 600,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 23\n                }, this)\n              }, trip.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"shifts\",\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Shift History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n              children: \"Your recent shifts and attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: shifts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-12 h-12 mx-auto text-gray-400 mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No shift history found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: shifts.slice(0, 10).map(shift => /*#__PURE__*/_jsxDEV(Card, {\n                className: \"border-l-4 border-l-blue-400\",\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                        className: \"w-4 h-4 text-gray-400\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: shift.shift_date\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 643,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 641,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      className: shift.status === 'checked-in' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800',\n                      children: shift.status === 'checked-in' ? 'On Duty' : 'Completed'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Check-in Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 652,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: new Date(shift.check_in_time).toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 653,\n                        columnNumber: 29\n                      }, this), shift.check_in_photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                          src: shift.check_in_photo,\n                          alt: \"Check-in proof\",\n                          className: \"w-16 h-16 object-cover rounded border\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 656,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 655,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 27\n                    }, this), shift.check_out_time && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Check-out Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 667,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: new Date(shift.check_out_time).toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 668,\n                        columnNumber: 31\n                      }, this), shift.check_out_photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                          src: shift.check_out_photo,\n                          alt: \"Check-out proof\",\n                          className: \"w-16 h-16 object-cover rounded border\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 671,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 670,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 25\n                  }, this), shift.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 p-2 bg-gray-50 rounded text-xs\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"text-gray-500\",\n                      children: \"Notes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 684,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-700 mt-1\",\n                      children: shift.notes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 683,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 23\n                }, this)\n              }, shift.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: !!selectedTripDetails,\n      onOpenChange: () => setSelectedTripDetails(null),\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"max-w-4xl max-h-[80vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [selectedTripDetails === null || selectedTripDetails === void 0 ? void 0 : selectedTripDetails.trip_name, \" - Customer Details\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: \"View and manage customer transactions and rolling records\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: tripCustomers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-12 h-12 mx-auto text-gray-400 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"No customers found for this trip.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: tripCustomers.map(customer => {\n              const customerId = customer.customer_id || customer.id;\n              const customerName = customer.customer_name || customer.name;\n              const transactions = getCustomerTransactions(customerId);\n              const rolling = getCustomerRolling(customerId);\n              return /*#__PURE__*/_jsxDEV(Card, {\n                className: \"border-l-4 border-l-blue-400\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  className: \"pb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-lg\",\n                        children: customerName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 730,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                        children: [\"Buy-in: \", customer.total_buy_in || 0, \" | Cash-out: \", customer.total_cash_out || 0, \" | Rolling: \", customer.rolling_amount || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 731,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        size: \"sm\",\n                        onClick: () => {\n                          setSelectedCustomer(customer);\n                          setUploadType('transaction');\n                          setIsUploadDialogOpen(true);\n                        },\n                        className: \"text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                          className: \"w-3 h-3 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 745,\n                          columnNumber: 31\n                        }, this), \"Add Transaction\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 736,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        size: \"sm\",\n                        variant: \"outline\",\n                        onClick: () => {\n                          setSelectedCustomer(customer);\n                          setUploadType('rolling');\n                          setIsUploadDialogOpen(true);\n                        },\n                        className: \"text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(Camera, {\n                          className: \"w-3 h-3 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 758,\n                          columnNumber: 31\n                        }, this), \"Add Rolling\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 748,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 735,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: /*#__PURE__*/_jsxDEV(Tabs, {\n                    defaultValue: \"transactions\",\n                    className: \"w-full\",\n                    children: [/*#__PURE__*/_jsxDEV(TabsList, {\n                      className: \"grid w-full grid-cols-2\",\n                      children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n                        value: \"transactions\",\n                        className: \"text-xs\",\n                        children: [\"Transactions (\", transactions.length, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 768,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                        value: \"rolling\",\n                        className: \"text-xs\",\n                        children: [\"Rolling (\", rolling.length, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 771,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 767,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n                      value: \"transactions\",\n                      className: \"mt-4\",\n                      children: transactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center py-4\",\n                        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                          className: \"w-8 h-8 mx-auto text-gray-400 mb-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 779,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"No transactions recorded\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 780,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 778,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: transactions.map((transaction, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between p-3 bg-gray-50 rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center space-x-3\",\n                            children: [/*#__PURE__*/_jsxDEV(Badge, {\n                              variant: transaction.transaction_type === 'buy-in' ? 'default' : 'secondary',\n                              children: transaction.transaction_type\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 787,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"font-medium\",\n                              children: [\"$\", transaction.amount]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 790,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: new Date(transaction.created_at || transaction.timestamp).toLocaleString()\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 791,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 786,\n                            columnNumber: 37\n                          }, this), transaction.photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center space-x-2\",\n                            children: [/*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                              src: transaction.photo,\n                              alt: \"Transaction proof\",\n                              className: \"w-12 h-12 object-cover rounded border\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 797,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs text-gray-500\",\n                              children: \"Photo attached\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 802,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 796,\n                            columnNumber: 39\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 785,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 783,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n                      value: \"rolling\",\n                      className: \"mt-4\",\n                      children: rolling.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center py-4\",\n                        children: [/*#__PURE__*/_jsxDEV(Camera, {\n                          className: \"w-8 h-8 mx-auto text-gray-400 mb-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 814,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"No rolling records\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 815,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 813,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: rolling.map((roll, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between p-3 bg-gray-50 rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center space-x-3\",\n                            children: [/*#__PURE__*/_jsxDEV(Badge, {\n                              variant: \"outline\",\n                              children: \"Rolling\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 822,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"font-medium\",\n                              children: [\"$\", roll.amount]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 823,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: new Date(roll.created_at || roll.timestamp).toLocaleString()\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 824,\n                              columnNumber: 39\n                            }, this), roll.game_type && /*#__PURE__*/_jsxDEV(Badge, {\n                              variant: \"secondary\",\n                              className: \"text-xs\",\n                              children: roll.game_type\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 828,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 821,\n                            columnNumber: 37\n                          }, this), roll.photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center space-x-2\",\n                            children: [/*#__PURE__*/_jsxDEV(ImageWithFallback, {\n                              src: roll.photo,\n                              alt: \"Rolling proof\",\n                              className: \"w-12 h-12 object-cover rounded border\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 835,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs text-gray-500\",\n                              children: \"Photo attached\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 840,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 834,\n                            columnNumber: 39\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 820,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 818,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 811,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 23\n                }, this)]\n              }, customerId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isUploadDialogOpen,\n      onOpenChange: setIsUploadDialogOpen,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"flex items-center space-x-2\",\n            children: [uploadType === 'transaction' ? /*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Camera, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Upload \", uploadType === 'transaction' ? 'Transaction' : 'Rolling', \" Photo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: [\"Upload proof photo for \", selectedTripForUpload === null || selectedTripForUpload === void 0 ? void 0 : selectedTripForUpload.trip_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [selectedCustomer && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-blue-50 rounded border\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-sm font-medium text-blue-800\",\n              children: \"Selected Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: selectedCustomer.customer_name || selectedCustomer.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Current: Buy-in $\", selectedCustomer.total_buy_in || 0, \" | Cash-out $\", selectedCustomer.total_cash_out || 0, \" | Rolling $\", selectedCustomer.rolling_amount || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"uploadAmount\",\n              children: [uploadType === 'transaction' ? 'Transaction Amount' : 'Rolling Amount', \" (Required)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"uploadAmount\",\n              type: \"number\",\n              step: \"0.01\",\n              value: uploadAmount,\n              onChange: e => setUploadAmount(e.target.value),\n              placeholder: \"Enter amount...\",\n              disabled: isSaving,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"uploadPhoto\",\n              children: \"Photo Proof (Required)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"uploadPhoto\",\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => {\n                var _e$target$files3;\n                return setUploadPhoto(((_e$target$files3 = e.target.files) === null || _e$target$files3 === void 0 ? void 0 : _e$target$files3[0]) || null);\n              },\n              className: \"mt-1\",\n              required: true,\n              disabled: isSaving\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"uploadNotes\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              id: \"uploadNotes\",\n              value: uploadNotes,\n              onChange: e => setUploadNotes(e.target.value),\n              placeholder: \"Additional notes...\",\n              rows: 2,\n              disabled: isSaving\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              variant: \"outline\",\n              onClick: () => setIsUploadDialogOpen(false),\n              disabled: isSaving,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handlePhotoUpload,\n              disabled: !uploadPhoto || !selectedCustomer || !uploadAmount || isSaving,\n              children: isSaving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Activity, {\n                  className: \"w-4 h-4 mr-2 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 21\n                }, this), \"Uploading...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 957,\n                  columnNumber: 21\n                }, this), \"Upload \", uploadType === 'transaction' ? 'Transaction' : 'Rolling']\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 861,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 860,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n}\n_s(StaffSelfServiceComponent, \"Se0rx28Ut0Cc++PNguBULMlkFSQ=\");\n_c = StaffSelfServiceComponent;\nexport const StaffSelfService = withErrorHandler(StaffSelfServiceComponent);\n_c2 = StaffSelfService;\nvar _c, _c2;\n$RefreshReg$(_c, \"StaffSelfServiceComponent\");\n$RefreshReg$(_c2, \"StaffSelfService\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Button","Input","Label","Card","CardContent","CardDescription","CardHeader","CardTitle","Dialog","DialogContent","DialogDescription","DialogHeader","DialogTitle","DialogTrigger","Badge","Textarea","Tabs","TabsContent","TabsList","TabsTrigger","Clock","CheckCircle","XCircle","RefreshCw","LogIn","LogOut","Activity","Calendar","MapPin","Users","Camera","Upload","DollarSign","ImageWithFallback","withErrorHandler","apiClient","jsxDEV","_jsxDEV","Fragment","_Fragment","StaffSelfServiceComponent","user","showError","clearError","_s","currentStaff","setCurrentStaff","shifts","setShifts","assignedTrips","setAssignedTrips","isCheckInDialogOpen","setIsCheckInDialogOpen","isCheckOutDialogOpen","setIsCheckOutDialogOpen","checkInPhoto","setCheckInPhoto","checkOutPhoto","setCheckOutPhoto","checkInNotes","setCheckInNotes","checkOutNotes","setCheckOutNotes","isLoading","setIsLoading","isSaving","setIsSaving","selectedTripForUpload","setSelectedTripForUpload","tripCustomers","setTripCustomers","selectedCustomer","setSelectedCustomer","uploadType","setUploadType","uploadPhoto","setUploadPhoto","uploadAmount","setUploadAmount","uploadNotes","setUploadNotes","isUploadDialogOpen","setIsUploadDialogOpen","selectedTripDetails","setSelectedTripDetails","customerTransactions","setCustomerTransactions","customerRolling","setCustomerRolling","loadStaffData","staffId","staff_id","id","console","log","staffResponse","get","success","data","shiftsResponse","tripsResponse","enrichedTrips","Promise","all","map","trip","customerResponse","customers","activecustomerscount","length","error","warn","getCurrentShift","find","shift","status","isCheckedIn","undefined","handleCheckIn","reader","FileReader","onload","e","_e$target","photoData","target","result","response","post","check_in_photo","notes","message","readAsDataURL","handleCheckOut","_e$target2","check_out_photo","loadTripCustomers","tripId","loadTripDetails","customersResponse","transactionsResponse","rollingResponse","getCustomerTransactions","customerId","filter","t","customer_id","getCustomerRolling","r","handlePhotoUpload","_e$target3","uploadData","type","amount","parseFloat","photo","endpoint","trip_id","openUploadDialog","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentShift","name","username","variant","onClick","disabled","Date","check_in_time","toLocaleString","shift_date","Math","floor","getTime","open","onOpenChange","asChild","htmlFor","accept","onChange","_e$target$files","files","required","value","placeholder","rows","_e$target$files2","defaultValue","trip_name","destination","start_date","toLocaleDateString","end_date","size","slice","src","alt","check_out_time","customer","customerName","customer_name","transactions","rolling","total_buy_in","total_cash_out","rolling_amount","transaction","index","transaction_type","created_at","timestamp","roll","game_type","step","_e$target$files3","_c","StaffSelfService","_c2","$RefreshReg$"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/StaffSelfService.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { Badge } from './ui/badge';\nimport { Textarea } from './ui/textarea';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { User, Staff, StaffShift } from '../types';\nimport { Clock, CheckCircle, XCircle, RefreshCw, LogIn, LogOut, Activity, Calendar, MapPin, Users, Camera, Upload, DollarSign } from 'lucide-react';\nimport { ImageWithFallback } from './figma/ImageWithFallback';\nimport { withErrorHandler, WithErrorHandlerProps } from './withErrorHandler';\nimport { apiClient } from '../utils/api/apiClient';\n\ninterface StaffSelfServiceProps extends WithErrorHandlerProps {\n  user: User;\n}\n\nfunction StaffSelfServiceComponent({ user, showError, clearError }: StaffSelfServiceProps) {\n  const [currentStaff, setCurrentStaff] = useState<Staff | null>(null);\n  const [shifts, setShifts] = useState<StaffShift[]>([]);\n  const [assignedTrips, setAssignedTrips] = useState<any[]>([]);\n  const [isCheckInDialogOpen, setIsCheckInDialogOpen] = useState(false);\n  const [isCheckOutDialogOpen, setIsCheckOutDialogOpen] = useState(false);\n  const [checkInPhoto, setCheckInPhoto] = useState<File | null>(null);\n  const [checkOutPhoto, setCheckOutPhoto] = useState<File | null>(null);\n  const [checkInNotes, setCheckInNotes] = useState('');\n  const [checkOutNotes, setCheckOutNotes] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [selectedTripForUpload, setSelectedTripForUpload] = useState<any>(null);\n  const [tripCustomers, setTripCustomers] = useState<any[]>([]);\n  const [selectedCustomer, setSelectedCustomer] = useState<any>(null);\n  const [uploadType, setUploadType] = useState<'transaction' | 'rolling'>('transaction');\n  const [uploadPhoto, setUploadPhoto] = useState<File | null>(null);\n  const [uploadAmount, setUploadAmount] = useState('');\n  const [uploadNotes, setUploadNotes] = useState('');\n  const [isUploadDialogOpen, setIsUploadDialogOpen] = useState(false);\n  const [selectedTripDetails, setSelectedTripDetails] = useState<any>(null);\n  const [customerTransactions, setCustomerTransactions] = useState<any[]>([]);\n  const [customerRolling, setCustomerRolling] = useState<any[]>([]);\n\n  // Load staff data and shifts\n  const loadStaffData = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      clearError();\n\n      // Use staff_id from user object (user.id is users table ID, user.staff_id is staff table ID)\n      const staffId = (user as any).staff_id || user.id;\n      console.log('Loading staff data for staff ID:', staffId, 'User ID:', user.id);\n\n      // Get current staff info\n      const staffResponse = await apiClient.get(`/staffs/${staffId}`);\n      if (staffResponse.success) {\n        setCurrentStaff(staffResponse.data);\n      }\n\n      // Get staff shifts history\n      const shiftsResponse = await apiClient.get(`/staffs/${staffId}/shifts`);\n      if (shiftsResponse.success) {\n        setShifts(shiftsResponse.data);\n      }\n\n      // Get assigned trips (staff can only see their assigned trips)\n      const tripsResponse = await apiClient.get('/trips/my-schedule');\n      if (tripsResponse.success) {\n        // Enrich trips with customer data if available\n        const enrichedTrips = await Promise.all(\n          (tripsResponse.data || []).map(async (trip) => {\n            try {\n              // Try to get customer count for each trip\n              const customerResponse = await apiClient.get(`/trips/${trip.id}/customer-stats`);\n              return {\n                ...trip,\n                customers: customerResponse.success ? customerResponse.data : [],\n                activecustomerscount: customerResponse.success ? customerResponse.data.length : 0\n              };\n            } catch (error) {\n              console.warn(`Failed to load customers for trip ${trip.id}:`, error);\n              return {\n                ...trip,\n                customers: [],\n                activecustomerscount: 0\n              };\n            }\n          })\n        );\n        setAssignedTrips(enrichedTrips);\n      } else {\n        setAssignedTrips([]);\n      }\n\n    } catch (error) {\n      console.error('Error loading staff data:', error);\n      showError('Failed to load staff data');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [user, clearError, showError]);\n\n  useEffect(() => {\n    loadStaffData();\n  }, [loadStaffData]);\n\n  const getCurrentShift = () => {\n    return shifts.find(shift => shift.status === 'checked-in');\n  };\n\n  const isCheckedIn = () => {\n    return getCurrentShift() !== undefined;\n  };\n\n  const handleCheckIn = async () => {\n    if (!checkInPhoto) return;\n\n    setIsSaving(true);\n    try {\n      // Convert photo to base64\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        try {\n          const photoData = e.target?.result as string;\n          \n          const staffId = (user as any).staff_id || user.id;\n          const response = await apiClient.post(`/staffs/${staffId}/check-in`, {\n            check_in_photo: photoData,\n            notes: checkInNotes\n          });\n\n          if (response.success) {\n            setIsCheckInDialogOpen(false);\n            setCheckInPhoto(null);\n            setCheckInNotes('');\n            await loadStaffData(); // Refresh data\n          } else {\n            showError('Check-in failed: ' + response.message);\n          }\n        } catch (error) {\n          console.error('Check-in error:', error);\n          showError('Check-in failed');\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(checkInPhoto);\n    } catch (error) {\n      console.error('Check-in error:', error);\n      showError('Check-in failed');\n      setIsSaving(false);\n    }\n  };\n\n  const handleCheckOut = async () => {\n    if (!checkOutPhoto) return;\n\n    setIsSaving(true);\n    try {\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        try {\n          const photoData = e.target?.result as string;\n          \n          const staffId = (user as any).staff_id || user.id;\n          const response = await apiClient.post(`/staffs/${staffId}/check-out`, {\n            check_out_photo: photoData,\n            notes: checkOutNotes\n          });\n\n          if (response.success) {\n            setIsCheckOutDialogOpen(false);\n            setCheckOutPhoto(null);\n            setCheckOutNotes('');\n            await loadStaffData(); // Refresh data\n          } else {\n            showError('Check-out failed: ' + response.message);\n          }\n        } catch (error) {\n          console.error('Check-out error:', error);\n          showError('Check-out failed');\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(checkOutPhoto);\n    } catch (error) {\n      console.error('Check-out error:', error);\n      showError('Check-out failed');\n      setIsSaving(false);\n    }\n  };\n\n  // Load customers for selected trip\n  const loadTripCustomers = async (tripId: string) => {\n    try {\n      const response = await apiClient.get(`/trips/${tripId}/customer-stats`);\n      if (response.success) {\n        setTripCustomers(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip customers:', error);\n      showError('Failed to load trip customers');\n    }\n  };\n\n  // Load detailed trip data with customers and their transactions/rolling\n  const loadTripDetails = async (trip: any) => {\n    try {\n      setSelectedTripDetails(trip);\n      \n      // Load customers first - use direct database access for staff\n      const customersResponse = await apiClient.get(`/trips/${trip.id}/customer-stats`);\n      \n      if (customersResponse.success) {\n        setTripCustomers(customersResponse.data);\n        \n        // Load transactions and rolling records using general endpoints with trip_id filter\n        const [transactionsResponse, rollingResponse] = await Promise.all([\n          apiClient.get(`/transactions?trip_id=${trip.id}`),\n          apiClient.get(`/rolling-records?trip_id=${trip.id}`)\n        ]);\n        \n        if (transactionsResponse.success) {\n          setCustomerTransactions(transactionsResponse.data || []);\n        }\n        \n        if (rollingResponse.success) {\n          setCustomerRolling(rollingResponse.data || []);\n        }\n      } else {\n        // If API access fails, try to load from trip data directly\n        console.log('API access failed, using trip data:', trip);\n        if (trip.customers) {\n          setTripCustomers(trip.customers);\n        }\n        setCustomerTransactions([]);\n        setCustomerRolling([]);\n      }\n    } catch (error) {\n      console.error('Error loading trip details:', error);\n      showError('Failed to load trip details');\n      \n      // Fallback: use any existing trip data\n      if (trip.customers) {\n        setTripCustomers(trip.customers);\n      }\n      setCustomerTransactions([]);\n      setCustomerRolling([]);\n    }\n  };\n\n  // Get transactions for a specific customer\n  const getCustomerTransactions = (customerId: string) => {\n    return customerTransactions.filter(t => \n      (t.customer_id === customerId || t.customerId === customerId)\n    );\n  };\n\n  // Get rolling records for a specific customer\n  const getCustomerRolling = (customerId: string) => {\n    return customerRolling.filter(r => \n      (r.customer_id === customerId || r.customerId === customerId)\n    );\n  };\n\n  // Handle photo upload for transaction/rolling\n  const handlePhotoUpload = async () => {\n    if (!uploadPhoto || !selectedCustomer || !uploadAmount) {\n      showError('Please fill in all required fields');\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        try {\n          const photoData = e.target?.result as string;\n          \n          const uploadData = {\n            customer_id: selectedCustomer.customer_id || selectedCustomer.id,\n            type: uploadType,\n            amount: parseFloat(uploadAmount),\n            photo: photoData,\n            notes: uploadNotes,\n            staff_id: (user as any).staff_id || user.id\n          };\n\n          const endpoint = uploadType === 'transaction' \n            ? `/transactions`\n            : `/rolling-records`;\n          \n          // Add trip_id to upload data\n          uploadData.trip_id = selectedTripForUpload.id;\n\n          const response = await apiClient.post(endpoint, uploadData);\n\n          if (response.success) {\n            setIsUploadDialogOpen(false);\n            setUploadPhoto(null);\n            setUploadAmount('');\n            setUploadNotes('');\n            setSelectedCustomer(null);\n            // Refresh trip customers\n            await loadTripCustomers(selectedTripForUpload.id);\n          } else {\n            showError(`Failed to upload ${uploadType}: ` + response.message);\n          }\n        } catch (error) {\n          console.error(`${uploadType} upload error:`, error);\n          showError(`Failed to upload ${uploadType}`);\n        } finally {\n          setIsSaving(false);\n        }\n      };\n      reader.readAsDataURL(uploadPhoto);\n    } catch (error) {\n      console.error(`${uploadType} upload error:`, error);\n      showError(`Failed to upload ${uploadType}`);\n      setIsSaving(false);\n    }\n  };\n\n  // Open upload dialog\n  const openUploadDialog = async (trip: any, type: 'transaction' | 'rolling') => {\n    setSelectedTripForUpload(trip);\n    setUploadType(type);\n    await loadTripCustomers(trip.id);\n    setIsUploadDialogOpen(true);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-sm text-gray-600\">Loading staff information...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const currentShift = getCurrentShift();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Staff Self-Service</h2>\n          <p className=\"text-gray-600\">\n            Welcome, {currentStaff?.name || user.username}\n          </p>\n          <div className=\"flex items-center space-x-4 mt-1\">\n            <Badge variant=\"outline\" className=\"text-xs\">\n              Staff ID: {user.id}\n            </Badge>\n            <Badge variant=\"outline\" className=\"text-xs\">\n              {assignedTrips.length} Assigned Trips\n            </Badge>\n          </div>\n        </div>\n        <Button variant=\"outline\" onClick={loadStaffData} disabled={isLoading}>\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Current Status Card */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center space-x-2\">\n            <Clock className=\"w-5 h-5\" />\n            <span>Current Status</span>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              {isCheckedIn() ? (\n                <div className=\"flex flex-col space-y-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Badge className=\"bg-green-100 text-green-800 px-3 py-1\">\n                      <CheckCircle className=\"w-4 h-4 mr-1\" />\n                      On Duty\n                    </Badge>\n                    <span className=\"text-sm text-gray-600\">\n                      Since: {new Date((currentShift as any)!.check_in_time).toLocaleString()}\n                    </span>\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    Shift Date: {(currentShift as any)!.shift_date} | \n                    Duration: {Math.floor((new Date().getTime() - new Date((currentShift as any)!.check_in_time).getTime()) / (1000 * 60))} minutes\n                  </div>\n                </div>\n              ) : (\n                <div className=\"flex items-center space-x-2\">\n                  <Badge variant=\"secondary\" className=\"px-3 py-1\">\n                    <XCircle className=\"w-4 h-4 mr-1\" />\n                    Off Duty\n                  </Badge>\n                  <span className=\"text-sm text-gray-600\">Ready to check in</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex space-x-2\">\n              {isCheckedIn() ? (\n                <Dialog open={isCheckOutDialogOpen} onOpenChange={setIsCheckOutDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button variant=\"destructive\" disabled={isSaving}>\n                      <LogOut className=\"w-4 h-4 mr-2\" />\n                      Check Out\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent>\n                    <DialogHeader>\n                      <DialogTitle>Check Out</DialogTitle>\n                      <DialogDescription>\n                        Upload a photo as proof of check-out and add any end-of-shift notes.\n                      </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <Label htmlFor=\"checkOutPhoto\">Check-out Photo (Required)</Label>\n                        <Input\n                          id=\"checkOutPhoto\"\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={(e) => setCheckOutPhoto(e.target.files?.[0] || null)}\n                          className=\"mt-1\"\n                          required\n                          disabled={isSaving}\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"checkOutNotes\">End of Shift Notes (Optional)</Label>\n                        <Textarea\n                          id=\"checkOutNotes\"\n                          value={checkOutNotes}\n                          onChange={(e) => setCheckOutNotes(e.target.value)}\n                          placeholder=\"Any end-of-shift notes...\"\n                          rows={3}\n                          disabled={isSaving}\n                        />\n                      </div>\n                      <div className=\"flex justify-end space-x-2\">\n                        <Button type=\"button\" variant=\"outline\" onClick={() => setIsCheckOutDialogOpen(false)} disabled={isSaving}>\n                          Cancel\n                        </Button>\n                        <Button onClick={handleCheckOut} disabled={!checkOutPhoto || isSaving}>\n                          {isSaving ? (\n                            <>\n                              <Activity className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Saving...\n                            </>\n                          ) : (\n                            <>\n                              <LogOut className=\"w-4 h-4 mr-2\" />\n                              Check Out\n                            </>\n                          )}\n                        </Button>\n                      </div>\n                    </div>\n                  </DialogContent>\n                </Dialog>\n              ) : (\n                <Dialog open={isCheckInDialogOpen} onOpenChange={setIsCheckInDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button disabled={isSaving}>\n                      <LogIn className=\"w-4 h-4 mr-2\" />\n                      Check In\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent>\n                    <DialogHeader>\n                      <DialogTitle>Check In</DialogTitle>\n                      <DialogDescription>\n                        Upload a photo as proof of check-in and add any notes for the shift.\n                      </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <Label htmlFor=\"checkInPhoto\">Check-in Photo (Required)</Label>\n                        <Input\n                          id=\"checkInPhoto\"\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={(e) => setCheckInPhoto(e.target.files?.[0] || null)}\n                          className=\"mt-1\"\n                          required\n                          disabled={isSaving}\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"checkInNotes\">Notes (Optional)</Label>\n                        <Textarea\n                          id=\"checkInNotes\"\n                          value={checkInNotes}\n                          onChange={(e) => setCheckInNotes(e.target.value)}\n                          placeholder=\"Any notes for this shift...\"\n                          rows={3}\n                          disabled={isSaving}\n                        />\n                      </div>\n                      <div className=\"flex justify-end space-x-2\">\n                        <Button type=\"button\" variant=\"outline\" onClick={() => setIsCheckInDialogOpen(false)} disabled={isSaving}>\n                          Cancel\n                        </Button>\n                        <Button onClick={handleCheckIn} disabled={!checkInPhoto || isSaving}>\n                          {isSaving ? (\n                            <>\n                              <Activity className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Saving...\n                            </>\n                          ) : (\n                            <>\n                              <LogIn className=\"w-4 h-4 mr-2\" />\n                              Check In\n                            </>\n                          )}\n                        </Button>\n                      </div>\n                    </div>\n                  </DialogContent>\n                </Dialog>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tabbed Content */}\n      <Tabs defaultValue=\"trips\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"trips\" className=\"flex items-center space-x-2\">\n            <MapPin className=\"w-4 h-4\" />\n            <span>My Trips</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"shifts\" className=\"flex items-center space-x-2\">\n            <Calendar className=\"w-4 h-4\" />\n            <span>My Shifts</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"trips\" className=\"mt-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <MapPin className=\"w-5 h-5\" />\n                <span>Assigned Trips</span>\n              </CardTitle>\n              <CardDescription>Trips you are assigned to manage</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {assignedTrips.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Users className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" />\n                  <p className=\"text-gray-500\">No trips assigned.</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {assignedTrips.map((trip) => (\n                    <Card key={trip.id} className=\"border-l-4 border-l-blue-400\">\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <div className=\"flex items-center space-x-2\">\n                            <h4 className=\"font-medium\">{trip.trip_name}</h4>\n                          </div>\n                          <Badge className={\n                            trip.status === 'active' ? 'bg-green-100 text-green-800' :\n                            trip.status === 'in-progress' ? 'bg-blue-100 text-blue-800' :\n                            'bg-gray-100 text-gray-800'\n                          }>\n                            {trip.status}\n                          </Badge>\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                          <div>\n                            <Label className=\"text-xs text-gray-500\">Destination</Label>\n                            <p>{trip.destination}</p>\n                          </div>\n                          <div>\n                            <Label className=\"text-xs text-gray-500\">Dates</Label>\n                            <p>{new Date(trip.start_date).toLocaleDateString()} - {new Date(trip.end_date).toLocaleDateString()}</p>\n                          </div>\n                        </div>\n                        <div className=\"mt-3 flex items-center justify-between\">\n                          <div className=\"flex space-x-2\">\n                            {trip.activecustomerscount > 0 && (\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                {trip.activecustomerscount} Active Customers\n                              </Badge>\n                            )}\n                          </div>\n                          <div className=\"flex space-x-2\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => loadTripDetails(trip)}\n                              className=\"text-xs\"\n                            >\n                              <Users className=\"w-3 h-3 mr-1\" />\n                              View Customers\n                            </Button>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"shifts\" className=\"mt-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Calendar className=\"w-5 h-5\" />\n                <span>Shift History</span>\n              </CardTitle>\n              <CardDescription>Your recent shifts and attendance</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {shifts.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Clock className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" />\n                  <p className=\"text-gray-500\">No shift history found.</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {shifts.slice(0, 10).map((shift) => (\n                    <Card key={shift.id} className=\"border-l-4 border-l-blue-400\">\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <div className=\"flex items-center space-x-2\">\n                            <Calendar className=\"w-4 h-4 text-gray-400\" />\n                            <span className=\"font-medium\">{(shift as any).shift_date}</span>\n                          </div>\n                          <Badge className={shift.status === 'checked-in' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}>\n                            {shift.status === 'checked-in' ? 'On Duty' : 'Completed'}\n                          </Badge>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                          <div>\n                            <Label className=\"text-xs text-gray-500\">Check-in Time</Label>\n                            <p>{new Date((shift as any).check_in_time).toLocaleString()}</p>\n                            {(shift as any).check_in_photo && (\n                              <div className=\"mt-2\">\n                                <ImageWithFallback\n                                  src={(shift as any).check_in_photo}\n                                  alt=\"Check-in proof\"\n                                  className=\"w-16 h-16 object-cover rounded border\"\n                                />\n                              </div>\n                            )}\n                          </div>\n                          \n                          {(shift as any).check_out_time && (\n                            <div>\n                              <Label className=\"text-xs text-gray-500\">Check-out Time</Label>\n                              <p>{new Date((shift as any).check_out_time).toLocaleString()}</p>\n                              {(shift as any).check_out_photo && (\n                                <div className=\"mt-2\">\n                                  <ImageWithFallback\n                                    src={(shift as any).check_out_photo}\n                                    alt=\"Check-out proof\"\n                                    className=\"w-16 h-16 object-cover rounded border\"\n                                  />\n                                </div>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                        \n                        {shift.notes && (\n                          <div className=\"mt-3 p-2 bg-gray-50 rounded text-xs\">\n                            <Label className=\"text-gray-500\">Notes</Label>\n                            <p className=\"text-gray-700 mt-1\">{shift.notes}</p>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Trip Details Dialog */}\n      <Dialog open={!!selectedTripDetails} onOpenChange={() => setSelectedTripDetails(null)}>\n        <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center space-x-2\">\n              <MapPin className=\"w-5 h-5\" />\n              <span>{selectedTripDetails?.trip_name} - Customer Details</span>\n            </DialogTitle>\n            <DialogDescription>\n              View and manage customer transactions and rolling records\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {tripCustomers.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Users className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" />\n                <p className=\"text-gray-500\">No customers found for this trip.</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {tripCustomers.map((customer) => {\n                  const customerId = customer.customer_id || customer.id;\n                  const customerName = customer.customer_name || customer.name;\n                  const transactions = getCustomerTransactions(customerId);\n                  const rolling = getCustomerRolling(customerId);\n                  \n                  return (\n                    <Card key={customerId} className=\"border-l-4 border-l-blue-400\">\n                      <CardHeader className=\"pb-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <CardTitle className=\"text-lg\">{customerName}</CardTitle>\n                            <CardDescription>\n                              Buy-in: {customer.total_buy_in || 0} | Cash-out: {customer.total_cash_out || 0} | Rolling: {customer.rolling_amount || 0}\n                            </CardDescription>\n                          </div>\n                          <div className=\"flex space-x-2\">\n                            <Button\n                              size=\"sm\"\n                              onClick={() => {\n                                setSelectedCustomer(customer);\n                                setUploadType('transaction');\n                                setIsUploadDialogOpen(true);\n                              }}\n                              className=\"text-xs\"\n                            >\n                              <DollarSign className=\"w-3 h-3 mr-1\" />\n                              Add Transaction\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => {\n                                setSelectedCustomer(customer);\n                                setUploadType('rolling');\n                                setIsUploadDialogOpen(true);\n                              }}\n                              className=\"text-xs\"\n                            >\n                              <Camera className=\"w-3 h-3 mr-1\" />\n                              Add Rolling\n                            </Button>\n                          </div>\n                        </div>\n                      </CardHeader>\n                      \n                      <CardContent>\n                        <Tabs defaultValue=\"transactions\" className=\"w-full\">\n                          <TabsList className=\"grid w-full grid-cols-2\">\n                            <TabsTrigger value=\"transactions\" className=\"text-xs\">\n                              Transactions ({transactions.length})\n                            </TabsTrigger>\n                            <TabsTrigger value=\"rolling\" className=\"text-xs\">\n                              Rolling ({rolling.length})\n                            </TabsTrigger>\n                          </TabsList>\n                          \n                          <TabsContent value=\"transactions\" className=\"mt-4\">\n                            {transactions.length === 0 ? (\n                              <div className=\"text-center py-4\">\n                                <DollarSign className=\"w-8 h-8 mx-auto text-gray-400 mb-2\" />\n                                <p className=\"text-sm text-gray-500\">No transactions recorded</p>\n                              </div>\n                            ) : (\n                              <div className=\"space-y-2\">\n                                {transactions.map((transaction, index) => (\n                                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\n                                    <div className=\"flex items-center space-x-3\">\n                                      <Badge variant={transaction.transaction_type === 'buy-in' ? 'default' : 'secondary'}>\n                                        {transaction.transaction_type}\n                                      </Badge>\n                                      <span className=\"font-medium\">${transaction.amount}</span>\n                                      <span className=\"text-sm text-gray-500\">\n                                        {new Date(transaction.created_at || transaction.timestamp).toLocaleString()}\n                                      </span>\n                                    </div>\n                                    {transaction.photo && (\n                                      <div className=\"flex items-center space-x-2\">\n                                        <ImageWithFallback\n                                          src={transaction.photo}\n                                          alt=\"Transaction proof\"\n                                          className=\"w-12 h-12 object-cover rounded border\"\n                                        />\n                                        <span className=\"text-xs text-gray-500\">Photo attached</span>\n                                      </div>\n                                    )}\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n                          </TabsContent>\n                          \n                          <TabsContent value=\"rolling\" className=\"mt-4\">\n                            {rolling.length === 0 ? (\n                              <div className=\"text-center py-4\">\n                                <Camera className=\"w-8 h-8 mx-auto text-gray-400 mb-2\" />\n                                <p className=\"text-sm text-gray-500\">No rolling records</p>\n                              </div>\n                            ) : (\n                              <div className=\"space-y-2\">\n                                {rolling.map((roll, index) => (\n                                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\n                                    <div className=\"flex items-center space-x-3\">\n                                      <Badge variant=\"outline\">Rolling</Badge>\n                                      <span className=\"font-medium\">${roll.amount}</span>\n                                      <span className=\"text-sm text-gray-500\">\n                                        {new Date(roll.created_at || roll.timestamp).toLocaleString()}\n                                      </span>\n                                      {roll.game_type && (\n                                        <Badge variant=\"secondary\" className=\"text-xs\">\n                                          {roll.game_type}\n                                        </Badge>\n                                      )}\n                                    </div>\n                                    {roll.photo && (\n                                      <div className=\"flex items-center space-x-2\">\n                                        <ImageWithFallback\n                                          src={roll.photo}\n                                          alt=\"Rolling proof\"\n                                          className=\"w-12 h-12 object-cover rounded border\"\n                                        />\n                                        <span className=\"text-xs text-gray-500\">Photo attached</span>\n                                      </div>\n                                    )}\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n                          </TabsContent>\n                        </Tabs>\n                      </CardContent>\n                    </Card>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Upload Dialog */}\n      <Dialog open={isUploadDialogOpen} onOpenChange={setIsUploadDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center space-x-2\">\n              {uploadType === 'transaction' ? (\n                <DollarSign className=\"w-5 h-5\" />\n              ) : (\n                <Camera className=\"w-5 h-5\" />\n              )}\n              <span>Upload {uploadType === 'transaction' ? 'Transaction' : 'Rolling'} Photo</span>\n            </DialogTitle>\n            <DialogDescription>\n              Upload proof photo for {selectedTripForUpload?.trip_name}\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {/* Selected Customer Info */}\n            {selectedCustomer && (\n              <div className=\"p-3 bg-blue-50 rounded border\">\n                <Label className=\"text-sm font-medium text-blue-800\">Selected Customer</Label>\n                <div className=\"mt-1\">\n                  <p className=\"font-medium\">{selectedCustomer.customer_name || selectedCustomer.name}</p>\n                  <p className=\"text-sm text-gray-600\">\n                    Current: Buy-in ${selectedCustomer.total_buy_in || 0} | \n                    Cash-out ${selectedCustomer.total_cash_out || 0} | \n                    Rolling ${selectedCustomer.rolling_amount || 0}\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* Amount Input */}\n            <div>\n              <Label htmlFor=\"uploadAmount\">\n                {uploadType === 'transaction' ? 'Transaction Amount' : 'Rolling Amount'} (Required)\n              </Label>\n              <Input\n                id=\"uploadAmount\"\n                type=\"number\"\n                step=\"0.01\"\n                value={uploadAmount}\n                onChange={(e) => setUploadAmount(e.target.value)}\n                placeholder=\"Enter amount...\"\n                disabled={isSaving}\n                required\n              />\n            </div>\n\n            {/* Photo Upload */}\n            <div>\n              <Label htmlFor=\"uploadPhoto\">Photo Proof (Required)</Label>\n              <Input\n                id=\"uploadPhoto\"\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={(e) => setUploadPhoto(e.target.files?.[0] || null)}\n                className=\"mt-1\"\n                required\n                disabled={isSaving}\n              />\n            </div>\n\n            {/* Notes */}\n            <div>\n              <Label htmlFor=\"uploadNotes\">Notes (Optional)</Label>\n              <Textarea\n                id=\"uploadNotes\"\n                value={uploadNotes}\n                onChange={(e) => setUploadNotes(e.target.value)}\n                placeholder=\"Additional notes...\"\n                rows={2}\n                disabled={isSaving}\n              />\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-2\">\n              <Button \n                type=\"button\" \n                variant=\"outline\" \n                onClick={() => setIsUploadDialogOpen(false)} \n                disabled={isSaving}\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={handlePhotoUpload} \n                disabled={!uploadPhoto || !selectedCustomer || !uploadAmount || isSaving}\n              >\n                {isSaving ? (\n                  <>\n                    <Activity className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Uploading...\n                  </>\n                ) : (\n                  <>\n                    <Upload className=\"w-4 h-4 mr-2\" />\n                    Upload {uploadType === 'transaction' ? 'Transaction' : 'Rolling'}\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport const StaffSelfService = withErrorHandler(StaffSelfServiceComponent);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}