{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/Reports.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Line, ComposedChart, AreaChart, Area } from 'recharts';\nimport { TrendingDown, Users, DollarSign, Activity, RefreshCw, Download, BarChart3, Zap, AlertTriangle, Percent, Trophy, ArrowUpCircle, ArrowUpDown } from 'lucide-react';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Real-time refresh interval (30 seconds)\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\nexport function Reports({\n  user\n}) {\n  _s();\n  // Data states with real-time updates\n  const [agents, setAgents] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [trips, setTrips] = useState([]);\n  const [rollingRecords, setRollingRecords] = useState([]);\n  const [buyInOutRecords, setBuyInOutRecords] = useState([]);\n\n  // Filter states\n  const [dateRange, setDateRange] = useState('30'); // days\n  const [selectedAgent, setSelectedAgent] = useState('all');\n  const [reportType, setReportType] = useState('overview'); // overview, financial, customer, agent, operational\n\n  // Loading and sync states\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connected');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n\n  // Helper functions\n  const safeFormatNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return '0';\n    }\n    return value.toLocaleString();\n  };\n  const safeNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 0;\n    }\n    return value;\n  };\n\n  // Real-time data loading from backend API with trip_sharing data\n  const loadRealTimeReportsData = useCallback(async () => {\n    try {\n      setRefreshing(true);\n      setErrorMessage('');\n      console.log('ðŸ“Š Loading real-time reports data from backend API...');\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n      const token = await tokenManager.getToken();\n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n\n      // Load all required data from backend API in parallel\n      const [agentsResponse, customersResponse, tripsResponse] = await Promise.all([fetch(`${API_URL}/agents`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/customers`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }), fetch(`${API_URL}/trips`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })]);\n      if (!agentsResponse.ok || !customersResponse.ok || !tripsResponse.ok) {\n        throw new Error('Failed to fetch data from backend API');\n      }\n      const [agentsResult, customersResult, tripsResult] = await Promise.all([agentsResponse.json(), customersResponse.json(), tripsResponse.json()]);\n      const agentsData = agentsResult.data || [];\n      const customersData = customersResult.data || [];\n      const tripsData = tripsResult.data || []; // This includes trip_sharing data\n\n      // ðŸ” DEBUG: Log retrieved data from backend API\n      console.group('ðŸ“Š Reports Data Retrieved from Backend API');\n      console.log('ðŸ¢ Agents Data:', agentsData);\n      console.log('ðŸ‘¥ Customers Data:', customersData);\n      console.log('âœˆï¸ Trips Data:', tripsData);\n      console.log('ðŸ“ˆ Trip Sharing Data Details:');\n      tripsData.forEach((trip, index) => {\n        console.log(`Trip ${index + 1} (${trip.trip_name}):`, {\n          tripId: trip.id,\n          sharing: trip.sharing,\n          hasSharing: !!trip.sharing,\n          sharingKeys: trip.sharing ? Object.keys(trip.sharing) : 'No sharing data'\n        });\n      });\n      console.groupEnd();\n\n      // Process customers with data from backend (already includes totals)\n      const processedCustomers = customersData.map(customer => {\n        return {\n          ...customer,\n          totalRolling: customer.totalRolling || 0,\n          totalWinLoss: customer.totalWinLoss || 0,\n          totalBuyIn: customer.totalBuyIn || 0,\n          totalBuyOut: customer.totalBuyOut || 0,\n          attachments: customer.attachments || [],\n          isAgent: customer.isAgent || false,\n          rollingPercentage: customer.rollingPercentage || 1.4,\n          creditLimit: customer.creditLimit || 0,\n          availableCredit: customer.availableCredit || 0\n        };\n      });\n\n      // Process trips with trip_sharing data from backend API\n      const processedTrips = tripsData.map(trip => {\n        // Use trip_sharing data from backend API (now in camelCase)\n        const sharing = trip.sharing || {\n          totalWinLoss: 0,\n          totalExpenses: 0,\n          totalRollingCommission: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          netCashFlow: 0,\n          netResult: 0,\n          totalAgentShare: 0,\n          companyShare: 0,\n          agentSharePercentage: 0,\n          companySharePercentage: 100,\n          agentBreakdown: []\n        };\n\n        // Calculate total rolling from commission (reverse calculation)\n        const totalRolling = sharing !== null && sharing !== void 0 && sharing.totalRollingCommission ? sharing.totalRollingCommission / 0.014 : 0;\n\n        // ðŸ” DEBUG: Log individual trip processing\n        console.log(`ðŸ”„ Processing Trip: ${trip.name || trip.trip_name} (ID: ${trip.id})`, {\n          originalSharing: sharing,\n          calculatedTotalRolling: totalRolling,\n          sharingTotalWinLoss: sharing === null || sharing === void 0 ? void 0 : sharing.totalWinLoss,\n          sharingCompanyShare: sharing === null || sharing === void 0 ? void 0 : sharing.companyShare,\n          sharingTotalRollingCommission: sharing === null || sharing === void 0 ? void 0 : sharing.totalRollingCommission\n        });\n        return {\n          ...trip,\n          totalRolling: totalRolling,\n          totalWinLoss: (sharing === null || sharing === void 0 ? void 0 : sharing.totalWinLoss) || 0,\n          totalBuyIn: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyIn) || 0,\n          totalBuyOut: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyOut) || 0,\n          calculatedTotalRolling: (sharing === null || sharing === void 0 ? void 0 : sharing.totalRollingCommission) || 0,\n          attachments: trip.attachments || [],\n          sharing: {\n            totalWinLoss: (sharing === null || sharing === void 0 ? void 0 : sharing.totalWinLoss) || 0,\n            totalExpenses: (sharing === null || sharing === void 0 ? void 0 : sharing.totalExpenses) || 0,\n            totalRollingCommission: (sharing === null || sharing === void 0 ? void 0 : sharing.totalRollingCommission) || 0,\n            totalBuyIn: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyIn) || 0,\n            totalBuyOut: (sharing === null || sharing === void 0 ? void 0 : sharing.totalBuyOut) || 0,\n            netCashFlow: (sharing === null || sharing === void 0 ? void 0 : sharing.netCashFlow) || 0,\n            netResult: (sharing === null || sharing === void 0 ? void 0 : sharing.netResult) || 0,\n            totalAgentShare: (sharing === null || sharing === void 0 ? void 0 : sharing.totalAgentShare) || 0,\n            companyShare: (sharing === null || sharing === void 0 ? void 0 : sharing.companyShare) || 0,\n            agentSharePercentage: (sharing === null || sharing === void 0 ? void 0 : sharing.agentSharePercentage) || 0,\n            companySharePercentage: (sharing === null || sharing === void 0 ? void 0 : sharing.companySharePercentage) || 100,\n            agentBreakdown: (sharing === null || sharing === void 0 ? void 0 : sharing.agentBreakdown) || []\n          }\n        };\n      });\n\n      // Set processed data\n      setAgents(agentsData);\n      setCustomers(processedCustomers);\n      setTrips(processedTrips);\n      setRollingRecords([]); // Not used anymore\n      setBuyInOutRecords([]); // Not used anymore\n      setLastSyncTime(new Date());\n      setConnectionStatus('connected');\n      console.log(`âœ… Real-time reports data loaded from backend API: ${processedCustomers.length} customers, ${agentsData.length} agents, ${processedTrips.length} trips with trip_sharing data`);\n    } catch (error) {\n      console.error('âŒ Error loading real-time reports data:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      setErrorMessage(`Failed to load reports data: ${errorMessage}`);\n      setConnectionStatus('error');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // Real-time data sync with automatic refresh\n  useEffect(() => {\n    loadRealTimeReportsData();\n\n    // Set up real-time refresh interval\n    let refreshInterval;\n    if (isRealTimeEnabled) {\n      refreshInterval = setInterval(() => {\n        console.log('ðŸ“Š Real-time reports refresh triggered');\n        loadRealTimeReportsData();\n      }, REAL_TIME_REFRESH_INTERVAL);\n    }\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, [loadRealTimeReportsData, isRealTimeEnabled]);\n\n  // Toggle real-time updates\n  const toggleRealTime = () => {\n    setIsRealTimeEnabled(!isRealTimeEnabled);\n    if (!isRealTimeEnabled) {\n      loadRealTimeReportsData(); // Refresh immediately when re-enabling\n    }\n  };\n\n  // Filter data based on user role and filters\n  const getFilteredData = () => {\n    let filteredCustomers = customers;\n    let filteredTrips = trips;\n    let filteredRollingRecords = []; // Not used anymore\n    let filteredBuyInOutRecords = []; // Not used anymore\n\n    // Apply user role filter\n    if (user.role === 'agent' && user.agentId) {\n      filteredCustomers = customers.filter(c => c.agentId === user.agentId);\n      filteredTrips = trips.filter(t => t.agents && t.agents.some(agent => agent.agentId === user.agentId) || t.agentId === user.agentId);\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can only see trips they are assigned to\n      filteredTrips = trips.filter(t => t.staffId === user.staffId);\n      // Filter customers based on trips\n      const tripCustomerIds = Array.from(new Set(filteredTrips.flatMap(t => {\n        var _t$customers;\n        return ((_t$customers = t.customers) === null || _t$customers === void 0 ? void 0 : _t$customers.map(tc => tc.customerId)) || [];\n      })));\n      filteredCustomers = customers.filter(c => tripCustomerIds.includes(c.id));\n    }\n\n    // Apply agent filter (admin only)\n    if (user.role === 'admin' && selectedAgent !== 'all') {\n      filteredCustomers = filteredCustomers.filter(c => c.agentId === selectedAgent);\n      filteredTrips = filteredTrips.filter(t => t.agents && t.agents.some(agent => agent.agentId === selectedAgent) || t.agentId === selectedAgent);\n    }\n\n    // Apply date range filter\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - parseInt(dateRange));\n\n    // ðŸ” DEBUG: Log filtering parameters\n    console.group('ðŸ” Data Filtering Debug');\n    console.log('ðŸ“… Time Range (days):', parseInt(dateRange));\n    console.log('ðŸ“… Cutoff Date:', cutoffDate.toISOString());\n    console.log('ðŸ“Š Total Trips Before Filter:', trips.length);\n    trips.forEach((t, index) => {\n      const tripDate = t.date || t.start_date || t.created_at;\n      const isValidDate = tripDate && !isNaN(new Date(tripDate).getTime());\n      console.log(`ðŸ“Š Trip ${index + 1} Details:`, {\n        id: t.id,\n        name: t.name || t.trip_name,\n        rawTrip: t,\n        // Show full trip object\n        date: tripDate,\n        dateType: typeof tripDate,\n        isValidDate,\n        parsedDate: isValidDate ? new Date(tripDate).toISOString() : 'Invalid Date',\n        cutoffDate: cutoffDate.toISOString(),\n        isAfterCutoff: isValidDate ? new Date(tripDate) >= cutoffDate : false\n      });\n    });\n    filteredCustomers = filteredCustomers.filter(c => new Date(c.createdAt || c.created_at) >= cutoffDate);\n    filteredTrips = filteredTrips.filter(t => {\n      const tripDate = t.date || t.start_date || t.created_at;\n      return tripDate && !isNaN(new Date(tripDate).getTime()) && new Date(tripDate) >= cutoffDate;\n    });\n    console.log('ðŸ“Š Filtered Trips Count:', filteredTrips.length);\n    console.log('ðŸ“Š Filtered Customers Count:', filteredCustomers.length);\n    console.groupEnd();\n    return {\n      filteredCustomers,\n      filteredTrips,\n      filteredRollingRecords,\n      filteredBuyInOutRecords\n    };\n  };\n  const {\n    filteredCustomers,\n    filteredTrips,\n    filteredRollingRecords,\n    filteredBuyInOutRecords\n  } = getFilteredData();\n\n  // Calculate comprehensive metrics from trip_sharing data\n  const calculateMetrics = () => {\n    // Calculate aggregated metrics from filtered trips\n    const totalWinLoss = filteredTrips.reduce((sum, trip) => sum + (trip.totalWinLoss || 0), 0);\n    const totalRolling = filteredTrips.reduce((sum, trip) => sum + (trip.totalRolling || 0), 0);\n    const totalBuyIn = filteredTrips.reduce((sum, trip) => sum + (trip.totalBuyIn || 0), 0);\n    const totalBuyOut = filteredTrips.reduce((sum, trip) => sum + (trip.totalBuyOut || 0), 0);\n\n    // Calculate company profit/loss from trip_sharing data\n    const companyProfitLoss = filteredTrips.reduce((sum, trip) => {\n      var _trip$sharing;\n      return sum + (((_trip$sharing = trip.sharing) === null || _trip$sharing === void 0 ? void 0 : _trip$sharing.companyShare) || 0);\n    }, 0);\n    const isCompanyProfitable = companyProfitLoss > 0;\n\n    // ðŸ” DEBUG: Log calculated aggregated metrics\n    console.group('ðŸ“Š Calculated Aggregated Metrics');\n    console.log('ðŸ’° Total Win/Loss:', totalWinLoss);\n    console.log('ðŸŽ² Total Rolling:', totalRolling);\n    console.log('ðŸ’µ Total Buy-In:', totalBuyIn);\n    console.log('ðŸ’¸ Total Buy-Out:', totalBuyOut);\n    console.log('ðŸ¢ Company Profit/Loss:', companyProfitLoss);\n    console.log('ðŸ“ˆ Is Company Profitable:', isCompanyProfitable);\n    console.log('ðŸ”¢ Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n\n    // Company totals from trip_sharing data\n    const companyTotalRolling = filteredTrips.reduce((sum, t) => {\n      var _t$sharing;\n      return sum + safeNumber((_t$sharing = t.sharing) === null || _t$sharing === void 0 ? void 0 : _t$sharing.totalRollingCommission);\n    }, 0);\n    const companyTotalWinLoss = filteredTrips.reduce((sum, t) => {\n      var _t$sharing2;\n      return sum + safeNumber((_t$sharing2 = t.sharing) === null || _t$sharing2 === void 0 ? void 0 : _t$sharing2.totalWinLoss);\n    }, 0);\n    const companyTotalBuyIn = filteredTrips.reduce((sum, t) => {\n      var _t$sharing3;\n      return sum + safeNumber((_t$sharing3 = t.sharing) === null || _t$sharing3 === void 0 ? void 0 : _t$sharing3.totalBuyIn);\n    }, 0);\n    const companyTotalBuyOut = filteredTrips.reduce((sum, t) => {\n      var _t$sharing4;\n      return sum + safeNumber((_t$sharing4 = t.sharing) === null || _t$sharing4 === void 0 ? void 0 : _t$sharing4.totalBuyOut);\n    }, 0);\n    const companyTotalExpenses = filteredTrips.reduce((sum, t) => {\n      var _t$sharing5;\n      return sum + safeNumber((_t$sharing5 = t.sharing) === null || _t$sharing5 === void 0 ? void 0 : _t$sharing5.totalExpenses);\n    }, 0);\n    const companyNetResult = filteredTrips.reduce((sum, t) => {\n      var _t$sharing6;\n      return sum + safeNumber((_t$sharing6 = t.sharing) === null || _t$sharing6 === void 0 ? void 0 : _t$sharing6.netResult);\n    }, 0);\n    const companyShare = filteredTrips.reduce((sum, t) => {\n      var _t$sharing7;\n      return sum + safeNumber((_t$sharing7 = t.sharing) === null || _t$sharing7 === void 0 ? void 0 : _t$sharing7.companyShare);\n    }, 0);\n\n    // ðŸ” DEBUG: Log company totals from trip_sharing\n    console.group('ðŸ¢ Company Totals from Trip Sharing Data');\n    console.log('ðŸŽ² Company Total Rolling Commission:', companyTotalRolling);\n    console.log('ðŸ’° Company Total Win/Loss:', companyTotalWinLoss);\n    console.log('ðŸ’µ Company Total Buy-In:', companyTotalBuyIn);\n    console.log('ðŸ’¸ Company Total Buy-Out:', companyTotalBuyOut);\n    console.log('ðŸ’³ Company Total Expenses:', companyTotalExpenses);\n    console.log('ðŸ“Š Company Net Result:', companyNetResult);\n    console.log('ðŸ¦ Company Share:', companyShare);\n    console.log('ðŸ”¢ Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n\n    // Trip totals for display\n    const tripTotalRolling = filteredTrips.reduce((sum, t) => sum + safeNumber(t.totalRolling), 0);\n    const tripTotalWinLoss = filteredTrips.reduce((sum, t) => sum + safeNumber(t.totalWinLoss), 0);\n    const totalRollingCommission = companyTotalRolling;\n    const totalExpenses = companyTotalExpenses;\n\n    // House performance from company perspective (trip_sharing data)\n    const houseGrossWin = Math.abs(companyTotalWinLoss); // Always show absolute value\n    const houseNetWin = Math.abs(companyNetResult - totalExpenses); // Company net after expenses\n    const houseFinalProfit = Math.abs(companyShare); // Final company share\n\n    // Customer metrics\n    const totalCustomers = filteredCustomers.length;\n    const activeCustomers = filteredCustomers.filter(c => c.isActive).length;\n\n    // Agent metrics\n    const totalAgents = agents.length;\n    const activeAgents = agents.filter(a => a.status === 'active').length;\n\n    // Trip metrics\n    const totalTrips = filteredTrips.length;\n    const completedTrips = filteredTrips.filter(t => t.status === 'completed').length;\n    const ongoingTrips = filteredTrips.filter(t => t.status === 'in-progress').length;\n\n    // Performance ratios\n    const profitMargin = companyTotalRolling > 0 ? houseFinalProfit / companyTotalRolling * 100 : 0;\n    const averageRollingPercentage = filteredCustomers.length > 0 ? filteredCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / filteredCustomers.length : 1.4;\n    return {\n      customerTotalRolling: companyTotalRolling,\n      customerTotalWinLoss: companyTotalWinLoss,\n      customerTotalBuyIn: companyTotalBuyIn,\n      customerTotalBuyOut: companyTotalBuyOut,\n      tripTotalRolling,\n      tripTotalWinLoss,\n      totalRollingCommission,\n      totalExpenses,\n      houseGrossWin,\n      houseNetWin,\n      houseFinalProfit,\n      totalCustomers,\n      activeCustomers,\n      totalAgents,\n      activeAgents,\n      totalTrips,\n      completedTrips,\n      ongoingTrips,\n      profitMargin,\n      averageRollingPercentage,\n      totalRollingRecords: filteredTrips.length,\n      // Number of trips with sharing data\n      totalBuyInOutRecords: filteredTrips.filter(t => {\n        var _t$sharing8, _t$sharing9;\n        return (((_t$sharing8 = t.sharing) === null || _t$sharing8 === void 0 ? void 0 : _t$sharing8.totalBuyIn) || 0) > 0 || (((_t$sharing9 = t.sharing) === null || _t$sharing9 === void 0 ? void 0 : _t$sharing9.totalBuyOut) || 0) > 0;\n      }).length,\n      // Company performance indicators\n      companyNetResult,\n      companyShare,\n      isCompanyProfitable: companyShare > 0\n    };\n  };\n  const metrics = calculateMetrics();\n\n  // Prepare chart data from trip_sharing data\n  const getDailyChartData = () => {\n    const dailyData = {};\n\n    // Process trips by date using trip_sharing data\n    filteredTrips.forEach(trip => {\n      const date = trip.date.split('T')[0]; // Get date part only\n      if (!dailyData[date]) {\n        dailyData[date] = {\n          date,\n          rolling: 0,\n          winLoss: 0,\n          commission: 0,\n          buyIn: 0,\n          buyOut: 0,\n          netCashFlow: 0,\n          expenses: 0,\n          companyShare: 0,\n          recordCount: 0,\n          transactions: 0\n        };\n      }\n\n      // Use trip_sharing data\n      const sharing = trip.sharing || {};\n      dailyData[date].rolling += safeNumber(sharing.totalRollingCommission);\n      dailyData[date].winLoss += safeNumber(sharing.totalWinLoss);\n      dailyData[date].commission += safeNumber(sharing.totalRollingCommission);\n      dailyData[date].buyIn += safeNumber(sharing.totalBuyIn);\n      dailyData[date].buyOut += safeNumber(sharing.totalBuyOut);\n      dailyData[date].expenses += safeNumber(sharing.totalExpenses);\n      dailyData[date].companyShare += safeNumber(sharing.companyShare);\n      dailyData[date].netCashFlow += safeNumber(sharing.netCashFlow);\n      dailyData[date].recordCount += 1;\n      dailyData[date].transactions += (sharing.totalBuyIn || 0) > 0 || (sharing.totalBuyOut || 0) > 0 ? 1 : 0;\n    });\n    return Object.values(dailyData).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n  };\n  const chartData = getDailyChartData();\n\n  // Agent performance data (admin only)\n  const getAgentPerformanceData = () => {\n    if (user.role !== 'admin') return [];\n    return agents.map(agent => {\n      const agentCustomers = filteredCustomers.filter(c => c.agentId === agent.id);\n      const agentRollingRecords = filteredRollingRecords.filter(r => r.agentId === agent.id);\n      const agentBuyInOutRecords = filteredBuyInOutRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return (customer === null || customer === void 0 ? void 0 : customer.agentId) === agent.id;\n      });\n      const agentTrips = filteredTrips.filter(t => t.agents && t.agents.some(a => a.agentId === agent.id) || t.agentId === agent.id);\n      const rolling = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = agentBuyInOutRecords.filter(r => r.transactionType === 'buy-in').reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = agentBuyInOutRecords.filter(r => r.transactionType === 'buy-out').reduce((sum, r) => sum + r.amount, 0);\n      return {\n        name: agent.name,\n        customers: agentCustomers.length,\n        activeCustomers: agentCustomers.filter(c => c.isActive).length,\n        rolling,\n        winLoss,\n        buyIn,\n        buyOut,\n        netCashFlow: buyOut - buyIn,\n        commission: rolling * 0.014,\n        trips: agentTrips.length,\n        rollingRecords: agentRollingRecords.length,\n        buyInOutRecords: agentTrips.filter(t => {\n          var _t$sharing0, _t$sharing1;\n          return (((_t$sharing0 = t.sharing) === null || _t$sharing0 === void 0 ? void 0 : _t$sharing0.totalBuyIn) || 0) > 0 || (((_t$sharing1 = t.sharing) === null || _t$sharing1 === void 0 ? void 0 : _t$sharing1.totalBuyOut) || 0) > 0;\n        }).length,\n        averageRollingPercentage: agentCustomers.length > 0 ? agentCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / agentCustomers.length : 0\n      };\n    }).filter(agent => agent.rolling > 0 || agent.customers > 0);\n  };\n  const agentPerformanceData = getAgentPerformanceData();\n\n  // Top customers data\n  const getTopCustomersData = () => {\n    return filteredCustomers.map(customer => {\n      const customerRollingRecords = filteredRollingRecords.filter(r => r.customerId === customer.id);\n      const customerBuyInOutRecords = filteredBuyInOutRecords.filter(b => b.customerId === customer.id);\n      const rolling = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = customerBuyInOutRecords.filter(r => r.transactionType === 'buy-in').reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = customerBuyInOutRecords.filter(r => r.transactionType === 'buy-out').reduce((sum, r) => sum + r.amount, 0);\n      return {\n        ...customer,\n        periodRolling: rolling,\n        periodWinLoss: winLoss,\n        periodBuyIn: buyIn,\n        periodBuyOut: buyOut,\n        periodNetCashFlow: buyOut - buyIn,\n        periodCommission: rolling * (customer.rollingPercentage / 100),\n        recordCount: customerRollingRecords.length,\n        transactionCount: customerBuyInOutRecords.length\n      };\n    }).filter(customer => customer.periodRolling > 0).sort((a, b) => b.periodRolling - a.periodRolling).slice(0, 10);\n  };\n  const topCustomersData = getTopCustomersData();\n\n  // Export functionality\n  const handleExport = () => {\n    const reportData = {\n      generatedAt: new Date().toISOString(),\n      dateRange: dateRange,\n      selectedAgent: selectedAgent,\n      userRole: user.role,\n      summary: metrics,\n      dailyData: chartData,\n      topCustomers: topCustomersData,\n      agentPerformance: agentPerformanceData,\n      rawData: {\n        customers: filteredCustomers.length,\n        trips: filteredTrips.length,\n        rollingRecords: filteredRollingRecords.length,\n        buyInOutRecords: filteredBuyInOutRecords.length\n      }\n    };\n    const blob = new Blob([JSON.stringify(reportData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `casino-reports-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Show loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-600\",\n          children: \"Loading real-time reports data from Supabase...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-purple-50 border border-purple-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"w-5 h-5 text-purple-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-purple-800\",\n              children: \"\\uD83D\\uDCCA Real-time Reports & Analytics - Live Data from Supabase\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-purple-600\",\n              children: [\"All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.\", lastSyncTime && ` â€¢ Last sync: ${lastSyncTime.toLocaleTimeString()}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [refreshing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-4 h-4 mr-1 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"Syncing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: loadRealTimeReportsData,\n            disabled: refreshing,\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-3 h-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: toggleRealTime,\n            className: \"text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(Zap, {\n              className: `w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this), isRealTimeEnabled ? 'Live' : 'Manual']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"outline\",\n            className: `text-xs ${connectionStatus === 'connected' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 rounded-full mr-1 ${connectionStatus === 'connected' ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), connectionStatus === 'connected' ? 'Live Data' : 'Error']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"border-red-200 bg-red-50\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-4 h-4 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n        className: \"text-red-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Reports Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 13\n        }, this), \" \", errorMessage, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: loadRealTimeReportsData,\n          size: \"sm\",\n          variant: \"outline\",\n          className: \"ml-3 text-red-800 border-red-300 hover:bg-red-100\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), \"Retry\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold\",\n          children: \"Real-time Reports & Analytics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [user.role === 'agent' ? 'Performance overview for your customers' : user.role === 'staff' ? 'Reports for your recorded transactions' : 'Comprehensive business analytics', \" \\u2022 Live data from Supabase\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [\"Showing data for last \", dateRange, \" days \\u2022 \", metrics.totalRollingRecords, \" rolling records \\u2022 \", metrics.totalBuyInOutRecords, \" buy-in/out transactions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          value: dateRange,\n          onValueChange: setDateRange,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-32\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Date range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"7\",\n              children: \"Last 7 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"30\",\n              children: \"Last 30 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"90\",\n              children: \"Last 90 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"365\",\n              children: \"Last year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 11\n        }, this), user.role === 'admin' && /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedAgent,\n          onValueChange: setSelectedAgent,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-40\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"All agents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"all\",\n              children: \"All Agents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: agent.id,\n              children: agent.name\n            }, agent.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: reportType,\n          onValueChange: setReportType,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-36\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Report type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"overview\",\n              children: \"Overview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"financial\",\n              children: \"Financial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"customer\",\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"operational\",\n              children: \"Operational\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: handleExport,\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 13\n          }, this), \"Export\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium mb-4\",\n        children: \"Key Performance Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-blue-800\",\n              children: \"Total Rolling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"h-4 w-4 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-700\",\n              children: [\"HK$\", safeFormatNumber(metrics.customerTotalRolling)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600\",\n              children: [metrics.totalRollingRecords, \" rolling records \\u2022 Last \", dateRange, \" days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-purple-800\",\n              children: \"Commission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Percent, {\n              className: \"h-4 w-4 text-purple-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-purple-700\",\n              children: [\"HK$\", safeFormatNumber(metrics.customerTotalRolling * 0.014)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-purple-600\",\n              children: [metrics.averageRollingPercentage.toFixed(1), \"% avg rolling rate\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-green-50 to-green-100 border-green-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-green-800\",\n              children: \"House P&L\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 15\n            }, this), metrics.houseGrossWin >= 0 ? /*#__PURE__*/_jsxDEV(Trophy, {\n              className: \"h-4 w-4 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"h-4 w-4 text-red-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-2xl font-bold ${metrics.houseGrossWin >= 0 ? 'text-green-600' : 'text-red-600'}`,\n              children: [\"HK$\", safeFormatNumber(Math.abs(metrics.houseGrossWin))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-green-600\",\n              children: metrics.houseGrossWin >= 0 ? 'House Win' : 'Customer Win'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium text-orange-800\",\n              children: \"Cash Flow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ArrowUpCircle, {\n              className: \"h-4 w-4 text-orange-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-orange-700\",\n              children: [\"HK$\", safeFormatNumber(metrics.customerTotalBuyOut - metrics.customerTotalBuyIn)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-orange-600\",\n              children: \"Net: Buy-out - Buy-in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"text-sm font-medium\",\n              children: \"Active Customers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-4 w-4 text-muted-foreground\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold\",\n              children: metrics.activeCustomers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-muted-foreground\",\n              children: [\"of \", metrics.totalCustomers, \" total customers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Daily Rolling Volume & Commission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Real-time rolling amounts and calculated commission over time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n              data: chartData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                formatter: (value, name) => [`HK$${Number(value).toLocaleString()}`, name === 'rolling' ? 'Rolling' : name === 'commission' ? 'Commission' : 'Win/Loss']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"rolling\",\n                fill: \"#8884d8\",\n                name: \"rolling\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"commission\",\n                fill: \"#82ca9d\",\n                name: \"commission\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"winLoss\",\n                stroke: \"#ff7c7c\",\n                strokeWidth: 2,\n                name: \"winLoss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Daily Cash Flow Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Buy-in vs Buy-out amounts and net cash flow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(AreaChart, {\n              data: chartData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                formatter: (value, name) => [`HK$${Number(value).toLocaleString()}`, name === 'buyIn' ? 'Buy-in' : name === 'buyOut' ? 'Buy-out' : 'Net Flow']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Area, {\n                type: \"monotone\",\n                dataKey: \"buyIn\",\n                stackId: \"1\",\n                stroke: \"#8884d8\",\n                fill: \"#8884d8\",\n                name: \"buyIn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Area, {\n                type: \"monotone\",\n                dataKey: \"buyOut\",\n                stackId: \"1\",\n                stroke: \"#82ca9d\",\n                fill: \"#82ca9d\",\n                name: \"buyOut\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"netCashFlow\",\n                stroke: \"#ff7c7c\",\n                strokeWidth: 2,\n                name: \"netCashFlow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Transaction Volume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Daily activity levels\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 200,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: chartData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"recordCount\",\n                fill: \"#8884d8\",\n                name: \"Rolling Records\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"transactions\",\n                fill: \"#82ca9d\",\n                name: \"Buy-in/out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Performance Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Key operational metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-blue-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-blue-800\",\n                children: \"Total Trips\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-blue-700\",\n                children: metrics.totalTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-green-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-800\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-green-700\",\n                children: metrics.completedTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 889,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-orange-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-orange-800\",\n                children: \"Ongoing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-orange-700\",\n                children: metrics.ongoingTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center p-3 bg-purple-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-purple-800\",\n                children: \"Profit Margin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-purple-700\",\n                children: [metrics.profitMargin.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 897,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Activity Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Recent period summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(Activity, {\n                className: \"w-5 h-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Rolling Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 913,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-blue-600\",\n                  children: metrics.totalRollingRecords\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 912,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowUpDown, {\n                className: \"w-5 h-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Buy-in/out Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-green-600\",\n                  children: metrics.totalBuyInOutRecords\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-5 h-5 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 925,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Active Users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 927,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-purple-600\",\n                  children: metrics.activeCustomers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 7\n    }, this), topCustomersData.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: \"Top Performing Customers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: \"Highest rolling volume customers for the selected period \\u2022 Sorted by rolling amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: topCustomersData.map((customer, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: customer.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 954,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Agent: \", customer.agentName, \" \\u2022 \", customer.rollingPercentage, \"% rolling rate\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 955,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400\",\n                  children: [customer.recordCount, \" records \\u2022 \", customer.transactionCount, \" transactions\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 958,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-4 gap-4 text-right text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Rolling\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-blue-600\",\n                  children: [\"HK$\", safeFormatNumber(customer.periodRolling)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 966,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Win/Loss\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${customer.periodWinLoss >= 0 ? 'text-red-600' : 'text-green-600'}`,\n                  children: [customer.periodWinLoss >= 0 ? '+' : '', \"HK$\", safeFormatNumber(customer.periodWinLoss)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 970,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 968,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 977,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-purple-600\",\n                  children: [\"HK$\", safeFormatNumber(customer.periodCommission)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 976,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: \"Cash Flow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 981,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${customer.periodNetCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                  children: [\"HK$\", safeFormatNumber(customer.periodNetCashFlow)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 982,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 19\n            }, this)]\n          }, customer.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 946,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 938,\n      columnNumber: 9\n    }, this), user.role === 'admin' && agentPerformanceData.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: \"Agent Performance Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: \"Comprehensive performance metrics by agent for the selected period\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Agent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Customers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1013,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Rolling Volume\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1016,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Commission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1019,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Win/Loss\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1022,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Cash Flow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Activity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1028,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: agentPerformanceData.map(agent => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: agent.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1038,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [agent.averageRollingPercentage.toFixed(1), \"% avg rate\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1039,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [agent.activeCustomers, \"/\", agent.customers]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1043,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: \"active/total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1044,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1042,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: [\"HK$\", safeFormatNumber(agent.rolling)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1047,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-600\",\n                    children: [agent.trips, \" trips\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1048,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1046,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium\",\n                  children: [\"HK$\", safeFormatNumber(agent.commission)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1050,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: agent.winLoss >= 0 ? 'text-red-600' : 'text-green-600',\n                    children: [agent.winLoss >= 0 ? '+' : '', \"HK$\", safeFormatNumber(agent.winLoss)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1053,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `font-medium ${agent.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: [\"HK$\", safeFormatNumber(agent.netCashFlow)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1059,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: [\"In: HK$\", safeFormatNumber(agent.buyIn), \" \\u2022 Out: HK$\", safeFormatNumber(agent.buyOut)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1062,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1058,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [agent.rollingRecords, \" rolling\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1067,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: [agent.buyInOutRecords, \" buy-in/out\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1068,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 23\n                }, this)]\n              }, agent.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1005,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 591,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"a92TgHBKihRHAf+CROIHEgFxVr8=\");\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","Line","ComposedChart","AreaChart","Area","TrendingDown","Users","DollarSign","Activity","RefreshCw","Download","BarChart3","Zap","AlertTriangle","Percent","Trophy","ArrowUpCircle","ArrowUpDown","tokenManager","Card","CardContent","CardDescription","CardHeader","CardTitle","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Button","Alert","AlertDescription","Badge","jsxDEV","_jsxDEV","REAL_TIME_REFRESH_INTERVAL","Reports","user","_s","agents","setAgents","customers","setCustomers","trips","setTrips","rollingRecords","setRollingRecords","buyInOutRecords","setBuyInOutRecords","dateRange","setDateRange","selectedAgent","setSelectedAgent","reportType","setReportType","loading","setLoading","refreshing","setRefreshing","lastSyncTime","setLastSyncTime","connectionStatus","setConnectionStatus","errorMessage","setErrorMessage","isRealTimeEnabled","setIsRealTimeEnabled","safeFormatNumber","value","undefined","isNaN","toLocaleString","safeNumber","loadRealTimeReportsData","console","log","API_URL","process","env","REACT_APP_API_URL","token","getToken","Error","agentsResponse","customersResponse","tripsResponse","Promise","all","fetch","headers","ok","agentsResult","customersResult","tripsResult","json","agentsData","data","customersData","tripsData","group","forEach","trip","index","trip_name","tripId","id","sharing","hasSharing","sharingKeys","Object","keys","groupEnd","processedCustomers","map","customer","totalRolling","totalWinLoss","totalBuyIn","totalBuyOut","attachments","isAgent","rollingPercentage","creditLimit","availableCredit","processedTrips","totalExpenses","totalRollingCommission","netCashFlow","netResult","totalAgentShare","companyShare","agentSharePercentage","companySharePercentage","agentBreakdown","name","originalSharing","calculatedTotalRolling","sharingTotalWinLoss","sharingCompanyShare","sharingTotalRollingCommission","Date","length","error","message","refreshInterval","setInterval","clearInterval","toggleRealTime","getFilteredData","filteredCustomers","filteredTrips","filteredRollingRecords","filteredBuyInOutRecords","role","agentId","filter","c","t","some","agent","staffId","tripCustomerIds","Array","from","Set","flatMap","_t$customers","tc","customerId","includes","cutoffDate","setDate","getDate","parseInt","toISOString","tripDate","date","start_date","created_at","isValidDate","getTime","rawTrip","dateType","parsedDate","isAfterCutoff","createdAt","calculateMetrics","reduce","sum","companyProfitLoss","_trip$sharing","isCompanyProfitable","companyTotalRolling","_t$sharing","companyTotalWinLoss","_t$sharing2","companyTotalBuyIn","_t$sharing3","companyTotalBuyOut","_t$sharing4","companyTotalExpenses","_t$sharing5","companyNetResult","_t$sharing6","_t$sharing7","tripTotalRolling","tripTotalWinLoss","houseGrossWin","Math","abs","houseNetWin","houseFinalProfit","totalCustomers","activeCustomers","isActive","totalAgents","activeAgents","a","status","totalTrips","completedTrips","ongoingTrips","profitMargin","averageRollingPercentage","customerTotalRolling","customerTotalWinLoss","customerTotalBuyIn","customerTotalBuyOut","totalRollingRecords","totalBuyInOutRecords","_t$sharing8","_t$sharing9","metrics","getDailyChartData","dailyData","split","rolling","winLoss","commission","buyIn","buyOut","expenses","recordCount","transactions","values","sort","b","chartData","getAgentPerformanceData","agentCustomers","agentRollingRecords","r","agentBuyInOutRecords","find","agentTrips","rollingAmount","transactionType","amount","_t$sharing0","_t$sharing1","agentPerformanceData","getTopCustomersData","customerRollingRecords","customerBuyInOutRecords","periodRolling","periodWinLoss","periodBuyIn","periodBuyOut","periodNetCashFlow","periodCommission","transactionCount","slice","topCustomersData","handleExport","reportData","generatedAt","userRole","summary","topCustomers","agentPerformance","rawData","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","variant","size","onClick","disabled","onValueChange","placeholder","toFixed","width","height","strokeDasharray","dataKey","formatter","Number","fill","stroke","strokeWidth","stackId","agentName","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/Reports.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line, PieChart, Pie, Cell, ComposedChart, AreaChart, Area } from 'recharts';\nimport { Calendar, TrendingUp, TrendingDown, Users, DollarSign, Activity, RefreshCw, Download, Filter, Clock, Wifi, WifiOff, AlertCircle, BarChart3, Zap, AlertTriangle, Percent, Trophy, ArrowUpCircle, ArrowUpDown } from 'lucide-react';\nimport { supabase } from '../utils/supabase/supabaseClients';\nimport { tokenManager } from '../utils/auth/tokenManager';\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { User, Agent, Customer, Trip, RollingRecord, BuyInOutRecord } from '../types';\n\n// Real-time refresh interval (30 seconds)\nconst REAL_TIME_REFRESH_INTERVAL = 30000;\n\ninterface ReportsProps {\n  user: User;\n}\n\n\nexport function Reports({ user }: ReportsProps) {\n  // Data states with real-time updates\n  const [agents, setAgents] = useState<Agent[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [rollingRecords, setRollingRecords] = useState<RollingRecord[]>([]);\n  const [buyInOutRecords, setBuyInOutRecords] = useState<BuyInOutRecord[]>([]);\n  \n  // Filter states\n  const [dateRange, setDateRange] = useState('30'); // days\n  const [selectedAgent, setSelectedAgent] = useState('all');\n  const [reportType, setReportType] = useState('overview'); // overview, financial, customer, agent, operational\n  \n  // Loading and sync states\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [lastSyncTime, setLastSyncTime] = useState<Date | null>(null);\n  const [connectionStatus, setConnectionStatus] = useState<'connected' | 'disconnected' | 'error'>('connected');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(true);\n\n  // Helper functions\n  const safeFormatNumber = (value: number | undefined | null): string => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return '0';\n    }\n    return value.toLocaleString();\n  };\n\n  const safeNumber = (value: number | undefined | null): number => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 0;\n    }\n    return value;\n  };\n\n  // Real-time data loading from backend API with trip_sharing data\n  const loadRealTimeReportsData = useCallback(async () => {\n    try {\n      setRefreshing(true);\n      setErrorMessage('');\n      \n      console.log('ðŸ“Š Loading real-time reports data from backend API...');\n      \n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n      const token = await tokenManager.getToken();\n      \n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n      \n      // Load all required data from backend API in parallel\n      const [agentsResponse, customersResponse, tripsResponse] = await Promise.all([\n        fetch(`${API_URL}/agents`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/customers`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }),\n        fetch(`${API_URL}/trips`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n      ]);\n      \n      if (!agentsResponse.ok || !customersResponse.ok || !tripsResponse.ok) {\n        throw new Error('Failed to fetch data from backend API');\n      }\n      \n      const [agentsResult, customersResult, tripsResult] = await Promise.all([\n        agentsResponse.json(),\n        customersResponse.json(),\n        tripsResponse.json()\n      ]);\n      \n      const agentsData = agentsResult.data || [];\n      const customersData = customersResult.data || [];\n      const tripsData = tripsResult.data || []; // This includes trip_sharing data\n\n      // ðŸ” DEBUG: Log retrieved data from backend API\n      console.group('ðŸ“Š Reports Data Retrieved from Backend API');\n      console.log('ðŸ¢ Agents Data:', agentsData);\n      console.log('ðŸ‘¥ Customers Data:', customersData);\n      console.log('âœˆï¸ Trips Data:', tripsData);\n      console.log('ðŸ“ˆ Trip Sharing Data Details:');\n      tripsData.forEach((trip: any, index: number) => {\n        console.log(`Trip ${index + 1} (${trip.trip_name}):`, {\n          tripId: trip.id,\n          sharing: trip.sharing,\n          hasSharing: !!trip.sharing,\n          sharingKeys: trip.sharing ? Object.keys(trip.sharing) : 'No sharing data'\n        });\n      });\n      console.groupEnd();\n\n      // Process customers with data from backend (already includes totals)\n      const processedCustomers = customersData.map((customer: Customer) => {\n        return {\n          ...customer,\n          totalRolling: customer.totalRolling || 0,\n          totalWinLoss: customer.totalWinLoss || 0,\n          totalBuyIn: customer.totalBuyIn || 0,\n          totalBuyOut: customer.totalBuyOut || 0,\n          attachments: customer.attachments || [],\n          isAgent: customer.isAgent || false,\n          rollingPercentage: customer.rollingPercentage || 1.4,\n          creditLimit: customer.creditLimit || 0,\n          availableCredit: customer.availableCredit || 0\n        };\n      });\n\n      // Process trips with trip_sharing data from backend API\n      const processedTrips = tripsData.map((trip: Trip) => {\n        // Use trip_sharing data from backend API (now in camelCase)\n        const sharing = trip.sharing || {\n          totalWinLoss: 0,\n          totalExpenses: 0,\n          totalRollingCommission: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          netCashFlow: 0,\n          netResult: 0,\n          totalAgentShare: 0,\n          companyShare: 0,\n          agentSharePercentage: 0,\n          companySharePercentage: 100,\n          agentBreakdown: []\n        };\n\n        // Calculate total rolling from commission (reverse calculation)\n        const totalRolling = sharing?.totalRollingCommission ? (sharing.totalRollingCommission / 0.014) : 0;\n\n        // ðŸ” DEBUG: Log individual trip processing\n        console.log(`ðŸ”„ Processing Trip: ${(trip as any).name || (trip as any).trip_name} (ID: ${trip.id})`, {\n          originalSharing: sharing,\n          calculatedTotalRolling: totalRolling,\n          sharingTotalWinLoss: sharing?.totalWinLoss,\n          sharingCompanyShare: sharing?.companyShare,\n          sharingTotalRollingCommission: sharing?.totalRollingCommission\n        });\n\n        return {\n          ...trip,\n          totalRolling: totalRolling,\n          totalWinLoss: sharing?.totalWinLoss || 0,\n          totalBuyIn: sharing?.totalBuyIn || 0,\n          totalBuyOut: sharing?.totalBuyOut || 0,\n          calculatedTotalRolling: sharing?.totalRollingCommission || 0,\n          attachments: trip.attachments || [],\n          sharing: {\n            totalWinLoss: sharing?.totalWinLoss || 0,\n            totalExpenses: sharing?.totalExpenses || 0,\n            totalRollingCommission: sharing?.totalRollingCommission || 0,\n            totalBuyIn: sharing?.totalBuyIn || 0,\n            totalBuyOut: sharing?.totalBuyOut || 0,\n            netCashFlow: sharing?.netCashFlow || 0,\n            netResult: sharing?.netResult || 0,\n            totalAgentShare: sharing?.totalAgentShare || 0,\n            companyShare: sharing?.companyShare || 0,\n            agentSharePercentage: sharing?.agentSharePercentage || 0,\n            companySharePercentage: sharing?.companySharePercentage || 100,\n            agentBreakdown: sharing?.agentBreakdown || []\n          }\n        };\n      });\n\n      // Set processed data\n      setAgents(agentsData);\n      setCustomers(processedCustomers);\n      setTrips(processedTrips);\n      setRollingRecords([]); // Not used anymore\n      setBuyInOutRecords([]); // Not used anymore\n      setLastSyncTime(new Date());\n      setConnectionStatus('connected');\n      \n      console.log(`âœ… Real-time reports data loaded from backend API: ${processedCustomers.length} customers, ${agentsData.length} agents, ${processedTrips.length} trips with trip_sharing data`);\n      \n    } catch (error) {\n      console.error('âŒ Error loading real-time reports data:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      setErrorMessage(`Failed to load reports data: ${errorMessage}`);\n      setConnectionStatus('error');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // Real-time data sync with automatic refresh\n  useEffect(() => {\n    loadRealTimeReportsData();\n    \n    // Set up real-time refresh interval\n    let refreshInterval: NodeJS.Timeout;\n    if (isRealTimeEnabled) {\n      refreshInterval = setInterval(() => {\n        console.log('ðŸ“Š Real-time reports refresh triggered');\n        loadRealTimeReportsData();\n      }, REAL_TIME_REFRESH_INTERVAL);\n    }\n\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, [loadRealTimeReportsData, isRealTimeEnabled]);\n\n  // Toggle real-time updates\n  const toggleRealTime = () => {\n    setIsRealTimeEnabled(!isRealTimeEnabled);\n    if (!isRealTimeEnabled) {\n      loadRealTimeReportsData(); // Refresh immediately when re-enabling\n    }\n  };\n\n  // Filter data based on user role and filters\n  const getFilteredData = () => {\n    let filteredCustomers = customers;\n    let filteredTrips = trips;\n    let filteredRollingRecords: any[] = []; // Not used anymore\n    let filteredBuyInOutRecords: any[] = []; // Not used anymore\n\n    // Apply user role filter\n    if (user.role === 'agent' && user.agentId) {\n      filteredCustomers = customers.filter(c => c.agentId === user.agentId);\n      filteredTrips = trips.filter(t => \n        (t.agents && t.agents.some(agent => agent.agentId === user.agentId)) ||\n        t.agentId === user.agentId\n      );\n    } else if (user.role === 'staff' && user.staffId) {\n      // Staff can only see trips they are assigned to\n      filteredTrips = trips.filter(t => (t as any).staffId === user.staffId);\n      // Filter customers based on trips\n      const tripCustomerIds = Array.from(new Set(\n        filteredTrips.flatMap(t => t.customers?.map(tc => tc.customerId) || [])\n      ));\n      filteredCustomers = customers.filter(c => tripCustomerIds.includes(c.id));\n    }\n\n    // Apply agent filter (admin only)\n    if (user.role === 'admin' && selectedAgent !== 'all') {\n      filteredCustomers = filteredCustomers.filter(c => c.agentId === selectedAgent);\n      filteredTrips = filteredTrips.filter(t => \n        (t.agents && t.agents.some(agent => agent.agentId === selectedAgent)) ||\n        t.agentId === selectedAgent\n      );\n    }\n\n  // Apply date range filter\n  const cutoffDate = new Date();\n  cutoffDate.setDate(cutoffDate.getDate() - parseInt(dateRange));\n\n  // ðŸ” DEBUG: Log filtering parameters\n  console.group('ðŸ” Data Filtering Debug');\n  console.log('ðŸ“… Time Range (days):', parseInt(dateRange));\n  console.log('ðŸ“… Cutoff Date:', cutoffDate.toISOString());\n  console.log('ðŸ“Š Total Trips Before Filter:', trips.length);\n  trips.forEach((t: any, index: number) => {\n    const tripDate = t.date || t.start_date || t.created_at;\n    const isValidDate = tripDate && !isNaN(new Date(tripDate).getTime());\n    console.log(`ðŸ“Š Trip ${index + 1} Details:`, {\n      id: t.id,\n      name: t.name || t.trip_name,\n      rawTrip: t, // Show full trip object\n      date: tripDate,\n      dateType: typeof tripDate,\n      isValidDate,\n      parsedDate: isValidDate ? new Date(tripDate).toISOString() : 'Invalid Date',\n      cutoffDate: cutoffDate.toISOString(),\n      isAfterCutoff: isValidDate ? new Date(tripDate) >= cutoffDate : false\n    });\n  });\n\n  filteredCustomers = filteredCustomers.filter(c => \n    new Date((c as any).createdAt || (c as any).created_at) >= cutoffDate\n  );\n  \n    filteredTrips = filteredTrips.filter(t => {\n      const tripDate = t.date || (t as any).start_date || (t as any).created_at;\n      return tripDate && !isNaN(new Date(tripDate).getTime()) && new Date(tripDate) >= cutoffDate;\n    });\n\n    console.log('ðŸ“Š Filtered Trips Count:', filteredTrips.length);\n    console.log('ðŸ“Š Filtered Customers Count:', filteredCustomers.length);\n    console.groupEnd();\n\n    return { filteredCustomers, filteredTrips, filteredRollingRecords, filteredBuyInOutRecords };\n  };\n\n  const { filteredCustomers, filteredTrips, filteredRollingRecords, filteredBuyInOutRecords } = getFilteredData();\n\n  // Calculate comprehensive metrics from trip_sharing data\n  const calculateMetrics = () => {\n    // Calculate aggregated metrics from filtered trips\n    const totalWinLoss = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalWinLoss || 0), 0);\n    const totalRolling = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalRolling || 0), 0);\n    const totalBuyIn = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalBuyIn || 0), 0);\n    const totalBuyOut = filteredTrips.reduce((sum: number, trip: any) => sum + (trip.totalBuyOut || 0), 0);\n    \n    // Calculate company profit/loss from trip_sharing data\n    const companyProfitLoss = filteredTrips.reduce((sum: number, trip: any) => {\n      return sum + (trip.sharing?.companyShare || 0);\n    }, 0);\n    \n    const isCompanyProfitable = companyProfitLoss > 0;\n\n    // ðŸ” DEBUG: Log calculated aggregated metrics\n    console.group('ðŸ“Š Calculated Aggregated Metrics');\n    console.log('ðŸ’° Total Win/Loss:', totalWinLoss);\n    console.log('ðŸŽ² Total Rolling:', totalRolling);\n    console.log('ðŸ’µ Total Buy-In:', totalBuyIn);\n    console.log('ðŸ’¸ Total Buy-Out:', totalBuyOut);\n    console.log('ðŸ¢ Company Profit/Loss:', companyProfitLoss);\n    console.log('ðŸ“ˆ Is Company Profitable:', isCompanyProfitable);\n    console.log('ðŸ”¢ Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n\n    // Company totals from trip_sharing data\n    const companyTotalRolling = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalRollingCommission), 0);\n    const companyTotalWinLoss = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalWinLoss), 0);\n    const companyTotalBuyIn = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyIn), 0);\n    const companyTotalBuyOut = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalBuyOut), 0);\n    const companyTotalExpenses = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.totalExpenses), 0);\n    const companyNetResult = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.netResult), 0);\n    const companyShare = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.sharing?.companyShare), 0);\n\n    // ðŸ” DEBUG: Log company totals from trip_sharing\n    console.group('ðŸ¢ Company Totals from Trip Sharing Data');\n    console.log('ðŸŽ² Company Total Rolling Commission:', companyTotalRolling);\n    console.log('ðŸ’° Company Total Win/Loss:', companyTotalWinLoss);\n    console.log('ðŸ’µ Company Total Buy-In:', companyTotalBuyIn);\n    console.log('ðŸ’¸ Company Total Buy-Out:', companyTotalBuyOut);\n    console.log('ðŸ’³ Company Total Expenses:', companyTotalExpenses);\n    console.log('ðŸ“Š Company Net Result:', companyNetResult);\n    console.log('ðŸ¦ Company Share:', companyShare);\n    console.log('ðŸ”¢ Filtered Trips Count:', filteredTrips.length);\n    console.groupEnd();\n\n    // Trip totals for display\n    const tripTotalRolling = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.totalRolling), 0);\n    const tripTotalWinLoss = filteredTrips.reduce((sum: number, t: any) => sum + safeNumber(t.totalWinLoss), 0);\n    const totalRollingCommission = companyTotalRolling;\n    const totalExpenses = companyTotalExpenses;\n\n    // House performance from company perspective (trip_sharing data)\n    const houseGrossWin = Math.abs(companyTotalWinLoss); // Always show absolute value\n    const houseNetWin = Math.abs(companyNetResult - totalExpenses); // Company net after expenses\n    const houseFinalProfit = Math.abs(companyShare); // Final company share\n\n    // Customer metrics\n    const totalCustomers = filteredCustomers.length;\n    const activeCustomers = filteredCustomers.filter((c: any) => c.isActive).length;\n\n    // Agent metrics\n    const totalAgents = agents.length;\n    const activeAgents = agents.filter((a: any) => a.status === 'active').length;\n\n    // Trip metrics\n    const totalTrips = filteredTrips.length;\n    const completedTrips = filteredTrips.filter((t: any) => t.status === 'completed').length;\n    const ongoingTrips = filteredTrips.filter((t: any) => t.status === 'in-progress').length;\n\n    // Performance ratios\n    const profitMargin = companyTotalRolling > 0 ? ((houseFinalProfit / companyTotalRolling) * 100) : 0;\n    const averageRollingPercentage = filteredCustomers.length > 0 \n      ? filteredCustomers.reduce((sum: number, c: any) => sum + c.rollingPercentage, 0) / filteredCustomers.length\n      : 1.4;\n\n    return {\n      customerTotalRolling: companyTotalRolling,\n      customerTotalWinLoss: companyTotalWinLoss,\n      customerTotalBuyIn: companyTotalBuyIn,\n      customerTotalBuyOut: companyTotalBuyOut,\n      tripTotalRolling,\n      tripTotalWinLoss,\n      totalRollingCommission,\n      totalExpenses,\n      houseGrossWin,\n      houseNetWin,\n      houseFinalProfit,\n      totalCustomers,\n      activeCustomers,\n      totalAgents,\n      activeAgents,\n      totalTrips,\n      completedTrips,\n      ongoingTrips,\n      profitMargin,\n      averageRollingPercentage,\n      totalRollingRecords: filteredTrips.length, // Number of trips with sharing data\n      totalBuyInOutRecords: filteredTrips.filter(t => ((t.sharing?.totalBuyIn || 0) > 0) || ((t.sharing?.totalBuyOut || 0) > 0)).length,\n      // Company performance indicators\n      companyNetResult,\n      companyShare,\n      isCompanyProfitable: companyShare > 0\n    };\n  };\n\n  const metrics = calculateMetrics();\n\n  // Prepare chart data from trip_sharing data\n  const getDailyChartData = () => {\n    const dailyData: {[key: string]: any} = {};\n\n    // Process trips by date using trip_sharing data\n    filteredTrips.forEach(trip => {\n      const date = trip.date.split('T')[0]; // Get date part only\n      if (!dailyData[date]) {\n        dailyData[date] = { \n          date, \n          rolling: 0, \n          winLoss: 0, \n          commission: 0, \n          buyIn: 0, \n          buyOut: 0, \n          netCashFlow: 0,\n          expenses: 0,\n          companyShare: 0,\n          recordCount: 0,\n          transactions: 0\n        };\n      }\n      \n      // Use trip_sharing data\n      const sharing = trip.sharing || {};\n      dailyData[date].rolling += safeNumber(sharing.totalRollingCommission);\n      dailyData[date].winLoss += safeNumber(sharing.totalWinLoss);\n      dailyData[date].commission += safeNumber(sharing.totalRollingCommission);\n      dailyData[date].buyIn += safeNumber(sharing.totalBuyIn);\n      dailyData[date].buyOut += safeNumber(sharing.totalBuyOut);\n      dailyData[date].expenses += safeNumber(sharing.totalExpenses);\n      dailyData[date].companyShare += safeNumber(sharing.companyShare);\n      dailyData[date].netCashFlow += safeNumber(sharing.netCashFlow);\n      dailyData[date].recordCount += 1;\n      dailyData[date].transactions += (((sharing.totalBuyIn || 0) > 0) || ((sharing.totalBuyOut || 0) > 0)) ? 1 : 0;\n    });\n\n    return Object.values(dailyData).sort((a: any, b: any) => \n      new Date(a.date).getTime() - new Date(b.date).getTime()\n    );\n  };\n\n  const chartData = getDailyChartData();\n\n  // Agent performance data (admin only)\n  const getAgentPerformanceData = () => {\n    if (user.role !== 'admin') return [];\n\n    return agents.map(agent => {\n      const agentCustomers = filteredCustomers.filter(c => c.agentId === agent.id);\n      const agentRollingRecords = filteredRollingRecords.filter(r => r.agentId === agent.id);\n      const agentBuyInOutRecords = filteredBuyInOutRecords.filter(b => {\n        const customer = customers.find(c => c.id === b.customerId);\n        return customer?.agentId === agent.id;\n      });\n      const agentTrips = filteredTrips.filter(t => \n        (t.agents && t.agents.some(a => a.agentId === agent.id)) ||\n        t.agentId === agent.id\n      );\n      \n      const rolling = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n      const winLoss = agentRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n      const buyIn = agentBuyInOutRecords\n        .filter(r => r.transactionType === 'buy-in')\n        .reduce((sum, r) => sum + r.amount, 0);\n      const buyOut = agentBuyInOutRecords\n        .filter(r => r.transactionType === 'buy-out')\n        .reduce((sum, r) => sum + r.amount, 0);\n      \n      return {\n        name: agent.name,\n        customers: agentCustomers.length,\n        activeCustomers: agentCustomers.filter(c => c.isActive).length,\n        rolling,\n        winLoss,\n        buyIn,\n        buyOut,\n        netCashFlow: buyOut - buyIn,\n        commission: rolling * 0.014,\n        trips: agentTrips.length,\n        rollingRecords: agentRollingRecords.length,\n        buyInOutRecords: agentTrips.filter(t => ((t.sharing?.totalBuyIn || 0) > 0) || ((t.sharing?.totalBuyOut || 0) > 0)).length,\n        averageRollingPercentage: agentCustomers.length > 0 \n          ? agentCustomers.reduce((sum, c) => sum + c.rollingPercentage, 0) / agentCustomers.length\n          : 0\n      };\n    }).filter(agent => agent.rolling > 0 || agent.customers > 0);\n  };\n\n  const agentPerformanceData = getAgentPerformanceData();\n\n  // Top customers data\n  const getTopCustomersData = () => {\n    return filteredCustomers\n      .map(customer => {\n        const customerRollingRecords = filteredRollingRecords.filter(r => r.customerId === customer.id);\n        const customerBuyInOutRecords = filteredBuyInOutRecords.filter(b => b.customerId === customer.id);\n        \n        const rolling = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.rollingAmount), 0);\n        const winLoss = customerRollingRecords.reduce((sum, r) => sum + safeNumber(r.winLoss), 0);\n        const buyIn = customerBuyInOutRecords\n          .filter(r => r.transactionType === 'buy-in')\n          .reduce((sum, r) => sum + r.amount, 0);\n        const buyOut = customerBuyInOutRecords\n          .filter(r => r.transactionType === 'buy-out')\n          .reduce((sum, r) => sum + r.amount, 0);\n\n        return {\n          ...customer,\n          periodRolling: rolling,\n          periodWinLoss: winLoss,\n          periodBuyIn: buyIn,\n          periodBuyOut: buyOut,\n          periodNetCashFlow: buyOut - buyIn,\n          periodCommission: rolling * (customer.rollingPercentage / 100),\n          recordCount: customerRollingRecords.length,\n          transactionCount: customerBuyInOutRecords.length\n        };\n      })\n      .filter(customer => customer.periodRolling > 0)\n      .sort((a, b) => b.periodRolling - a.periodRolling)\n      .slice(0, 10);\n  };\n\n  const topCustomersData = getTopCustomersData();\n\n  // Export functionality\n  const handleExport = () => {\n    const reportData = {\n      generatedAt: new Date().toISOString(),\n      dateRange: dateRange,\n      selectedAgent: selectedAgent,\n      userRole: user.role,\n      summary: metrics,\n      dailyData: chartData,\n      topCustomers: topCustomersData,\n      agentPerformance: agentPerformanceData,\n      rawData: {\n        customers: filteredCustomers.length,\n        trips: filteredTrips.length,\n        rollingRecords: filteredRollingRecords.length,\n        buyInOutRecords: filteredBuyInOutRecords.length\n      }\n    };\n\n    const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `casino-reports-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-2 text-sm text-gray-600\">Loading real-time reports data from Supabase...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Enhanced Real-time Status Header for Reports */}\n      <div className=\"p-4 bg-purple-50 border border-purple-200 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <BarChart3 className=\"w-5 h-5 text-purple-600 mr-3\" />\n            <div>\n              <p className=\"text-sm font-medium text-purple-800\">\n                ðŸ“Š Real-time Reports & Analytics - Live Data from Supabase\n              </p>\n              <p className=\"text-xs text-purple-600\">\n                All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.\n                {lastSyncTime && ` â€¢ Last sync: ${lastSyncTime.toLocaleTimeString()}`}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {refreshing && (\n              <div className=\"flex items-center text-blue-600\">\n                <Activity className=\"w-4 h-4 mr-1 animate-pulse\" />\n                <span className=\"text-xs\">Syncing...</span>\n              </div>\n            )}\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={loadRealTimeReportsData}\n              disabled={refreshing}\n              className=\"text-xs\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Refresh\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={toggleRealTime}\n              className=\"text-xs\"\n            >\n              <Zap className={`w-3 h-3 mr-1 ${isRealTimeEnabled ? 'text-green-500' : 'text-gray-500'}`} />\n              {isRealTimeEnabled ? 'Live' : 'Manual'}\n            </Button>\n            <Badge variant=\"outline\" className={`text-xs ${connectionStatus === 'connected' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>\n              <div className={`w-2 h-2 rounded-full mr-1 ${connectionStatus === 'connected' ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`}></div>\n              {connectionStatus === 'connected' ? 'Live Data' : 'Error'}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Error Alert */}\n      {errorMessage && (\n        <Alert className=\"border-red-200 bg-red-50\">\n          <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            <strong>Reports Error:</strong> {errorMessage}\n            <Button\n              onClick={loadRealTimeReportsData}\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"ml-3 text-red-800 border-red-300 hover:bg-red-100\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              Retry\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Header and Filters */}\n      <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Real-time Reports & Analytics</h2>\n          <p className=\"text-gray-600\">\n            {user.role === 'agent' ? 'Performance overview for your customers' : \n             user.role === 'staff' ? 'Reports for your recorded transactions' :\n             'Comprehensive business analytics'} â€¢ Live data from Supabase\n          </p>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Showing data for last {dateRange} days â€¢ {metrics.totalRollingRecords} rolling records â€¢ {metrics.totalBuyInOutRecords} buy-in/out transactions\n          </p>\n        </div>\n        <div className=\"flex flex-wrap gap-2\">\n          <Select value={dateRange} onValueChange={setDateRange}>\n            <SelectTrigger className=\"w-32\">\n              <SelectValue placeholder=\"Date range\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"7\">Last 7 days</SelectItem>\n              <SelectItem value=\"30\">Last 30 days</SelectItem>\n              <SelectItem value=\"90\">Last 90 days</SelectItem>\n              <SelectItem value=\"365\">Last year</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          {user.role === 'admin' && (\n            <Select value={selectedAgent} onValueChange={setSelectedAgent}>\n              <SelectTrigger className=\"w-40\">\n                <SelectValue placeholder=\"All agents\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Agents</SelectItem>\n                {agents.map((agent) => (\n                  <SelectItem key={agent.id} value={agent.id}>\n                    {agent.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          )}\n\n          <Select value={reportType} onValueChange={setReportType}>\n            <SelectTrigger className=\"w-36\">\n              <SelectValue placeholder=\"Report type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"overview\">Overview</SelectItem>\n              <SelectItem value=\"financial\">Financial</SelectItem>\n              <SelectItem value=\"customer\">Customer</SelectItem>\n              <SelectItem value=\"operational\">Operational</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div>\n        <h3 className=\"text-lg font-medium mb-4\">Key Performance Metrics</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n          <Card className=\"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-blue-800\">Total Rolling</CardTitle>\n              <DollarSign className=\"h-4 w-4 text-blue-600\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-blue-700\">HK${safeFormatNumber(metrics.customerTotalRolling)}</div>\n              <p className=\"text-xs text-blue-600\">\n                {metrics.totalRollingRecords} rolling records â€¢ Last {dateRange} days\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-purple-800\">Commission</CardTitle>\n              <Percent className=\"h-4 w-4 text-purple-600\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-purple-700\">HK${safeFormatNumber(metrics.customerTotalRolling * 0.014)}</div>\n              <p className=\"text-xs text-purple-600\">\n                {metrics.averageRollingPercentage.toFixed(1)}% avg rolling rate\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-r from-green-50 to-green-100 border-green-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-green-800\">House P&L</CardTitle>\n              {metrics.houseGrossWin >= 0 ? (\n                <Trophy className=\"h-4 w-4 text-green-600\" />\n              ) : (\n                <TrendingDown className=\"h-4 w-4 text-red-600\" />\n              )}\n            </CardHeader>\n            <CardContent>\n              <div className={`text-2xl font-bold ${metrics.houseGrossWin >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                HK${safeFormatNumber(Math.abs(metrics.houseGrossWin))}\n              </div>\n              <p className=\"text-xs text-green-600\">\n                {metrics.houseGrossWin >= 0 ? 'House Win' : 'Customer Win'}\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-orange-800\">Cash Flow</CardTitle>\n              <ArrowUpCircle className=\"h-4 w-4 text-orange-600\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-orange-700\">\n                HK${safeFormatNumber(metrics.customerTotalBuyOut - metrics.customerTotalBuyIn)}\n              </div>\n              <p className=\"text-xs text-orange-600\">\n                Net: Buy-out - Buy-in\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Active Customers</CardTitle>\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{metrics.activeCustomers}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                of {metrics.totalCustomers} total customers\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Charts Section */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Daily Rolling Volume & Commission */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Daily Rolling Volume & Commission</CardTitle>\n            <CardDescription>Real-time rolling amounts and calculated commission over time</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <ComposedChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip \n                  formatter={(value, name) => [\n                    `HK$${Number(value).toLocaleString()}`, \n                    name === 'rolling' ? 'Rolling' : name === 'commission' ? 'Commission' : 'Win/Loss'\n                  ]} \n                />\n                <Bar dataKey=\"rolling\" fill=\"#8884d8\" name=\"rolling\" />\n                <Bar dataKey=\"commission\" fill=\"#82ca9d\" name=\"commission\" />\n                <Line type=\"monotone\" dataKey=\"winLoss\" stroke=\"#ff7c7c\" strokeWidth={2} name=\"winLoss\" />\n              </ComposedChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Buy-in/Buy-out Cash Flow */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Daily Cash Flow Analysis</CardTitle>\n            <CardDescription>Buy-in vs Buy-out amounts and net cash flow</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <AreaChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip \n                  formatter={(value, name) => [\n                    `HK$${Number(value).toLocaleString()}`, \n                    name === 'buyIn' ? 'Buy-in' : name === 'buyOut' ? 'Buy-out' : 'Net Flow'\n                  ]} \n                />\n                <Area type=\"monotone\" dataKey=\"buyIn\" stackId=\"1\" stroke=\"#8884d8\" fill=\"#8884d8\" name=\"buyIn\" />\n                <Area type=\"monotone\" dataKey=\"buyOut\" stackId=\"1\" stroke=\"#82ca9d\" fill=\"#82ca9d\" name=\"buyOut\" />\n                <Line type=\"monotone\" dataKey=\"netCashFlow\" stroke=\"#ff7c7c\" strokeWidth={2} name=\"netCashFlow\" />\n              </AreaChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Operational Metrics */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Transaction Volume</CardTitle>\n            <CardDescription>Daily activity levels</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <BarChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Bar dataKey=\"recordCount\" fill=\"#8884d8\" name=\"Rolling Records\" />\n                <Bar dataKey=\"transactions\" fill=\"#82ca9d\" name=\"Buy-in/out\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Performance Summary</CardTitle>\n            <CardDescription>Key operational metrics</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\n                <span className=\"text-sm text-blue-800\">Total Trips</span>\n                <span className=\"font-bold text-blue-700\">{metrics.totalTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\n                <span className=\"text-sm text-green-800\">Completed</span>\n                <span className=\"font-bold text-green-700\">{metrics.completedTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\">\n                <span className=\"text-sm text-orange-800\">Ongoing</span>\n                <span className=\"font-bold text-orange-700\">{metrics.ongoingTrips}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\">\n                <span className=\"text-sm text-purple-800\">Profit Margin</span>\n                <span className=\"font-bold text-purple-700\">{metrics.profitMargin.toFixed(1)}%</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Activity Overview</CardTitle>\n            <CardDescription>Recent period summary</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-3\">\n                <Activity className=\"w-5 h-5 text-blue-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Rolling Records</p>\n                  <p className=\"text-xl font-bold text-blue-600\">{metrics.totalRollingRecords}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <ArrowUpDown className=\"w-5 h-5 text-green-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Buy-in/out Records</p>\n                  <p className=\"text-xl font-bold text-green-600\">{metrics.totalBuyInOutRecords}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <Users className=\"w-5 h-5 text-purple-600\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Active Users</p>\n                  <p className=\"text-xl font-bold text-purple-600\">{metrics.activeCustomers}</p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Top Customers */}\n      {topCustomersData.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Performing Customers</CardTitle>\n            <CardDescription>\n              Highest rolling volume customers for the selected period â€¢ Sorted by rolling amount\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {topCustomersData.map((customer, index) => (\n                <div key={customer.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium\">\n                      {index + 1}\n                    </div>\n                    <div>\n                      <p className=\"font-medium\">{customer.name}</p>\n                      <p className=\"text-sm text-gray-500\">\n                        Agent: {customer.agentName} â€¢ {customer.rollingPercentage}% rolling rate\n                      </p>\n                      <p className=\"text-xs text-gray-400\">\n                        {customer.recordCount} records â€¢ {customer.transactionCount} transactions\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-4 gap-4 text-right text-xs\">\n                    <div>\n                      <div className=\"text-gray-500\">Rolling</div>\n                      <div className=\"font-medium text-blue-600\">HK${safeFormatNumber(customer.periodRolling)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Win/Loss</div>\n                      <div className={`font-medium ${\n                        customer.periodWinLoss >= 0 ? 'text-red-600' : 'text-green-600'\n                      }`}>\n                        {customer.periodWinLoss >= 0 ? '+' : ''}HK${safeFormatNumber(customer.periodWinLoss)}\n                      </div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Commission</div>\n                      <div className=\"font-medium text-purple-600\">HK${safeFormatNumber(customer.periodCommission)}</div>\n                    </div>\n                    <div>\n                      <div className=\"text-gray-500\">Cash Flow</div>\n                      <div className={`font-medium ${\n                        customer.periodNetCashFlow >= 0 ? 'text-green-600' : 'text-red-600'\n                      }`}>\n                        HK${safeFormatNumber(customer.periodNetCashFlow)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Agent Performance (Admin Only) */}\n      {user.role === 'admin' && agentPerformanceData.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Agent Performance Analysis</CardTitle>\n            <CardDescription>\n              Comprehensive performance metrics by agent for the selected period\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Agent\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Customers\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Rolling Volume\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Commission\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Win/Loss\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Cash Flow\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Activity\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {agentPerformanceData.map((agent) => (\n                    <tr key={agent.name} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{agent.name}</div>\n                          <div className=\"text-xs text-gray-500\">{agent.averageRollingPercentage.toFixed(1)}% avg rate</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div>{agent.activeCustomers}/{agent.customers}</div>\n                        <div className=\"text-xs text-gray-400\">active/total</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div className=\"font-medium\">HK${safeFormatNumber(agent.rolling)}</div>\n                        <div className=\"text-xs text-blue-600\">{agent.trips} trips</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium\">\n                        HK${safeFormatNumber(agent.commission)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <span className={agent.winLoss >= 0 ? 'text-red-600' : 'text-green-600'}>\n                          {agent.winLoss >= 0 ? '+' : ''}HK${safeFormatNumber(agent.winLoss)}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                        <div className={`font-medium ${agent.netCashFlow >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                          HK${safeFormatNumber(agent.netCashFlow)}\n                        </div>\n                        <div className=\"text-xs text-gray-400\">\n                          In: HK${safeFormatNumber(agent.buyIn)} â€¢ Out: HK${safeFormatNumber(agent.buyOut)}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        <div>{agent.rollingRecords} rolling</div>\n                        <div className=\"text-xs text-gray-400\">{agent.buyInOutRecords} buy-in/out</div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}