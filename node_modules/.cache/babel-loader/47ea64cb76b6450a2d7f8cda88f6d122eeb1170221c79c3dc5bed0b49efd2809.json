{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/ProjectManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, memo, startTransition } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Textarea } from './ui/textarea';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from './ui/alert-dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from './ui/table';\nimport { db } from '../utils/supabase/supabaseClients';\nimport { apiClient } from '../utils/api/apiClient';\nimport { useLanguage } from '../contexts/LanguageContext';\nimport { isReadOnlyRole, canViewFinancialData } from '../utils/permissions';\nimport { PhotoDisplay } from './common/PhotoDisplay';\nimport { SUPPORTED_CURRENCIES, formatCurrency, formatCurrencyWithSign, getCurrencySymbol } from '../utils/currency';\nimport { MapPin, RefreshCw, Users, DollarSign, Settings, Plus, Trash2, Eye, BarChart, UserCheck, X, Share2, AlertTriangle, Camera, Image, CheckCircle, ChevronDown } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProjectManagementComponent = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(({\n  user\n}) => {\n  var _selectedTrip$custome2, _selectedTrip$custome3, _deletingCustomer$cus, _selectedTrip$custome4, _selectedTrip$agents, _staff, _selectedCustomerForT, _selectedCustomerForR, _staff2, _selectedCustomerForP, _selectedCustomerForP2, _selectedCustomerForP3, _staff3;\n  _s();\n  // Default user if not provided - memoized to prevent recreation\n  const currentUser = useMemo(() => user || {\n    role: 'admin',\n    agentId: null,\n    username: 'admin'\n  }, [user]);\n  const clearError = useCallback(() => {}, []);\n  const showError = useCallback(message => console.error(message), []);\n  const {\n    t\n  } = useLanguage();\n\n  // Memoize permission checks to prevent recalculation\n  const isReadOnly = useMemo(() => isReadOnlyRole(currentUser.role), [currentUser.role]);\n  const canSeeFinancials = useMemo(() => canViewFinancialData(currentUser.role), [currentUser.role]);\n\n  // Memoized utility function for safe number conversion\n  const safeNumber = useCallback(value => {\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  }, []);\n  // Data states\n  const [trips, setTrips] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [staff, setStaff] = useState([]);\n  const [selectedTrip, setSelectedTrip] = useState(null);\n  const [activeTab, setActiveTab] = useState('trips');\n  const [selectedTripTab, setSelectedTripTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  // Trip expenses and sharing states\n  const [tripExpenses, setTripExpenses] = useState([]);\n  const [tripSharing, setTripSharing] = useState(null);\n  const [agentSummary, setAgentSummary] = useState([]);\n\n  // Form states\n  const [showCreateTrip, setShowCreateTrip] = useState(false);\n  const [showAddCustomer, setShowAddCustomer] = useState(false);\n  const [showEditAgent, setShowEditAgent] = useState(false);\n  const [showDeleteAgent, setShowDeleteAgent] = useState(false);\n  const [showAddStaff, setShowAddStaff] = useState(false);\n  const [showAddTransaction, setShowAddTransaction] = useState(false);\n  const [showAddRolling, setShowAddRolling] = useState(false);\n  const [selectedCustomerForTransaction, setSelectedCustomerForTransaction] = useState(null);\n  const [selectedCustomerForRolling, setSelectedCustomerForRolling] = useState(null);\n\n  // Edit transaction/rolling states\n  const [showEditTransaction, setShowEditTransaction] = useState(false);\n  const [showEditRolling, setShowEditRolling] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState(null);\n  const [editingRolling, setEditingRolling] = useState(null);\n  const [showHistory, setShowHistory] = useState({});\n  const [customerTransactions, setCustomerTransactions] = useState({});\n  const [customerRollings, setCustomerRollings] = useState({});\n\n  // Profit sharing rate edit states\n  const [showEditProfitSharing, setShowEditProfitSharing] = useState(false);\n  const [editingProfitSharing, setEditingProfitSharing] = useState(null);\n  const [newProfitSharingRate, setNewProfitSharingRate] = useState(0);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [showEditExpense, setShowEditExpense] = useState(false);\n  const [editingExpense, setEditingExpense] = useState(null);\n  const [showDeleteExpense, setShowDeleteExpense] = useState(false);\n  const [deletingExpense, setDeletingExpense] = useState(null);\n  const [showCustomerPhotos, setShowCustomerPhotos] = useState(false);\n  const [selectedCustomerForPhotos, setSelectedCustomerForPhotos] = useState(null);\n  const [customerPhotos, setCustomerPhotos] = useState([]);\n  const [showDeleteCustomer, setShowDeleteCustomer] = useState(false);\n  const [deletingCustomer, setDeletingCustomer] = useState(null);\n  const [expensesLoading, setExpensesLoading] = useState(false);\n  const [sharingLoading, setSharingLoading] = useState(false);\n\n  // Transaction and Rolling form states - memoized initial values\n  const initialTransactionForm = useMemo(() => ({\n    type: 'buy-in',\n    amount: '',\n    venue: '',\n    datetime: new Date().toISOString().slice(0, 16)\n  }), []);\n  const initialRollingForm = useMemo(() => ({\n    amount: '',\n    staff_id: '',\n    game_type: 'baccarat',\n    venue: '',\n    datetime: new Date().toISOString().slice(0, 16),\n    commission_rate: '0.014'\n  }), []);\n  const [transactionForm, setTransactionForm] = useState(initialTransactionForm);\n  const [rollingForm, setRollingForm] = useState(initialRollingForm);\n\n  // Form data states\n  const [newTrip, setNewTrip] = useState({\n    name: '',\n    description: '',\n    date: '',\n    endDate: '',\n    venue: '',\n    budget: '',\n    status: 'active',\n    currency: 'HKD',\n    exchange_rate_peso: 1.0000,\n    exchange_rate_hkd: 1.0000,\n    exchange_rate_myr: 1.0000\n  });\n\n  // Dynamic currency viewing state - initialize with trip's default currency\n  const [viewingCurrency, setViewingCurrency] = useState('HKD');\n\n  // Performance monitoring and optimization\n  const [renderCount, setRenderCount] = useState(0);\n  const [isLowPerformanceMode, setIsLowPerformanceMode] = useState(false);\n  useEffect(() => {\n    setRenderCount(prev => prev + 1);\n    if (renderCount > 0 && renderCount % 10 === 0) {\n      console.log(`🔄 ProjectManagement rendered ${renderCount} times`);\n      // Enable low performance mode if too many renders\n      if (renderCount > 50) {\n        setIsLowPerformanceMode(true);\n        console.warn('⚠️ Enabling low performance mode due to excessive renders');\n      }\n    }\n  });\n\n  // Throttle state updates in low performance mode\n  const throttledSetState = useCallback((setter, value) => {\n    if (isLowPerformanceMode) {\n      startTransition(() => {\n        setter(value);\n      });\n    } else {\n      setter(value);\n    }\n  }, [isLowPerformanceMode]);\n\n  // Customer search state for Add Customer dialog with debouncing\n  const [customerSearchTerm, setCustomerSearchTerm] = useState('');\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\n\n  // Debounce search term to improve performance\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchTerm(customerSearchTerm);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [customerSearchTerm]);\n\n  // Clear customer search term when Add Customer dialog is closed\n  useEffect(() => {\n    if (!showAddCustomer) {\n      setCustomerSearchTerm('');\n      setDebouncedSearchTerm('');\n    }\n  }, [showAddCustomer]);\n\n  // Advanced data caching and virtualization\n  const [dataCache, setDataCache] = useState(new Map());\n  const [visibleRange, setVisibleRange] = useState({\n    start: 0,\n    end: 50\n  });\n\n  // Memoize filtered customers with virtualization support\n  const filteredCustomers = useMemo(() => {\n    const cacheKey = `customers_${debouncedSearchTerm}_${customers.length}`;\n    if (dataCache.has(cacheKey)) {\n      return dataCache.get(cacheKey);\n    }\n    let result;\n    if (!debouncedSearchTerm) {\n      result = customers;\n    } else {\n      result = customers.filter(customer => {\n        var _customer$name, _customer$email, _customer$phone;\n        return ((_customer$name = customer.name) === null || _customer$name === void 0 ? void 0 : _customer$name.toLowerCase().includes(debouncedSearchTerm.toLowerCase())) || ((_customer$email = customer.email) === null || _customer$email === void 0 ? void 0 : _customer$email.toLowerCase().includes(debouncedSearchTerm.toLowerCase())) || ((_customer$phone = customer.phone) === null || _customer$phone === void 0 ? void 0 : _customer$phone.includes(debouncedSearchTerm));\n      });\n    }\n\n    // Cache the result\n    setDataCache(prev => new Map(prev.set(cacheKey, result)));\n    return result;\n  }, [customers, debouncedSearchTerm, dataCache]);\n\n  // Virtual list for large datasets\n  const visibleCustomers = useMemo(() => {\n    if (filteredCustomers.length <= 100) return filteredCustomers;\n    return filteredCustomers.slice(visibleRange.start, visibleRange.end);\n  }, [filteredCustomers, visibleRange]);\n\n  // Intersection Observer for virtual scrolling\n  const observerCallback = useCallback(entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        setVisibleRange(prev => ({\n          start: Math.max(0, prev.start),\n          end: Math.min(filteredCustomers.length, prev.end + 25)\n        }));\n      }\n    });\n  }, [filteredCustomers.length]);\n\n  // Update viewing currency when selected trip changes\n  useEffect(() => {\n    if (selectedTrip !== null && selectedTrip !== void 0 && selectedTrip.currency) {\n      setViewingCurrency(selectedTrip.currency);\n      console.log('🔄 Trip changed, updating viewing currency:', {\n        tripId: selectedTrip.id,\n        tripCurrency: selectedTrip.currency,\n        exchangeRates: {\n          peso: selectedTrip.exchange_rate_peso,\n          hkd: selectedTrip.exchange_rate_hkd,\n          myr: selectedTrip.exchange_rate_myr\n        }\n      });\n    }\n  }, [selectedTrip]);\n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: 0,\n    category: 'flight',\n    datetime: new Date().toISOString().slice(0, 16) // YYYY-MM-DDTHH:mm format\n  });\n  const [editAgentShare, setEditAgentShare] = useState(25);\n  const [editingAgent, setEditingAgent] = useState(null);\n  const [deletingAgent, setDeletingAgent] = useState(null);\n\n  // Helper functions\n  const safeFormatNumber = value => {\n    if (value === undefined || value === null || isNaN(value)) return '0';\n    return value.toLocaleString();\n  };\n\n  // Filter customers by search term for Add Customer dialog\n  const filterCustomersBySearch = (customers, searchTerm) => {\n    if (!searchTerm.trim()) return customers;\n    const term = searchTerm.toLowerCase().trim();\n    return customers.filter(customer => {\n      var _customer$name2, _customer$email2, _customer$agentName;\n      return ((_customer$name2 = customer.name) === null || _customer$name2 === void 0 ? void 0 : _customer$name2.toLowerCase().includes(term)) || ((_customer$email2 = customer.email) === null || _customer$email2 === void 0 ? void 0 : _customer$email2.toLowerCase().includes(term)) || ((_customer$agentName = customer.agentName) === null || _customer$agentName === void 0 ? void 0 : _customer$agentName.toLowerCase().includes(term));\n    });\n  };\n\n  // Permissions\n  const isAdmin = currentUser.role === 'admin';\n  const isAgent = currentUser.role === 'agent' && currentUser.agentId;\n  const loadTripExpenses = useCallback(async tripId => {\n    try {\n      setExpensesLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/expenses`);\n      if (response.success) {\n        setTripExpenses(response.data.expenses || []);\n      }\n    } catch (error) {\n      console.error('Error loading trip expenses:', error);\n      showError('Failed to load trip expenses');\n    } finally {\n      setExpensesLoading(false);\n    }\n  }, [showError]);\n  const loadTripSharing = useCallback(async tripId => {\n    try {\n      setSharingLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/sharing`);\n      if (response.success) {\n        setTripSharing(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip sharing:', error);\n      showError('Failed to load trip sharing');\n    } finally {\n      setSharingLoading(false);\n    }\n  }, [showError]);\n\n  // Load agent summary data from trip_agent_summary table\n  const loadAgentSummary = useCallback(async tripId => {\n    try {\n      console.log('📊 Loading agent summary for trip:', tripId);\n      const response = await apiClient.getTripAgentSummary(tripId);\n      console.log('📊 Agent summary API response:', response);\n      if (response.success) {\n        console.log('✅ Agent summary data:', response.data);\n        setAgentSummary(Array.isArray(response.data) ? response.data : []);\n      } else {\n        console.log('❌ Agent summary API failed:', response);\n        setAgentSummary([]);\n      }\n    } catch (error) {\n      console.error('Error loading agent summary:', error);\n      showError('Failed to load agent summary');\n      setAgentSummary([]);\n    }\n  }, [showError]);\n\n  // Load customer photos (transaction and rolling photos)\n  const loadCustomerPhotos = useCallback(async (customerId, tripId) => {\n    try {\n      console.log('🔍 Loading customer photos for:', {\n        customerId,\n        tripId\n      });\n      const response = await apiClient.get(`/trips/${tripId}/customers/${customerId}/photos`);\n      if (response.success) {\n        console.log('📸 Customer photos loaded:', response.data);\n        setCustomerPhotos(response.data || []);\n      } else {\n        console.log('❌ Failed to load customer photos:', response.error);\n        setCustomerPhotos([]);\n      }\n    } catch (error) {\n      console.error('❌ Error loading customer photos:', error);\n      setCustomerPhotos([]);\n    }\n  }, []);\n\n  // Handle viewing customer photos\n  const handleViewCustomerPhotos = async tripCustomer => {\n    if (!selectedTrip) return;\n    const customerId = tripCustomer.customerId || tripCustomer.customer_id;\n    setSelectedCustomerForPhotos(tripCustomer);\n    setShowCustomerPhotos(true);\n\n    // Load photos for this customer\n    await loadCustomerPhotos(customerId, selectedTrip.id);\n  };\n  const updateCommissionRate = async (agentId, customerId, commissionRate) => {\n    try {\n      if (!selectedTrip) return;\n      setSaving(true);\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/agents/${agentId}/commission`, {\n        customer_id: customerId,\n        profit_sharing_rate: commissionRate\n      });\n      if (response.success) {\n        // Reload agent summary to reflect the change\n        await loadAgentSummary(selectedTrip.id);\n        console.log('Commission rate updated successfully');\n      } else {\n        showError('Failed to update commission rate');\n      }\n    } catch (error) {\n      console.error('Error updating commission rate:', error);\n      showError('Failed to update commission rate');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle opening profit sharing rate edit dialog\n  const handleEditProfitSharing = (agentId, customer, agentName) => {\n    setEditingProfitSharing({\n      agentId,\n      customerId: customer.customer_id,\n      customerName: customer.customer_name,\n      agentName,\n      currentRate: customer.profit_sharing_rate || 0,\n      customerNetResult: 0 // Will be calculated from customer stats\n    });\n    setNewProfitSharingRate(customer.profit_sharing_rate || 0);\n    setShowEditProfitSharing(true);\n  };\n\n  // Handle updating profit sharing rate from dialog\n  const handleUpdateProfitSharing = async () => {\n    if (!editingProfitSharing) return;\n    await updateCommissionRate(editingProfitSharing.agentId, editingProfitSharing.customerId, newProfitSharingRate);\n    setShowEditProfitSharing(false);\n    setEditingProfitSharing(null);\n    setNewProfitSharingRate(0);\n  };\n\n  // Calculate projected profit share based on customer net result and sharing rate\n  const calculateProjectedProfitShare = (customerNetResult, sharingRate) => {\n    if (customerNetResult <= 0) return 0; // Only positive net results generate profit share\n    return customerNetResult * sharingRate / 100;\n  };\n  const addTripExpense = async (tripId, expenseData) => {\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${tripId}/expenses`, expenseData);\n      if (response.success && selectedTrip) {\n        await selectTrip(selectedTrip);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding trip expense:', error);\n      showError('Failed to add trip expense');\n      return false;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Enhanced data loading with better error handling and caching\n  const loadAllRealTimeData = useCallback(async (forceRefresh = false) => {\n    try {\n      if (!forceRefresh && dataLoaded && trips.length > 0) {\n        console.log('📋 Using cached data, skipping reload');\n        return;\n      }\n      setLoading(true);\n      setErrorMessage('');\n      clearError();\n\n      // First ensure we have authentication\n      const token = await tokenManager.getToken();\n      if (!token) {\n        console.log('❌ No authentication token available, attempting auto-login...');\n\n        // Try to auto-login with admin credentials\n        try {\n          var _loginData$data;\n          const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const loginResponse = await fetch(`${apiUrl}/auth/login`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'admin',\n              password: 'admin123'\n            })\n          });\n          const loginData = await loginResponse.json();\n          if (loginData.success && (_loginData$data = loginData.data) !== null && _loginData$data !== void 0 && _loginData$data.token) {\n            console.log('✅ Auto-login successful');\n            tokenManager.setToken(loginData.data.token);\n\n            // Store user data in localStorage for consistency\n            const userData = {\n              ...loginData.data.user,\n              token: loginData.data.token\n            };\n            localStorage.setItem('casinoUser', JSON.stringify(userData));\n          } else {\n            console.log('❌ Auto-login failed:', loginData);\n            setErrorMessage('Authentication required. Please login first.');\n            setLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('❌ Auto-login error:', error);\n          setErrorMessage('Authentication failed. Please check your connection.');\n          setLoading(false);\n          return;\n        }\n      }\n\n      // Load basic data first (fast) - no role filtering at database level\n      console.log('🔍 Loading data for user role:', currentUser.role);\n      const [tripsData, customersData, agentsData, staffResponse] = await Promise.all([db.get('trips', []), db.get('customers', []), db.get('agents', []), apiClient.get('/staffs')]);\n      console.log('📊 Raw data loaded:', {\n        trips: (tripsData === null || tripsData === void 0 ? void 0 : tripsData.length) || 0,\n        customers: (customersData === null || customersData === void 0 ? void 0 : customersData.length) || 0,\n        agents: (agentsData === null || agentsData === void 0 ? void 0 : agentsData.length) || 0,\n        userRole: currentUser.role\n      });\n\n      // Extract staff data from API response\n      const staffData = staffResponse.success ? staffResponse.data : [];\n\n      // Transform trips with basic data only (no heavy API calls)\n      const transformedTrips = (tripsData || []).map(trip => {\n        var _trip$name, _trip$trip_name;\n        return {\n          id: trip.id,\n          name: trip.trip_name || trip.name || 'Unnamed Trip',\n          description: trip.description || '',\n          date: trip.start_date || trip.date,\n          startDate: trip.start_date || trip.date,\n          endDate: trip.end_date || trip.endDate,\n          status: trip.status || 'active',\n          budget: trip.total_budget || 0,\n          createdAt: trip.created_at || new Date().toISOString(),\n          currency: trip.currency || 'HKD',\n          exchange_rate_peso: trip.exchange_rate_peso || 1.0,\n          exchange_rate_hkd: trip.exchange_rate_hkd || 1.0,\n          exchange_rate_myr: trip.exchange_rate_myr || ((_trip$name = trip.name) !== null && _trip$name !== void 0 && _trip$name.toLowerCase().includes('manila') || (_trip$trip_name = trip.trip_name) !== null && _trip$trip_name !== void 0 && _trip$trip_name.toLowerCase().includes('manila') ? 0.6 : 1.0),\n          customers: [],\n          agents: [],\n          expenses: [],\n          totalRolling: 0,\n          totalWinLoss: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          calculatedTotalRolling: 0,\n          sharing: {\n            totalWinLoss: 0,\n            totalExpenses: 0,\n            totalRollingCommission: 0,\n            totalBuyIn: 0,\n            totalBuyOut: 0,\n            netResult: 0,\n            netCashFlow: 0,\n            totalAgentShare: 0,\n            companyShare: 0,\n            agentSharePercentage: 0,\n            companySharePercentage: 100,\n            agentShares: [],\n            agentBreakdown: []\n          },\n          attachments: [],\n          lastDataUpdate: new Date().toISOString(),\n          activeCustomersCount: 0,\n          recentActivityCount: 0,\n          totalExpenses: 0,\n          _dataLoaded: false\n        };\n      });\n\n      // Set state with basic data immediately for fast UI response\n      setTrips(transformedTrips);\n      setCustomers(customersData || []);\n      setAgents(agentsData || []);\n      setStaff(staffData || []);\n      setDataLoaded(true);\n      console.log(`✅ Basic project data loaded quickly: ${transformedTrips.length} trips`);\n\n      // Load detailed trip data in background (lazy loading with throttling)\n      if (transformedTrips.length > 0) {\n        setTimeout(async () => {\n          try {\n            // Process trips in batches to avoid overwhelming the server\n            const batchSize = 3;\n            const enrichedTrips = [];\n            for (let i = 0; i < transformedTrips.length; i += batchSize) {\n              const batch = transformedTrips.slice(i, i + batchSize);\n              const batchResults = await Promise.all(batch.map(async trip => {\n                try {\n                  // Use Promise.allSettled to prevent one failure from blocking others\n                  const [statsResult, sharingResult, customersResult] = await Promise.allSettled([apiClient.get(`/trips/${trip.id}/statistics`), apiClient.get(`/trips/${trip.id}/sharing`), apiClient.get(`/trips/${trip.id}/customer-stats`)]);\n                  const tripStats = statsResult.status === 'fulfilled' && statsResult.value.success ? statsResult.value.data : null;\n                  const tripSharing = sharingResult.status === 'fulfilled' && sharingResult.value.success ? sharingResult.value.data : null;\n                  const tripCustomers = customersResult.status === 'fulfilled' && customersResult.value.success ? customersResult.value.data : [];\n                  const statsRoot = (tripStats === null || tripStats === void 0 ? void 0 : tripStats.statistics) || tripStats;\n                  return {\n                    ...trip,\n                    customers: tripCustomers,\n                    totalRolling: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_rolling) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_rolling) || 0,\n                    totalWinLoss: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.net_profit) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.net_profit) || 0,\n                    totalBuyIn: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_buy_in) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_buy_in) || 0,\n                    totalBuyOut: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_cash_out) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_cash_out) || 0,\n                    calculatedTotalRolling: (statsRoot === null || statsRoot === void 0 ? void 0 : statsRoot.total_rolling) || (tripStats === null || tripStats === void 0 ? void 0 : tripStats.total_rolling) || 0,\n                    sharing: {\n                      total_rolling: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_rolling) || 0,\n                      total_expenses: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_expenses) || 0,\n                      net_result: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.net_result) || 0,\n                      totalWinLoss: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_win_loss) || 0,\n                      totalRollingCommission: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_rolling_commission) || 0,\n                      totalBuyIn: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_buy_in) || 0,\n                      totalBuyOut: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_buy_out) || 0,\n                      netCashFlow: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.net_cash_flow) || 0,\n                      totalAgentShare: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_agent_share) || 0,\n                      companyShare: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.company_share) || 0,\n                      agentSharePercentage: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_share_percentage) || 0,\n                      companySharePercentage: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.company_share_percentage) || 100,\n                      agentShares: [],\n                      agentBreakdown: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_breakdown) || []\n                    },\n                    totalExpenses: (tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.total_expenses) || 0,\n                    _dataLoaded: true\n                  };\n                } catch (error) {\n                  console.warn(`Failed to load detailed data for trip ${trip.id}:`, error);\n                  return {\n                    ...trip,\n                    _dataLoaded: false\n                  };\n                }\n              }));\n              enrichedTrips.push(...batchResults);\n\n              // Add small delay between batches to prevent overwhelming the server\n              if (i + batchSize < transformedTrips.length) {\n                await new Promise(resolve => setTimeout(resolve, 50));\n              }\n            }\n\n            // Update trips with detailed data\n            setTrips(enrichedTrips);\n            console.log('✅ Detailed trip data loaded in background');\n          } catch (error) {\n            console.warn('Background data loading failed:', error);\n          }\n        }, 100); // Load detailed data after 100ms\n      }\n    } catch (error) {\n      console.error('❌ Error loading data:', error);\n      setErrorMessage(`Failed to load project data: ${error}`);\n      showError('Failed to load project data');\n    } finally {\n      setLoading(false);\n    }\n  }, [dataLoaded, trips.length, showError, clearError, currentUser.role]);\n\n  // Initial data load only\n  useEffect(() => {\n    loadAllRealTimeData(true);\n  }, [loadAllRealTimeData]);\n\n  // Load detailed data when trip is selected\n  useEffect(() => {\n    if (selectedTrip) {\n      console.log('🎯 Loading detailed data for selected trip:', {\n        tripId: selectedTrip.id,\n        tripName: selectedTrip.name,\n        customers: selectedTrip.customers,\n        agents: selectedTrip.agents\n      });\n      loadTripExpenses(selectedTrip.id);\n      loadTripSharing(selectedTrip.id);\n    }\n  }, [selectedTrip, loadTripExpenses, loadTripSharing]);\n\n  // Filter trips based on user role\n  const getFilteredTrips = () => {\n    if (currentUser.role === 'agent' && currentUser.agentId) {\n      return trips.filter(trip => trip.agents && trip.agents.some(agent => agent.agentId === currentUser.agentId));\n    }\n    // Boss and admin roles can see all trips\n    return trips;\n  };\n\n  // Save trips to database\n  const saveTrips = async updatedTrips => {\n    try {\n      setSaving(true);\n      await db.save('trips', updatedTrips);\n      setTrips(updatedTrips);\n      console.log('✅ Trips saved to Supabase');\n    } catch (error) {\n      console.error('❌ Error saving trips:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to save trips: ${errorMessage}`);\n      throw error;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Create new trip\n  const handleCreateTrip = async () => {\n    if (!newTrip.name.trim() || !newTrip.date || !newTrip.venue) {\n      showError('Please fill in all required fields (Name, Date, Venue)');\n      return;\n    }\n    try {\n      setSaving(true);\n\n      // Prepare data for backend API\n      const tripData = {\n        trip_name: newTrip.name,\n        destination: newTrip.venue,\n        start_date: newTrip.date,\n        end_date: newTrip.endDate || newTrip.date,\n        total_budget: parseFloat(newTrip.budget) || 0,\n        description: newTrip.description || '',\n        status: newTrip.status,\n        currency: newTrip.currency,\n        exchange_rate_peso: newTrip.exchange_rate_peso,\n        exchange_rate_hkd: newTrip.exchange_rate_hkd,\n        exchange_rate_myr: newTrip.exchange_rate_myr\n      };\n      console.log('Creating trip with data:', tripData);\n\n      // Call backend API to create trip\n      const response = await apiClient.post('/trips', tripData);\n      if (response.success) {\n        console.log('✅ Trip created successfully:', response.data);\n\n        // Refresh trips list\n        await loadAllRealTimeData();\n        setShowCreateTrip(false);\n        setNewTrip({\n          name: '',\n          description: '',\n          date: '',\n          endDate: '',\n          venue: '',\n          budget: '',\n          status: 'active',\n          currency: 'HKD',\n          exchange_rate_peso: 1.0000,\n          exchange_rate_hkd: 1.0000,\n          exchange_rate_myr: 1.0000\n        });\n        console.log('✅ Trip created successfully:', response.data.trip_name);\n      } else {\n        throw new Error(response.error || 'Failed to create trip');\n      }\n    } catch (error) {\n      console.error('❌ Error creating trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Select trip for detailed view with comprehensive backend data\n  const selectTrip = async trip => {\n    console.log('🎯 Selecting trip for details:', trip.name);\n    try {\n      var _expensesResponse$dat, _customersResponse$da, _statisticsResponse$d, _statisticsResponse$d2, _statisticsResponse$d3, _statisticsResponse$d4, _statisticsResponse$d5, _statisticsResponse$d6, _statisticsResponse$d7, _statisticsResponse$d8;\n      setLoading(true);\n\n      // Load comprehensive trip data from backend API\n      const [customersResponse, expensesResponse, sharingResponse, statisticsResponse, transactionsResponse, agentsResponse, staffResponse] = await Promise.all([apiClient.get(`/trips/${trip.id}/customer-stats`), apiClient.get(`/trips/${trip.id}/expenses`), apiClient.get(`/trips/${trip.id}/sharing`), apiClient.get(`/trips/${trip.id}/statistics`), apiClient.get(`/trips/${trip.id}/transactions`), apiClient.get(`/trips/${trip.id}/agents`), apiClient.get(`/trips/${trip.id}/staff`)]);\n      console.log('📊 Backend API responses:', {\n        customers: customersResponse,\n        expenses: expensesResponse,\n        sharing: sharingResponse,\n        statistics: statisticsResponse,\n        transactions: transactionsResponse,\n        agents: agentsResponse,\n        staff: staffResponse\n      });\n\n      // Create enriched trip object with actual backend data\n      const enrichedTrip = {\n        ...trip,\n        customers: customersResponse.success ? customersResponse.data : [],\n        expenses: expensesResponse.success ? ((_expensesResponse$dat = expensesResponse.data) === null || _expensesResponse$dat === void 0 ? void 0 : _expensesResponse$dat.expenses) || [] : [],\n        agents: agentsResponse.success ? agentsResponse.data : [],\n        staff: staffResponse.success ? staffResponse.data : [],\n        sharing: sharingResponse.success ? sharingResponse.data : trip.sharing,\n        statistics: statisticsResponse.success ? statisticsResponse.data : null,\n        transactions: transactionsResponse.success ? transactionsResponse.data : [],\n        activeCustomersCount: customersResponse.success ? ((_customersResponse$da = customersResponse.data) === null || _customersResponse$da === void 0 ? void 0 : _customersResponse$da.length) || 0 : trip.activeCustomersCount || 0,\n        backendData: {\n          totalBuyIn: statisticsResponse.success ? ((_statisticsResponse$d = statisticsResponse.data) === null || _statisticsResponse$d === void 0 ? void 0 : (_statisticsResponse$d2 = _statisticsResponse$d.statistics) === null || _statisticsResponse$d2 === void 0 ? void 0 : _statisticsResponse$d2.total_buy_in) || 0 : 0,\n          totalCashOut: statisticsResponse.success ? ((_statisticsResponse$d3 = statisticsResponse.data) === null || _statisticsResponse$d3 === void 0 ? void 0 : (_statisticsResponse$d4 = _statisticsResponse$d3.statistics) === null || _statisticsResponse$d4 === void 0 ? void 0 : _statisticsResponse$d4.total_cash_out) || 0 : 0,\n          totalWinLoss: statisticsResponse.success ? ((_statisticsResponse$d5 = statisticsResponse.data) === null || _statisticsResponse$d5 === void 0 ? void 0 : (_statisticsResponse$d6 = _statisticsResponse$d5.statistics) === null || _statisticsResponse$d6 === void 0 ? void 0 : _statisticsResponse$d6.total_win_loss) || 0 : 0,\n          profitMargin: statisticsResponse.success ? ((_statisticsResponse$d7 = statisticsResponse.data) === null || _statisticsResponse$d7 === void 0 ? void 0 : (_statisticsResponse$d8 = _statisticsResponse$d7.statistics) === null || _statisticsResponse$d8 === void 0 ? void 0 : _statisticsResponse$d8.profit_margin) || 0 : 0,\n          customerStatsLoaded: customersResponse.success,\n          expensesLoaded: expensesResponse.success,\n          agentsLoaded: agentsResponse.success,\n          sharingLoaded: sharingResponse.success,\n          statisticsLoaded: statisticsResponse.success,\n          transactionsLoaded: transactionsResponse.success\n        }\n      };\n\n      // Calculate financial totals from actual backend data\n      if (enrichedTrip.customers && enrichedTrip.customers.length > 0) {\n        enrichedTrip.totalBuyIn = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.total_buy_in), 0);\n        enrichedTrip.totalBuyOut = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.total_cash_out), 0);\n        enrichedTrip.totalRolling = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.rolling_amount), 0);\n        enrichedTrip.totalWinLoss = enrichedTrip.customers.reduce((sum, c) => sum + safeNumber(c.net_result), 0);\n      }\n      if (enrichedTrip.expenses && enrichedTrip.expenses.length > 0) {\n        enrichedTrip.totalExpenses = enrichedTrip.expenses.reduce((sum, e) => sum + safeNumber(e.amount), 0);\n      }\n      console.log('📊 Enriched trip with backend data:', enrichedTrip);\n\n      // Update state variables for tabs to display backend data\n      setTripExpenses(enrichedTrip.expenses || []);\n      setTripSharing(enrichedTrip.sharing || null);\n\n      // Load agent summary data from trip_agent_summary table\n      await loadAgentSummary(trip.id);\n\n      // Backend data status is already included in the initial backendData object\n\n      setSelectedTrip(enrichedTrip);\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } catch (error) {\n      console.error('❌ Error loading trip details:', error);\n      setSelectedTrip(trip); // Fallback to original trip data\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add customer to trip - memoized to prevent recreations\n  const handleAddCustomerToTrip = useCallback(async customerId => {\n    if (!selectedTrip) return;\n    const customer = customers.find(c => c.id === customerId);\n    if (!customer) return;\n    if (selectedTrip.customers.some(tc => tc.customerId === customerId || tc.customer_id === customerId)) {\n      showError('Customer is already added to this trip');\n      return;\n    }\n    setSaving(true);\n    try {\n      // Make API call to add customer to trip\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/customers`, {\n        customer_id: customerId\n      });\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to add customer to trip');\n      }\n      console.log('✅ Customer added to trip via API:', customer.name);\n\n      // Refresh trip data completely to show new customer\n      await selectTrip(selectedTrip);\n      setShowAddCustomer(false);\n    } catch (error) {\n      console.error('❌ Error adding customer to trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to add customer to trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  }, [selectedTrip, customers, showError]);\n\n  // Confirm and remove customer from trip\n  const confirmRemoveCustomerFromTrip = async () => {\n    if (!deletingCustomer) return;\n    const customerId = deletingCustomer.customerId || deletingCustomer.customer_id;\n    setShowDeleteCustomer(false);\n    setDeletingCustomer(null);\n    await handleRemoveCustomerFromTrip(customerId);\n  };\n\n  // Remove customer from trip\n  const handleRemoveCustomerFromTrip = async customerId => {\n    if (!selectedTrip) return;\n    console.log('🔄 Starting delete customer process:', {\n      customerId,\n      tripId: selectedTrip.id\n    });\n    setSaving(true);\n    try {\n      // Make API call to remove customer from trip\n      console.log('📡 Making API call to delete customer...');\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/customers/${customerId}`);\n      console.log('📨 API Response:', response);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove customer from trip');\n      }\n      console.log('✅ Customer removed from trip via API successfully');\n\n      // Refresh trip data to get updated customer list\n      console.log('🔄 Refreshing trip data...');\n      await selectTrip(selectedTrip);\n      console.log('✅ Trip data refreshed after customer removal');\n    } catch (error) {\n      console.error('❌ Error removing customer from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove customer from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Add staff to trip\n  const handleAddStaffToTrip = async staffId => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/staff`, {\n        staff_id: staffId\n      });\n      if (response.success) {\n        console.log(' Staff added to trip via API');\n\n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        setShowAddStaff(false);\n      } else {\n        showError(response.error || 'Failed to add staff to trip');\n      }\n    } catch (error) {\n      console.error('Error adding staff to trip:', error);\n      showError('Failed to add staff to trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove staff from trip\n  const handleRemoveStaffFromTrip = async staffId => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n    try {\n      setSaving(true);\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/staff/${staffId}`);\n      if (response.success) {\n        console.log(' Staff removed from trip via API');\n\n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n      } else {\n        showError(response.error || 'Failed to remove staff from trip');\n      }\n    } catch (error) {\n      console.error('Error removing staff from trip:', error);\n      showError('Failed to remove staff from trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Load customer transaction history\n  const loadCustomerTransactions = async (customerId, tripId) => {\n    try {\n      const response = await apiClient.getCustomerTransactions(customerId, tripId);\n      if (response.success) {\n        setCustomerTransactions(prev => ({\n          ...prev,\n          [customerId]: Array.isArray(response.data) ? response.data : []\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading customer transactions:', error);\n    }\n  };\n\n  // Load customer rolling history\n  const loadCustomerRollings = async (customerId, tripId) => {\n    try {\n      const response = await apiClient.getCustomerRollings(customerId, tripId);\n      if (response.success) {\n        setCustomerRollings(prev => ({\n          ...prev,\n          [customerId]: Array.isArray(response.data) ? response.data : []\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading customer rollings:', error);\n    }\n  };\n\n  // Toggle history visibility (both transaction and rolling)\n  const toggleHistoryVisibility = async customerId => {\n    const isCurrentlyShown = showHistory[customerId];\n    setShowHistory(prev => ({\n      ...prev,\n      [customerId]: !isCurrentlyShown\n    }));\n    if (!isCurrentlyShown && selectedTrip) {\n      // Load both transaction and rolling history when expanding\n      await loadCustomerTransactions(customerId, selectedTrip.id);\n      await loadCustomerRollings(customerId, selectedTrip.id);\n    }\n  };\n\n  // Handle edit transaction\n  const handleEditTransaction = transaction => {\n    setEditingTransaction(transaction);\n    setTransactionForm({\n      type: transaction.transaction_type || transaction.type,\n      amount: String(transaction.amount || ''),\n      venue: transaction.venue || '',\n      datetime: transaction.created_at ? new Date(transaction.created_at).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16)\n    });\n    setShowEditTransaction(true);\n  };\n\n  // Handle update transaction\n  const handleUpdateTransaction = async () => {\n    if (!editingTransaction || !selectedTrip) return;\n    setSaving(true);\n    try {\n      const transactionData = {\n        transaction_type: transactionForm.type,\n        amount: parseFloat(transactionForm.amount),\n        venue: transactionForm.venue || null,\n        updated_at: new Date().toISOString()\n      };\n      const response = await apiClient.updateTransaction(editingTransaction.id, transactionData);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = editingTransaction.customer_id || editingTransaction.customerId;\n        if (customerId) {\n          await loadCustomerTransactions(customerId, selectedTrip.id);\n        }\n        setShowEditTransaction(false);\n        setEditingTransaction(null);\n        setTransactionForm({\n          type: 'buy-in',\n          amount: '',\n          venue: '',\n          datetime: new Date().toISOString().slice(0, 16)\n        });\n      } else {\n        showError('Failed to update transaction');\n      }\n    } catch (error) {\n      console.error('Error updating transaction:', error);\n      showError('Failed to update transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle delete transaction\n  const handleDeleteTransaction = async transaction => {\n    if (!selectedTrip || !window.confirm('Are you sure you want to delete this transaction?')) return;\n    setSaving(true);\n    try {\n      const response = await apiClient.deleteTransaction(transaction.id);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = transaction.customer_id || transaction.customerId;\n        if (customerId) {\n          await loadCustomerTransactions(customerId, selectedTrip.id);\n        }\n      } else {\n        showError('Failed to delete transaction');\n      }\n    } catch (error) {\n      console.error('Error deleting transaction:', error);\n      showError('Failed to delete transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle edit rolling\n  const handleEditRolling = rolling => {\n    setEditingRolling(rolling);\n    setRollingForm({\n      amount: String(rolling.rolling_amount || rolling.amount || ''),\n      staff_id: rolling.staff_id || '',\n      game_type: rolling.game_type || 'baccarat',\n      venue: rolling.venue || '',\n      datetime: rolling.created_at ? new Date(rolling.created_at).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16),\n      commission_rate: String(rolling.commission_rate || '0.014')\n    });\n    setShowEditRolling(true);\n  };\n\n  // Handle update rolling\n  const handleUpdateRolling = async () => {\n    if (!editingRolling || !selectedTrip) return;\n    setSaving(true);\n    try {\n      const rollingData = {\n        rolling_amount: parseFloat(rollingForm.amount),\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        venue: rollingForm.venue || null,\n        commission_rate: parseFloat(rollingForm.commission_rate),\n        updated_at: new Date().toISOString()\n      };\n      const response = await apiClient.updateRolling(editingRolling.id, rollingData);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = editingRolling.customer_id || editingRolling.customerId;\n        if (customerId) {\n          await loadCustomerRollings(customerId, selectedTrip.id);\n        }\n        setShowEditRolling(false);\n        setEditingRolling(null);\n        setRollingForm({\n          amount: '',\n          staff_id: '',\n          game_type: 'baccarat',\n          venue: '',\n          datetime: new Date().toISOString().slice(0, 16),\n          commission_rate: '0.014'\n        });\n      } else {\n        showError('Failed to update rolling');\n      }\n    } catch (error) {\n      console.error('Error updating rolling:', error);\n      showError('Failed to update rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle delete rolling\n  const handleDeleteRolling = async rolling => {\n    if (!selectedTrip || !window.confirm('Are you sure you want to delete this rolling record?')) return;\n    setSaving(true);\n    try {\n      const response = await apiClient.deleteRolling(rolling.id);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = rolling.customer_id || rolling.customerId;\n        if (customerId) {\n          await loadCustomerRollings(customerId, selectedTrip.id);\n        }\n      } else {\n        showError('Failed to delete rolling');\n      }\n    } catch (error) {\n      console.error('Error deleting rolling:', error);\n      showError('Failed to delete rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle transaction operations\n  const handleAddTransaction = async () => {\n    if (!selectedTrip || !selectedCustomerForTransaction) return;\n    setSaving(true);\n    try {\n      // Check authentication first\n      const userData = localStorage.getItem('casinoUser');\n      if (!userData) {\n        showError('Please login first to add transactions');\n        return;\n      }\n\n      // Fix transaction type mapping: buy_in -> buy-in, cash_out -> cash-out\n      const transactionTypeMapping = {\n        'buy_in': 'buy-in',\n        'cash_out': 'cash-out',\n        'buy-in': 'buy-in',\n        'cash-out': 'cash-out'\n      };\n      const mappedTransactionType = transactionTypeMapping[transactionForm.type] || transactionForm.type;\n\n      // Ensure we have proper customer_id\n      const customerId = selectedCustomerForTransaction.customerId || selectedCustomerForTransaction.customer_id || selectedCustomerForTransaction.id;\n      if (!customerId) {\n        showError('Customer ID is required for transaction');\n        return;\n      }\n      const transactionData = {\n        customer_id: customerId,\n        transaction_type: mappedTransactionType,\n        // Must be 'buy-in' or 'cash-out'\n        amount: parseFloat(transactionForm.amount),\n        status: 'completed',\n        // Add required status field\n        venue: transactionForm.venue || null,\n        updated_at: new Date(transactionForm.datetime).toISOString()\n      };\n      console.log('🔄 Adding transaction:', transactionData);\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/transactions`, transactionData);\n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddTransaction(false);\n        setTransactionForm({\n          type: 'buy-in',\n          amount: '',\n          venue: '',\n          datetime: new Date().toISOString().slice(0, 16)\n        });\n        setSelectedCustomerForTransaction(null);\n      } else {\n        showError('Failed to add transaction');\n      }\n    } catch (error) {\n      console.error('Error adding transaction:', error);\n      showError('Failed to add transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle rolling operations\n  const handleAddRolling = async () => {\n    if (!selectedTrip || !selectedCustomerForRolling) return;\n    setSaving(true);\n    try {\n      console.log('🎯 Rolling request data:', {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        venue: rollingForm.venue\n      });\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/rolling-records`, {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        venue: rollingForm.venue,\n        commission_rate: parseFloat(rollingForm.commission_rate),\n        updated_at: new Date(rollingForm.datetime).toISOString()\n      });\n      if (response.success) {\n        // Refresh the selected trip data completely to show new rolling record\n        await selectTrip(selectedTrip);\n        setShowAddRolling(false);\n        setRollingForm({\n          amount: '',\n          staff_id: '',\n          game_type: 'baccarat',\n          venue: '',\n          datetime: new Date().toISOString().slice(0, 16),\n          commission_rate: '0.014'\n        });\n        setSelectedCustomerForRolling(null);\n      } else {\n        showError('Failed to add rolling');\n      }\n    } catch (error) {\n      console.error('Error adding rolling:', error);\n      showError('Failed to add rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Edit agent share\n  const handleEditAgentShare = async () => {\n    if (!selectedTrip || !editingAgent) return;\n    if (editAgentShare <= 0 || editAgentShare > 100) {\n      showError('Please enter a valid share percentage between 1 and 100');\n      return;\n    }\n    try {\n      const updatedTrip = {\n        ...selectedTrip,\n        agents: (selectedTrip.agents || []).map(agent => agent.agentId === editingAgent.agentId ? {\n          ...agent,\n          sharePercentage: editAgentShare\n        } : agent),\n        lastDataUpdate: new Date().toISOString()\n      };\n      const updatedTrips = (trips || []).map(t => t.id === selectedTrip.id ? updatedTrip : t);\n      await saveTrips(updatedTrips);\n      setSelectedTrip(updatedTrip);\n      setShowEditAgent(false);\n      setEditingAgent(null);\n      setEditAgentShare(25);\n      console.log('✅ Agent share updated:', editingAgent.agentName);\n    } catch (error) {\n      console.error('❌ Error updating agent share:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to update agent share: ${errorMessage}`);\n    }\n  };\n\n  // Delete agent from trip\n  const handleDeleteAgentFromTrip = async () => {\n    if (!selectedTrip || !deletingAgent) return;\n    setSaving(true);\n    try {\n      // Make API call to remove agent from trip\n      const agentIdToRemove = deletingAgent.agentId || deletingAgent.agent_id;\n      console.log('🗑️ Attempting to delete agent:', {\n        tripId: selectedTrip.id,\n        agentIdToRemove,\n        deletingAgent,\n        url: `/trips/${selectedTrip.id}/agents/${agentIdToRemove}`\n      });\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/agents/${agentIdToRemove}`);\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove agent from trip');\n      }\n      console.log('✅ Agent removed from trip via API:', deletingAgent.agentName);\n\n      // Refresh trip data to get updated agent list\n      await selectTrip(selectedTrip);\n      setShowDeleteAgent(false);\n      setDeletingAgent(null);\n    } catch (error) {\n      console.error('❌ Error removing agent from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove agent from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Add expense to trip using API\n  const handleAddExpense = async () => {\n    if (!selectedTrip || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n    const expenseData = {\n      expense_type: newExpense.category,\n      amount: newExpense.amount,\n      description: newExpense.description,\n      updated_at: new Date(newExpense.datetime).toISOString()\n    };\n    const success = await addTripExpense(selectedTrip.id, expenseData);\n    if (success) {\n      setShowAddExpense(false);\n      setNewExpense({\n        description: '',\n        amount: 0,\n        category: 'flight',\n        datetime: new Date().toISOString().slice(0, 16)\n      });\n      console.log('✅ Expense added to trip via API');\n    }\n  };\n\n  // Edit expense\n  const handleEditExpense = expense => {\n    setEditingExpense(expense);\n    setNewExpense({\n      description: expense.description,\n      amount: expense.amount,\n      category: expense.expense_type,\n      datetime: expense.expense_date ? new Date(expense.expense_date).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16)\n    });\n    setShowEditExpense(true);\n  };\n\n  // Update expense\n  const handleUpdateExpense = async () => {\n    if (!selectedTrip || !editingExpense || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n    try {\n      setSaving(true);\n      const expenseData = {\n        expense_type: newExpense.category,\n        amount: newExpense.amount,\n        description: newExpense.description,\n        expense_date: new Date(newExpense.datetime).toISOString()\n      };\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/expenses/${editingExpense.id}`, expenseData);\n      if (response.success) {\n        await selectTrip(selectedTrip);\n        setShowEditExpense(false);\n        setEditingExpense(null);\n        setNewExpense({\n          description: '',\n          amount: 0,\n          category: 'flight',\n          datetime: new Date().toISOString().slice(0, 16)\n        });\n        console.log('✅ Expense updated successfully');\n      } else {\n        showError('Failed to update expense');\n      }\n    } catch (error) {\n      console.error('Error updating expense:', error);\n      showError('Failed to update expense');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Delete expense\n  const handleDeleteExpense = expense => {\n    setDeletingExpense(expense);\n    setShowDeleteExpense(true);\n  };\n\n  // Confirm delete expense\n  const confirmDeleteExpense = async () => {\n    if (!selectedTrip || !deletingExpense) return;\n    try {\n      setSaving(true);\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/expenses/${deletingExpense.id}`);\n      if (response.success) {\n        await selectTrip(selectedTrip);\n        setShowDeleteExpense(false);\n        setDeletingExpense(null);\n        console.log('✅ Expense deleted successfully');\n      } else {\n        showError('Failed to delete expense');\n      }\n    } catch (error) {\n      console.error('Error deleting expense:', error);\n      showError('Failed to delete expense');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const filteredTrips = getFilteredTrips();\n\n  // Loading state\n  if (loading && !dataLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-600\",\n          children: \"Loading Project Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Connecting to Supabase and loading trips, customers, and agents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 w-48 bg-gray-200 rounded-full h-2 mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2 rounded-full animate-pulse\",\n            style: {\n              width: '60%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1515,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1510,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1509,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: t('trips_loaded')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1531,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-blue-600\",\n                children: (trips === null || trips === void 0 ? void 0 : trips.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1532,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1530,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-8 h-8 text-blue-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1529,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1528,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: t('customers_available')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: (customers === null || customers === void 0 ? void 0 : customers.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1541,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-8 h-8 text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1545,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1539,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: t('agents_available')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-purple-600\",\n                children: (agents === null || agents === void 0 ? void 0 : agents.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1554,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(UserCheck, {\n              className: \"w-8 h-8 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1551,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1550,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1549,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1526,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"border-red-200 bg-red-50\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-4 h-4 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1565,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n        className: \"text-red-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [t('error'), \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1567,\n          columnNumber: 13\n        }, this), \" \", errorMessage, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => loadAllRealTimeData(true),\n          size: \"sm\",\n          variant: \"outline\",\n          className: \"ml-3 text-red-800 border-red-300 hover:bg-red-100\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1574,\n            columnNumber: 15\n          }, this), t('retry')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1568,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1566,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1564,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      value: activeTab,\n      onValueChange: setActiveTab,\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"grid w-full grid-cols-2\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"trips\",\n          children: t('trips')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1584,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"trip-details\",\n          disabled: !selectedTrip,\n          children: t('trip_details')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1585,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1583,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"trips\",\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold\",\n              children: t('project_management')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1594,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"Manage trips and project data with full CRUD functionality\", currentUser.role === 'agent' && ' (Your trips only)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1595,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1593,\n            columnNumber: 13\n          }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Dialog, {\n            open: showCreateTrip,\n            onOpenChange: setShowCreateTrip,\n            children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n              asChild: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1604,\n                  columnNumber: 21\n                }, this), t('create_trip')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1603,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1602,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  children: t('create_new_trip')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1610,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                  children: t('create_trip_desc')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1611,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1609,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"tripName\",\n                    children: [t('trip_name'), \" *\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1617,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"tripName\",\n                    value: newTrip.name,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      name: e.target.value\n                    }),\n                    placeholder: \"Enter trip name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1618,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1616,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"tripDescription\",\n                    children: t('description')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1626,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                    id: \"tripDescription\",\n                    value: newTrip.description,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      description: e.target.value\n                    }),\n                    placeholder: \"Trip description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1627,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1625,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"startDate\",\n                      children: [t('start_date'), \" *\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1636,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"startDate\",\n                      type: \"date\",\n                      value: newTrip.date,\n                      onChange: e => setNewTrip({\n                        ...newTrip,\n                        date: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1637,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1635,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"endDate\",\n                      children: t('end_date')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1645,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"endDate\",\n                      type: \"date\",\n                      value: newTrip.endDate,\n                      onChange: e => setNewTrip({\n                        ...newTrip,\n                        endDate: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1646,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1644,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1634,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"venue\",\n                    children: \"Venue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1655,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"venue\",\n                    value: newTrip.venue,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      venue: e.target.value\n                    }),\n                    placeholder: \"Casino venue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1656,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1654,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"budget\",\n                    children: \"Budget (HK$)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1664,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"budget\",\n                    type: \"number\",\n                    value: newTrip.budget,\n                    onChange: e => setNewTrip({\n                      ...newTrip,\n                      budget: e.target.value\n                    }),\n                    placeholder: \"Enter trip budget\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1665,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"status\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1674,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: newTrip.status,\n                    onValueChange: value => setNewTrip({\n                      ...newTrip,\n                      status: value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                      children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1682,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1681,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                      children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"active\",\n                        children: \"Active\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1685,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"in-progress\",\n                        children: \"In Progress\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1686,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"completed\",\n                        children: \"Completed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1687,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: \"cancelled\",\n                        children: \"Cancelled\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1688,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1684,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1675,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1673,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"currency\",\n                    children: \"Currency\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1695,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: newTrip.currency,\n                    onValueChange: value => setNewTrip({\n                      ...newTrip,\n                      currency: value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                      children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                        placeholder: \"Select currency\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1701,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1700,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                      children: SUPPORTED_CURRENCIES.map(currency => /*#__PURE__*/_jsxDEV(SelectItem, {\n                        value: currency.value,\n                        children: currency.label\n                      }, currency.value, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1705,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1703,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1696,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1694,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    children: \"Exchange Rates (Manual Input)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1715,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-3 gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"ratePeso\",\n                        className: \"text-sm\",\n                        children: \"Peso Rate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1718,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"ratePeso\",\n                        type: \"number\",\n                        step: \"0.0001\",\n                        value: newTrip.exchange_rate_peso,\n                        onChange: e => setNewTrip({\n                          ...newTrip,\n                          exchange_rate_peso: parseFloat(e.target.value) || 1.0000\n                        }),\n                        placeholder: \"1.0000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1719,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1717,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"rateHKD\",\n                        className: \"text-sm\",\n                        children: \"HKD Rate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1729,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"rateHKD\",\n                        type: \"number\",\n                        step: \"0.0001\",\n                        value: newTrip.exchange_rate_hkd,\n                        onChange: e => setNewTrip({\n                          ...newTrip,\n                          exchange_rate_hkd: parseFloat(e.target.value) || 1.0000\n                        }),\n                        placeholder: \"1.0000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1730,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1728,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"rateMYR\",\n                        className: \"text-sm\",\n                        children: \"MYR Rate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1740,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"rateMYR\",\n                        type: \"number\",\n                        step: \"0.0001\",\n                        value: newTrip.exchange_rate_myr,\n                        onChange: e => setNewTrip({\n                          ...newTrip,\n                          exchange_rate_myr: parseFloat(e.target.value) || 1.0000\n                        }),\n                        placeholder: \"1.0000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1741,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1739,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1716,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"Set exchange rates for currency conversion. Current selection: \", getCurrencySymbol(newTrip.currency)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1751,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1714,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline\",\n                    onClick: () => setShowCreateTrip(false),\n                    disabled: saving,\n                    children: t('cancel')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1757,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleCreateTrip,\n                    disabled: saving,\n                    children: saving ? t('creating') : t('create_trip')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1764,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1756,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1615,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1608,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1592,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: t('loading_trips')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1779,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1776,\n          columnNumber: 13\n        }, this) : ((filteredTrips === null || filteredTrips === void 0 ? void 0 : filteredTrips.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1785,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: !dataLoaded ? 'Loading trips...' : 'No trips found'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1786,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: !dataLoaded ? 'Please wait while we load your trip data from Supabase.' : 'Create your first trip to start managing projects and customer rolling amounts.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1789,\n              columnNumber: 17\n            }, this), dataLoaded && (isAdmin || isAgent) && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowCreateTrip(true),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1797,\n                columnNumber: 21\n              }, this), \"Create First Trip\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1796,\n              columnNumber: 19\n            }, this), !dataLoaded && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => loadAllRealTimeData(true),\n              variant: \"outline\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1803,\n                columnNumber: 21\n              }, this), \"Retry Loading\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1802,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1784,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1783,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [(() => {\n            console.log('🔍 Rendering trips:', filteredTrips === null || filteredTrips === void 0 ? void 0 : filteredTrips.length, filteredTrips);\n            return null;\n          })(), (filteredTrips || []).map(trip => {\n            var _trip$status, _trip$status2, _trip$customers, _trip$sharing, _trip$sharing2, _trip$sharing3, _trip$sharing4;\n            // Use loaded statistics data\n\n            return /*#__PURE__*/_jsxDEV(Card, {\n              className: \"overflow-hidden hover:shadow-md transition-shadow\",\n              children: /*#__PURE__*/_jsxDEV(CardHeader, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                      className: \"text-xl\",\n                      children: trip.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1823,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                      className: \"mt-1\",\n                      children: [trip.description, \" \\u2022 \", trip.date]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1824,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1822,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                      variant: trip.status === 'completed' ? 'default' : trip.status === 'in-progress' ? 'secondary' : 'outline',\n                      children: ((_trip$status = trip.status) === null || _trip$status === void 0 ? void 0 : _trip$status.charAt(0).toUpperCase()) + ((_trip$status2 = trip.status) === null || _trip$status2 === void 0 ? void 0 : _trip$status2.slice(1))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1830,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      variant: \"outline\",\n                      onClick: () => selectTrip(trip),\n                      children: [/*#__PURE__*/_jsxDEV(Eye, {\n                        className: \"w-4 h-4 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1837,\n                        columnNumber: 29\n                      }, this), \"View Details\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1836,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1829,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1821,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Customers\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1846,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: ((_trip$customers = trip.customers) === null || _trip$customers === void 0 ? void 0 : _trip$customers.length) || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1847,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1845,\n                    columnNumber: 25\n                  }, this), canSeeFinancials && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-500 text-xs\",\n                        children: \"Total Rolling\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1852,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium text-blue-600\",\n                        children: [\"HK$\", safeFormatNumber(((_trip$sharing = trip.sharing) === null || _trip$sharing === void 0 ? void 0 : _trip$sharing.total_rolling) || 0)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1853,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1851,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-500 text-xs\",\n                        children: \"Expenses\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1856,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium text-red-600\",\n                        children: [\"HK$\", safeFormatNumber(Math.abs(((_trip$sharing2 = trip.sharing) === null || _trip$sharing2 === void 0 ? void 0 : _trip$sharing2.total_expenses) || 0))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1857,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1855,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-500 text-xs\",\n                        children: \"Profit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1860,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `font-medium ${(((_trip$sharing3 = trip.sharing) === null || _trip$sharing3 === void 0 ? void 0 : _trip$sharing3.net_result) || 0) > 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [\"HK$\", safeFormatNumber(Math.abs(((_trip$sharing4 = trip.sharing) === null || _trip$sharing4 === void 0 ? void 0 : _trip$sharing4.net_result) || 0))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1861,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1859,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1844,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1820,\n                columnNumber: 21\n              }, this)\n            }, trip.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1819,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1810,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1591,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"trip-details\",\n        className: \"space-y-4\",\n        children: selectedTrip ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold\",\n                children: selectedTrip.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1882,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: selectedTrip.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1883,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: t('view_in')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1888,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: viewingCurrency,\n                  onValueChange: newCurrency => {\n                    console.log('🔄 Currency selector changed:', {\n                      from: viewingCurrency,\n                      to: newCurrency,\n                      tripData: selectedTrip ? {\n                        id: selectedTrip.id,\n                        currency: selectedTrip.currency,\n                        rates: {\n                          peso: selectedTrip.exchange_rate_peso,\n                          hkd: selectedTrip.exchange_rate_hkd,\n                          myr: selectedTrip.exchange_rate_myr\n                        }\n                      } : null\n                    });\n                    setViewingCurrency(newCurrency);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                    className: \"w-24\",\n                    children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1906,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1905,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                    children: SUPPORTED_CURRENCIES.map(currency => /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: currency.value,\n                      children: currency.symbol\n                    }, currency.value, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1910,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1908,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1889,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1887,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                onClick: () => setActiveTab('trips'),\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1918,\n                  columnNumber: 21\n                }, this), t('back_to_trips')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1917,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1885,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1880,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n            value: selectedTripTab,\n            onValueChange: setSelectedTripTab,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(TabsList, {\n              className: \"w-full flex flex-wrap sm:grid sm:grid-cols-6 gap-1 sm:gap-0 h-auto sm:h-10 p-1\",\n              children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"overview\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(BarChart, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1928,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1929,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Over\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1930,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1927,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"customers\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1933,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Customers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1934,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Cust\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1935,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1932,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"agents\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(UserCheck, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1938,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Agents\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1939,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Agt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1940,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1937,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"staff\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1943,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Staff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1944,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Staff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1945,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1942,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"expenses\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1948,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Expenses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1949,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Exp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1950,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1947,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"sharing\",\n                className: \"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(Settings, {\n                  className: \"w-3 h-3 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1953,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hidden sm:inline\",\n                  children: \"Financials\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1954,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sm:hidden\",\n                  children: \"Fin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1955,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1952,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1926,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"overview\",\n              className: \"space-y-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: ((_backendData, _selectedTrip$custome, _backendData2, _sharing, _backendData3, _sharing2, _backendData4, _sharing3, _backendData5, _backendData6, _backendData7, _backendData8, _backendData9, _backendData0, _backendData1, _backendData10, _backendData11, _backendData12, _backendData13, _backendData14, _backendData15) => {\n                  // Use backend data directly - no local calculation needed\n                  const totalExpenses = ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.expenses) || []).reduce((sum, e) => sum + safeNumber(e.amount), 0);\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Buy-in\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1971,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1970,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-green-600\",\n                            children: formatCurrency((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData = selectedTrip.backendData) === null || _backendData === void 0 ? void 0 : _backendData.totalBuyIn) || 0, viewingCurrency, selectedTrip)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1974,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: [(selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.activeCustomersCount) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome = selectedTrip.customers) === null || _selectedTrip$custome === void 0 ? void 0 : _selectedTrip$custome.length) || 0, \" customers\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1977,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-green-500\",\n                            children: \"From transactions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1978,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1973,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1969,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Buy-out\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1983,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1982,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-red-600\",\n                            children: formatCurrency(Math.abs((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData2 = selectedTrip.backendData) === null || _backendData2 === void 0 ? void 0 : _backendData2.totalCashOut) || 0), viewingCurrency, selectedTrip)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1986,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"Customer withdrawals\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1989,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-red-500\",\n                            children: \"From transactions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1990,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1985,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1981,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1995,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1994,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-red-600\",\n                            children: formatCurrency(Math.abs(totalExpenses), viewingCurrency, selectedTrip)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1998,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"After all expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2001,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-red-500\",\n                            children: \"House perspective\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2002,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1997,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1993,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card, {\n                        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                          className: \"pb-2\",\n                          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-sm text-gray-600\",\n                            children: \"Profit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2007,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2006,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `text-2xl font-bold ${((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing = selectedTrip.sharing) === null || _sharing === void 0 ? void 0 : _sharing.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData3 = selectedTrip.backendData) === null || _backendData3 === void 0 ? void 0 : _backendData3.netProfit) || 0) > 0 ? 'text-green-600' : 'text-red-600'}`,\n                            children: formatCurrency(Math.abs((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing2 = selectedTrip.sharing) === null || _sharing2 === void 0 ? void 0 : _sharing2.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData4 = selectedTrip.backendData) === null || _backendData4 === void 0 ? void 0 : _backendData4.netProfit) || 0), viewingCurrency, selectedTrip)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2010,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: \"House perspective\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2015,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: `text-xs ${((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_sharing3 = selectedTrip.sharing) === null || _sharing3 === void 0 ? void 0 : _sharing3.net_result) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_backendData5 = selectedTrip.backendData) === null || _backendData5 === void 0 ? void 0 : _backendData5.netProfit) || 0) > 0 ? 'text-green-500' : 'text-red-500'}`,\n                            children: \"After all expenses\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2016,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2009,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2005,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1968,\n                      columnNumber: 27\n                    }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Card, {\n                      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                          className: \"text-sm\",\n                          children: \"Quick Actions\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2025,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2024,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-wrap gap-3\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => setSelectedTripTab('expenses'),\n                            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                              className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2034,\n                              columnNumber: 37\n                            }, this), \"Manage Expenses\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2029,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => setSelectedTripTab('sharing'),\n                            children: [/*#__PURE__*/_jsxDEV(Share2, {\n                              className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2042,\n                              columnNumber: 37\n                            }, this), \"Manage Sharing\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2037,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2028,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2027,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2023,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Card, {\n                      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                          className: \"text-sm\",\n                          children: \"Backend Data Status\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2053,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2052,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                        className: \"space-y-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs space-y-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Customer Stats:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2058,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData6 = selectedTrip.backendData) !== null && _backendData6 !== void 0 && _backendData6.customerStatsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData7 = selectedTrip.backendData) !== null && _backendData7 !== void 0 && _backendData7.customerStatsLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2059,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2057,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Agents:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2064,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData8 = selectedTrip.backendData) !== null && _backendData8 !== void 0 && _backendData8.agentsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData9 = selectedTrip.backendData) !== null && _backendData9 !== void 0 && _backendData9.agentsLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2065,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2063,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Expenses:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2070,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData0 = selectedTrip.backendData) !== null && _backendData0 !== void 0 && _backendData0.expensesLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData1 = selectedTrip.backendData) !== null && _backendData1 !== void 0 && _backendData1.expensesLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2071,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2069,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Sharing:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2076,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData10 = selectedTrip.backendData) !== null && _backendData10 !== void 0 && _backendData10.sharingLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData11 = selectedTrip.backendData) !== null && _backendData11 !== void 0 && _backendData11.sharingLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2077,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2075,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Statistics:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2082,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData12 = selectedTrip.backendData) !== null && _backendData12 !== void 0 && _backendData12.statisticsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData13 = selectedTrip.backendData) !== null && _backendData13 !== void 0 && _backendData13.statisticsLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2083,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2081,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Transactions:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2088,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `font-medium ${selectedTrip !== null && selectedTrip !== void 0 && (_backendData14 = selectedTrip.backendData) !== null && _backendData14 !== void 0 && _backendData14.transactionsLoaded ? 'text-green-600' : 'text-red-600'}`,\n                              children: selectedTrip !== null && selectedTrip !== void 0 && (_backendData15 = selectedTrip.backendData) !== null && _backendData15 !== void 0 && _backendData15.transactionsLoaded ? '✓ Loaded' : '✗ Missing'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2089,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2087,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2056,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2055,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2051,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1961,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1960,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"customers\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Customers (\", (selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.activeCustomersCount) || (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome2 = selectedTrip.customers) === null || _selectedTrip$custome2 === void 0 ? void 0 : _selectedTrip$custome2.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2105,\n                  columnNumber: 21\n                }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddCustomer,\n                  onOpenChange: setShowAddCustomer,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2110,\n                        columnNumber: 29\n                      }, this), \"Add Customer\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2109,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2108,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Customer to Trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2116,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: \"Search and select from available customers\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2117,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2115,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"customer-search\",\n                          children: \"Search Customers\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2124,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"customer-search\",\n                          type: \"text\",\n                          placeholder: \"Search by name, email, or agent...\",\n                          value: customerSearchTerm,\n                          onChange: e => setCustomerSearchTerm(e.target.value),\n                          className: \"w-full\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2125,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2123,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-4 max-h-80 overflow-y-auto\",\n                        children: (() => {\n                          const availableCustomers = (customers || []).filter(c => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).some(tc => tc.customerId === c.id || tc.customer_id === c.id));\n                          const filteredCustomers = filterCustomersBySearch(availableCustomers, customerSearchTerm);\n                          return /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-500 px-1\",\n                              children: [\"Showing \", filteredCustomers.length, \" of \", availableCustomers.length, \" available customers\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2147,\n                              columnNumber: 35\n                            }, this), filteredCustomers.map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center justify-between p-3 border rounded\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"font-medium\",\n                                  children: customer.name\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2153,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-sm text-gray-500\",\n                                  children: customer.email\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2154,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-xs text-gray-400\",\n                                  children: [\"Agent: \", customer.agentName]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2155,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2152,\n                                columnNumber: 39\n                              }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                                size: \"sm\",\n                                onClick: () => handleAddCustomerToTrip(customer.id),\n                                disabled: saving,\n                                children: saving ? 'Adding...' : 'Add'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2158,\n                                columnNumber: 41\n                              }, this)]\n                            }, customer.id, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2151,\n                              columnNumber: 37\n                            }, this)), filteredCustomers.length === 0 && availableCustomers.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-center text-gray-500 py-8\",\n                              children: \"No customers match your search\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2165,\n                              columnNumber: 37\n                            }, this), availableCustomers.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-center text-gray-500 py-8\",\n                              children: \"All customers are already added to this trip\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2168,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true);\n                        })()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2136,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2121,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2114,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2107,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2104,\n                columnNumber: 19\n              }, this), ((selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome3 = selectedTrip.customers) === null || _selectedTrip$custome3 === void 0 ? void 0 : _selectedTrip$custome3.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2183,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No customers added to this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2184,\n                    columnNumber: 25\n                  }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-4\",\n                    onClick: () => setShowAddCustomer(true),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2187,\n                      columnNumber: 29\n                    }, this), \"Add First Customer\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2186,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2182,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2181,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.customers) || []).map(tripCustomer => {\n                  var _tripCustomer$custome, _tripCustomer$custome2, _customerTransactions, _customerRollings;\n                  return /*#__PURE__*/_jsxDEV(Card, {\n                    children: /*#__PURE__*/_jsxDEV(CardContent, {\n                      className: \"pt-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-medium text-base\",\n                            children: tripCustomer.customerName || ((_tripCustomer$custome = tripCustomer.customer) === null || _tripCustomer$custome === void 0 ? void 0 : _tripCustomer$custome.name)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2201,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                            variant: \"outline\",\n                            className: \"text-xs\",\n                            children: [\"VIP: \", ((_tripCustomer$custome2 = tripCustomer.customer) === null || _tripCustomer$custome2 === void 0 ? void 0 : _tripCustomer$custome2.vip_level) || 'Standard']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2202,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2200,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-5 sm:gap-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between sm:block\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: \"Buy-in:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2210,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium text-blue-600 text-right sm:text-left\",\n                              children: formatCurrency(tripCustomer.total_buy_in || tripCustomer.buyInAmount || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2211,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2209,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between sm:block\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: \"Cash-out:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2216,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium text-purple-600 text-right sm:text-left\",\n                              children: formatCurrency(tripCustomer.total_cash_out || tripCustomer.buyOutAmount || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2217,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2215,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between sm:block\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: \"Rolling:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2222,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium text-orange-600 text-right sm:text-left\",\n                              children: formatCurrency(tripCustomer.rolling_amount || tripCustomer.rollingAmount || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2223,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2221,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between sm:block\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: \"Win/Loss:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2228,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `font-medium text-right sm:text-left ${(tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) > 0 ? 'text-green-600' : 'text-red-600'}`,\n                              children: formatCurrency(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0)), viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2229,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2227,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between sm:block\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-gray-500\",\n                              children: \"Net Result:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2236,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `font-medium text-right sm:text-left ${(tripCustomer.net_result || 0) > 0 ? 'text-green-600' : 'text-red-600'}`,\n                              children: formatCurrency(Math.abs(tripCustomer.net_result || 0), viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2237,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2235,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2208,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-col sm:flex-row gap-2 sm:gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex gap-2 flex-1\",\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline\",\n                              size: \"sm\",\n                              className: \"flex-1 sm:flex-none\",\n                              onClick: () => {\n                                setSelectedCustomerForTransaction(tripCustomer);\n                                setShowAddTransaction(true);\n                              },\n                              disabled: saving,\n                              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                                className: \"w-3 h-3 mr-1\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2258,\n                                columnNumber: 37\n                              }, this), \"Transaction\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2248,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline\",\n                              size: \"sm\",\n                              className: \"flex-1 sm:flex-none\",\n                              onClick: () => {\n                                setSelectedCustomerForRolling(tripCustomer);\n                                setShowAddRolling(true);\n                              },\n                              disabled: saving,\n                              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                                className: \"w-3 h-3 mr-1\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2271,\n                                columnNumber: 37\n                              }, this), \"Rolling\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2261,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2247,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex gap-2\",\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline\",\n                              size: \"sm\",\n                              className: \"flex-1 sm:flex-none\",\n                              onClick: () => toggleHistoryVisibility(tripCustomer.customerId || tripCustomer.customer_id),\n                              disabled: saving,\n                              children: /*#__PURE__*/_jsxDEV(ChevronDown, {\n                                className: `w-3 h-3 transition-transform ${showHistory[tripCustomer.customerId || tripCustomer.customer_id] ? 'rotate-180' : ''}`\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2283,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2276,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline\",\n                              size: \"sm\",\n                              className: \"flex-1 sm:flex-none\",\n                              onClick: () => handleViewCustomerPhotos(tripCustomer),\n                              disabled: saving,\n                              children: [/*#__PURE__*/_jsxDEV(Camera, {\n                                className: \"w-3 h-3 mr-1\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2292,\n                                columnNumber: 37\n                              }, this), \"Photos\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2285,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline\",\n                              size: \"sm\",\n                              className: \"flex-1 sm:flex-none\",\n                              onClick: () => {\n                                setDeletingCustomer(tripCustomer);\n                                setShowDeleteCustomer(true);\n                              },\n                              disabled: saving,\n                              children: /*#__PURE__*/_jsxDEV(X, {\n                                className: \"w-4 h-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2305,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2295,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2275,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2246,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2198,\n                        columnNumber: 29\n                      }, this), showHistory[tripCustomer.customerId || tripCustomer.customer_id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-4 border-t pt-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mb-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"font-medium mb-2 text-blue-600\",\n                            children: \"Transaction History\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2316,\n                            columnNumber: 35\n                          }, this), (_customerTransactions = customerTransactions[tripCustomer.customerId || tripCustomer.customer_id]) === null || _customerTransactions === void 0 ? void 0 : _customerTransactions.map(transaction => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center justify-between p-2 bg-blue-50 rounded border mb-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-1\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                                  variant: transaction.transaction_type === 'buy-in' ? 'default' : 'secondary',\n                                  children: transaction.transaction_type === 'buy-in' ? 'Buy-in' : 'Cash-out'\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2321,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"font-medium\",\n                                  children: formatCurrency(transaction.amount, viewingCurrency, selectedTrip)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2324,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"text-sm text-gray-500\",\n                                  children: transaction.venue\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2327,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2320,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-xs text-gray-400 mt-1\",\n                                children: new Date(transaction.created_at).toLocaleString()\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2329,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2319,\n                              columnNumber: 39\n                            }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex gap-1\",\n                              children: [/*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: () => handleEditTransaction(transaction),\n                                children: /*#__PURE__*/_jsxDEV(Settings, {\n                                  className: \"w-3 h-3\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2336,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2335,\n                                columnNumber: 43\n                              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: () => handleDeleteTransaction(transaction),\n                                className: \"text-red-600\",\n                                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                                  className: \"w-3 h-3\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2339,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2338,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2334,\n                              columnNumber: 41\n                            }, this)]\n                          }, transaction.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2318,\n                            columnNumber: 37\n                          }, this))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2315,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"font-medium mb-2 text-orange-600\",\n                            children: \"Rolling History\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2349,\n                            columnNumber: 35\n                          }, this), (_customerRollings = customerRollings[tripCustomer.customerId || tripCustomer.customer_id]) === null || _customerRollings === void 0 ? void 0 : _customerRollings.map(rolling => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center justify-between p-2 bg-orange-50 rounded border mb-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-1\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [/*#__PURE__*/_jsxDEV(Badge, {\n                                  variant: \"outline\",\n                                  className: \"bg-orange-100 text-orange-700\",\n                                  children: \"Rolling\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2354,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"font-medium\",\n                                  children: formatCurrency(rolling.rolling_amount || rolling.amount, viewingCurrency, selectedTrip)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2355,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"text-sm text-gray-500\",\n                                  children: rolling.venue\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2358,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"text-xs text-gray-400\",\n                                  children: [\"(\", rolling.game_type, \")\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2359,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                                  variant: \"secondary\",\n                                  className: \"bg-blue-100 text-blue-700 text-xs\",\n                                  children: [((rolling.commission_rate || 0.014) * 100).toFixed(2), \"%\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2360,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2353,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-xs text-gray-400 mt-1 flex items-center space-x-2\",\n                                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                  children: new Date(rolling.created_at).toLocaleString()\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2365,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  children: \"\\u2022\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2366,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"text-green-600\",\n                                  children: [\"Commission: \", formatCurrency((rolling.rolling_amount || rolling.amount) * (rolling.commission_rate || 0.014), viewingCurrency, selectedTrip)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2367,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2364,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2352,\n                              columnNumber: 39\n                            }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex gap-1\",\n                              children: [/*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: () => handleEditRolling(rolling),\n                                children: /*#__PURE__*/_jsxDEV(Settings, {\n                                  className: \"w-3 h-3\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2375,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2374,\n                                columnNumber: 43\n                              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: () => handleDeleteRolling(rolling),\n                                className: \"text-red-600\",\n                                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                                  className: \"w-3 h-3\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2378,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2377,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2373,\n                              columnNumber: 41\n                            }, this)]\n                          }, rolling.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2351,\n                            columnNumber: 37\n                          }, this))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2348,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2313,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2197,\n                      columnNumber: 27\n                    }, this)\n                  }, tripCustomer.customerId || tripCustomer.customer_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2196,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2194,\n                columnNumber: 21\n              }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(AlertDialog, {\n                open: showDeleteCustomer,\n                onOpenChange: setShowDeleteCustomer,\n                children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogTitle, {\n                      children: \"Remove Customer from Trip\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2398,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogDescription, {\n                      children: [\"Are you sure you want to remove \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: (deletingCustomer === null || deletingCustomer === void 0 ? void 0 : deletingCustomer.customerName) || (deletingCustomer === null || deletingCustomer === void 0 ? void 0 : (_deletingCustomer$cus = deletingCustomer.customer) === null || _deletingCustomer$cus === void 0 ? void 0 : _deletingCustomer$cus.name)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2400,\n                        columnNumber: 61\n                      }, this), \" from this trip?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2401,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2401,\n                        columnNumber: 35\n                      }, this), \"This will permanently remove all their transaction history, rolling records, and financial data associated with this trip.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2403,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2403,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"This action cannot be undone.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2404,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2399,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2397,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogCancel, {\n                      onClick: () => {\n                        setShowDeleteCustomer(false);\n                        setDeletingCustomer(null);\n                      },\n                      disabled: saving,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2408,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogAction, {\n                      onClick: confirmRemoveCustomerFromTrip,\n                      disabled: saving,\n                      className: \"bg-red-600 hover:bg-red-700\",\n                      children: saving ? 'Removing...' : 'Remove Customer'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2417,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2407,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2396,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2395,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"agents\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Agent Profit Sharing Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2433,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"outline\",\n                  onClick: () => {\n                    if (selectedTrip) {\n                      console.log('🔄 Manual refresh clicked for trip:', selectedTrip.id);\n                      loadAgentSummary(selectedTrip.id);\n                    }\n                  },\n                  disabled: loading,\n                  children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2445,\n                    columnNumber: 23\n                  }, this), \"Refresh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2434,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2432,\n                columnNumber: 19\n              }, this), loading ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading agent summary...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2454,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2452,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2451,\n                columnNumber: 21\n              }, this) : !agentSummary || agentSummary.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"text-center py-8\",\n                    children: [/*#__PURE__*/_jsxDEV(UserCheck, {\n                      className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2461,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500\",\n                      children: \"No agent profit sharing data available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2462,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-400 mt-2\",\n                      children: \"Agent summaries are created when trip sharing is calculated\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2463,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2460,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2459,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"border-yellow-200 bg-yellow-50\",\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"pt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-yellow-800 mb-2\",\n                      children: \"Debug Information\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2470,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-yellow-700 space-y-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Trip ID: \", selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.id]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2472,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Customers in trip: \", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome4 = selectedTrip.customers) === null || _selectedTrip$custome4 === void 0 ? void 0 : _selectedTrip$custome4.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2473,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agents in trip: \", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$agents = selectedTrip.agents) === null || _selectedTrip$agents === void 0 ? void 0 : _selectedTrip$agents.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2474,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agent summary loaded: \", (agentSummary === null || agentSummary === void 0 ? void 0 : agentSummary.length) || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2475,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Agent summary state: \", JSON.stringify(agentSummary)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2476,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2471,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2469,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2468,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2458,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: agentSummary.map(summary => {\n                  var _summary$customers;\n                  return /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-start\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                            className: \"text-lg\",\n                            children: summary.agent_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2488,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                            children: [\"Base Commission Rate: \", summary.agent_commission_rate, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2489,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2487,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-right\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-blue-600\",\n                            children: formatCurrency(summary.agent_profit_share || 0, viewingCurrency, selectedTrip)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2494,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-gray-500\",\n                            children: \"Agent Profit Share\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2497,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2493,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2486,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2485,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grid grid-cols-3 gap-4 mb-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 bg-blue-50 rounded\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-600\",\n                              children: \"Total Win/Loss\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2506,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `text-lg font-bold ${summary.total_win_loss >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                              children: formatCurrencyWithSign(summary.total_win_loss || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2507,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2505,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 bg-green-50 rounded\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-600\",\n                              children: \"Total Commission\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2514,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-lg font-bold text-gray-800\",\n                              children: formatCurrency(summary.total_commission || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2515,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2513,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 bg-purple-50 rounded\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-600\",\n                              children: \"Total Profit\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2520,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `text-lg font-bold ${summary.total_profit >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                              children: formatCurrencyWithSign(summary.total_profit || 0, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2521,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2519,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2504,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-medium mb-3\",\n                            children: [\"Customer Details (\", summary.customer_count || ((_summary$customers = summary.customers) === null || _summary$customers === void 0 ? void 0 : _summary$customers.length) || 0, \" customers)\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2531,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"space-y-3\",\n                            children: summary.customers && summary.customers.map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"border rounded p-3\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex justify-between items-start mb-2\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"font-medium\",\n                                    children: customer.customer_name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2539,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: [\"Net Result: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                      className: `font-medium ${(customer.net_result || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                                      children: formatCurrency(Math.abs(customer.net_result || 0), viewingCurrency, selectedTrip)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 2541,\n                                      columnNumber: 57\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2540,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2538,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"text-right\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"font-bold text-blue-600\",\n                                    children: [customer.profit_sharing_rate, \"%\"]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2549,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Profit Sharing Rate\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2552,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2548,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2537,\n                                columnNumber: 39\n                              }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex justify-center pt-2 border-t\",\n                                children: /*#__PURE__*/_jsxDEV(Button, {\n                                  variant: \"outline\",\n                                  size: \"sm\",\n                                  onClick: () => handleEditProfitSharing(summary.agent_id, customer, summary.agent_name),\n                                  className: \"text-sm\",\n                                  children: [/*#__PURE__*/_jsxDEV(Settings, {\n                                    className: \"w-4 h-4 mr-1\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2564,\n                                    columnNumber: 45\n                                  }, this), \"Edit Profit Sharing Rate\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2558,\n                                  columnNumber: 43\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2557,\n                                columnNumber: 41\n                              }, this)]\n                            }, customer.customer_id, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2536,\n                              columnNumber: 37\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2534,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2530,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"bg-gray-50 p-3 rounded\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-600 space-y-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"Created: \", new Date(summary.created_at).toLocaleDateString()]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2577,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"Last Updated: \", new Date(summary.updated_at).toLocaleDateString()]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2578,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2576,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2575,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2502,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2501,\n                      columnNumber: 27\n                    }, this)]\n                  }, summary.agent_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2484,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2482,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: showEditAgent,\n                onOpenChange: setShowEditAgent,\n                children: /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                      children: \"Edit Agent Share\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2592,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                      children: [\"Update \", editingAgent === null || editingAgent === void 0 ? void 0 : editingAgent.agentName, \"'s share percentage\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2593,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2591,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editSharePercentage\",\n                        children: \"Share Percentage *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2599,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"editSharePercentage\",\n                        type: \"number\",\n                        value: editAgentShare,\n                        onChange: e => setEditAgentShare(parseFloat(e.target.value) || 0),\n                        placeholder: \"Enter percentage (e.g., 25)\",\n                        min: \"0.1\",\n                        max: \"100\",\n                        step: \"0.1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2600,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: \"Enter a value between 0.1 and 100\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2610,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2598,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline\",\n                        onClick: () => setShowEditAgent(false),\n                        disabled: saving,\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2613,\n                        columnNumber: 27\n                      }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: handleEditAgentShare,\n                        disabled: saving,\n                        children: saving ? 'Updating...' : 'Update Share'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2621,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2612,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2597,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2590,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2589,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n                open: showDeleteAgent,\n                onOpenChange: setShowDeleteAgent,\n                children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogTitle, {\n                      children: \"Remove Agent from Trip\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2634,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogDescription, {\n                      children: [\"Are you sure you want to remove \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: deletingAgent === null || deletingAgent === void 0 ? void 0 : deletingAgent.agentName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2636,\n                        columnNumber: 59\n                      }, this), \" from this trip? This will remove their \", deletingAgent === null || deletingAgent === void 0 ? void 0 : deletingAgent.sharePercentage, \"% share allocation.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2638,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2638,\n                        columnNumber: 33\n                      }, this), \"This action cannot be undone.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2635,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2633,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogCancel, {\n                      disabled: saving,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2643,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogAction, {\n                      onClick: handleDeleteAgentFromTrip,\n                      disabled: saving,\n                      className: \"bg-red-600 hover:bg-red-700\",\n                      children: saving ? 'Removing...' : 'Remove Agent'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2644,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2642,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2632,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2631,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2431,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"staff\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Staff (\", (selectedTrip === null || selectedTrip === void 0 ? void 0 : (_staff = selectedTrip.staff) === null || _staff === void 0 ? void 0 : _staff.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2659,\n                  columnNumber: 21\n                }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddStaff,\n                  onOpenChange: setShowAddStaff,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2664,\n                        columnNumber: 29\n                      }, this), \"Add Staff\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2663,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2662,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Staff to Trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2670,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: [\"Select from available staff members (\", (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => ts.staffId === s.id || ts.staff_id === s.id)).length, \" available)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2671,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2669,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4 max-h-96 overflow-y-auto\",\n                      children: [(() => {\n                        console.log('🔍 Debug staff filtering:', {\n                          allStaff: staff,\n                          tripStaff: selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff,\n                          staffCount: (staff === null || staff === void 0 ? void 0 : staff.length) || 0,\n                          tripStaffCount: ((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).length\n                        });\n                        const availableStaff = (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => {\n                          // Check multiple possible ID fields from the backend response\n                          const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                          const match = tripStaffId === s.id;\n                          console.log('🔍 Checking staff match:', {\n                            staffId: s.id,\n                            staffName: s.name,\n                            tripStaffId,\n                            tripStaff: ts,\n                            match\n                          });\n                          return match;\n                        }));\n                        console.log('✅ Available staff after filtering:', availableStaff);\n                        return availableStaff.map(staffMember => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between p-3 border rounded\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium\",\n                              children: staffMember.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2704,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-500\",\n                              children: staffMember.email\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2705,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-400\",\n                              children: [\"Position: \", staffMember.position]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2706,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2703,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            onClick: () => handleAddStaffToTrip(staffMember.id),\n                            disabled: saving,\n                            children: saving ? 'Adding...' : 'Add'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2708,\n                            columnNumber: 33\n                          }, this)]\n                        }, staffMember.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2702,\n                          columnNumber: 31\n                        }, this));\n                      })(), (() => {\n                        const availableStaff = (staff || []).filter(s => !((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.staff) || []).some(ts => {\n                          const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                          return tripStaffId === s.id;\n                        }));\n                        return availableStaff.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-center text-gray-500 py-8\",\n                          children: \"All staff members are already assigned to this trip\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2721,\n                          columnNumber: 31\n                        }, this);\n                      })()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2675,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2668,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2661,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2658,\n                columnNumber: 19\n              }, this), !selectedTrip || !selectedTrip.staff || !Array.isArray(selectedTrip.staff) || selectedTrip.staff.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2733,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No staff assigned to this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2734,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-400 mt-2\",\n                    children: \"Add staff members to help manage this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2735,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2732,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2731,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: (selectedTrip.staff || []).map(staffMember => /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"p-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n                            children: /*#__PURE__*/_jsxDEV(Users, {\n                              className: \"w-5 h-5 text-blue-600\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2747,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2746,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium\",\n                              children: staffMember.name || staffMember.staffName\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2750,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-500\",\n                              children: staffMember.email || staffMember.staffEmail\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2751,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-400\",\n                              children: [\"Position: \", staffMember.position || staffMember.staffPosition]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2752,\n                              columnNumber: 37\n                            }, this), staffMember.created_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-400\",\n                              children: [\"Added: \", new Date(staffMember.created_at).toLocaleDateString()]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2756,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2749,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2745,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-2\",\n                          children: !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => handleRemoveStaffFromTrip(staffMember.staff_id || staffMember.id),\n                            disabled: saving,\n                            children: /*#__PURE__*/_jsxDEV(Trash2, {\n                              className: \"w-4 h-4\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2770,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2764,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2762,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2744,\n                        columnNumber: 31\n                      }, this), (() => {\n                        // Load shifts for this staff member if not already loaded\n                        const loadShifts = async () => {\n                          try {\n                            const shiftsResponse = await apiClient.get(`/staffs/${staffMember.staff_id || staffMember.staffId}/shifts`);\n                            if (shiftsResponse.success) {\n                              // Store shifts data in staffMember for display\n                              staffMember.shifts = shiftsResponse.data || [];\n                            }\n                          } catch (error) {\n                            console.error('❌ Error loading staff shifts:', error);\n                          }\n                        };\n\n                        // Load shifts if not already loaded\n                        if (!staffMember.shifts) {\n                          loadShifts();\n                        }\n                        const shifts = staffMember.shifts || [];\n\n                        // Collect all check-in/out photos from shifts (same as StaffManagement)\n                        const shiftPhotos = [];\n                        shifts.forEach(shift => {\n                          if (shift.check_in_photo) {\n                            shiftPhotos.push({\n                              type: 'Check-in Photo',\n                              photo: shift.check_in_photo,\n                              date: new Date(shift.check_in_time).toLocaleString(),\n                              shift_id: shift.id,\n                              timestamp: new Date(shift.check_in_time).getTime()\n                            });\n                          }\n                          if (shift.check_out_photo) {\n                            shiftPhotos.push({\n                              type: 'Check-out Photo',\n                              photo: shift.check_out_photo,\n                              date: new Date(shift.check_out_time).toLocaleString(),\n                              shift_id: shift.id,\n                              timestamp: new Date(shift.check_out_time).getTime()\n                            });\n                          }\n                        });\n\n                        // Sort photos by timestamp (newest first)\n                        shiftPhotos.sort((a, b) => b.timestamp - a.timestamp);\n                        if (shiftPhotos.length === 0) {\n                          return /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-4 p-3 bg-gray-50 rounded-lg\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                              className: \"text-sm font-medium text-gray-700 mb-2 flex items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                                className: \"w-4 h-4 mr-2\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2828,\n                                columnNumber: 41\n                              }, this), \"Check-in/out Photos (0)\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2827,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-center py-4 text-gray-500\",\n                              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"text-sm\",\n                                children: \"No check-in/out photos available\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2832,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"text-xs mt-1\",\n                                children: \"Photos will appear here when staff check in/out\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2833,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2831,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2826,\n                            columnNumber: 37\n                          }, this);\n                        }\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mt-4 p-3 bg-gray-50 rounded-lg\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"text-sm font-medium text-gray-700 mb-3 flex items-center\",\n                            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                              className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2842,\n                              columnNumber: 39\n                            }, this), \"Check-in/out Photos (\", shiftPhotos.length, \")\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2841,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n                            children: shiftPhotos.map((item, index) => /*#__PURE__*/_jsxDEV(Card, {\n                              className: \"overflow-hidden\",\n                              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                                className: \"p-3\",\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"space-y-2\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                                      variant: item.type.includes('Check-in') ? 'default' : 'secondary',\n                                      className: \"text-xs\",\n                                      children: item.type\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 2851,\n                                      columnNumber: 49\n                                    }, this), /*#__PURE__*/_jsxDEV(Eye, {\n                                      className: \"w-3 h-3 text-gray-400\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 2854,\n                                      columnNumber: 49\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2850,\n                                    columnNumber: 47\n                                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"aspect-square relative\",\n                                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                      src: item.photo,\n                                      alt: item.type,\n                                      className: \"w-full h-full object-cover rounded border cursor-pointer hover:opacity-80\",\n                                      onClick: () => window.open(item.photo, '_blank')\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 2858,\n                                      columnNumber: 49\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2857,\n                                    columnNumber: 47\n                                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                      className: \"text-xs text-gray-500\",\n                                      children: item.date\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 2867,\n                                      columnNumber: 49\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 2866,\n                                    columnNumber: 47\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2849,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2848,\n                                columnNumber: 43\n                              }, this)\n                            }, `photo-${item.shift_id}-${index}`, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2847,\n                              columnNumber: 41\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2845,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2840,\n                          columnNumber: 35\n                        }, this);\n                      })()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2743,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2742,\n                    columnNumber: 27\n                  }, this)\n                }, staffMember.id || staffMember.staff_id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2741,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2739,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2657,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"expenses\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"Trip Expenses (\", (tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2888,\n                  columnNumber: 21\n                }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: showAddExpense,\n                  onOpenChange: setShowAddExpense,\n                  children: [/*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2893,\n                        columnNumber: 29\n                      }, this), \"Add Expense\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2892,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2891,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                        children: \"Add Expense\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2899,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                        children: \"Record a new expense for this trip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2900,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2898,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseDescription\",\n                          children: \"Description\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2906,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"expenseDescription\",\n                          value: newExpense.description,\n                          onChange: e => setNewExpense({\n                            ...newExpense,\n                            description: e.target.value\n                          }),\n                          placeholder: \"Expense description\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2907,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2905,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseAmount\",\n                          children: [\"Amount (\", getCurrencySymbol((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.currency) || 'HKD'), \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2915,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"expenseAmount\",\n                          type: \"number\",\n                          value: newExpense.amount,\n                          onChange: e => setNewExpense({\n                            ...newExpense,\n                            amount: parseFloat(e.target.value) || 0\n                          }),\n                          placeholder: \"0.00\",\n                          min: \"0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2916,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2914,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseDateTime\",\n                          children: \"Date & Time\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2926,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          id: \"expenseDateTime\",\n                          type: \"datetime-local\",\n                          value: newExpense.datetime,\n                          onChange: e => setNewExpense({\n                            ...newExpense,\n                            datetime: e.target.value\n                          }),\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2927,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2925,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          htmlFor: \"expenseCategory\",\n                          children: \"Category\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2936,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Select, {\n                          value: newExpense.category,\n                          onValueChange: value => setNewExpense({\n                            ...newExpense,\n                            category: value\n                          }),\n                          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                            children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2942,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2941,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"accommodation\",\n                              children: \"Accommodation\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2945,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"transportation\",\n                              children: \"Transportation\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2946,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"entertainment\",\n                              children: \"Entertainment\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2947,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"food_beverage\",\n                              children: \"Food & Beverage\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2948,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                              value: \"other\",\n                              children: \"Other\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2949,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2944,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2937,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2935,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-end space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline\",\n                          onClick: () => setShowAddExpense(false),\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2954,\n                          columnNumber: 29\n                        }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                          onClick: handleAddExpense,\n                          children: \"Add Expense\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2958,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2953,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2904,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2897,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2890,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2887,\n                columnNumber: 19\n              }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Dialog, {\n                open: showEditExpense,\n                onOpenChange: setShowEditExpense,\n                children: /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                      children: \"Edit Expense\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2974,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n                      children: \"Update the expense details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2975,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2973,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editExpenseDescription\",\n                        children: \"Description\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2981,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"editExpenseDescription\",\n                        value: newExpense.description,\n                        onChange: e => setNewExpense({\n                          ...newExpense,\n                          description: e.target.value\n                        }),\n                        placeholder: \"Expense description\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2982,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2980,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editExpenseAmount\",\n                        children: [\"Amount (\", getCurrencySymbol((selectedTrip === null || selectedTrip === void 0 ? void 0 : selectedTrip.currency) || 'HKD'), \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2990,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"editExpenseAmount\",\n                        type: \"number\",\n                        value: newExpense.amount,\n                        onChange: e => setNewExpense({\n                          ...newExpense,\n                          amount: parseFloat(e.target.value) || 0\n                        }),\n                        placeholder: \"0.00\",\n                        min: \"0\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2991,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2989,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editExpenseDateTime\",\n                        children: \"Date & Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3001,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"editExpenseDateTime\",\n                        type: \"datetime-local\",\n                        value: newExpense.datetime,\n                        onChange: e => setNewExpense({\n                          ...newExpense,\n                          datetime: e.target.value\n                        }),\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3002,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3000,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        htmlFor: \"editExpenseCategory\",\n                        children: \"Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3011,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: newExpense.category,\n                        onValueChange: value => setNewExpense({\n                          ...newExpense,\n                          category: value\n                        }),\n                        children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                          children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3017,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3016,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                          children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                            value: \"accommodation\",\n                            children: \"Accommodation\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3020,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                            value: \"transportation\",\n                            children: \"Transportation\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3021,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                            value: \"entertainment\",\n                            children: \"Entertainment\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3022,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                            value: \"food_beverage\",\n                            children: \"Food & Beverage\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3023,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                            value: \"other\",\n                            children: \"Other\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3024,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3019,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3012,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3010,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline\",\n                        onClick: () => {\n                          setShowEditExpense(false);\n                          setEditingExpense(null);\n                          setNewExpense({\n                            description: '',\n                            amount: 0,\n                            category: 'flight',\n                            datetime: new Date().toISOString().slice(0, 16)\n                          });\n                        },\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3029,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: handleUpdateExpense,\n                        disabled: saving,\n                        children: saving ? 'Updating...' : 'Update Expense'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3041,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3028,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2979,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2972,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2971,\n                columnNumber: 21\n              }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(AlertDialog, {\n                open: showDeleteExpense,\n                onOpenChange: setShowDeleteExpense,\n                children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n                  children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogTitle, {\n                      children: \"Delete Expense\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3055,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogDescription, {\n                      children: [\"Are you sure you want to delete this expense? This action cannot be undone.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3058,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3058,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Expense:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3059,\n                        columnNumber: 29\n                      }, this), \" \", deletingExpense === null || deletingExpense === void 0 ? void 0 : deletingExpense.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3060,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Amount:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3061,\n                        columnNumber: 29\n                      }, this), \" \", deletingExpense && formatCurrency(deletingExpense.amount, viewingCurrency, selectedTrip)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3056,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3054,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertDialogCancel, {\n                      onClick: () => {\n                        setShowDeleteExpense(false);\n                        setDeletingExpense(null);\n                      },\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3065,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(AlertDialogAction, {\n                      onClick: confirmDeleteExpense,\n                      disabled: saving,\n                      className: \"bg-red-600 hover:bg-red-700\",\n                      children: saving ? 'Deleting...' : 'Delete Expense'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3071,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3064,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3053,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3052,\n                columnNumber: 21\n              }, this), expensesLoading ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3086,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading expenses...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3087,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3085,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3084,\n                columnNumber: 21\n              }, this) : ((tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0) === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3093,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No expenses recorded for this trip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3094,\n                    columnNumber: 25\n                  }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-4\",\n                    onClick: () => setShowAddExpense(true),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3097,\n                      columnNumber: 29\n                    }, this), \"Add First Expense\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3096,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3092,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3091,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      className: \"text-lg\",\n                      children: \"Expenses Summary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3108,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3107,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-bold text-red-600\",\n                      children: formatCurrency((tripExpenses || []).reduce((sum, exp) => sum + (exp.amount || 0), 0), viewingCurrency, selectedTrip)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3111,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [(tripExpenses === null || tripExpenses === void 0 ? void 0 : tripExpenses.length) || 0, \" expense items\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3114,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3110,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3106,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/_jsxDEV(Table, {\n                      children: [/*#__PURE__*/_jsxDEV(TableHeader, {\n                        children: /*#__PURE__*/_jsxDEV(TableRow, {\n                          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Description\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3124,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Type\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3125,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            children: \"Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3126,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                            className: \"text-right\",\n                            children: \"Amount\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3127,\n                            columnNumber: 33\n                          }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(TableHead, {\n                            className: \"text-center\",\n                            children: \"Actions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3128,\n                            columnNumber: 49\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3123,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3122,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                        children: (tripExpenses || []).map(expense => {\n                          var _expense$expense_type;\n                          return /*#__PURE__*/_jsxDEV(TableRow, {\n                            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"font-medium\",\n                              children: expense.description\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3134,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"capitalize\",\n                              children: (_expense$expense_type = expense.expense_type) === null || _expense$expense_type === void 0 ? void 0 : _expense$expense_type.replace('_', ' ')\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3135,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: expense.expense_date\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3136,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"text-right font-medium text-red-600\",\n                              children: formatCurrency(expense.amount, viewingCurrency, selectedTrip)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3137,\n                              columnNumber: 35\n                            }, this), !isReadOnly && /*#__PURE__*/_jsxDEV(TableCell, {\n                              className: \"text-center\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex justify-center space-x-2\",\n                                children: [/*#__PURE__*/_jsxDEV(Button, {\n                                  size: \"sm\",\n                                  variant: \"outline\",\n                                  onClick: () => handleEditExpense(expense),\n                                  disabled: saving,\n                                  children: /*#__PURE__*/_jsxDEV(Settings, {\n                                    className: \"w-4 h-4\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 3149,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3143,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                  size: \"sm\",\n                                  variant: \"outline\",\n                                  onClick: () => handleDeleteExpense(expense),\n                                  disabled: saving,\n                                  className: \"text-red-600 hover:text-red-700\",\n                                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                                    className: \"w-4 h-4\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 3158,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3151,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3142,\n                                columnNumber: 39\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3141,\n                              columnNumber: 37\n                            }, this)]\n                          }, expense.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3133,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3131,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3121,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3120,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3119,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3104,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2886,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"sharing\",\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Financial Overview & Profit Sharing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3176,\n                  columnNumber: 21\n                }, this), tripSharing && /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"outline\",\n                  onClick: () => selectedTrip && loadTripSharing(selectedTrip.id),\n                  disabled: sharingLoading,\n                  children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3184,\n                    columnNumber: 25\n                  }, this), \"Refresh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3178,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3175,\n                columnNumber: 19\n              }, this), sharingLoading ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3193,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Loading sharing data...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3194,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3192,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3191,\n                columnNumber: 21\n              }, this) : !tripSharing ? /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"text-center py-8\",\n                  children: [/*#__PURE__*/_jsxDEV(Settings, {\n                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3200,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"No sharing data available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3201,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-400 mt-2\",\n                    children: \"Sharing data will be calculated automatically when trip has transactions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3202,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3199,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3198,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Net Result\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3211,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3210,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: formatCurrency(Math.abs(tripSharing.net_result), viewingCurrency, selectedTrip)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3214,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"After all expenses and commissions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3219,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3213,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3209,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Agent Share\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3225,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3224,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.total_agent_share >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: formatCurrency(Math.abs(tripSharing.total_agent_share), viewingCurrency, selectedTrip)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3228,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [tripSharing.agent_share_percentage, \"% of net result\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3233,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3227,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3223,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                      className: \"pb-2\",\n                      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                        className: \"text-sm text-gray-600\",\n                        children: \"Company Share\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3239,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3238,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-2xl font-bold ${tripSharing.company_share >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: formatCurrency(Math.abs(tripSharing.company_share), viewingCurrency, selectedTrip)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3242,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [tripSharing.company_share_percentage, \"% of net result\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3247,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3241,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3237,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3208,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Financial Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3255,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3254,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-green-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Buy-in\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3260,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-green-600 font-bold\",\n                          children: formatCurrency(tripSharing.total_buy_in, viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3261,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3259,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-red-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Cash-out\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3264,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-red-600 font-bold\",\n                          children: formatCurrency(Math.abs(tripSharing.total_buy_out), viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3265,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3263,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-gray-100 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Gross Profit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3268,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-bold ${tripSharing.total_win_loss > 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: formatCurrency(Math.abs(tripSharing.total_win_loss), viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3269,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3267,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-purple-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Rolling Commission\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3276,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-purple-600 font-bold\",\n                          children: formatCurrency(Math.abs(tripSharing.total_rolling_commission), viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3277,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3275,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-red-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Total Expenses\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3280,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-red-600 font-bold\",\n                          children: formatCurrency(Math.abs(tripSharing.total_expenses), viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3281,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3279,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 bg-blue-50 rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Net Result\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3284,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-bold ${tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: formatCurrency(Math.abs(tripSharing.net_result), viewingCurrency, selectedTrip)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3285,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3283,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3258,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3257,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3253,\n                  columnNumber: 23\n                }, this), tripSharing.agent_breakdown && Object.keys(tripSharing.agent_breakdown).length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Agent Share Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3299,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3298,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: Object.entries((tripSharing === null || tripSharing === void 0 ? void 0 : tripSharing.agent_breakdown) || {}).map(([agentId, agentData]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center p-3 border rounded\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-medium\",\n                            children: agentData.agent_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3306,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: [\"Profit Sharing Rate: \", agentData.profit_sharing_rate, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3307,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3305,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `font-bold ${agentData.share_amount >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: [\"HK$\", safeFormatNumber(Math.abs(agentData.share_amount))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3309,\n                          columnNumber: 35\n                        }, this)]\n                      }, agentId, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3304,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3302,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3301,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3297,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                    children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                      children: \"Sharing Configuration\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3324,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                      children: \"Adjust the profit sharing percentages between agents and company\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3325,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3323,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 gap-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(Label, {\n                            children: \"Agent Share Percentage\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3333,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-blue-600\",\n                            children: [tripSharing.agent_share_percentage, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3334,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3332,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(Label, {\n                            children: \"Company Share Percentage\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3339,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-purple-600\",\n                            children: [tripSharing.company_share_percentage, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3340,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3338,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3331,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"pt-4 border-t\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mb-4\",\n                          children: [\"Current sharing model: \", tripSharing.agent_share_percentage, \"% to agents, \", tripSharing.company_share_percentage, \"% to company\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3346,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline\",\n                          size: \"sm\",\n                          onClick: () => {\n                            // TODO: Add sharing configuration dialog\n                            showError('Sharing configuration will be available in the next update');\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(Settings, {\n                            className: \"w-4 h-4 mr-2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3357,\n                            columnNumber: 33\n                          }, this), \"Configure Sharing\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3349,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3345,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3330,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3329,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3322,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3206,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1925,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1879,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"No Trip Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"Please select a trip from the trips list to view detailed information.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setActiveTab('trips'),\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3379,\n                columnNumber: 19\n              }, this), \"Go to Trips List\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3372,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3371,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1877,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1582,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddTransaction,\n      onOpenChange: setShowAddTransaction,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Add Transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: [\"Add a new transaction for \", (selectedCustomerForTransaction === null || selectedCustomerForTransaction === void 0 ? void 0 : selectedCustomerForTransaction.customerName) || (selectedCustomerForTransaction === null || selectedCustomerForTransaction === void 0 ? void 0 : (_selectedCustomerForT = selectedCustomerForTransaction.customer) === null || _selectedCustomerForT === void 0 ? void 0 : _selectedCustomerForT.name)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionType\",\n              children: \"Transaction Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3399,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: transactionForm.type,\n              onValueChange: value => setTransactionForm({\n                ...transactionForm,\n                type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"transactionType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3405,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3404,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"buy-in\",\n                  children: \"Buy In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3408,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"cash-out\",\n                  children: \"Cash Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3409,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3407,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionAmount\",\n              children: \"Amount (HK$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"transactionAmount\",\n              type: \"number\",\n              placeholder: \"Enter amount\",\n              value: transactionForm.amount,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                amount: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3415,\n              columnNumber: 15\n            }, this), !transactionForm.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Amount is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionVenue\",\n              className: \"flex items-center\",\n              children: [\"Venue \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500 ml-1\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3429,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: transactionForm.venue,\n              onValueChange: value => setTransactionForm({\n                ...transactionForm,\n                venue: value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"transactionVenue\",\n                className: !transactionForm.venue ? \"border-red-300\" : \"\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select venue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3437,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3436,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Hoe Win VIP\",\n                  children: \"Hoe Win VIP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3440,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"House Casino\",\n                  children: \"House Casino\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3441,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Competition\",\n                  children: \"Competition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3442,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3439,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3431,\n              columnNumber: 15\n            }, this), !transactionForm.venue && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Venue is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"transactionDateTime\",\n              children: \"Date & Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"transactionDateTime\",\n              type: \"datetime-local\",\n              value: transactionForm.datetime,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                datetime: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3451,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowAddTransaction(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddTransaction,\n            disabled: saving || !transactionForm.amount || !transactionForm.venue,\n            children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3469,\n                columnNumber: 19\n              }, this), \"Adding...\"]\n            }, void 0, true) : 'Add Transaction'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3459,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3390,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddRolling,\n      onOpenChange: setShowAddRolling,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Add Rolling\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3484,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: [\"Add rolling amount for \", (selectedCustomerForRolling === null || selectedCustomerForRolling === void 0 ? void 0 : selectedCustomerForRolling.customerName) || (selectedCustomerForRolling === null || selectedCustomerForRolling === void 0 ? void 0 : (_selectedCustomerForR = selectedCustomerForRolling.customer) === null || _selectedCustomerForR === void 0 ? void 0 : _selectedCustomerForR.name)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"staffMember\",\n              children: [\"Staff Member \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3491,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.staff_id,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                staff_id: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"staffMember\",\n                className: !rollingForm.staff_id ? \"border-red-300\" : \"\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select staff member\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3497,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3496,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: selectedTrip === null || selectedTrip === void 0 ? void 0 : (_staff2 = selectedTrip.staff) === null || _staff2 === void 0 ? void 0 : _staff2.map(staffMember => {\n                  var _staffMember$staff;\n                  return /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: staffMember.staffId || staffMember.staff_id,\n                    children: staffMember.staffName || ((_staffMember$staff = staffMember.staff) === null || _staffMember$staff === void 0 ? void 0 : _staffMember$staff.name)\n                  }, staffMember.staffId || staffMember.staff_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3501,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3499,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3492,\n              columnNumber: 15\n            }, this), !rollingForm.staff_id && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Staff member is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3511,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"gameType\",\n              children: [\"Game Type \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3515,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.game_type,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                game_type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"gameType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3521,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3520,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"baccarat\",\n                  children: \"Baccarat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3524,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"blackjack\",\n                  children: \"Blackjack\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3525,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"roulette\",\n                  children: \"Roulette\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3526,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"poker\",\n                  children: \"Poker\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3527,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"slots\",\n                  children: \"Slots\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3528,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3529,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3523,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3516,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"rollingAmount\",\n              children: [\"Rolling Amount (HK$) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3534,\n                columnNumber: 67\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"rollingAmount\",\n              type: \"number\",\n              placeholder: \"Enter rolling amount\",\n              value: rollingForm.amount,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                amount: e.target.value\n              }),\n              className: !rollingForm.amount ? \"border-red-300\" : \"\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3535,\n              columnNumber: 15\n            }, this), !rollingForm.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Rolling amount is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3545,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"commissionRate\",\n              children: [\"Commission Rate (%) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3549,\n                columnNumber: 67\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"commissionRate\",\n              type: \"number\",\n              step: \"0.01\",\n              min: \"0\",\n              max: \"100\",\n              placeholder: \"Enter commission rate (e.g., 1.40 for 1.40%)\",\n              value: (parseFloat(rollingForm.commission_rate) * 100).toFixed(2),\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                commission_rate: String(parseFloat(e.target.value || '0') / 100)\n              }),\n              className: !rollingForm.commission_rate ? \"border-red-300\" : \"\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3550,\n              columnNumber: 15\n            }, this), !rollingForm.commission_rate && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Commission rate is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Current rate: \", (parseFloat(rollingForm.commission_rate) * 100).toFixed(2), \"% (Commission: HK$\", rollingForm.amount ? (parseFloat(rollingForm.amount) * parseFloat(rollingForm.commission_rate)).toLocaleString() : '0', \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3565,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"rollingDateTime\",\n              children: \"Date & Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3571,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"rollingDateTime\",\n              type: \"datetime-local\",\n              value: rollingForm.datetime,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                datetime: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3572,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3570,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"rollingVenue\",\n              className: \"flex items-center\",\n              children: [\"Venue \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500 ml-1\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3582,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3581,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.venue,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                venue: value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"rollingVenue\",\n                className: !rollingForm.venue ? \"border-red-300\" : \"\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select venue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3590,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3589,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Hoe Win VIP\",\n                  children: \"Hoe Win VIP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3593,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"House Casino\",\n                  children: \"House Casino\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3594,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Competition\",\n                  children: \"Competition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3595,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3592,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3584,\n              columnNumber: 15\n            }, this), !rollingForm.venue && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-500 mt-1\",\n              children: \"Venue is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3599,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3580,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowAddRolling(false),\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddRolling,\n            disabled: saving || !rollingForm.amount || !rollingForm.staff_id || !rollingForm.venue || !rollingForm.commission_rate,\n            children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3613,\n                columnNumber: 19\n              }, this), \"Adding...\"]\n            }, void 0, true) : 'Add Rolling'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3607,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3603,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3482,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3481,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showCustomerPhotos,\n      onOpenChange: setShowCustomerPhotos,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"max-w-4xl max-h-[90vh]\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Camera, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3629,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Customer Photos - \", (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : selectedCustomerForPhotos.customerName) || (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : (_selectedCustomerForP = selectedCustomerForPhotos.customer) === null || _selectedCustomerForP === void 0 ? void 0 : _selectedCustomerForP.name)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3630,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3628,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: \"Transaction and Rolling photos uploaded by staff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3632,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 max-h-[70vh] overflow-y-auto\",\n          children: customerPhotos.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              className: \"w-12 h-12 mx-auto text-gray-300 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3640,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"No photos available for this customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3641,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400 mt-2\",\n              children: \"Staff can upload transaction and rolling photos during operations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3642,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3639,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [customerPhotos.filter(photo => photo.type === 'transaction' || photo.photo_type === 'transaction').length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium mb-3 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-2\",\n                  children: \"\\uD83D\\uDCB0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3652,\n                  columnNumber: 23\n                }, this), \"Transaction Photos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(PhotoDisplay, {\n                photos: customerPhotos.filter(photo => photo.type === 'transaction' || photo.photo_type === 'transaction').map(photo => {\n                  var _photo$photo, _photo$photo2, _photo$photo3, _photo$photo4;\n                  return {\n                    id: photo.id,\n                    photo: {\n                      data: photo.file_data || ((_photo$photo = photo.photo) === null || _photo$photo === void 0 ? void 0 : _photo$photo.data),\n                      filename: photo.file_name || ((_photo$photo2 = photo.photo) === null || _photo$photo2 === void 0 ? void 0 : _photo$photo2.filename),\n                      size: photo.file_size || ((_photo$photo3 = photo.photo) === null || _photo$photo3 === void 0 ? void 0 : _photo$photo3.size),\n                      type: photo.file_type || ((_photo$photo4 = photo.photo) === null || _photo$photo4 === void 0 ? void 0 : _photo$photo4.type)\n                    },\n                    status: photo.status,\n                    upload_date: photo.uploaded_at || photo.upload_date,\n                    transaction_date: photo.transaction_date\n                  };\n                }),\n                type: \"transaction\",\n                size: \"large\",\n                maxPhotos: 6,\n                showDownload: true,\n                userRole: currentUser.role,\n                customerName: (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : selectedCustomerForPhotos.customerName) || (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : (_selectedCustomerForP2 = selectedCustomerForPhotos.customer) === null || _selectedCustomerForP2 === void 0 ? void 0 : _selectedCustomerForP2.name) || (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : selectedCustomerForPhotos.name)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3655,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3650,\n              columnNumber: 19\n            }, this), customerPhotos.filter(photo => photo.type === 'rolling' || photo.photo_type === 'rolling').length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium mb-3 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-2\",\n                  children: \"\\uD83C\\uDFB2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3685,\n                  columnNumber: 23\n                }, this), \"Rolling Photos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(PhotoDisplay, {\n                photos: customerPhotos.filter(photo => photo.type === 'rolling' || photo.photo_type === 'rolling').map(photo => {\n                  var _photo$photo5, _photo$photo6, _photo$photo7, _photo$photo8;\n                  return {\n                    id: photo.id,\n                    photo: {\n                      data: photo.file_data || ((_photo$photo5 = photo.photo) === null || _photo$photo5 === void 0 ? void 0 : _photo$photo5.data),\n                      filename: photo.file_name || ((_photo$photo6 = photo.photo) === null || _photo$photo6 === void 0 ? void 0 : _photo$photo6.filename),\n                      size: photo.file_size || ((_photo$photo7 = photo.photo) === null || _photo$photo7 === void 0 ? void 0 : _photo$photo7.size),\n                      type: photo.file_type || ((_photo$photo8 = photo.photo) === null || _photo$photo8 === void 0 ? void 0 : _photo$photo8.type)\n                    },\n                    status: photo.status,\n                    upload_date: photo.uploaded_at || photo.upload_date,\n                    transaction_date: photo.transaction_date\n                  };\n                }),\n                type: \"rolling\",\n                size: \"large\",\n                maxPhotos: 6,\n                showDownload: true,\n                userRole: currentUser.role,\n                customerName: (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : selectedCustomerForPhotos.customerName) || (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : (_selectedCustomerForP3 = selectedCustomerForPhotos.customer) === null || _selectedCustomerForP3 === void 0 ? void 0 : _selectedCustomerForP3.name) || (selectedCustomerForPhotos === null || selectedCustomerForPhotos === void 0 ? void 0 : selectedCustomerForPhotos.name)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3688,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3683,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3647,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3637,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowCustomerPhotos(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3718,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3717,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3626,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3625,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showEditTransaction,\n      onOpenChange: setShowEditTransaction,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Edit Transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3729,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: \"Edit transaction details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3730,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3728,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editTransactionType\",\n              children: \"Transaction Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3736,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: transactionForm.type,\n              onValueChange: value => setTransactionForm({\n                ...transactionForm,\n                type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"editTransactionType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3742,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3741,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"buy-in\",\n                  children: \"Buy In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3745,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"cash-out\",\n                  children: \"Cash Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3746,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3744,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3737,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3735,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editTransactionAmount\",\n              children: \"Amount (HK$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3751,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"editTransactionAmount\",\n              type: \"number\",\n              placeholder: \"Enter amount\",\n              value: transactionForm.amount,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                amount: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3752,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3750,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editTransactionVenue\",\n              children: \"Venue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3762,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: transactionForm.venue,\n              onValueChange: value => setTransactionForm({\n                ...transactionForm,\n                venue: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"editTransactionVenue\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select venue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3768,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3767,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Hoe Win VIP\",\n                  children: \"Hoe Win VIP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3771,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"House Casino\",\n                  children: \"House Casino\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3772,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Competition\",\n                  children: \"Competition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3773,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3770,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3763,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3761,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editTransactionDateTime\",\n              children: \"Date & Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3778,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"editTransactionDateTime\",\n              type: \"datetime-local\",\n              value: transactionForm.datetime,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                datetime: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3779,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3777,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3734,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowEditTransaction(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3788,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleUpdateTransaction,\n            disabled: saving || !transactionForm.amount,\n            children: saving ? 'Updating...' : 'Update Transaction'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3791,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3787,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3727,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3726,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showEditRolling,\n      onOpenChange: setShowEditRolling,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Edit Rolling\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3802,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: \"Edit rolling record details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3803,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3801,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editRollingAmount\",\n              children: \"Amount (HK$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3809,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"editRollingAmount\",\n              type: \"number\",\n              placeholder: \"Enter amount\",\n              value: rollingForm.amount,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                amount: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3810,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3808,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editCommissionRate\",\n              children: \"Commission Rate (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3820,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"editCommissionRate\",\n              type: \"number\",\n              step: \"0.01\",\n              min: \"0\",\n              max: \"100\",\n              placeholder: \"Enter commission rate (e.g., 1.40 for 1.40%)\",\n              value: (parseFloat(rollingForm.commission_rate) * 100).toFixed(2),\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                commission_rate: String(parseFloat(e.target.value || '0') / 100)\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3821,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Current rate: \", (parseFloat(rollingForm.commission_rate) * 100).toFixed(2), \"% (Commission: HK$\", rollingForm.amount ? (parseFloat(rollingForm.amount) * parseFloat(rollingForm.commission_rate)).toLocaleString() : '0', \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3832,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3819,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editRollingStaff\",\n              children: \"Staff Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3838,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.staff_id,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                staff_id: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"editRollingStaff\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select staff member\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3844,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3843,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: selectedTrip === null || selectedTrip === void 0 ? void 0 : (_staff3 = selectedTrip.staff) === null || _staff3 === void 0 ? void 0 : _staff3.map(staffMember => {\n                  var _staffMember$staff2;\n                  return /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: staffMember.staffId || staffMember.staff_id,\n                    children: staffMember.staffName || ((_staffMember$staff2 = staffMember.staff) === null || _staffMember$staff2 === void 0 ? void 0 : _staffMember$staff2.name)\n                  }, staffMember.staffId || staffMember.staff_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3848,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3846,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3839,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3837,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editRollingGameType\",\n              children: \"Game Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3859,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.game_type,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                game_type: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"editRollingGameType\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3865,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3864,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"baccarat\",\n                  children: \"Baccarat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3868,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"blackjack\",\n                  children: \"Blackjack\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3869,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"roulette\",\n                  children: \"Roulette\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3870,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"poker\",\n                  children: \"Poker\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3871,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3872,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3867,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3860,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3858,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editRollingVenue\",\n              children: \"Venue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3877,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: rollingForm.venue,\n              onValueChange: value => setRollingForm({\n                ...rollingForm,\n                venue: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                id: \"editRollingVenue\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Select venue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3883,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3882,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Hoe Win VIP\",\n                  children: \"Hoe Win VIP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3886,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"House Casino\",\n                  children: \"House Casino\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3887,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"Competition\",\n                  children: \"Competition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3888,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3885,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3878,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3876,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"editRollingDateTime\",\n              children: \"Date & Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3893,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"editRollingDateTime\",\n              type: \"datetime-local\",\n              value: rollingForm.datetime,\n              onChange: e => setRollingForm({\n                ...rollingForm,\n                datetime: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3894,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3892,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3807,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowEditRolling(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3903,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleUpdateRolling,\n            disabled: saving || !rollingForm.amount || !rollingForm.commission_rate,\n            children: saving ? 'Updating...' : 'Update Rolling'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3906,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3902,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3800,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3799,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showEditProfitSharing,\n      onOpenChange: setShowEditProfitSharing,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"Edit Profit Sharing Rate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3917,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: \"Adjust the profit sharing rate for this agent-customer relationship\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3918,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3916,\n          columnNumber: 11\n        }, this), editingProfitSharing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-3 rounded\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Agent:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3929,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: editingProfitSharing.agentName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3930,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3928,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Customer:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3933,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: editingProfitSharing.customerName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3934,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3932,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3927,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3926,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center p-3 bg-blue-50 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-blue-800\",\n              children: \"Current Rate:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3941,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold text-blue-600\",\n              children: [editingProfitSharing.currentRate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3942,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3940,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"newRate\",\n              children: \"New Profit Sharing Rate (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3947,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"newRate\",\n              type: \"number\",\n              value: newProfitSharingRate,\n              onChange: e => setNewProfitSharingRate(parseFloat(e.target.value) || 0),\n              min: \"0\",\n              max: \"100\",\n              step: \"0.1\",\n              className: \"text-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3948,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3946,\n            columnNumber: 15\n          }, this), (_selectedTrip$custome5 => {\n            // Find customer stats for this customer\n            const customerStats = selectedTrip === null || selectedTrip === void 0 ? void 0 : (_selectedTrip$custome5 = selectedTrip.customers) === null || _selectedTrip$custome5 === void 0 ? void 0 : _selectedTrip$custome5.find(c => c.customer_id === editingProfitSharing.customerId || c.customerId === editingProfitSharing.customerId);\n            const netResult = (customerStats === null || customerStats === void 0 ? void 0 : customerStats.net_result) || 0;\n            const projectedShare = calculateProjectedProfitShare(netResult, newProfitSharingRate);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 bg-gray-50 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Customer Net Result\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3973,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-lg font-bold ${netResult >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: formatCurrencyWithSign(netResult, viewingCurrency, selectedTrip)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3974,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3972,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 bg-green-50 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Projected Profit Share\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3981,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-bold text-green-600\",\n                    children: formatCurrency(projectedShare, viewingCurrency, selectedTrip)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3982,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3980,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3971,\n                columnNumber: 21\n              }, this), netResult <= 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-yellow-50 border border-yellow-200 rounded\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-yellow-800\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Note:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3991,\n                    columnNumber: 27\n                  }, this), \" Customer has negative or zero net result. Profit sharing only applies to positive customer profits.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3990,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3989,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3970,\n              columnNumber: 19\n            }, this);\n          })(), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-indigo-50 border border-indigo-200 rounded\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-indigo-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rate Change:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4003,\n                columnNumber: 19\n              }, this), \" \", editingProfitSharing.currentRate, \"% \\u2192 \", newProfitSharingRate, \"%\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: [\"(\", newProfitSharingRate > editingProfitSharing.currentRate ? '+' : '', (newProfitSharingRate - editingProfitSharing.currentRate).toFixed(1), \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4004,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4002,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4001,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3924,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => setShowEditProfitSharing(false),\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4014,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleUpdateProfitSharing,\n            disabled: saving || !editingProfitSharing,\n            children: saving ? 'Updating...' : 'Update Rate'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4021,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4013,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3915,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3914,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1523,\n    columnNumber: 5\n  }, this);\n}, \"9LjckDV35HTcfMz/xuDFf2WfIKM=\", false, function () {\n  return [useLanguage];\n})), \"9LjckDV35HTcfMz/xuDFf2WfIKM=\", false, function () {\n  return [useLanguage];\n});\n_c2 = ProjectManagementComponent;\nProjectManagementComponent.displayName = 'ProjectManagementComponent';\nexport default ProjectManagementComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProjectManagementComponent$memo\");\n$RefreshReg$(_c2, \"ProjectManagementComponent\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","memo","startTransition","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Alert","AlertDescription","Badge","Tabs","TabsContent","TabsList","TabsTrigger","tokenManager","Textarea","Input","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Dialog","DialogContent","DialogDescription","DialogHeader","DialogTitle","DialogTrigger","AlertDialog","AlertDialogAction","AlertDialogCancel","AlertDialogContent","AlertDialogDescription","AlertDialogFooter","AlertDialogHeader","AlertDialogTitle","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","db","apiClient","useLanguage","isReadOnlyRole","canViewFinancialData","PhotoDisplay","SUPPORTED_CURRENCIES","formatCurrency","formatCurrencyWithSign","getCurrencySymbol","MapPin","RefreshCw","Users","DollarSign","Settings","Plus","Trash2","Eye","BarChart","UserCheck","X","Share2","AlertTriangle","Camera","Image","CheckCircle","ChevronDown","jsxDEV","_jsxDEV","Fragment","_Fragment","ProjectManagementComponent","_s","_c","user","_selectedTrip$custome2","_selectedTrip$custome3","_deletingCustomer$cus","_selectedTrip$custome4","_selectedTrip$agents","_staff","_selectedCustomerForT","_selectedCustomerForR","_staff2","_selectedCustomerForP","_selectedCustomerForP2","_selectedCustomerForP3","_staff3","currentUser","role","agentId","username","clearError","showError","message","console","error","t","isReadOnly","canSeeFinancials","safeNumber","value","num","parseFloat","isNaN","trips","setTrips","customers","setCustomers","agents","setAgents","staff","setStaff","selectedTrip","setSelectedTrip","activeTab","setActiveTab","selectedTripTab","setSelectedTripTab","loading","setLoading","saving","setSaving","errorMessage","setErrorMessage","dataLoaded","setDataLoaded","tripExpenses","setTripExpenses","tripSharing","setTripSharing","agentSummary","setAgentSummary","showCreateTrip","setShowCreateTrip","showAddCustomer","setShowAddCustomer","showEditAgent","setShowEditAgent","showDeleteAgent","setShowDeleteAgent","showAddStaff","setShowAddStaff","showAddTransaction","setShowAddTransaction","showAddRolling","setShowAddRolling","selectedCustomerForTransaction","setSelectedCustomerForTransaction","selectedCustomerForRolling","setSelectedCustomerForRolling","showEditTransaction","setShowEditTransaction","showEditRolling","setShowEditRolling","editingTransaction","setEditingTransaction","editingRolling","setEditingRolling","showHistory","setShowHistory","customerTransactions","setCustomerTransactions","customerRollings","setCustomerRollings","showEditProfitSharing","setShowEditProfitSharing","editingProfitSharing","setEditingProfitSharing","newProfitSharingRate","setNewProfitSharingRate","showAddExpense","setShowAddExpense","showEditExpense","setShowEditExpense","editingExpense","setEditingExpense","showDeleteExpense","setShowDeleteExpense","deletingExpense","setDeletingExpense","showCustomerPhotos","setShowCustomerPhotos","selectedCustomerForPhotos","setSelectedCustomerForPhotos","customerPhotos","setCustomerPhotos","showDeleteCustomer","setShowDeleteCustomer","deletingCustomer","setDeletingCustomer","expensesLoading","setExpensesLoading","sharingLoading","setSharingLoading","initialTransactionForm","type","amount","venue","datetime","Date","toISOString","slice","initialRollingForm","staff_id","game_type","commission_rate","transactionForm","setTransactionForm","rollingForm","setRollingForm","newTrip","setNewTrip","name","description","date","endDate","budget","status","currency","exchange_rate_peso","exchange_rate_hkd","exchange_rate_myr","viewingCurrency","setViewingCurrency","renderCount","setRenderCount","isLowPerformanceMode","setIsLowPerformanceMode","prev","log","warn","throttledSetState","setter","customerSearchTerm","setCustomerSearchTerm","debouncedSearchTerm","setDebouncedSearchTerm","timer","setTimeout","clearTimeout","dataCache","setDataCache","Map","visibleRange","setVisibleRange","start","end","filteredCustomers","cacheKey","length","has","get","result","filter","customer","_customer$name","_customer$email","_customer$phone","toLowerCase","includes","email","phone","set","visibleCustomers","observerCallback","entries","forEach","entry","isIntersecting","Math","max","min","tripId","id","tripCurrency","exchangeRates","peso","hkd","myr","newExpense","setNewExpense","category","editAgentShare","setEditAgentShare","editingAgent","setEditingAgent","deletingAgent","setDeletingAgent","safeFormatNumber","undefined","toLocaleString","filterCustomersBySearch","searchTerm","trim","term","_customer$name2","_customer$email2","_customer$agentName","agentName","isAdmin","isAgent","loadTripExpenses","response","success","data","expenses","loadTripSharing","loadAgentSummary","getTripAgentSummary","Array","isArray","loadCustomerPhotos","customerId","handleViewCustomerPhotos","tripCustomer","customer_id","updateCommissionRate","commissionRate","put","profit_sharing_rate","handleEditProfitSharing","customerName","customer_name","currentRate","customerNetResult","handleUpdateProfitSharing","calculateProjectedProfitShare","sharingRate","addTripExpense","expenseData","post","selectTrip","loadAllRealTimeData","forceRefresh","token","getToken","_loginData$data","apiUrl","process","env","REACT_APP_API_URL","loginResponse","fetch","method","headers","body","JSON","stringify","password","loginData","json","setToken","userData","localStorage","setItem","tripsData","customersData","agentsData","staffResponse","Promise","all","userRole","staffData","transformedTrips","map","trip","_trip$name","_trip$trip_name","trip_name","start_date","startDate","end_date","total_budget","createdAt","created_at","totalRolling","totalWinLoss","totalBuyIn","totalBuyOut","calculatedTotalRolling","sharing","totalExpenses","totalRollingCommission","netResult","netCashFlow","totalAgentShare","companyShare","agentSharePercentage","companySharePercentage","agentShares","agentBreakdown","attachments","lastDataUpdate","activeCustomersCount","recentActivityCount","_dataLoaded","batchSize","enrichedTrips","i","batch","batchResults","statsResult","sharingResult","customersResult","allSettled","tripStats","tripCustomers","statsRoot","statistics","total_rolling","net_profit","total_buy_in","total_cash_out","total_expenses","net_result","total_win_loss","total_rolling_commission","total_buy_out","net_cash_flow","total_agent_share","company_share","agent_share_percentage","company_share_percentage","agent_breakdown","push","resolve","tripName","getFilteredTrips","some","agent","saveTrips","updatedTrips","save","Error","handleCreateTrip","tripData","destination","_expensesResponse$dat","_customersResponse$da","_statisticsResponse$d","_statisticsResponse$d2","_statisticsResponse$d3","_statisticsResponse$d4","_statisticsResponse$d5","_statisticsResponse$d6","_statisticsResponse$d7","_statisticsResponse$d8","customersResponse","expensesResponse","sharingResponse","statisticsResponse","transactionsResponse","agentsResponse","transactions","enrichedTrip","backendData","totalCashOut","profitMargin","profit_margin","customerStatsLoaded","expensesLoaded","agentsLoaded","sharingLoaded","statisticsLoaded","transactionsLoaded","reduce","sum","c","rolling_amount","e","handleAddCustomerToTrip","find","tc","confirmRemoveCustomerFromTrip","handleRemoveCustomerFromTrip","delete","handleAddStaffToTrip","staffId","handleRemoveStaffFromTrip","loadCustomerTransactions","getCustomerTransactions","loadCustomerRollings","getCustomerRollings","toggleHistoryVisibility","isCurrentlyShown","handleEditTransaction","transaction","transaction_type","String","handleUpdateTransaction","transactionData","updated_at","updateTransaction","handleDeleteTransaction","window","confirm","deleteTransaction","handleEditRolling","rolling","handleUpdateRolling","rollingData","updateRolling","handleDeleteRolling","deleteRolling","handleAddTransaction","getItem","transactionTypeMapping","mappedTransactionType","handleAddRolling","handleEditAgentShare","updatedTrip","sharePercentage","handleDeleteAgentFromTrip","agentIdToRemove","agent_id","url","handleAddExpense","expense_type","handleEditExpense","expense","expense_date","handleUpdateExpense","handleDeleteExpense","confirmDeleteExpense","filteredTrips","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","onClick","size","variant","onValueChange","disabled","open","onOpenChange","asChild","htmlFor","onChange","target","placeholder","label","step","_trip$status","_trip$status2","_trip$customers","_trip$sharing","_trip$sharing2","_trip$sharing3","_trip$sharing4","charAt","toUpperCase","abs","newCurrency","from","to","rates","symbol","_backendData","_selectedTrip$custome","_backendData2","_sharing","_backendData3","_sharing2","_backendData4","_sharing3","_backendData5","_backendData6","_backendData7","_backendData8","_backendData9","_backendData0","_backendData1","_backendData10","_backendData11","_backendData12","_backendData13","_backendData14","_backendData15","netProfit","availableCustomers","_tripCustomer$custome","_tripCustomer$custome2","_customerTransactions","_customerRollings","vip_level","buyInAmount","buyOutAmount","rollingAmount","toFixed","summary","_summary$customers","agent_name","agent_commission_rate","agent_profit_share","total_commission","total_profit","customer_count","toLocaleDateString","s","ts","allStaff","tripStaff","staffCount","tripStaffCount","availableStaff","tripStaffId","match","staffName","staffMember","position","staffEmail","staffPosition","loadShifts","shiftsResponse","shifts","shiftPhotos","shift","check_in_photo","photo","check_in_time","shift_id","timestamp","getTime","check_out_photo","check_out_time","sort","a","b","item","index","src","alt","required","exp","_expense$expense_type","replace","Object","keys","agentData","share_amount","_staffMember$staff","photo_type","photos","_photo$photo","_photo$photo2","_photo$photo3","_photo$photo4","file_data","filename","file_name","file_size","file_type","upload_date","uploaded_at","transaction_date","maxPhotos","showDownload","_photo$photo5","_photo$photo6","_photo$photo7","_photo$photo8","_staffMember$staff2","_selectedTrip$custome5","customerStats","projectedShare","_c2","displayName","$RefreshReg$"],"sources":["/Users/user/Desktop/Cursor New Management System/management-system-1/Junket Management System Source Code/src/components/ProjectManagement.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, memo, Suspense, lazy, startTransition } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { Badge } from './ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { tokenManager } from '../utils/auth/tokenManager';\nimport { Textarea } from './ui/textarea';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from './ui/alert-dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from './ui/table';\nimport { Trip, Customer, Agent } from '../types';\nimport { db } from '../utils/supabase/supabaseClients';\nimport { apiClient } from '../utils/api/apiClient';\nimport { useLanguage } from '../contexts/LanguageContext';\nimport { isReadOnlyRole, canViewFinancialData } from '../utils/permissions';\nimport { PhotoDisplay } from './common/PhotoDisplay';\nimport { \n  SUPPORTED_CURRENCIES, \n  formatCurrency, \n  formatCurrencyWithSign, \n  getCurrencySymbol\n} from '../utils/currency';\nimport { \n  MapPin, RefreshCw, Users, DollarSign, Settings, Plus, Trash2, Eye,\n  BarChart, UserCheck, X, Share2, AlertTriangle, Camera, Image, CheckCircle, ChevronDown\n} from 'lucide-react';\n\n\n\ninterface ProjectManagementProps {\n  user?: { role: string; agentId?: string | null; username: string };\n}\n\nconst ProjectManagementComponent = memo(({ user }: ProjectManagementProps) => {\n  // Default user if not provided - memoized to prevent recreation\n  const currentUser = useMemo(() => user || { role: 'admin', agentId: null, username: 'admin' }, [user]);\n  const clearError = useCallback(() => {}, []);\n  const showError = useCallback((message: string) => console.error(message), []);\n  const { t } = useLanguage();\n  \n  // Memoize permission checks to prevent recalculation\n  const isReadOnly = useMemo(() => isReadOnlyRole(currentUser.role), [currentUser.role]);\n  const canSeeFinancials = useMemo(() => canViewFinancialData(currentUser.role), [currentUser.role]);\n  \n  // Memoized utility function for safe number conversion\n  const safeNumber = useCallback((value: any): number => {\n    const num = parseFloat(value);\n    return isNaN(num) ? 0 : num;\n  }, []);\n  // Data states\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [agents, setAgents] = useState<Agent[]>([]);\n  const [staff, setStaff] = useState<any[]>([]);\n  const [selectedTrip, setSelectedTrip] = useState<Trip | null>(null);\n  const [activeTab, setActiveTab] = useState('trips');\n  const [selectedTripTab, setSelectedTripTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n  \n  // Trip expenses and sharing states\n  const [tripExpenses, setTripExpenses] = useState<any[]>([]);\n  const [tripSharing, setTripSharing] = useState<any>(null);\n  const [agentSummary, setAgentSummary] = useState<any[]>([]);\n  \n  // Form states\n  const [showCreateTrip, setShowCreateTrip] = useState(false);\n  const [showAddCustomer, setShowAddCustomer] = useState(false);\n  const [showEditAgent, setShowEditAgent] = useState(false);\n  const [showDeleteAgent, setShowDeleteAgent] = useState(false);\n  const [showAddStaff, setShowAddStaff] = useState(false);\n  const [showAddTransaction, setShowAddTransaction] = useState(false);\n  const [showAddRolling, setShowAddRolling] = useState(false);\n  const [selectedCustomerForTransaction, setSelectedCustomerForTransaction] = useState<any>(null);\n  const [selectedCustomerForRolling, setSelectedCustomerForRolling] = useState<any>(null);\n  \n  // Edit transaction/rolling states\n  const [showEditTransaction, setShowEditTransaction] = useState(false);\n  const [showEditRolling, setShowEditRolling] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState<any>(null);\n  const [editingRolling, setEditingRolling] = useState<any>(null);\n  const [showHistory, setShowHistory] = useState<{[key: string]: boolean}>({});\n  const [customerTransactions, setCustomerTransactions] = useState<{[key: string]: any[]}>({});\n  const [customerRollings, setCustomerRollings] = useState<{[key: string]: any[]}>({});\n  \n  // Profit sharing rate edit states\n  const [showEditProfitSharing, setShowEditProfitSharing] = useState(false);\n  const [editingProfitSharing, setEditingProfitSharing] = useState<any>(null);\n  const [newProfitSharingRate, setNewProfitSharingRate] = useState(0);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [showEditExpense, setShowEditExpense] = useState(false);\n  const [editingExpense, setEditingExpense] = useState<any>(null);\n  const [showDeleteExpense, setShowDeleteExpense] = useState(false);\n  const [deletingExpense, setDeletingExpense] = useState<any>(null);\n  const [showCustomerPhotos, setShowCustomerPhotos] = useState(false);\n  const [selectedCustomerForPhotos, setSelectedCustomerForPhotos] = useState<any>(null);\n  const [customerPhotos, setCustomerPhotos] = useState<any[]>([]);\n  const [showDeleteCustomer, setShowDeleteCustomer] = useState(false);\n  const [deletingCustomer, setDeletingCustomer] = useState<any>(null);\n  \n  const [expensesLoading, setExpensesLoading] = useState(false);\n  const [sharingLoading, setSharingLoading] = useState(false);\n  \n  // Transaction and Rolling form states - memoized initial values\n  const initialTransactionForm = useMemo(() => ({\n    type: 'buy-in' as 'buy-in' | 'cash-out',\n    amount: '',\n    venue: '',\n    datetime: new Date().toISOString().slice(0, 16)\n  }), []);\n  \n  const initialRollingForm = useMemo(() => ({\n    amount: '',\n    staff_id: '',\n    game_type: 'baccarat' as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other',\n    venue: '',\n    datetime: new Date().toISOString().slice(0, 16),\n    commission_rate: '0.014'\n  }), []);\n  \n  const [transactionForm, setTransactionForm] = useState(initialTransactionForm);\n  const [rollingForm, setRollingForm] = useState(initialRollingForm);\n\n  // Form data states\n  const [newTrip, setNewTrip] = useState({\n    name: '',\n    description: '',\n    date: '',\n    endDate: '',\n    venue: '',\n    budget: '',\n    status: 'active' as 'active' | 'in-progress' | 'completed' | 'cancelled',\n    currency: 'HKD',\n    exchange_rate_peso: 1.0000,\n    exchange_rate_hkd: 1.0000,\n    exchange_rate_myr: 1.0000\n  });\n\n  // Dynamic currency viewing state - initialize with trip's default currency\n  const [viewingCurrency, setViewingCurrency] = useState<string>('HKD');\n\n  // Performance monitoring and optimization\n  const [renderCount, setRenderCount] = useState(0);\n  const [isLowPerformanceMode, setIsLowPerformanceMode] = useState(false);\n  \n  useEffect(() => {\n    setRenderCount(prev => prev + 1);\n    if (renderCount > 0 && renderCount % 10 === 0) {\n      console.log(`🔄 ProjectManagement rendered ${renderCount} times`);\n      // Enable low performance mode if too many renders\n      if (renderCount > 50) {\n        setIsLowPerformanceMode(true);\n        console.warn('⚠️ Enabling low performance mode due to excessive renders');\n      }\n    }\n  });\n  \n  // Throttle state updates in low performance mode\n  const throttledSetState = useCallback((setter: Function, value: any) => {\n    if (isLowPerformanceMode) {\n      startTransition(() => {\n        setter(value);\n      });\n    } else {\n      setter(value);\n    }\n  }, [isLowPerformanceMode]);\n\n  // Customer search state for Add Customer dialog with debouncing\n  const [customerSearchTerm, setCustomerSearchTerm] = useState('');\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\n  \n  // Debounce search term to improve performance\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchTerm(customerSearchTerm);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [customerSearchTerm]);\n\n  // Clear customer search term when Add Customer dialog is closed\n  useEffect(() => {\n    if (!showAddCustomer) {\n      setCustomerSearchTerm('');\n      setDebouncedSearchTerm('');\n    }\n  }, [showAddCustomer]);\n  \n  // Advanced data caching and virtualization\n  const [dataCache, setDataCache] = useState<Map<string, any>>(new Map());\n  const [visibleRange, setVisibleRange] = useState({ start: 0, end: 50 });\n  \n  // Memoize filtered customers with virtualization support\n  const filteredCustomers = useMemo(() => {\n    const cacheKey = `customers_${debouncedSearchTerm}_${customers.length}`;\n    \n    if (dataCache.has(cacheKey)) {\n      return dataCache.get(cacheKey);\n    }\n    \n    let result;\n    if (!debouncedSearchTerm) {\n      result = customers;\n    } else {\n      result = customers.filter(customer => \n        customer.name?.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||\n        customer.email?.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||\n        customer.phone?.includes(debouncedSearchTerm)\n      );\n    }\n    \n    // Cache the result\n    setDataCache(prev => new Map(prev.set(cacheKey, result)));\n    return result;\n  }, [customers, debouncedSearchTerm, dataCache]);\n  \n  // Virtual list for large datasets\n  const visibleCustomers = useMemo(() => {\n    if (filteredCustomers.length <= 100) return filteredCustomers;\n    return filteredCustomers.slice(visibleRange.start, visibleRange.end);\n  }, [filteredCustomers, visibleRange]);\n  \n  // Intersection Observer for virtual scrolling\n  const observerCallback = useCallback((entries: IntersectionObserverEntry[]) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        setVisibleRange(prev => ({\n          start: Math.max(0, prev.start),\n          end: Math.min(filteredCustomers.length, prev.end + 25)\n        }));\n      }\n    });\n  }, [filteredCustomers.length]);\n\n  // Update viewing currency when selected trip changes\n  useEffect(() => {\n    if (selectedTrip?.currency) {\n      setViewingCurrency(selectedTrip.currency);\n      console.log('🔄 Trip changed, updating viewing currency:', {\n        tripId: selectedTrip.id,\n        tripCurrency: selectedTrip.currency,\n        exchangeRates: {\n          peso: selectedTrip.exchange_rate_peso,\n          hkd: selectedTrip.exchange_rate_hkd,\n          myr: selectedTrip.exchange_rate_myr\n        }\n      });\n    }\n  }, [selectedTrip]);\n  \n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: 0,\n    category: 'flight' as const,\n    datetime: new Date().toISOString().slice(0, 16) // YYYY-MM-DDTHH:mm format\n  });\n  const [editAgentShare, setEditAgentShare] = useState(25);\n  const [editingAgent, setEditingAgent] = useState<any>(null);\n  const [deletingAgent, setDeletingAgent] = useState<any>(null);\n\n  // Helper functions\n  const safeFormatNumber = (value: number | undefined | null): string => {\n    if (value === undefined || value === null || isNaN(value)) return '0';\n    return value.toLocaleString();\n  };\n\n  // Filter customers by search term for Add Customer dialog\n  const filterCustomersBySearch = (customers: Customer[], searchTerm: string) => {\n    if (!searchTerm.trim()) return customers;\n    \n    const term = searchTerm.toLowerCase().trim();\n    return customers.filter(customer => \n      customer.name?.toLowerCase().includes(term) ||\n      customer.email?.toLowerCase().includes(term) ||\n      customer.agentName?.toLowerCase().includes(term)\n    );\n  };\n\n  // Permissions\n  const isAdmin = currentUser.role === 'admin';\n  const isAgent = currentUser.role === 'agent' && currentUser.agentId;\n\n  const loadTripExpenses = useCallback(async (tripId: string) => {\n    try {\n      setExpensesLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/expenses`);\n      if (response.success) {\n        setTripExpenses(response.data.expenses || []);\n      }\n    } catch (error) {\n      console.error('Error loading trip expenses:', error);\n      showError('Failed to load trip expenses');\n    } finally {\n      setExpensesLoading(false);\n    }\n  }, [showError]);\n\n  const loadTripSharing = useCallback(async (tripId: string) => {\n    try {\n      setSharingLoading(true);\n      const response = await apiClient.get(`/trips/${tripId}/sharing`);\n      if (response.success) {\n        setTripSharing(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading trip sharing:', error);\n      showError('Failed to load trip sharing');\n    } finally {\n      setSharingLoading(false);\n    }\n  }, [showError]);\n\n\n  // Load agent summary data from trip_agent_summary table\n  const loadAgentSummary = useCallback(async (tripId: string) => {\n    try {\n      console.log('📊 Loading agent summary for trip:', tripId);\n      const response = await apiClient.getTripAgentSummary(tripId);\n      console.log('📊 Agent summary API response:', response);\n      if (response.success) {\n        console.log('✅ Agent summary data:', response.data);\n        setAgentSummary(Array.isArray(response.data) ? response.data : []);\n      } else {\n        console.log('❌ Agent summary API failed:', response);\n        setAgentSummary([]);\n      }\n    } catch (error) {\n      console.error('Error loading agent summary:', error);\n      showError('Failed to load agent summary');\n      setAgentSummary([]);\n    }\n  }, [showError]);\n\n  // Load customer photos (transaction and rolling photos)\n  const loadCustomerPhotos = useCallback(async (customerId: string, tripId: string) => {\n    try {\n      console.log('🔍 Loading customer photos for:', { customerId, tripId });\n      const response = await apiClient.get(`/trips/${tripId}/customers/${customerId}/photos`);\n      \n      if (response.success) {\n        console.log('📸 Customer photos loaded:', response.data);\n        setCustomerPhotos(response.data || []);\n      } else {\n        console.log('❌ Failed to load customer photos:', response.error);\n        setCustomerPhotos([]);\n      }\n    } catch (error) {\n      console.error('❌ Error loading customer photos:', error);\n      setCustomerPhotos([]);\n    }\n  }, []);\n\n  // Handle viewing customer photos\n  const handleViewCustomerPhotos = async (tripCustomer: any) => {\n    if (!selectedTrip) return;\n    \n    const customerId = tripCustomer.customerId || tripCustomer.customer_id;\n    setSelectedCustomerForPhotos(tripCustomer);\n    setShowCustomerPhotos(true);\n    \n    // Load photos for this customer\n    await loadCustomerPhotos(customerId, selectedTrip.id);\n  };\n\n  const updateCommissionRate = async (agentId: string, customerId: string, commissionRate: number) => {\n    try {\n      if (!selectedTrip) return;\n      \n      setSaving(true);\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/agents/${agentId}/commission`, {\n        customer_id: customerId,\n        profit_sharing_rate: commissionRate\n      });\n      \n      if (response.success) {\n        // Reload agent summary to reflect the change\n        await loadAgentSummary(selectedTrip.id);\n        console.log('Commission rate updated successfully');\n      } else {\n        showError('Failed to update commission rate');\n      }\n    } catch (error) {\n      console.error('Error updating commission rate:', error);\n      showError('Failed to update commission rate');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle opening profit sharing rate edit dialog\n  const handleEditProfitSharing = (agentId: string, customer: any, agentName: string) => {\n    setEditingProfitSharing({\n      agentId,\n      customerId: customer.customer_id,\n      customerName: customer.customer_name,\n      agentName,\n      currentRate: customer.profit_sharing_rate || 0,\n      customerNetResult: 0 // Will be calculated from customer stats\n    });\n    setNewProfitSharingRate(customer.profit_sharing_rate || 0);\n    setShowEditProfitSharing(true);\n  };\n\n  // Handle updating profit sharing rate from dialog\n  const handleUpdateProfitSharing = async () => {\n    if (!editingProfitSharing) return;\n    \n    await updateCommissionRate(\n      editingProfitSharing.agentId,\n      editingProfitSharing.customerId,\n      newProfitSharingRate\n    );\n    \n    setShowEditProfitSharing(false);\n    setEditingProfitSharing(null);\n    setNewProfitSharingRate(0);\n  };\n\n  // Calculate projected profit share based on customer net result and sharing rate\n  const calculateProjectedProfitShare = (customerNetResult: number, sharingRate: number) => {\n    if (customerNetResult <= 0) return 0; // Only positive net results generate profit share\n    return (customerNetResult * sharingRate) / 100;\n  };\n\n  const addTripExpense = async (tripId: string, expenseData: any) => {\n    try {\n      setSaving(true);\n      const response = await apiClient.post(`/trips/${tripId}/expenses`, expenseData);\n      if (response.success && selectedTrip) {\n        await selectTrip(selectedTrip);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding trip expense:', error);\n      showError('Failed to add trip expense');\n      return false;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Enhanced data loading with better error handling and caching\n  const loadAllRealTimeData = useCallback(async (forceRefresh = false) => {\n    try {\n      if (!forceRefresh && dataLoaded && trips.length > 0) {\n        console.log('📋 Using cached data, skipping reload');\n        return;\n      }\n      \n      setLoading(true);\n      setErrorMessage('');\n      clearError();\n      \n      // First ensure we have authentication\n      const token = await tokenManager.getToken();\n      if (!token) {\n        console.log('❌ No authentication token available, attempting auto-login...');\n        \n        // Try to auto-login with admin credentials\n        try {\n          const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const loginResponse = await fetch(`${apiUrl}/auth/login`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'admin',\n              password: 'admin123'\n            })\n          });\n          \n          const loginData = await loginResponse.json();\n          \n          if (loginData.success && loginData.data?.token) {\n            console.log('✅ Auto-login successful');\n            tokenManager.setToken(loginData.data.token);\n            \n            // Store user data in localStorage for consistency\n            const userData = {\n              ...loginData.data.user,\n              token: loginData.data.token\n            };\n            localStorage.setItem('casinoUser', JSON.stringify(userData));\n          } else {\n            console.log('❌ Auto-login failed:', loginData);\n            setErrorMessage('Authentication required. Please login first.');\n            setLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('❌ Auto-login error:', error);\n          setErrorMessage('Authentication failed. Please check your connection.');\n          setLoading(false);\n          return;\n        }\n      }\n      \n      // Load basic data first (fast) - no role filtering at database level\n      console.log('🔍 Loading data for user role:', currentUser.role);\n      const [tripsData, customersData, agentsData, staffResponse] = await Promise.all([\n        db.get('trips', []),\n        db.get('customers', []),\n        db.get('agents', []),\n        apiClient.get('/staffs')\n      ]);\n      \n      console.log('📊 Raw data loaded:', {\n        trips: tripsData?.length || 0,\n        customers: customersData?.length || 0,\n        agents: agentsData?.length || 0,\n        userRole: currentUser.role\n      });\n      \n      // Extract staff data from API response\n      const staffData = staffResponse.success ? staffResponse.data : [];\n\n      // Transform trips with basic data only (no heavy API calls)\n      const transformedTrips = (tripsData || []).map((trip: any) => {\n        return {\n          id: trip.id,\n          name: trip.trip_name || trip.name || 'Unnamed Trip',\n          description: trip.description || '',\n          date: trip.start_date || trip.date,\n          startDate: trip.start_date || trip.date,\n          endDate: trip.end_date || trip.endDate,\n          status: trip.status || 'active',\n          budget: trip.total_budget || 0,\n          createdAt: trip.created_at || new Date().toISOString(),\n          currency: trip.currency || 'HKD',\n          exchange_rate_peso: trip.exchange_rate_peso || 1.0,\n          exchange_rate_hkd: trip.exchange_rate_hkd || 1.0,\n          exchange_rate_myr: trip.exchange_rate_myr || (trip.name?.toLowerCase().includes('manila') || trip.trip_name?.toLowerCase().includes('manila') ? 0.6 : 1.0),\n          customers: [],\n          agents: [],\n          expenses: [],\n          totalRolling: 0,\n          totalWinLoss: 0,\n          totalBuyIn: 0,\n          totalBuyOut: 0,\n          calculatedTotalRolling: 0,\n          sharing: {\n            totalWinLoss: 0,\n            totalExpenses: 0,\n            totalRollingCommission: 0,\n            totalBuyIn: 0,\n            totalBuyOut: 0,\n            netResult: 0,\n            netCashFlow: 0,\n            totalAgentShare: 0,\n            companyShare: 0,\n            agentSharePercentage: 0,\n            companySharePercentage: 100,\n            agentShares: [],\n            agentBreakdown: []\n          },\n          attachments: [],\n          lastDataUpdate: new Date().toISOString(),\n          activeCustomersCount: 0,\n          recentActivityCount: 0,\n          totalExpenses: 0,\n          _dataLoaded: false\n        } as unknown as Trip;\n      });\n\n      // Set state with basic data immediately for fast UI response\n      setTrips(transformedTrips);\n      setCustomers(customersData || []);\n      setAgents(agentsData || []);\n      setStaff(staffData || []);\n      setDataLoaded(true);\n      \n      console.log(`✅ Basic project data loaded quickly: ${transformedTrips.length} trips`);\n      \n      // Load detailed trip data in background (lazy loading with throttling)\n      if (transformedTrips.length > 0) {\n        setTimeout(async () => {\n          try {\n            // Process trips in batches to avoid overwhelming the server\n            const batchSize = 3;\n            const enrichedTrips = [];\n            \n            for (let i = 0; i < transformedTrips.length; i += batchSize) {\n              const batch = transformedTrips.slice(i, i + batchSize);\n              const batchResults = await Promise.all(batch.map(async (trip: any) => {\n                try {\n                  // Use Promise.allSettled to prevent one failure from blocking others\n                  const [statsResult, sharingResult, customersResult] = await Promise.allSettled([\n                    apiClient.get(`/trips/${trip.id}/statistics`),\n                    apiClient.get(`/trips/${trip.id}/sharing`),\n                    apiClient.get(`/trips/${trip.id}/customer-stats`)\n                  ]);\n                \n                const tripStats = (statsResult.status === 'fulfilled' && statsResult.value.success) ? statsResult.value.data : null;\n                const tripSharing = (sharingResult.status === 'fulfilled' && sharingResult.value.success) ? sharingResult.value.data : null;\n                const tripCustomers = (customersResult.status === 'fulfilled' && customersResult.value.success) ? customersResult.value.data : [];\n                \n                const statsRoot = tripStats?.statistics || tripStats;\n                \n                return {\n                  ...trip,\n                  customers: tripCustomers,\n                  totalRolling: statsRoot?.total_rolling || tripStats?.total_rolling || 0,\n                  totalWinLoss: statsRoot?.net_profit || tripStats?.net_profit || 0,\n                  totalBuyIn: statsRoot?.total_buy_in || tripStats?.total_buy_in || 0,\n                  totalBuyOut: statsRoot?.total_cash_out || tripStats?.total_cash_out || 0,\n                  calculatedTotalRolling: statsRoot?.total_rolling || tripStats?.total_rolling || 0,\n                  sharing: {\n                    total_rolling: tripSharing?.total_rolling || 0,\n                    total_expenses: tripSharing?.total_expenses || 0,\n                    net_result: tripSharing?.net_result || 0,\n                    totalWinLoss: tripSharing?.total_win_loss || 0,\n                    totalRollingCommission: tripSharing?.total_rolling_commission || 0,\n                    totalBuyIn: tripSharing?.total_buy_in || 0,\n                    totalBuyOut: tripSharing?.total_buy_out || 0,\n                    netCashFlow: tripSharing?.net_cash_flow || 0,\n                    totalAgentShare: tripSharing?.total_agent_share || 0,\n                    companyShare: tripSharing?.company_share || 0,\n                    agentSharePercentage: tripSharing?.agent_share_percentage || 0,\n                    companySharePercentage: tripSharing?.company_share_percentage || 100,\n                    agentShares: [],\n                    agentBreakdown: tripSharing?.agent_breakdown || []\n                  },\n                  totalExpenses: tripSharing?.total_expenses || 0,\n                  _dataLoaded: true\n                };\n              } catch (error) {\n                console.warn(`Failed to load detailed data for trip ${trip.id}:`, error);\n                return { ...trip, _dataLoaded: false };\n              }\n              }));\n              \n              enrichedTrips.push(...batchResults);\n              \n              // Add small delay between batches to prevent overwhelming the server\n              if (i + batchSize < transformedTrips.length) {\n                await new Promise(resolve => setTimeout(resolve, 50));\n              }\n            }\n            \n            // Update trips with detailed data\n            setTrips(enrichedTrips);\n            console.log('✅ Detailed trip data loaded in background');\n          } catch (error) {\n            console.warn('Background data loading failed:', error);\n          }\n        }, 100); // Load detailed data after 100ms\n      }\n      \n    } catch (error) {\n      console.error('❌ Error loading data:', error);\n      setErrorMessage(`Failed to load project data: ${error}`);\n      showError('Failed to load project data');\n    } finally {\n      setLoading(false);\n    }\n  }, [dataLoaded, trips.length, showError, clearError, currentUser.role]);\n\n  // Initial data load only\n  useEffect(() => {\n    loadAllRealTimeData(true);\n  }, [loadAllRealTimeData]);\n\n\n  // Load detailed data when trip is selected\n  useEffect(() => {\n    if (selectedTrip) {\n      console.log('🎯 Loading detailed data for selected trip:', {\n        tripId: selectedTrip.id,\n        tripName: selectedTrip.name,\n        customers: selectedTrip.customers,\n        agents: selectedTrip.agents\n      });\n      loadTripExpenses(selectedTrip.id);\n      loadTripSharing(selectedTrip.id);\n    }\n  }, [selectedTrip, loadTripExpenses, loadTripSharing]);\n\n  // Filter trips based on user role\n  const getFilteredTrips = () => {\n    if (currentUser.role === 'agent' && currentUser.agentId) {\n      return trips.filter(trip => \n        trip.agents && trip.agents.some(agent => agent.agentId === currentUser.agentId)\n      );\n    }\n    // Boss and admin roles can see all trips\n    return trips;\n  };\n\n  // Save trips to database\n  const saveTrips = async (updatedTrips: Trip[]) => {\n    try {\n      setSaving(true);\n      await db.save('trips', updatedTrips);\n      setTrips(updatedTrips);\n      console.log('✅ Trips saved to Supabase');\n    } catch (error) {\n      console.error('❌ Error saving trips:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to save trips: ${errorMessage}`);\n      throw error;\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Create new trip\n  const handleCreateTrip = async () => {\n    if (!newTrip.name.trim() || !newTrip.date || !newTrip.venue) {\n      showError('Please fill in all required fields (Name, Date, Venue)');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      // Prepare data for backend API\n      const tripData = {\n        trip_name: newTrip.name,\n        destination: newTrip.venue,\n        start_date: newTrip.date,\n        end_date: newTrip.endDate || newTrip.date,\n        total_budget: parseFloat(newTrip.budget) || 0,\n        description: newTrip.description || '',\n        status: newTrip.status,\n        currency: newTrip.currency,\n        exchange_rate_peso: newTrip.exchange_rate_peso,\n        exchange_rate_hkd: newTrip.exchange_rate_hkd,\n        exchange_rate_myr: newTrip.exchange_rate_myr\n      };\n\n      console.log('Creating trip with data:', tripData);\n\n      // Call backend API to create trip\n      const response = await apiClient.post('/trips', tripData);\n      \n      if (response.success) {\n        console.log('✅ Trip created successfully:', response.data);\n        \n        // Refresh trips list\n        await loadAllRealTimeData();\n        \n        setShowCreateTrip(false);\n        setNewTrip({\n          name: '',\n          description: '',\n          date: '',\n          endDate: '',\n          venue: '',\n          budget: '',\n          status: 'active',\n          currency: 'HKD',\n          exchange_rate_peso: 1.0000,\n          exchange_rate_hkd: 1.0000,\n          exchange_rate_myr: 1.0000\n        });\n        \n        console.log('✅ Trip created successfully:', response.data.trip_name);\n      } else {\n        throw new Error(response.error || 'Failed to create trip');\n      }\n      \n    } catch (error) {\n      console.error('❌ Error creating trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Select trip for detailed view with comprehensive backend data\n  const selectTrip = async (trip: Trip) => {\n    console.log('🎯 Selecting trip for details:', trip.name);\n    \n    try {\n      setLoading(true);\n      \n      // Load comprehensive trip data from backend API\n      const [customersResponse, expensesResponse, sharingResponse, statisticsResponse, transactionsResponse, agentsResponse, staffResponse] = await Promise.all([\n        apiClient.get(`/trips/${trip.id}/customer-stats`),\n        apiClient.get(`/trips/${trip.id}/expenses`),\n        apiClient.get(`/trips/${trip.id}/sharing`),\n        apiClient.get(`/trips/${trip.id}/statistics`),\n        apiClient.get(`/trips/${trip.id}/transactions`),\n        apiClient.get(`/trips/${trip.id}/agents`),\n        apiClient.get(`/trips/${trip.id}/staff`)\n      ]);\n      \n      console.log('📊 Backend API responses:', {\n        customers: customersResponse,\n        expenses: expensesResponse,\n        sharing: sharingResponse,\n        statistics: statisticsResponse,\n        transactions: transactionsResponse,\n        agents: agentsResponse,\n        staff: staffResponse\n      });\n      \n      // Create enriched trip object with actual backend data\n      const enrichedTrip = {\n        ...trip,\n        customers: customersResponse.success ? customersResponse.data : [],\n        expenses: expensesResponse.success ? (expensesResponse.data?.expenses || []) : [],\n        agents: agentsResponse.success ? agentsResponse.data : [],\n        staff: staffResponse.success ? staffResponse.data : [],\n        sharing: sharingResponse.success ? sharingResponse.data : trip.sharing,\n        statistics: statisticsResponse.success ? statisticsResponse.data : null,\n        transactions: transactionsResponse.success ? transactionsResponse.data : [],\n        activeCustomersCount: customersResponse.success ? customersResponse.data?.length || 0 : trip.activeCustomersCount || 0,\n        backendData: {\n          totalBuyIn: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_buy_in || 0 : 0,\n          totalCashOut: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_cash_out || 0 : 0,\n          totalWinLoss: statisticsResponse.success ? statisticsResponse.data?.statistics?.total_win_loss || 0 : 0,\n          profitMargin: statisticsResponse.success ? statisticsResponse.data?.statistics?.profit_margin || 0 : 0,\n          customerStatsLoaded: customersResponse.success,\n          expensesLoaded: expensesResponse.success,\n          agentsLoaded: agentsResponse.success,\n          sharingLoaded: sharingResponse.success,\n          statisticsLoaded: statisticsResponse.success,\n          transactionsLoaded: transactionsResponse.success\n        }\n      };\n      \n      // Calculate financial totals from actual backend data\n      if (enrichedTrip.customers && enrichedTrip.customers.length > 0) {\n        enrichedTrip.totalBuyIn = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.total_buy_in), 0);\n        enrichedTrip.totalBuyOut = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.total_cash_out), 0);\n        enrichedTrip.totalRolling = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.rolling_amount), 0);\n        enrichedTrip.totalWinLoss = enrichedTrip.customers.reduce((sum: number, c: any) => sum + safeNumber(c.net_result), 0);\n      }\n      \n      if (enrichedTrip.expenses && enrichedTrip.expenses.length > 0) {\n        enrichedTrip.totalExpenses = enrichedTrip.expenses.reduce((sum: number, e: any) => sum + safeNumber(e.amount), 0);\n      }\n      \n      console.log('📊 Enriched trip with backend data:', enrichedTrip);\n      \n      // Update state variables for tabs to display backend data\n      setTripExpenses(enrichedTrip.expenses || []);\n      setTripSharing(enrichedTrip.sharing || null);\n      \n      // Load agent summary data from trip_agent_summary table\n      await loadAgentSummary(trip.id);\n      \n      // Backend data status is already included in the initial backendData object\n      \n      setSelectedTrip(enrichedTrip);\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n      \n    } catch (error) {\n      console.error('❌ Error loading trip details:', error);\n      setSelectedTrip(trip); // Fallback to original trip data\n      setActiveTab('trip-details');\n      setSelectedTripTab('overview');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  // Add customer to trip - memoized to prevent recreations\n  const handleAddCustomerToTrip = useCallback(async (customerId: string) => {\n    if (!selectedTrip) return;\n\n    const customer = customers.find(c => c.id === customerId);\n    if (!customer) return;\n\n    if (selectedTrip.customers.some(tc => tc.customerId === customerId || (tc as any).customer_id === customerId)) {\n      showError('Customer is already added to this trip');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      // Make API call to add customer to trip\n      const response = await apiClient.post(`/trips/${selectedTrip.id}/customers`, {\n        customer_id: customerId\n      });\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to add customer to trip');\n      }\n\n      console.log('✅ Customer added to trip via API:', customer.name);\n      \n      // Refresh trip data completely to show new customer\n      await selectTrip(selectedTrip);\n      setShowAddCustomer(false);\n      \n    } catch (error) {\n      console.error('❌ Error adding customer to trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to add customer to trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  }, [selectedTrip, customers, showError]);\n\n  // Confirm and remove customer from trip\n  const confirmRemoveCustomerFromTrip = async () => {\n    if (!deletingCustomer) return;\n    \n    const customerId = deletingCustomer.customerId || deletingCustomer.customer_id;\n    setShowDeleteCustomer(false);\n    setDeletingCustomer(null);\n    \n    await handleRemoveCustomerFromTrip(customerId);\n  };\n\n  // Remove customer from trip\n  const handleRemoveCustomerFromTrip = async (customerId: string) => {\n    if (!selectedTrip) return;\n\n    console.log('🔄 Starting delete customer process:', { customerId, tripId: selectedTrip.id });\n\n    setSaving(true);\n    try {\n      // Make API call to remove customer from trip\n      console.log('📡 Making API call to delete customer...');\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/customers/${customerId}`);\n\n      console.log('📨 API Response:', response);\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove customer from trip');\n      }\n\n      console.log('✅ Customer removed from trip via API successfully');\n      \n      // Refresh trip data to get updated customer list\n      console.log('🔄 Refreshing trip data...');\n      await selectTrip(selectedTrip);\n      console.log('✅ Trip data refreshed after customer removal');\n      \n    } catch (error) {\n      console.error('❌ Error removing customer from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove customer from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Add staff to trip\n  const handleAddStaffToTrip = async (staffId: string) => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/staff`, {\n        staff_id: staffId\n      });\n      \n      if (response.success) {\n        console.log(' Staff added to trip via API');\n        \n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        setShowAddStaff(false);\n        \n      } else {\n        showError(response.error || 'Failed to add staff to trip');\n      }\n    } catch (error) {\n      console.error('Error adding staff to trip:', error);\n      showError('Failed to add staff to trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Remove staff from trip\n  const handleRemoveStaffFromTrip = async (staffId: string) => {\n    if (!selectedTrip) {\n      showError('No trip selected');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/staff/${staffId}`);\n      \n      if (response.success) {\n        console.log(' Staff removed from trip via API');\n        \n        // Refresh trip data to get updated staff list\n        await selectTrip(selectedTrip);\n        \n      } else {\n        showError(response.error || 'Failed to remove staff from trip');\n      }\n    } catch (error) {\n      console.error('Error removing staff from trip:', error);\n      showError('Failed to remove staff from trip');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Load customer transaction history\n  const loadCustomerTransactions = async (customerId: string, tripId: string) => {\n    try {\n      const response = await apiClient.getCustomerTransactions(customerId, tripId);\n      if (response.success) {\n        setCustomerTransactions(prev => ({\n          ...prev,\n          [customerId]: Array.isArray(response.data) ? response.data : []\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading customer transactions:', error);\n    }\n  };\n\n  // Load customer rolling history\n  const loadCustomerRollings = async (customerId: string, tripId: string) => {\n    try {\n      const response = await apiClient.getCustomerRollings(customerId, tripId);\n      if (response.success) {\n        setCustomerRollings(prev => ({\n          ...prev,\n          [customerId]: Array.isArray(response.data) ? response.data : []\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading customer rollings:', error);\n    }\n  };\n\n  // Toggle history visibility (both transaction and rolling)\n  const toggleHistoryVisibility = async (customerId: string) => {\n    const isCurrentlyShown = showHistory[customerId];\n    setShowHistory(prev => ({\n      ...prev,\n      [customerId]: !isCurrentlyShown\n    }));\n    \n    if (!isCurrentlyShown && selectedTrip) {\n      // Load both transaction and rolling history when expanding\n      await loadCustomerTransactions(customerId, selectedTrip.id);\n      await loadCustomerRollings(customerId, selectedTrip.id);\n    }\n  };\n\n  // Handle edit transaction\n  const handleEditTransaction = (transaction: any) => {\n    setEditingTransaction(transaction);\n    setTransactionForm({\n      type: transaction.transaction_type || transaction.type,\n      amount: String(transaction.amount || ''),\n      venue: transaction.venue || '',\n      datetime: transaction.created_at ? new Date(transaction.created_at).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16)\n    });\n    setShowEditTransaction(true);\n  };\n\n  // Handle update transaction\n  const handleUpdateTransaction = async () => {\n    if (!editingTransaction || !selectedTrip) return;\n    \n    setSaving(true);\n    try {\n      const transactionData = {\n        transaction_type: transactionForm.type,\n        amount: parseFloat(transactionForm.amount),\n        venue: transactionForm.venue || null,\n        updated_at: new Date().toISOString()\n      };\n\n      const response = await apiClient.updateTransaction(editingTransaction.id, transactionData);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = editingTransaction.customer_id || editingTransaction.customerId;\n        if (customerId) {\n          await loadCustomerTransactions(customerId, selectedTrip.id);\n        }\n        setShowEditTransaction(false);\n        setEditingTransaction(null);\n        setTransactionForm({ type: 'buy-in' as 'buy-in' | 'cash-out', amount: '', venue: '', datetime: new Date().toISOString().slice(0, 16) });\n      } else {\n        showError('Failed to update transaction');\n      }\n    } catch (error) {\n      console.error('Error updating transaction:', error);\n      showError('Failed to update transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle delete transaction\n  const handleDeleteTransaction = async (transaction: any) => {\n    if (!selectedTrip || !window.confirm('Are you sure you want to delete this transaction?')) return;\n    \n    setSaving(true);\n    try {\n      const response = await apiClient.deleteTransaction(transaction.id);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = transaction.customer_id || transaction.customerId;\n        if (customerId) {\n          await loadCustomerTransactions(customerId, selectedTrip.id);\n        }\n      } else {\n        showError('Failed to delete transaction');\n      }\n    } catch (error) {\n      console.error('Error deleting transaction:', error);\n      showError('Failed to delete transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle edit rolling\n  const handleEditRolling = (rolling: any) => {\n    setEditingRolling(rolling);\n    setRollingForm({\n      amount: String(rolling.rolling_amount || rolling.amount || ''),\n      staff_id: rolling.staff_id || '',\n      game_type: (rolling.game_type || 'baccarat') as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other',\n      venue: rolling.venue || '',\n      datetime: rolling.created_at ? new Date(rolling.created_at).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16),\n      commission_rate: String(rolling.commission_rate || '0.014')\n    });\n    setShowEditRolling(true);\n  };\n\n  // Handle update rolling\n  const handleUpdateRolling = async () => {\n    if (!editingRolling || !selectedTrip) return;\n    \n    setSaving(true);\n    try {\n      const rollingData = {\n        rolling_amount: parseFloat(rollingForm.amount),\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        venue: rollingForm.venue || null,\n        commission_rate: parseFloat(rollingForm.commission_rate),\n        updated_at: new Date().toISOString()\n      };\n\n      const response = await apiClient.updateRolling(editingRolling.id, rollingData);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = editingRolling.customer_id || editingRolling.customerId;\n        if (customerId) {\n          await loadCustomerRollings(customerId, selectedTrip.id);\n        }\n        setShowEditRolling(false);\n        setEditingRolling(null);\n        setRollingForm({ \n          amount: '', \n          staff_id: '', \n          game_type: 'baccarat' as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other', \n          venue: '', \n          datetime: new Date().toISOString().slice(0, 16),\n          commission_rate: '0.014'\n        });\n      } else {\n        showError('Failed to update rolling');\n      }\n    } catch (error) {\n      console.error('Error updating rolling:', error);\n      showError('Failed to update rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle delete rolling\n  const handleDeleteRolling = async (rolling: any) => {\n    if (!selectedTrip || !window.confirm('Are you sure you want to delete this rolling record?')) return;\n    \n    setSaving(true);\n    try {\n      const response = await apiClient.deleteRolling(rolling.id);\n      if (response.success) {\n        // Refresh data\n        await selectTrip(selectedTrip);\n        const customerId = rolling.customer_id || rolling.customerId;\n        if (customerId) {\n          await loadCustomerRollings(customerId, selectedTrip.id);\n        }\n      } else {\n        showError('Failed to delete rolling');\n      }\n    } catch (error) {\n      console.error('Error deleting rolling:', error);\n      showError('Failed to delete rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle transaction operations\n  const handleAddTransaction = async () => {\n    if (!selectedTrip || !selectedCustomerForTransaction) return;\n    \n    setSaving(true);\n    try {\n      // Check authentication first\n      const userData = localStorage.getItem('casinoUser');\n      if (!userData) {\n        showError('Please login first to add transactions');\n        return;\n      }\n\n      // Fix transaction type mapping: buy_in -> buy-in, cash_out -> cash-out\n      const transactionTypeMapping: { [key: string]: string } = {\n        'buy_in': 'buy-in',\n        'cash_out': 'cash-out',\n        'buy-in': 'buy-in',\n        'cash-out': 'cash-out'\n      };\n\n      const mappedTransactionType = transactionTypeMapping[transactionForm.type] || transactionForm.type;\n\n      // Ensure we have proper customer_id\n      const customerId = selectedCustomerForTransaction.customerId || \n                        selectedCustomerForTransaction.customer_id || \n                        selectedCustomerForTransaction.id;\n\n      if (!customerId) {\n        showError('Customer ID is required for transaction');\n        return;\n      }\n\n      const transactionData = {\n        customer_id: customerId,\n        transaction_type: mappedTransactionType, // Must be 'buy-in' or 'cash-out'\n        amount: parseFloat(transactionForm.amount),\n        status: 'completed', // Add required status field\n        venue: transactionForm.venue || null,\n        updated_at: new Date(transactionForm.datetime).toISOString()\n      };\n\n      console.log('🔄 Adding transaction:', transactionData);\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/transactions`, transactionData);\n      \n      if (response.success) {\n        // Refresh the selected trip data\n        await selectTrip(selectedTrip);\n        setShowAddTransaction(false);\n        setTransactionForm({ type: 'buy-in' as 'buy-in' | 'cash-out', amount: '', venue: '', datetime: new Date().toISOString().slice(0, 16) });\n        setSelectedCustomerForTransaction(null);\n      } else {\n        showError('Failed to add transaction');\n      }\n    } catch (error) {\n      console.error('Error adding transaction:', error);\n      showError('Failed to add transaction');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Handle rolling operations\n  const handleAddRolling = async () => {\n    if (!selectedTrip || !selectedCustomerForRolling) return;\n    \n    setSaving(true);\n    try {\n      console.log('🎯 Rolling request data:', {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        venue: rollingForm.venue\n      });\n      \n      const response = await apiClient.post(`/trips/${selectedTrip.id}/rolling-records`, {\n        customer_id: selectedCustomerForRolling.customerId || selectedCustomerForRolling.customer_id,\n        staff_id: rollingForm.staff_id,\n        game_type: rollingForm.game_type,\n        rolling_amount: parseFloat(rollingForm.amount),\n        venue: rollingForm.venue,\n        commission_rate: parseFloat(rollingForm.commission_rate),\n        updated_at: new Date(rollingForm.datetime).toISOString()\n      });\n      \n      if (response.success) {\n        // Refresh the selected trip data completely to show new rolling record\n        await selectTrip(selectedTrip);\n        setShowAddRolling(false);\n        setRollingForm({ amount: '', staff_id: '', game_type: 'baccarat' as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other', venue: '', datetime: new Date().toISOString().slice(0, 16), commission_rate: '0.014' });\n        setSelectedCustomerForRolling(null);\n      } else {\n        showError('Failed to add rolling');\n      }\n    } catch (error) {\n      console.error('Error adding rolling:', error);\n      showError('Failed to add rolling');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Edit agent share\n  const handleEditAgentShare = async () => {\n    if (!selectedTrip || !editingAgent) return;\n\n    if (editAgentShare <= 0 || editAgentShare > 100) {\n      showError('Please enter a valid share percentage between 1 and 100');\n      return;\n    }\n\n    try {\n      const updatedTrip = {\n        ...selectedTrip,\n        agents: (selectedTrip.agents || []).map(agent => \n          agent.agentId === editingAgent.agentId \n            ? { ...agent, sharePercentage: editAgentShare }\n            : agent\n        ),\n        lastDataUpdate: new Date().toISOString()\n      };\n\n      const updatedTrips = (trips || []).map(t => t.id === selectedTrip.id ? updatedTrip : t);\n      await saveTrips(updatedTrips);\n      setSelectedTrip(updatedTrip);\n      setShowEditAgent(false);\n      setEditingAgent(null);\n      setEditAgentShare(25);\n      \n      console.log('✅ Agent share updated:', editingAgent.agentName);\n    } catch (error) {\n      console.error('❌ Error updating agent share:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to update agent share: ${errorMessage}`);\n    }\n  };\n\n  // Delete agent from trip\n  const handleDeleteAgentFromTrip = async () => {\n    if (!selectedTrip || !deletingAgent) return;\n\n    setSaving(true);\n    try {\n      // Make API call to remove agent from trip\n      const agentIdToRemove = deletingAgent.agentId || deletingAgent.agent_id;\n      console.log('🗑️ Attempting to delete agent:', {\n        tripId: selectedTrip.id,\n        agentIdToRemove,\n        deletingAgent,\n        url: `/trips/${selectedTrip.id}/agents/${agentIdToRemove}`\n      });\n      \n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/agents/${agentIdToRemove}`);\n\n      if (!response.success) {\n        throw new Error(response.error || 'Failed to remove agent from trip');\n      }\n\n      console.log('✅ Agent removed from trip via API:', deletingAgent.agentName);\n      \n      // Refresh trip data to get updated agent list\n      await selectTrip(selectedTrip);\n      setShowDeleteAgent(false);\n      setDeletingAgent(null);\n      \n    } catch (error) {\n      console.error('❌ Error removing agent from trip:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      showError(`Failed to remove agent from trip: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  // Add expense to trip using API\n  const handleAddExpense = async () => {\n    if (!selectedTrip || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n\n    const expenseData = {\n      expense_type: newExpense.category,\n      amount: newExpense.amount,\n      description: newExpense.description,\n      updated_at: new Date(newExpense.datetime).toISOString()\n    };\n\n    const success = await addTripExpense(selectedTrip.id, expenseData);\n    if (success) {\n      setShowAddExpense(false);\n      setNewExpense({\n        description: '',\n        amount: 0,\n        category: 'flight',\n        datetime: new Date().toISOString().slice(0, 16)\n      });\n      console.log('✅ Expense added to trip via API');\n    }\n  };\n\n  // Edit expense\n  const handleEditExpense = (expense: any) => {\n    setEditingExpense(expense);\n    setNewExpense({\n      description: expense.description,\n      amount: expense.amount,\n      category: expense.expense_type,\n      datetime: expense.expense_date ? new Date(expense.expense_date).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16)\n    });\n    setShowEditExpense(true);\n  };\n\n  // Update expense\n  const handleUpdateExpense = async () => {\n    if (!selectedTrip || !editingExpense || !newExpense.description.trim() || newExpense.amount <= 0) {\n      showError('Please fill in all expense fields');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      const expenseData = {\n        expense_type: newExpense.category,\n        amount: newExpense.amount,\n        description: newExpense.description,\n        expense_date: new Date(newExpense.datetime).toISOString()\n      };\n\n      const response = await apiClient.put(`/trips/${selectedTrip.id}/expenses/${editingExpense.id}`, expenseData);\n      \n      if (response.success) {\n        await selectTrip(selectedTrip);\n        setShowEditExpense(false);\n        setEditingExpense(null);\n        setNewExpense({\n          description: '',\n          amount: 0,\n          category: 'flight',\n          datetime: new Date().toISOString().slice(0, 16)\n        });\n        console.log('✅ Expense updated successfully');\n      } else {\n        showError('Failed to update expense');\n      }\n    } catch (error) {\n      console.error('Error updating expense:', error);\n      showError('Failed to update expense');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Delete expense\n  const handleDeleteExpense = (expense: any) => {\n    setDeletingExpense(expense);\n    setShowDeleteExpense(true);\n  };\n\n  // Confirm delete expense\n  const confirmDeleteExpense = async () => {\n    if (!selectedTrip || !deletingExpense) return;\n\n    try {\n      setSaving(true);\n      const response = await apiClient.delete(`/trips/${selectedTrip.id}/expenses/${deletingExpense.id}`);\n      \n      if (response.success) {\n        await selectTrip(selectedTrip);\n        setShowDeleteExpense(false);\n        setDeletingExpense(null);\n        console.log('✅ Expense deleted successfully');\n      } else {\n        showError('Failed to delete expense');\n      }\n    } catch (error) {\n      console.error('Error deleting expense:', error);\n      showError('Failed to delete expense');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const filteredTrips = getFilteredTrips();\n  \n\n  // Loading state\n  if (loading && !dataLoaded) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-2 text-sm text-gray-600\">Loading Project Data</p>\n          <p className=\"text-xs text-gray-500\">Connecting to Supabase and loading trips, customers, and agents...</p>\n          <div className=\"mt-3 w-48 bg-gray-200 rounded-full h-2 mx-auto\">\n            <div className=\"bg-blue-600 h-2 rounded-full animate-pulse\" style={{width: '60%'}}></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n\n      {/* Data Loading Status */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">{t('trips_loaded')}</p>\n                <p className=\"text-2xl font-bold text-blue-600\">{trips?.length || 0}</p>\n              </div>\n              <MapPin className=\"w-8 h-8 text-blue-400\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">{t('customers_available')}</p>\n                <p className=\"text-2xl font-bold text-green-600\">{customers?.length || 0}</p>\n              </div>\n              <Users className=\"w-8 h-8 text-green-400\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">{t('agents_available')}</p>\n                <p className=\"text-2xl font-bold text-purple-600\">{agents?.length || 0}</p>\n              </div>\n              <UserCheck className=\"w-8 h-8 text-purple-400\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Error Alert */}\n      {errorMessage && (\n        <Alert className=\"border-red-200 bg-red-50\">\n          <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n          <AlertDescription className=\"text-red-800\">\n            <strong>{t('error')}:</strong> {errorMessage}\n            <Button\n              onClick={() => loadAllRealTimeData(true)}\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"ml-3 text-red-800 border-red-300 hover:bg-red-100\"\n            >\n              <RefreshCw className=\"w-3 h-3 mr-1\" />\n              {t('retry')}\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {/* Main Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"trips\">{t('trips')}</TabsTrigger>\n          <TabsTrigger value=\"trip-details\" disabled={!selectedTrip}>\n            {t('trip_details')}\n          </TabsTrigger>\n        </TabsList>\n\n        {/* All Trips Tab */}\n        <TabsContent value=\"trips\" className=\"space-y-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h2 className=\"text-2xl font-bold\">{t('project_management')}</h2>\n              <p className=\"text-gray-600\">\n                Manage trips and project data with full CRUD functionality\n                {currentUser.role === 'agent' && ' (Your trips only)'}\n              </p>\n            </div>\n            {!isReadOnly && (\n              <Dialog open={showCreateTrip} onOpenChange={setShowCreateTrip}>\n                <DialogTrigger asChild>\n                  <Button>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n{t('create_trip')}\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle>{t('create_new_trip')}</DialogTitle>\n                    <DialogDescription>\n                      {t('create_trip_desc')}\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"tripName\">{t('trip_name')} *</Label>\n                      <Input\n                        id=\"tripName\"\n                        value={newTrip.name}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, name: e.target.value})}\n                        placeholder=\"Enter trip name\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"tripDescription\">{t('description')}</Label>\n                      <Textarea\n                        id=\"tripDescription\"\n                        value={newTrip.description}\n                        onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setNewTrip({...newTrip, description: e.target.value})}\n                        placeholder=\"Trip description\"\n                      />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <Label htmlFor=\"startDate\">{t('start_date')} *</Label>\n                        <Input\n                          id=\"startDate\"\n                          type=\"date\"\n                          value={newTrip.date}\n                          onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, date: e.target.value})}\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"endDate\">{t('end_date')}</Label>\n                        <Input\n                          id=\"endDate\"\n                          type=\"date\"\n                          value={newTrip.endDate}\n                          onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, endDate: e.target.value})}\n                        />\n                      </div>\n                    </div>\n                    <div>\n                      <Label htmlFor=\"venue\">Venue</Label>\n                      <Input\n                        id=\"venue\"\n                        value={newTrip.venue}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, venue: e.target.value})}\n                        placeholder=\"Casino venue\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"budget\">Budget (HK$)</Label>\n                      <Input\n                        id=\"budget\"\n                        type=\"number\"\n                        value={newTrip.budget}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewTrip({...newTrip, budget: e.target.value})}\n                        placeholder=\"Enter trip budget\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"status\">Status</Label>\n                      <Select \n                        value={newTrip.status} \n                        onValueChange={(value) => \n                          setNewTrip({...newTrip, status: value as 'active' | 'in-progress' | 'completed' | 'cancelled'})\n                        }\n                      >\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"active\">Active</SelectItem>\n                          <SelectItem value=\"in-progress\">In Progress</SelectItem>\n                          <SelectItem value=\"completed\">Completed</SelectItem>\n                          <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    \n                    {/* Currency Selection */}\n                    <div>\n                      <Label htmlFor=\"currency\">Currency</Label>\n                      <Select \n                        value={newTrip.currency} \n                        onValueChange={(value) => setNewTrip({...newTrip, currency: value})}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select currency\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {SUPPORTED_CURRENCIES.map((currency) => (\n                            <SelectItem key={currency.value} value={currency.value}>\n                              {currency.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    {/* Exchange Rates */}\n                    <div className=\"space-y-3\">\n                      <Label>Exchange Rates (Manual Input)</Label>\n                      <div className=\"grid grid-cols-3 gap-3\">\n                        <div>\n                          <Label htmlFor=\"ratePeso\" className=\"text-sm\">Peso Rate</Label>\n                          <Input\n                            id=\"ratePeso\"\n                            type=\"number\"\n                            step=\"0.0001\"\n                            value={newTrip.exchange_rate_peso}\n                            onChange={(e) => setNewTrip({...newTrip, exchange_rate_peso: parseFloat(e.target.value) || 1.0000})}\n                            placeholder=\"1.0000\"\n                          />\n                        </div>\n                        <div>\n                          <Label htmlFor=\"rateHKD\" className=\"text-sm\">HKD Rate</Label>\n                          <Input\n                            id=\"rateHKD\"\n                            type=\"number\"\n                            step=\"0.0001\"\n                            value={newTrip.exchange_rate_hkd}\n                            onChange={(e) => setNewTrip({...newTrip, exchange_rate_hkd: parseFloat(e.target.value) || 1.0000})}\n                            placeholder=\"1.0000\"\n                          />\n                        </div>\n                        <div>\n                          <Label htmlFor=\"rateMYR\" className=\"text-sm\">MYR Rate</Label>\n                          <Input\n                            id=\"rateMYR\"\n                            type=\"number\"\n                            step=\"0.0001\"\n                            value={newTrip.exchange_rate_myr}\n                            onChange={(e) => setNewTrip({...newTrip, exchange_rate_myr: parseFloat(e.target.value) || 1.0000})}\n                            placeholder=\"1.0000\"\n                          />\n                        </div>\n                      </div>\n                      <p className=\"text-xs text-gray-500\">\n                        Set exchange rates for currency conversion. Current selection: {getCurrencySymbol(newTrip.currency)}\n                      </p>\n                    </div>\n\n                    <div className=\"flex justify-end space-x-2\">\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setShowCreateTrip(false)}\n                        disabled={saving}\n                      >\n                        {t('cancel')}\n                      </Button>\n                      <Button onClick={handleCreateTrip} disabled={saving}>\n                        {saving ? t('creating') : t('create_trip')}\n                      </Button>\n                    </div>\n                  </div>\n                </DialogContent>\n              </Dialog>\n            )}\n          </div>\n\n          {/* Trips List */}\n          {loading ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                <p className=\"text-gray-500\">{t('loading_trips')}</p>\n              </CardContent>\n            </Card>\n          ) : (filteredTrips?.length || 0) === 0 ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                  {!dataLoaded ? 'Loading trips...' : 'No trips found'}\n                </h3>\n                <p className=\"text-gray-500 mb-4\">\n                  {!dataLoaded \n                    ? 'Please wait while we load your trip data from Supabase.'\n                    : 'Create your first trip to start managing projects and customer rolling amounts.'\n                  }\n                </p>\n                {dataLoaded && (isAdmin || isAgent) && (\n                  <Button onClick={() => setShowCreateTrip(true)}>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create First Trip\n                  </Button>\n                )}\n                {!dataLoaded && (\n                  <Button onClick={() => loadAllRealTimeData(true)} variant=\"outline\">\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\n                    Retry Loading\n                  </Button>\n                )}\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {(() => {\n                console.log('🔍 Rendering trips:', filteredTrips?.length, filteredTrips);\n                return null;\n              })()}\n              {(filteredTrips || []).map((trip) => {\n                // Use loaded statistics data\n                \n                return (\n                  <Card key={trip.id} className=\"overflow-hidden hover:shadow-md transition-shadow\">\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <CardTitle className=\"text-xl\">{trip.name}</CardTitle>\n                          <CardDescription className=\"mt-1\">\n                            {trip.description} • {trip.date}\n                          </CardDescription>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant={\n                            trip.status === 'completed' ? 'default' : \n                            trip.status === 'in-progress' ? 'secondary' : 'outline'\n                          }>\n                            {trip.status?.charAt(0).toUpperCase() + trip.status?.slice(1)}\n                          </Badge>\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => selectTrip(trip)}>\n                            <Eye className=\"w-4 h-4 mr-1\" />\n                            View Details\n                          </Button>\n                        </div>\n                      </div>\n                      \n                      {/* Trip Summary Metrics using Backend Data */}\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4\">\n                        <div className=\"text-center\">\n                          <div className=\"text-gray-500 text-xs\">Customers</div>\n                          <div className=\"font-medium\">{trip.customers?.length || 0}</div>\n                        </div>\n                        {canSeeFinancials && (\n                          <>\n                            <div className=\"text-center\">\n                              <div className=\"text-gray-500 text-xs\">Total Rolling</div>\n                              <div className=\"font-medium text-blue-600\">HK${safeFormatNumber(trip.sharing?.total_rolling || 0)}</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-gray-500 text-xs\">Expenses</div>\n                              <div className=\"font-medium text-red-600\">HK${safeFormatNumber(Math.abs(trip.sharing?.total_expenses || 0))}</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-gray-500 text-xs\">Profit</div>\n                              <div className={`font-medium ${(trip.sharing?.net_result || 0) > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                HK${safeFormatNumber(Math.abs(trip.sharing?.net_result || 0))}\n                              </div>\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    </CardHeader>\n                  </Card>\n                );\n              })}\n            </div>\n          )}\n        </TabsContent>\n\n        {/* Trip Details Tab */}\n        <TabsContent value=\"trip-details\" className=\"space-y-4\">\n          {selectedTrip ? (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <h2 className=\"text-2xl font-bold\">{selectedTrip.name}</h2>\n                  <p className=\"text-gray-600\">{selectedTrip.description}</p>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  {/* Currency Selector */}\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-600\">{t('view_in')}</span>\n                    <Select value={viewingCurrency} onValueChange={(newCurrency) => {\n                      console.log('🔄 Currency selector changed:', {\n                        from: viewingCurrency,\n                        to: newCurrency,\n                        tripData: selectedTrip ? {\n                          id: selectedTrip.id,\n                          currency: selectedTrip.currency,\n                          rates: {\n                            peso: selectedTrip.exchange_rate_peso,\n                            hkd: selectedTrip.exchange_rate_hkd,\n                            myr: selectedTrip.exchange_rate_myr\n                          }\n                        } : null\n                      });\n                      setViewingCurrency(newCurrency);\n                    }}>\n                      <SelectTrigger className=\"w-24\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {SUPPORTED_CURRENCIES.map((currency) => (\n                          <SelectItem key={currency.value} value={currency.value}>\n                            {currency.symbol}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <Button variant=\"outline\" onClick={() => setActiveTab('trips')}>\n                    <MapPin className=\"w-4 h-4 mr-2\" />\n                    {t('back_to_trips')}\n                  </Button>\n                </div>\n              </div>\n\n              {/* Trip Details Tabs */}\n              <Tabs value={selectedTripTab} onValueChange={setSelectedTripTab} className=\"space-y-4\">\n                <TabsList className=\"w-full flex flex-wrap sm:grid sm:grid-cols-6 gap-1 sm:gap-0 h-auto sm:h-10 p-1\">\n                  <TabsTrigger value=\"overview\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <BarChart className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Overview</span>\n                    <span className=\"sm:hidden\">Over</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"customers\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <Users className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Customers</span>\n                    <span className=\"sm:hidden\">Cust</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"agents\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <UserCheck className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Agents</span>\n                    <span className=\"sm:hidden\">Agt</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"staff\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <Users className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Staff</span>\n                    <span className=\"sm:hidden\">Staff</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"expenses\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <DollarSign className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Expenses</span>\n                    <span className=\"sm:hidden\">Exp</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"sharing\" className=\"flex items-center gap-1 text-xs sm:text-sm px-1.5 sm:px-3 py-1.5 sm:py-2 min-w-0 flex-shrink-0\">\n                    <Settings className=\"w-3 h-3 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline\">Financials</span>\n                    <span className=\"sm:hidden\">Fin</span>\n                  </TabsTrigger>\n                </TabsList>\n\n                {/* Overview Tab */}\n                <TabsContent value=\"overview\" className=\"space-y-4\">\n                  <div className=\"space-y-6\">\n                    {(() => {\n                      // Use backend data directly - no local calculation needed\n                      const totalExpenses = (selectedTrip?.expenses || []).reduce((sum: number, e: any) => sum + safeNumber(e.amount), 0);\n                      return (\n                        <>\n                          {/* Enhanced Trip Metrics with Backend Data Integration */}\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Buy-in</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-green-600\">\n                                  {formatCurrency((selectedTrip as any)?.backendData?.totalBuyIn || 0, viewingCurrency, selectedTrip)}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">{selectedTrip?.activeCustomersCount || selectedTrip?.customers?.length || 0} customers</p>\n                                <p className=\"text-xs text-green-500\">From transactions</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Buy-out</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-red-600\">\n                                  {formatCurrency(Math.abs((selectedTrip as any)?.backendData?.totalCashOut || 0), viewingCurrency, selectedTrip)}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">Customer withdrawals</p>\n                                <p className=\"text-xs text-red-500\">From transactions</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Expenses</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"text-2xl font-bold text-red-600\">\n                                  {formatCurrency(Math.abs(totalExpenses), viewingCurrency, selectedTrip)}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">After all expenses</p>\n                                <p className=\"text-xs text-red-500\">House perspective</p>\n                              </CardContent>\n                            </Card>\n                            <Card>\n                              <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-sm text-gray-600\">Profit</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className={`text-2xl font-bold ${\n                                  ((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0) > 0 ? 'text-green-600' : 'text-red-600'\n                                }`}>\n                                  {formatCurrency(Math.abs((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0), viewingCurrency, selectedTrip)}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">House perspective</p>\n                                <p className={`text-xs ${((selectedTrip as any)?.sharing?.net_result || (selectedTrip as any)?.backendData?.netProfit || 0) > 0 ? 'text-green-500' : 'text-red-500'}`}>After all expenses</p>\n                              </CardContent>\n                            </Card>\n                          </div>\n\n                          {/* Quick Actions */}\n                          {!isReadOnly && (\n                            <Card>\n                              <CardHeader>\n                                <CardTitle className=\"text-sm\">Quick Actions</CardTitle>\n                              </CardHeader>\n                              <CardContent>\n                                <div className=\"flex flex-wrap gap-3\">\n                                  <Button \n                                    size=\"sm\" \n                                    variant=\"outline\"\n                                    onClick={() => setSelectedTripTab('expenses')}\n                                  >\n                                    <DollarSign className=\"w-4 h-4 mr-2\" />\n                                    Manage Expenses\n                                  </Button>\n                                  <Button \n                                    size=\"sm\" \n                                    variant=\"outline\"\n                                    onClick={() => setSelectedTripTab('sharing')}\n                                  >\n                                    <Share2 className=\"w-4 h-4 mr-2\" />\n                                    Manage Sharing\n                                  </Button>\n                                </div>\n                              </CardContent>\n                            </Card>\n                          )}\n\n                          {/* Backend Data Verification Panel */}\n                          <Card>\n                            <CardHeader>\n                              <CardTitle className=\"text-sm\">Backend Data Status</CardTitle>\n                            </CardHeader>\n                            <CardContent className=\"space-y-2\">\n                              <div className=\"text-xs space-y-1\">\n                                <div className=\"flex justify-between\">\n                                  <span>Customer Stats:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.customerStatsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.customerStatsLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Agents:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.agentsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.agentsLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Expenses:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.expensesLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.expensesLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Sharing:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.sharingLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.sharingLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Statistics:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.statisticsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.statisticsLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                  <span>Transactions:</span>\n                                  <span className={`font-medium ${(selectedTrip as any)?.backendData?.transactionsLoaded ? 'text-green-600' : 'text-red-600'}`}>\n                                    {(selectedTrip as any)?.backendData?.transactionsLoaded ? '✓ Loaded' : '✗ Missing'}\n                                  </span>\n                                </div>\n                              </div>\n                            </CardContent>\n                          </Card>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </TabsContent>\n\n                {/* Customers Tab */}\n                <TabsContent value=\"customers\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Customers ({selectedTrip?.activeCustomersCount || selectedTrip?.customers?.length || 0})</h3>\n                    {!isReadOnly && (\n                      <Dialog open={showAddCustomer} onOpenChange={setShowAddCustomer}>\n                        <DialogTrigger asChild>\n                          <Button size=\"sm\">\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add Customer\n                          </Button>\n                        </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Customer to Trip</DialogTitle>\n                          <DialogDescription>\n                            Search and select from available customers\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4\">\n                          {/* Search Input */}\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"customer-search\">Search Customers</Label>\n                            <Input\n                              id=\"customer-search\"\n                              type=\"text\"\n                              placeholder=\"Search by name, email, or agent...\"\n                              value={customerSearchTerm}\n                              onChange={(e) => setCustomerSearchTerm(e.target.value)}\n                              className=\"w-full\"\n                            />\n                          </div>\n                          \n                          {/* Customer List */}\n                          <div className=\"space-y-4 max-h-80 overflow-y-auto\">\n                            {(() => {\n                              const availableCustomers = (customers || []).filter(c => \n                                !(selectedTrip?.customers || []).some(tc => \n                                  tc.customerId === c.id || (tc as any).customer_id === c.id\n                                )\n                              );\n                              const filteredCustomers = filterCustomersBySearch(availableCustomers, customerSearchTerm);\n                              \n                              return (\n                                <>\n                                  <div className=\"text-sm text-gray-500 px-1\">\n                                    Showing {filteredCustomers.length} of {availableCustomers.length} available customers\n                                  </div>\n                                  {filteredCustomers.map(customer => (\n                                    <div key={customer.id} className=\"flex items-center justify-between p-3 border rounded\">\n                                      <div>\n                                        <div className=\"font-medium\">{customer.name}</div>\n                                        <div className=\"text-sm text-gray-500\">{customer.email}</div>\n                                        <div className=\"text-xs text-gray-400\">Agent: {customer.agentName}</div>\n                                      </div>\n                                      {!isReadOnly && (\n                                        <Button size=\"sm\" onClick={() => handleAddCustomerToTrip(customer.id)} disabled={saving}>\n                                          {saving ? 'Adding...' : 'Add'}\n                                        </Button>\n                                      )}\n                                    </div>\n                                  ))}\n                                  {filteredCustomers.length === 0 && availableCustomers.length > 0 && (\n                                    <p className=\"text-center text-gray-500 py-8\">No customers match your search</p>\n                                  )}\n                                  {availableCustomers.length === 0 && (\n                                    <p className=\"text-center text-gray-500 py-8\">All customers are already added to this trip</p>\n                                  )}\n                                </>\n                              );\n                            })()}\n                          </div>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                    )}\n                  </div>\n\n                  {(selectedTrip?.customers?.length || 0) === 0 ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Users className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No customers added to this trip</p>\n                        {!isReadOnly && (\n                          <Button className=\"mt-4\" onClick={() => setShowAddCustomer(true)}>\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add First Customer\n                          </Button>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {(selectedTrip?.customers || []).map((tripCustomer: any) => (\n                        <Card key={tripCustomer.customerId || tripCustomer.customer_id}>\n                          <CardContent className=\"pt-4\">\n                            <div className=\"space-y-4\">\n                              {/* 客户信息头部 */}\n                              <div className=\"flex items-center justify-between\">\n                                <h4 className=\"font-medium text-base\">{tripCustomer.customerName || tripCustomer.customer?.name}</h4>\n                                <Badge variant=\"outline\" className=\"text-xs\">\n                                  VIP: {tripCustomer.customer?.vip_level || 'Standard'}\n                                </Badge>\n                              </div>\n                              \n                              {/* 财务数据 - 移动端优化布局 */}\n                              <div className=\"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-5 sm:gap-4\">\n                                <div className=\"flex justify-between sm:block\">\n                                  <span className=\"text-sm text-gray-500\">Buy-in:</span>\n                                  <div className=\"font-medium text-blue-600 text-right sm:text-left\">\n                                    {formatCurrency(tripCustomer.total_buy_in || tripCustomer.buyInAmount || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"flex justify-between sm:block\">\n                                  <span className=\"text-sm text-gray-500\">Cash-out:</span>\n                                  <div className=\"font-medium text-purple-600 text-right sm:text-left\">\n                                    {formatCurrency(tripCustomer.total_cash_out || tripCustomer.buyOutAmount || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"flex justify-between sm:block\">\n                                  <span className=\"text-sm text-gray-500\">Rolling:</span>\n                                  <div className=\"font-medium text-orange-600 text-right sm:text-left\">\n                                    {formatCurrency(tripCustomer.rolling_amount || tripCustomer.rollingAmount || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"flex justify-between sm:block\">\n                                  <span className=\"text-sm text-gray-500\">Win/Loss:</span>\n                                  <div className={`font-medium text-right sm:text-left ${\n                                    (tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0) > 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    {formatCurrency(Math.abs((tripCustomer.total_buy_in || 0) - (tripCustomer.total_cash_out || 0)), viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"flex justify-between sm:block\">\n                                  <span className=\"text-sm text-gray-500\">Net Result:</span>\n                                  <div className={`font-medium text-right sm:text-left ${\n                                    (tripCustomer.net_result || 0) > 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    {formatCurrency(Math.abs(tripCustomer.net_result || 0), viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                              </div>\n                              \n                              {/* 操作按钮 - 移动端优化 */}\n                              <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-2\">\n                                <div className=\"flex gap-2 flex-1\">\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"flex-1 sm:flex-none\"\n                                    onClick={() => {\n                                      setSelectedCustomerForTransaction(tripCustomer);\n                                      setShowAddTransaction(true);\n                                    }}\n                                    disabled={saving}\n                                  >\n                                    <Plus className=\"w-3 h-3 mr-1\" />\n                                    Transaction\n                                  </Button>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"flex-1 sm:flex-none\"\n                                    onClick={() => {\n                                      setSelectedCustomerForRolling(tripCustomer);\n                                      setShowAddRolling(true);\n                                    }}\n                                    disabled={saving}\n                                  >\n                                    <Plus className=\"w-3 h-3 mr-1\" />\n                                    Rolling\n                                  </Button>\n                                </div>\n                                <div className=\"flex gap-2\">\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"flex-1 sm:flex-none\"\n                                    onClick={() => toggleHistoryVisibility(tripCustomer.customerId || tripCustomer.customer_id)}\n                                    disabled={saving}\n                                  >\n                                    <ChevronDown className={`w-3 h-3 transition-transform ${showHistory[tripCustomer.customerId || tripCustomer.customer_id] ? 'rotate-180' : ''}`} />\n                                  </Button>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"flex-1 sm:flex-none\"\n                                    onClick={() => handleViewCustomerPhotos(tripCustomer)}\n                                    disabled={saving}\n                                  >\n                                    <Camera className=\"w-3 h-3 mr-1\" />\n                                    Photos\n                                  </Button>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"flex-1 sm:flex-none\"\n                                    onClick={() => {\n                                      setDeletingCustomer(tripCustomer);\n                                      setShowDeleteCustomer(true);\n                                    }}\n                                    disabled={saving}\n                                  >\n                                    <X className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                              </div>\n                            </div>\n\n                            {/* Combined History (Transaction & Rolling) */}\n                            {showHistory[tripCustomer.customerId || tripCustomer.customer_id] && (\n                              <div className=\"mt-4 border-t pt-4\">\n                                {/* Transaction History Section */}\n                                <div className=\"mb-4\">\n                                  <h5 className=\"font-medium mb-2 text-blue-600\">Transaction History</h5>\n                                  {customerTransactions[tripCustomer.customerId || tripCustomer.customer_id]?.map((transaction: any) => (\n                                    <div key={transaction.id} className=\"flex items-center justify-between p-2 bg-blue-50 rounded border mb-2\">\n                                      <div className=\"flex-1\">\n                                        <div className=\"flex items-center space-x-2\">\n                                          <Badge variant={transaction.transaction_type === 'buy-in' ? 'default' : 'secondary'}>\n                                            {transaction.transaction_type === 'buy-in' ? 'Buy-in' : 'Cash-out'}\n                                          </Badge>\n                                          <span className=\"font-medium\">\n                                            {formatCurrency(transaction.amount, viewingCurrency, selectedTrip)}\n                                          </span>\n                                          <span className=\"text-sm text-gray-500\">{transaction.venue}</span>\n                                        </div>\n                                        <div className=\"text-xs text-gray-400 mt-1\">\n                                          {new Date(transaction.created_at).toLocaleString()}\n                                        </div>\n                                      </div>\n                                      {!isReadOnly && (\n                                        <div className=\"flex gap-1\">\n                                          <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEditTransaction(transaction)}>\n                                            <Settings className=\"w-3 h-3\" />\n                                          </Button>\n                                          <Button variant=\"ghost\" size=\"sm\" onClick={() => handleDeleteTransaction(transaction)} className=\"text-red-600\">\n                                            <Trash2 className=\"w-3 h-3\" />\n                                          </Button>\n                                        </div>\n                                      )}\n                                    </div>\n                                  ))}\n                                </div>\n\n                                {/* Rolling History Section */}\n                                <div>\n                                  <h5 className=\"font-medium mb-2 text-orange-600\">Rolling History</h5>\n                                  {customerRollings[tripCustomer.customerId || tripCustomer.customer_id]?.map((rolling: any) => (\n                                    <div key={rolling.id} className=\"flex items-center justify-between p-2 bg-orange-50 rounded border mb-2\">\n                                      <div className=\"flex-1\">\n                                        <div className=\"flex items-center space-x-2\">\n                                          <Badge variant=\"outline\" className=\"bg-orange-100 text-orange-700\">Rolling</Badge>\n                                          <span className=\"font-medium\">\n                                            {formatCurrency(rolling.rolling_amount || rolling.amount, viewingCurrency, selectedTrip)}\n                                          </span>\n                                          <span className=\"text-sm text-gray-500\">{rolling.venue}</span>\n                                          <span className=\"text-xs text-gray-400\">({rolling.game_type})</span>\n                                          <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700 text-xs\">\n                                            {((rolling.commission_rate || 0.014) * 100).toFixed(2)}%\n                                          </Badge>\n                                        </div>\n                                        <div className=\"text-xs text-gray-400 mt-1 flex items-center space-x-2\">\n                                          <span>{new Date(rolling.created_at).toLocaleString()}</span>\n                                          <span>•</span>\n                                          <span className=\"text-green-600\">\n                                            Commission: {formatCurrency((rolling.rolling_amount || rolling.amount) * (rolling.commission_rate || 0.014), viewingCurrency, selectedTrip)}\n                                          </span>\n                                        </div>\n                                      </div>\n                                      {!isReadOnly && (\n                                        <div className=\"flex gap-1\">\n                                          <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEditRolling(rolling)}>\n                                            <Settings className=\"w-3 h-3\" />\n                                          </Button>\n                                          <Button variant=\"ghost\" size=\"sm\" onClick={() => handleDeleteRolling(rolling)} className=\"text-red-600\">\n                                            <Trash2 className=\"w-3 h-3\" />\n                                          </Button>\n                                        </div>\n                                      )}\n                                    </div>\n                                  ))}\n                                </div>\n                              </div>\n                            )}\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Delete Customer Confirmation Dialog */}\n                  {!isReadOnly && (\n                    <AlertDialog open={showDeleteCustomer} onOpenChange={setShowDeleteCustomer}>\n                      <AlertDialogContent>\n                        <AlertDialogHeader>\n                          <AlertDialogTitle>Remove Customer from Trip</AlertDialogTitle>\n                          <AlertDialogDescription>\n                            Are you sure you want to remove <strong>{deletingCustomer?.customerName || deletingCustomer?.customer?.name}</strong> from this trip?\n                            <br /><br />\n                            This will permanently remove all their transaction history, rolling records, and financial data associated with this trip.\n                            <br /><br />\n                            <strong>This action cannot be undone.</strong>\n                          </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                          <AlertDialogCancel \n                            onClick={() => {\n                              setShowDeleteCustomer(false);\n                              setDeletingCustomer(null);\n                            }}\n                            disabled={saving}\n                          >\n                            Cancel\n                          </AlertDialogCancel>\n                          <AlertDialogAction\n                            onClick={confirmRemoveCustomerFromTrip}\n                            disabled={saving}\n                            className=\"bg-red-600 hover:bg-red-700\"\n                          >\n                            {saving ? 'Removing...' : 'Remove Customer'}\n                          </AlertDialogAction>\n                        </AlertDialogFooter>\n                      </AlertDialogContent>\n                    </AlertDialog>\n                  )}\n                </TabsContent>\n\n                {/* Agent Profits Tab */}\n                <TabsContent value=\"agents\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Agent Profit Sharing Summary</h3>\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\"\n                      onClick={() => {\n                        if (selectedTrip) {\n                          console.log('🔄 Manual refresh clicked for trip:', selectedTrip.id);\n                          loadAgentSummary(selectedTrip.id);\n                        }\n                      }}\n                      disabled={loading}\n                    >\n                      <RefreshCw className=\"w-4 h-4 mr-2\" />\n                      Refresh\n                    </Button>\n                  </div>\n\n                  {loading ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading agent summary...</p>\n                      </CardContent>\n                    </Card>\n                  ) : !agentSummary || agentSummary.length === 0 ? (\n                    <div className=\"space-y-4\">\n                      <Card>\n                        <CardContent className=\"text-center py-8\">\n                          <UserCheck className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                          <p className=\"text-gray-500\">No agent profit sharing data available</p>\n                          <p className=\"text-xs text-gray-400 mt-2\">Agent summaries are created when trip sharing is calculated</p>\n                        </CardContent>\n                      </Card>\n                      \n                      {/* Debug info */}\n                      <Card className=\"border-yellow-200 bg-yellow-50\">\n                        <CardContent className=\"pt-4\">\n                          <h4 className=\"font-medium text-yellow-800 mb-2\">Debug Information</h4>\n                          <div className=\"text-sm text-yellow-700 space-y-1\">\n                            <div>Trip ID: {selectedTrip?.id}</div>\n                            <div>Customers in trip: {selectedTrip?.customers?.length || 0}</div>\n                            <div>Agents in trip: {selectedTrip?.agents?.length || 0}</div>\n                            <div>Agent summary loaded: {agentSummary?.length || 0}</div>\n                            <div>Agent summary state: {JSON.stringify(agentSummary)}</div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-6\">\n                      {agentSummary.map((summary: any) => (\n                        <Card key={summary.agent_id}>\n                          <CardHeader>\n                            <div className=\"flex justify-between items-start\">\n                              <div>\n                                <CardTitle className=\"text-lg\">{summary.agent_name}</CardTitle>\n                                <CardDescription>\n                                  Base Commission Rate: {summary.agent_commission_rate}%\n                                </CardDescription>\n                              </div>\n                              <div className=\"text-right\">\n                                <div className=\"text-2xl font-bold text-blue-600\">\n                                  {formatCurrency(summary.agent_profit_share || 0, viewingCurrency, selectedTrip)}\n                                </div>\n                                <p className=\"text-sm text-gray-500\">Agent Profit Share</p>\n                              </div>\n                            </div>\n                          </CardHeader>\n                          <CardContent>\n                            <div className=\"space-y-4\">\n                              {/* Summary Statistics */}\n                              <div className=\"grid grid-cols-3 gap-4 mb-4\">\n                                <div className=\"p-3 bg-blue-50 rounded\">\n                                  <div className=\"text-sm text-gray-600\">Total Win/Loss</div>\n                                  <div className={`text-lg font-bold ${\n                                    summary.total_win_loss >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    {formatCurrencyWithSign(summary.total_win_loss || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"p-3 bg-green-50 rounded\">\n                                  <div className=\"text-sm text-gray-600\">Total Commission</div>\n                                  <div className=\"text-lg font-bold text-gray-800\">\n                                    {formatCurrency(summary.total_commission || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                                <div className=\"p-3 bg-purple-50 rounded\">\n                                  <div className=\"text-sm text-gray-600\">Total Profit</div>\n                                  <div className={`text-lg font-bold ${\n                                    summary.total_profit >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    {formatCurrencyWithSign(summary.total_profit || 0, viewingCurrency, selectedTrip)}\n                                  </div>\n                                </div>\n                              </div>\n\n                              {/* Customer Details */}\n                              <div>\n                                <h4 className=\"font-medium mb-3\">\n                                  Customer Details ({summary.customer_count || summary.customers?.length || 0} customers)\n                                </h4>\n                                <div className=\"space-y-3\">\n                                  {summary.customers && summary.customers.map((customer: any) => (\n                                    <div key={customer.customer_id} className=\"border rounded p-3\">\n                                      <div className=\"flex justify-between items-start mb-2\">\n                                        <div>\n                                          <div className=\"font-medium\">{customer.customer_name}</div>\n                                          <div className=\"text-sm text-gray-500\">\n                                            Net Result: <span className={`font-medium ${\n                                              (customer.net_result || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n                                            }`}>\n                                              {formatCurrency(Math.abs(customer.net_result || 0), viewingCurrency, selectedTrip)}\n                                            </span>\n                                          </div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                          <div className=\"font-bold text-blue-600\">\n                                            {customer.profit_sharing_rate}%\n                                          </div>\n                                          <div className=\"text-sm text-gray-500\">Profit Sharing Rate</div>\n                                        </div>\n                                      </div>\n                                      \n                                      {!isReadOnly && (\n                                        <div className=\"flex justify-center pt-2 border-t\">\n                                          <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => handleEditProfitSharing(summary.agent_id, customer, summary.agent_name)}\n                                            className=\"text-sm\"\n                                          >\n                                            <Settings className=\"w-4 h-4 mr-1\" />\n                                            Edit Profit Sharing Rate\n                                          </Button>\n                                        </div>\n                                      )}\n                                    </div>\n                                  ))}\n                                </div>\n                              </div>\n\n                              {/* Summary Information */}\n                              <div className=\"bg-gray-50 p-3 rounded\">\n                                <div className=\"text-sm text-gray-600 space-y-1\">\n                                  <div>Created: {new Date(summary.created_at).toLocaleDateString()}</div>\n                                  <div>Last Updated: {new Date(summary.updated_at).toLocaleDateString()}</div>\n                                </div>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Edit Agent Dialog */}\n                  <Dialog open={showEditAgent} onOpenChange={setShowEditAgent}>\n                    <DialogContent>\n                      <DialogHeader>\n                        <DialogTitle>Edit Agent Share</DialogTitle>\n                        <DialogDescription>\n                          Update {editingAgent?.agentName}'s share percentage\n                        </DialogDescription>\n                      </DialogHeader>\n                      <div className=\"space-y-4\">\n                        <div>\n                          <Label htmlFor=\"editSharePercentage\">Share Percentage *</Label>\n                          <Input\n                            id=\"editSharePercentage\"\n                            type=\"number\"\n                            value={editAgentShare}\n                            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEditAgentShare(parseFloat(e.target.value) || 0)}\n                            placeholder=\"Enter percentage (e.g., 25)\"\n                            min=\"0.1\"\n                            max=\"100\"\n                            step=\"0.1\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">Enter a value between 0.1 and 100</p>\n                        </div>\n                        <div className=\"flex justify-end space-x-2\">\n                          <Button \n                            variant=\"outline\" \n                            onClick={() => setShowEditAgent(false)}\n                            disabled={saving}\n                          >\n                            Cancel\n                          </Button>\n                          {!isReadOnly && (\n                            <Button onClick={handleEditAgentShare} disabled={saving}>\n                              {saving ? 'Updating...' : 'Update Share'}\n                            </Button>\n                          )}\n                        </div>\n                      </div>\n                    </DialogContent>\n                  </Dialog>\n\n                  {/* Delete Agent Confirmation Dialog */}\n                  <AlertDialog open={showDeleteAgent} onOpenChange={setShowDeleteAgent}>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>Remove Agent from Trip</AlertDialogTitle>\n                        <AlertDialogDescription>\n                          Are you sure you want to remove <strong>{deletingAgent?.agentName}</strong> from this trip? \n                          This will remove their {deletingAgent?.sharePercentage}% share allocation.\n                          <br /><br />\n                          This action cannot be undone.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel disabled={saving}>Cancel</AlertDialogCancel>\n                        <AlertDialogAction \n                          onClick={handleDeleteAgentFromTrip}\n                          disabled={saving}\n                          className=\"bg-red-600 hover:bg-red-700\"\n                        >\n                          {saving ? 'Removing...' : 'Remove Agent'}\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                </TabsContent>\n\n                {/* Staff Tab */}\n                <TabsContent value=\"staff\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Staff ({(selectedTrip as any)?.staff?.length || 0})</h3>\n                    {!isReadOnly && (\n                      <Dialog open={showAddStaff} onOpenChange={setShowAddStaff}>\n                        <DialogTrigger asChild>\n                          <Button size=\"sm\">\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add Staff\n                          </Button>\n                        </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Staff to Trip</DialogTitle>\n                          <DialogDescription>\n                            Select from available staff members ({(staff || []).filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => ts.staffId === s.id || ts.staff_id === s.id)).length} available)\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                          {(() => {\n                            console.log('🔍 Debug staff filtering:', {\n                              allStaff: staff,\n                              tripStaff: (selectedTrip as any)?.staff,\n                              staffCount: staff?.length || 0,\n                              tripStaffCount: ((selectedTrip as any)?.staff || []).length\n                            });\n                            \n                            const availableStaff = (staff || [])\n                              .filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => {\n                                // Check multiple possible ID fields from the backend response\n                                const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                                const match = tripStaffId === s.id;\n                                console.log('🔍 Checking staff match:', { \n                                  staffId: s.id, \n                                  staffName: s.name,\n                                  tripStaffId, \n                                  tripStaff: ts,\n                                  match \n                                });\n                                return match;\n                              }));\n                              \n                            console.log('✅ Available staff after filtering:', availableStaff);\n                            \n                            return availableStaff.map(staffMember => (\n                              <div key={staffMember.id} className=\"flex items-center justify-between p-3 border rounded\">\n                                <div>\n                                  <div className=\"font-medium\">{staffMember.name}</div>\n                                  <div className=\"text-sm text-gray-500\">{staffMember.email}</div>\n                                  <div className=\"text-xs text-gray-400\">Position: {staffMember.position}</div>\n                                </div>\n                                <Button size=\"sm\" onClick={() => handleAddStaffToTrip(staffMember.id)} disabled={saving}>\n                                  {saving ? 'Adding...' : 'Add'}\n                                </Button>\n                              </div>\n                            ));\n                          })()}\n                          {(() => {\n                            const availableStaff = (staff || [])\n                              .filter(s => !((selectedTrip as any)?.staff || []).some((ts: any) => {\n                                const tripStaffId = ts.staffId || ts.staff_id || ts.id;\n                                return tripStaffId === s.id;\n                              }));\n                            return availableStaff.length === 0 && (\n                              <p className=\"text-center text-gray-500 py-8\">All staff members are already assigned to this trip</p>\n                            );\n                          })()}\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                    )}\n                  </div>\n\n                  {(!selectedTrip || !(selectedTrip as any).staff || !Array.isArray((selectedTrip as any).staff) || (selectedTrip as any).staff.length === 0) ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Users className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No staff assigned to this trip</p>\n                        <p className=\"text-xs text-gray-400 mt-2\">Add staff members to help manage this trip</p>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {((selectedTrip as any).staff || []).map((staffMember: any) => (\n                        <Card key={staffMember.id || staffMember.staff_id}>\n                          <CardContent className=\"p-4\">\n                            <div className=\"space-y-4\">\n                              <div className=\"flex items-center justify-between\">\n                                <div className=\"flex items-center space-x-3\">\n                                  <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                                    <Users className=\"w-5 h-5 text-blue-600\" />\n                                  </div>\n                                  <div>\n                                    <div className=\"font-medium\">{staffMember.name || staffMember.staffName}</div>\n                                    <div className=\"text-sm text-gray-500\">{staffMember.email || staffMember.staffEmail}</div>\n                                    <div className=\"text-xs text-gray-400\">\n                                      Position: {staffMember.position || staffMember.staffPosition}\n                                    </div>\n                                    {staffMember.created_at && (\n                                      <div className=\"text-xs text-gray-400\">\n                                        Added: {new Date(staffMember.created_at).toLocaleDateString()}\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                                <div className=\"flex items-center space-x-2\">\n                                  {!isReadOnly && (\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"outline\"\n                                      onClick={() => handleRemoveStaffFromTrip(staffMember.staff_id || staffMember.id)}\n                                      disabled={saving}\n                                    >\n                                      <Trash2 className=\"w-4 h-4\" />\n                                    </Button>\n                                  )}\n                                </div>\n                              </div>\n                              \n                              {/* Staff Shift Photos - Using same logic as StaffManagement */}\n                              {(() => {\n                                // Load shifts for this staff member if not already loaded\n                                const loadShifts = async () => {\n                                  try {\n                                    const shiftsResponse = await apiClient.get(`/staffs/${staffMember.staff_id || staffMember.staffId}/shifts`);\n                                    if (shiftsResponse.success) {\n                                      // Store shifts data in staffMember for display\n                                      staffMember.shifts = shiftsResponse.data || [];\n                                    }\n                                  } catch (error) {\n                                    console.error('❌ Error loading staff shifts:', error);\n                                  }\n                                };\n                                \n                                // Load shifts if not already loaded\n                                if (!staffMember.shifts) {\n                                  loadShifts();\n                                }\n                                \n                                const shifts = staffMember.shifts || [];\n                                \n                                // Collect all check-in/out photos from shifts (same as StaffManagement)\n                                const shiftPhotos: Array<{type: string, photo: string, date: string, shift_id: string, timestamp: number}> = [];\n                                shifts.forEach((shift: any) => {\n                                  if (shift.check_in_photo) {\n                                    shiftPhotos.push({\n                                      type: 'Check-in Photo',\n                                      photo: shift.check_in_photo,\n                                      date: new Date(shift.check_in_time).toLocaleString(),\n                                      shift_id: shift.id,\n                                      timestamp: new Date(shift.check_in_time).getTime()\n                                    });\n                                  }\n                                  if (shift.check_out_photo) {\n                                    shiftPhotos.push({\n                                      type: 'Check-out Photo',\n                                      photo: shift.check_out_photo,\n                                      date: new Date(shift.check_out_time).toLocaleString(),\n                                      shift_id: shift.id,\n                                      timestamp: new Date(shift.check_out_time).getTime()\n                                    });\n                                  }\n                                });\n                                \n                                // Sort photos by timestamp (newest first)\n                                shiftPhotos.sort((a, b) => b.timestamp - a.timestamp);\n                                \n                                if (shiftPhotos.length === 0) {\n                                  return (\n                                    <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                                      <h5 className=\"text-sm font-medium text-gray-700 mb-2 flex items-center\">\n                                        <CheckCircle className=\"w-4 h-4 mr-2\" />\n                                        Check-in/out Photos (0)\n                                      </h5>\n                                      <div className=\"text-center py-4 text-gray-500\">\n                                        <p className=\"text-sm\">No check-in/out photos available</p>\n                                        <p className=\"text-xs mt-1\">Photos will appear here when staff check in/out</p>\n                                      </div>\n                                    </div>\n                                  );\n                                }\n                                \n                                return (\n                                  <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                                    <h5 className=\"text-sm font-medium text-gray-700 mb-3 flex items-center\">\n                                      <CheckCircle className=\"w-4 h-4 mr-2\" />\n                                      Check-in/out Photos ({shiftPhotos.length})\n                                    </h5>\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                                      {shiftPhotos.map((item, index) => (\n                                        <Card key={`photo-${item.shift_id}-${index}`} className=\"overflow-hidden\">\n                                          <CardContent className=\"p-3\">\n                                            <div className=\"space-y-2\">\n                                              <div className=\"flex items-center justify-between\">\n                                                <Badge variant={item.type.includes('Check-in') ? 'default' : 'secondary'} className=\"text-xs\">\n                                                  {item.type}\n                                                </Badge>\n                                                <Eye className=\"w-3 h-3 text-gray-400\" />\n                                              </div>\n                                              \n                                              <div className=\"aspect-square relative\">\n                                                <img\n                                                  src={item.photo}\n                                                  alt={item.type}\n                                                  className=\"w-full h-full object-cover rounded border cursor-pointer hover:opacity-80\"\n                                                  onClick={() => window.open(item.photo, '_blank')}\n                                                />\n                                              </div>\n                                              \n                                              <div>\n                                                <p className=\"text-xs text-gray-500\">{item.date}</p>\n                                              </div>\n                                            </div>\n                                          </CardContent>\n                                        </Card>\n                                      ))}\n                                    </div>\n                                  </div>\n                                );\n                              })()}\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Expenses Tab */}\n                <TabsContent value=\"expenses\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Trip Expenses ({tripExpenses?.length || 0})</h3>\n                    {!isReadOnly && (\n                      <Dialog open={showAddExpense} onOpenChange={setShowAddExpense}>\n                        <DialogTrigger asChild>\n                          <Button size=\"sm\">\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add Expense\n                          </Button>\n                        </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Expense</DialogTitle>\n                          <DialogDescription>\n                            Record a new expense for this trip\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4\">\n                          <div>\n                            <Label htmlFor=\"expenseDescription\">Description</Label>\n                            <Input\n                              id=\"expenseDescription\"\n                              value={newExpense.description}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, description: e.target.value})}\n                              placeholder=\"Expense description\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"expenseAmount\">Amount ({getCurrencySymbol(selectedTrip?.currency || 'HKD')})</Label>\n                            <Input\n                              id=\"expenseAmount\"\n                              type=\"number\"\n                              value={newExpense.amount}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, amount: parseFloat(e.target.value) || 0})}\n                              placeholder=\"0.00\"\n                              min=\"0\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"expenseDateTime\">Date & Time</Label>\n                            <Input\n                              id=\"expenseDateTime\"\n                              type=\"datetime-local\"\n                              value={newExpense.datetime}\n                              onChange={(e) => setNewExpense({...newExpense, datetime: e.target.value})}\n                              required\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"expenseCategory\">Category</Label>\n                            <Select \n                              value={newExpense.category} \n                              onValueChange={(value: any) => setNewExpense({...newExpense, category: value})}\n                            >\n                              <SelectTrigger>\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"accommodation\">Accommodation</SelectItem>\n                                <SelectItem value=\"transportation\">Transportation</SelectItem>\n                                <SelectItem value=\"entertainment\">Entertainment</SelectItem>\n                                <SelectItem value=\"food_beverage\">Food & Beverage</SelectItem>\n                                <SelectItem value=\"other\">Other</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div className=\"flex justify-end space-x-2\">\n                            <Button variant=\"outline\" onClick={() => setShowAddExpense(false)}>\n                              Cancel\n                            </Button>\n                            {!isReadOnly && (\n                              <Button onClick={handleAddExpense}>\n                                Add Expense\n                              </Button>\n                            )}\n                          </div>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                    )}\n                  </div>\n\n                  {/* Edit Expense Dialog */}\n                  {!isReadOnly && (\n                    <Dialog open={showEditExpense} onOpenChange={setShowEditExpense}>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Edit Expense</DialogTitle>\n                          <DialogDescription>\n                            Update the expense details\n                          </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"space-y-4\">\n                          <div>\n                            <Label htmlFor=\"editExpenseDescription\">Description</Label>\n                            <Input\n                              id=\"editExpenseDescription\"\n                              value={newExpense.description}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, description: e.target.value})}\n                              placeholder=\"Expense description\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"editExpenseAmount\">Amount ({getCurrencySymbol(selectedTrip?.currency || 'HKD')})</Label>\n                            <Input\n                              id=\"editExpenseAmount\"\n                              type=\"number\"\n                              value={newExpense.amount}\n                              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewExpense({...newExpense, amount: parseFloat(e.target.value) || 0})}\n                              placeholder=\"0.00\"\n                              min=\"0\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"editExpenseDateTime\">Date & Time</Label>\n                            <Input\n                              id=\"editExpenseDateTime\"\n                              type=\"datetime-local\"\n                              value={newExpense.datetime}\n                              onChange={(e) => setNewExpense({...newExpense, datetime: e.target.value})}\n                              required\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"editExpenseCategory\">Category</Label>\n                            <Select \n                              value={newExpense.category} \n                              onValueChange={(value: any) => setNewExpense({...newExpense, category: value})}\n                            >\n                              <SelectTrigger>\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"accommodation\">Accommodation</SelectItem>\n                                <SelectItem value=\"transportation\">Transportation</SelectItem>\n                                <SelectItem value=\"entertainment\">Entertainment</SelectItem>\n                                <SelectItem value=\"food_beverage\">Food & Beverage</SelectItem>\n                                <SelectItem value=\"other\">Other</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div className=\"flex justify-end space-x-2\">\n                            <Button variant=\"outline\" onClick={() => {\n                              setShowEditExpense(false);\n                              setEditingExpense(null);\n                              setNewExpense({\n                                description: '',\n                                amount: 0,\n                                category: 'flight',\n                                datetime: new Date().toISOString().slice(0, 16)\n                              });\n                            }}>\n                              Cancel\n                            </Button>\n                            <Button onClick={handleUpdateExpense} disabled={saving}>\n                              {saving ? 'Updating...' : 'Update Expense'}\n                            </Button>\n                          </div>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                  )}\n\n                  {/* Delete Expense Confirmation Dialog */}\n                  {!isReadOnly && (\n                    <AlertDialog open={showDeleteExpense} onOpenChange={setShowDeleteExpense}>\n                      <AlertDialogContent>\n                        <AlertDialogHeader>\n                          <AlertDialogTitle>Delete Expense</AlertDialogTitle>\n                          <AlertDialogDescription>\n                            Are you sure you want to delete this expense? This action cannot be undone.\n                            <br /><br />\n                            <strong>Expense:</strong> {deletingExpense?.description}\n                            <br />\n                            <strong>Amount:</strong> {deletingExpense && formatCurrency(deletingExpense.amount, viewingCurrency, selectedTrip)}\n                          </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                          <AlertDialogCancel onClick={() => {\n                            setShowDeleteExpense(false);\n                            setDeletingExpense(null);\n                          }}>\n                            Cancel\n                          </AlertDialogCancel>\n                          <AlertDialogAction\n                            onClick={confirmDeleteExpense}\n                            disabled={saving}\n                            className=\"bg-red-600 hover:bg-red-700\"\n                          >\n                            {saving ? 'Deleting...' : 'Delete Expense'}\n                          </AlertDialogAction>\n                        </AlertDialogFooter>\n                      </AlertDialogContent>\n                    </AlertDialog>\n                  )}\n\n                  {expensesLoading ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading expenses...</p>\n                      </CardContent>\n                    </Card>\n                  ) : (tripExpenses?.length || 0) === 0 ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <DollarSign className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No expenses recorded for this trip</p>\n                        {!isReadOnly && (\n                          <Button className=\"mt-4\" onClick={() => setShowAddExpense(true)}>\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add First Expense\n                          </Button>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {/* Expenses Summary */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle className=\"text-lg\">Expenses Summary</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"text-2xl font-bold text-red-600\">\n                            {formatCurrency((tripExpenses || []).reduce((sum, exp) => sum + (exp.amount || 0), 0), viewingCurrency, selectedTrip)}\n                          </div>\n                          <p className=\"text-sm text-gray-500\">{tripExpenses?.length || 0} expense items</p>\n                        </CardContent>\n                      </Card>\n                      \n                      {/* Expenses Table */}\n                      <Card>\n                        <CardContent className=\"p-0\">\n                          <Table>\n                            <TableHeader>\n                              <TableRow>\n                                <TableHead>Description</TableHead>\n                                <TableHead>Type</TableHead>\n                                <TableHead>Date</TableHead>\n                                <TableHead className=\"text-right\">Amount</TableHead>\n                                {!isReadOnly && <TableHead className=\"text-center\">Actions</TableHead>}\n                              </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                              {(tripExpenses || []).map(expense => (\n                                <TableRow key={expense.id}>\n                                  <TableCell className=\"font-medium\">{expense.description}</TableCell>\n                                  <TableCell className=\"capitalize\">{expense.expense_type?.replace('_', ' ')}</TableCell>\n                                  <TableCell>{expense.expense_date}</TableCell>\n                                  <TableCell className=\"text-right font-medium text-red-600\">\n                                    {formatCurrency(expense.amount, viewingCurrency, selectedTrip)}\n                                  </TableCell>\n                                  {!isReadOnly && (\n                                    <TableCell className=\"text-center\">\n                                      <div className=\"flex justify-center space-x-2\">\n                                        <Button\n                                          size=\"sm\"\n                                          variant=\"outline\"\n                                          onClick={() => handleEditExpense(expense)}\n                                          disabled={saving}\n                                        >\n                                          <Settings className=\"w-4 h-4\" />\n                                        </Button>\n                                        <Button\n                                          size=\"sm\"\n                                          variant=\"outline\"\n                                          onClick={() => handleDeleteExpense(expense)}\n                                          disabled={saving}\n                                          className=\"text-red-600 hover:text-red-700\"\n                                        >\n                                          <Trash2 className=\"w-4 h-4\" />\n                                        </Button>\n                                      </div>\n                                    </TableCell>\n                                  )}\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Trip Sharing Tab */}\n                <TabsContent value=\"sharing\" className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-medium\">Financial Overview & Profit Sharing</h3>\n                    {tripSharing && (\n                      <Button \n                        size=\"sm\" \n                        variant=\"outline\"\n                        onClick={() => selectedTrip && loadTripSharing(selectedTrip.id)}\n                        disabled={sharingLoading}\n                      >\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\n                        Refresh\n                      </Button>\n                    )}\n                  </div>\n\n                  {sharingLoading ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                        <p className=\"text-gray-500\">Loading sharing data...</p>\n                      </CardContent>\n                    </Card>\n                  ) : !tripSharing ? (\n                    <Card>\n                      <CardContent className=\"text-center py-8\">\n                        <Settings className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                        <p className=\"text-gray-500\">No sharing data available</p>\n                        <p className=\"text-xs text-gray-400 mt-2\">Sharing data will be calculated automatically when trip has transactions</p>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <div className=\"space-y-6\">\n                      {/* Sharing Summary Cards */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Net Result</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              {formatCurrency(Math.abs(tripSharing.net_result), viewingCurrency, selectedTrip)}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">After all expenses and commissions</p>\n                          </CardContent>\n                        </Card>\n                        \n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Agent Share</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.total_agent_share >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              {formatCurrency(Math.abs(tripSharing.total_agent_share), viewingCurrency, selectedTrip)}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">{tripSharing.agent_share_percentage}% of net result</p>\n                          </CardContent>\n                        </Card>\n                        \n                        <Card>\n                          <CardHeader className=\"pb-2\">\n                            <CardTitle className=\"text-sm text-gray-600\">Company Share</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className={`text-2xl font-bold ${\n                              tripSharing.company_share >= 0 ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              {formatCurrency(Math.abs(tripSharing.company_share), viewingCurrency, selectedTrip)}\n                            </div>\n                            <p className=\"text-xs text-gray-500\">{tripSharing.company_share_percentage}% of net result</p>\n                          </CardContent>\n                        </Card>\n                      </div>\n\n                      {/* Detailed Breakdown */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle>Financial Breakdown</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-3\">\n                            <div className=\"flex justify-between items-center p-3 bg-green-50 rounded\">\n                              <span className=\"font-medium\">Total Buy-in</span>\n                              <span className=\"text-green-600 font-bold\">{formatCurrency(tripSharing.total_buy_in, viewingCurrency, selectedTrip)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-red-50 rounded\">\n                              <span className=\"font-medium\">Total Cash-out</span>\n                              <span className=\"text-red-600 font-bold\">{formatCurrency(Math.abs(tripSharing.total_buy_out), viewingCurrency, selectedTrip)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-gray-100 rounded\">\n                              <span className=\"font-medium\">Gross Profit</span>\n                              <span className={`font-bold ${\n                                tripSharing.total_win_loss > 0 ? 'text-green-600' : 'text-red-600'\n                              }`}>\n                                {formatCurrency(Math.abs(tripSharing.total_win_loss), viewingCurrency, selectedTrip)}\n                              </span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded\">\n                              <span className=\"font-medium\">Rolling Commission</span>\n                              <span className=\"text-purple-600 font-bold\">{formatCurrency(Math.abs(tripSharing.total_rolling_commission), viewingCurrency, selectedTrip)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-red-50 rounded\">\n                              <span className=\"font-medium\">Total Expenses</span>\n                              <span className=\"text-red-600 font-bold\">{formatCurrency(Math.abs(tripSharing.total_expenses), viewingCurrency, selectedTrip)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded\">\n                              <span className=\"font-medium\">Net Result</span>\n                              <span className={`font-bold ${\n                                tripSharing.net_result >= 0 ? 'text-green-600' : 'text-red-600'\n                              }`}>\n                                {formatCurrency(Math.abs(tripSharing.net_result), viewingCurrency, selectedTrip)}\n                              </span>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n\n                      {/* Agent Breakdown */}\n                      {tripSharing.agent_breakdown && Object.keys(tripSharing.agent_breakdown).length > 0 && (\n                        <Card>\n                          <CardHeader>\n                            <CardTitle>Agent Share Breakdown</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className=\"space-y-3\">\n                              {Object.entries(tripSharing?.agent_breakdown || {}).map(([agentId, agentData]: [string, any]) => (\n                                <div key={agentId} className=\"flex justify-between items-center p-3 border rounded\">\n                                  <div>\n                                    <div className=\"font-medium\">{agentData.agent_name}</div>\n                                    <div className=\"text-sm text-gray-500\">Profit Sharing Rate: {agentData.profit_sharing_rate}%</div>\n                                  </div>\n                                  <div className={`font-bold ${\n                                    agentData.share_amount >= 0 ? 'text-green-600' : 'text-red-600'\n                                  }`}>\n                                    HK${safeFormatNumber(Math.abs(agentData.share_amount))}\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          </CardContent>\n                        </Card>\n                      )}\n\n                      {/* Sharing Configuration */}\n                      <Card>\n                        <CardHeader>\n                          <CardTitle>Sharing Configuration</CardTitle>\n                          <CardDescription>\n                            Adjust the profit sharing percentages between agents and company\n                          </CardDescription>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-4\">\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              <div>\n                                <Label>Agent Share Percentage</Label>\n                                <div className=\"text-2xl font-bold text-blue-600\">\n                                  {tripSharing.agent_share_percentage}%\n                                </div>\n                              </div>\n                              <div>\n                                <Label>Company Share Percentage</Label>\n                                <div className=\"text-2xl font-bold text-purple-600\">\n                                  {tripSharing.company_share_percentage}%\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"pt-4 border-t\">\n                              <p className=\"text-sm text-gray-600 mb-4\">\n                                Current sharing model: {tripSharing.agent_share_percentage}% to agents, {tripSharing.company_share_percentage}% to company\n                              </p>\n                              <Button \n                                variant=\"outline\" \n                                size=\"sm\"\n                                onClick={() => {\n                                  // TODO: Add sharing configuration dialog\n                                  showError('Sharing configuration will be available in the next update');\n                                }}\n                              >\n                                <Settings className=\"w-4 h-4 mr-2\" />\n                                Configure Sharing\n                              </Button>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  )}\n                </TabsContent>\n\n              </Tabs>\n            </div>\n          ) : (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <Eye className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Trip Selected</h3>\n                <p className=\"text-gray-500 mb-4\">\n                  Please select a trip from the trips list to view detailed information.\n                </p>\n                <Button onClick={() => setActiveTab('trips')}>\n                  <MapPin className=\"w-4 h-4 mr-2\" />\n                  Go to Trips List\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Add Transaction Dialog */}\n      <Dialog open={showAddTransaction} onOpenChange={setShowAddTransaction}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Add Transaction</DialogTitle>\n            <DialogDescription>\n              Add a new transaction for {selectedCustomerForTransaction?.customerName || selectedCustomerForTransaction?.customer?.name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"transactionType\">Transaction Type</Label>\n              <Select\n                value={transactionForm.type}\n                onValueChange={(value) => setTransactionForm({...transactionForm, type: value as 'buy-in' | 'cash-out'})}\n              >\n                <SelectTrigger id=\"transactionType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"buy-in\">Buy In</SelectItem>\n                  <SelectItem value=\"cash-out\">Cash Out</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"transactionAmount\">Amount (HK$)</Label>\n              <Input\n                id=\"transactionAmount\"\n                type=\"number\"\n                placeholder=\"Enter amount\"\n                value={transactionForm.amount}\n                onChange={(e) => setTransactionForm({...transactionForm, amount: e.target.value})}\n                required\n              />\n              {!transactionForm.amount && (\n                <p className=\"text-xs text-red-500 mt-1\">Amount is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"transactionVenue\" className=\"flex items-center\">\n                Venue <span className=\"text-red-500 ml-1\">*</span>\n              </Label>\n              <Select\n                value={transactionForm.venue}\n                onValueChange={(value) => setTransactionForm({...transactionForm, venue: value})}\n                required\n              >\n                <SelectTrigger id=\"transactionVenue\" className={!transactionForm.venue ? \"border-red-300\" : \"\"}>\n                  <SelectValue placeholder=\"Select venue\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Hoe Win VIP\">Hoe Win VIP</SelectItem>\n                  <SelectItem value=\"House Casino\">House Casino</SelectItem>\n                  <SelectItem value=\"Competition\">Competition</SelectItem>\n                </SelectContent>\n              </Select>\n              {!transactionForm.venue && (\n                <p className=\"text-xs text-red-500 mt-1\">Venue is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"transactionDateTime\">Date & Time</Label>\n              <Input\n                id=\"transactionDateTime\"\n                type=\"datetime-local\"\n                value={transactionForm.datetime}\n                onChange={(e) => setTransactionForm({...transactionForm, datetime: e.target.value})}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowAddTransaction(false)}>\n              Cancel\n            </Button>\n            <Button \n              onClick={handleAddTransaction} \n              disabled={saving || !transactionForm.amount || !transactionForm.venue}\n            >\n              {saving ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Adding...\n                </>\n              ) : (\n                'Add Transaction'\n              )}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Add Rolling Dialog */}\n      <Dialog open={showAddRolling} onOpenChange={setShowAddRolling}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Add Rolling</DialogTitle>\n            <DialogDescription>\n              Add rolling amount for {selectedCustomerForRolling?.customerName || selectedCustomerForRolling?.customer?.name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"staffMember\">Staff Member <span className=\"text-red-500\">*</span></Label>\n              <Select\n                value={rollingForm.staff_id}\n                onValueChange={(value) => setRollingForm({...rollingForm, staff_id: value})}\n              >\n                <SelectTrigger id=\"staffMember\" className={!rollingForm.staff_id ? \"border-red-300\" : \"\"}>\n                  <SelectValue placeholder=\"Select staff member\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {(selectedTrip as any)?.staff?.map((staffMember: any) => (\n                    <SelectItem \n                      key={staffMember.staffId || staffMember.staff_id} \n                      value={staffMember.staffId || staffMember.staff_id}\n                    >\n                      {staffMember.staffName || staffMember.staff?.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {!rollingForm.staff_id && (\n                <p className=\"text-xs text-red-500 mt-1\">Staff member is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"gameType\">Game Type <span className=\"text-red-500\">*</span></Label>\n              <Select\n                value={rollingForm.game_type}\n                onValueChange={(value) => setRollingForm({...rollingForm, game_type: value as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other'})}\n              >\n                <SelectTrigger id=\"gameType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"baccarat\">Baccarat</SelectItem>\n                  <SelectItem value=\"blackjack\">Blackjack</SelectItem>\n                  <SelectItem value=\"roulette\">Roulette</SelectItem>\n                  <SelectItem value=\"poker\">Poker</SelectItem>\n                  <SelectItem value=\"slots\">Slots</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"rollingAmount\">Rolling Amount (HK$) <span className=\"text-red-500\">*</span></Label>\n              <Input\n                id=\"rollingAmount\"\n                type=\"number\"\n                placeholder=\"Enter rolling amount\"\n                value={rollingForm.amount}\n                onChange={(e) => setRollingForm({...rollingForm, amount: e.target.value})}\n                className={!rollingForm.amount ? \"border-red-300\" : \"\"}\n                required\n              />\n              {!rollingForm.amount && (\n                <p className=\"text-xs text-red-500 mt-1\">Rolling amount is required</p>\n              )}\n            </div>\n            <div>\n              <Label htmlFor=\"commissionRate\">Commission Rate (%) <span className=\"text-red-500\">*</span></Label>\n              <Input\n                id=\"commissionRate\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                max=\"100\"\n                placeholder=\"Enter commission rate (e.g., 1.40 for 1.40%)\"\n                value={(parseFloat(rollingForm.commission_rate) * 100).toFixed(2)}\n                onChange={(e) => setRollingForm({...rollingForm, commission_rate: String(parseFloat(e.target.value || '0') / 100)})}\n                className={!rollingForm.commission_rate ? \"border-red-300\" : \"\"}\n                required\n              />\n              {!rollingForm.commission_rate && (\n                <p className=\"text-xs text-red-500 mt-1\">Commission rate is required</p>\n              )}\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Current rate: {(parseFloat(rollingForm.commission_rate) * 100).toFixed(2)}% \n                (Commission: HK${rollingForm.amount ? (parseFloat(rollingForm.amount) * parseFloat(rollingForm.commission_rate)).toLocaleString() : '0'})\n              </p>\n            </div>\n            <div>\n              <Label htmlFor=\"rollingDateTime\">Date & Time</Label>\n              <Input\n                id=\"rollingDateTime\"\n                type=\"datetime-local\"\n                value={rollingForm.datetime}\n                onChange={(e) => setRollingForm({...rollingForm, datetime: e.target.value})}\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"rollingVenue\" className=\"flex items-center\">\n                Venue <span className=\"text-red-500 ml-1\">*</span>\n              </Label>\n              <Select\n                value={rollingForm.venue}\n                onValueChange={(value) => setRollingForm({...rollingForm, venue: value})}\n                required\n              >\n                <SelectTrigger id=\"rollingVenue\" className={!rollingForm.venue ? \"border-red-300\" : \"\"}>\n                  <SelectValue placeholder=\"Select venue\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Hoe Win VIP\">Hoe Win VIP</SelectItem>\n                  <SelectItem value=\"House Casino\">House Casino</SelectItem>\n                  <SelectItem value=\"Competition\">Competition</SelectItem>\n                </SelectContent>\n              </Select>\n              {!rollingForm.venue && (\n                <p className=\"text-xs text-red-500 mt-1\">Venue is required</p>\n              )}\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowAddRolling(false)} disabled={saving}>\n              Cancel\n            </Button>\n            <Button \n              onClick={handleAddRolling} \n              disabled={saving || !rollingForm.amount || !rollingForm.staff_id || !rollingForm.venue || !rollingForm.commission_rate}\n            >\n              {saving ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Adding...\n                </>\n              ) : (\n                'Add Rolling'\n              )}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Customer Photos Dialog */}\n      <Dialog open={showCustomerPhotos} onOpenChange={setShowCustomerPhotos}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh]\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center space-x-2\">\n              <Camera className=\"w-5 h-5\" />\n              <span>Customer Photos - {selectedCustomerForPhotos?.customerName || selectedCustomerForPhotos?.customer?.name}</span>\n            </DialogTitle>\n            <DialogDescription>\n              Transaction and Rolling photos uploaded by staff\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\n            {customerPhotos.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Image className=\"w-12 h-12 mx-auto text-gray-300 mb-4\" />\n                <p className=\"text-gray-500\">No photos available for this customer</p>\n                <p className=\"text-sm text-gray-400 mt-2\">\n                  Staff can upload transaction and rolling photos during operations\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {/* Transaction Photos */}\n                {customerPhotos.filter((photo: any) => photo.type === 'transaction' || photo.photo_type === 'transaction').length > 0 && (\n                  <div>\n                    <h4 className=\"text-lg font-medium mb-3 flex items-center\">\n                      <span className=\"mr-2\">💰</span>\n                      Transaction Photos\n                    </h4>\n                    <PhotoDisplay\n                      photos={customerPhotos\n                        .filter((photo: any) => photo.type === 'transaction' || photo.photo_type === 'transaction')\n                        .map((photo: any) => ({\n                          id: photo.id,\n                          photo: {\n                            data: photo.file_data || photo.photo?.data,\n                            filename: photo.file_name || photo.photo?.filename,\n                            size: photo.file_size || photo.photo?.size,\n                            type: photo.file_type || photo.photo?.type\n                          },\n                          status: photo.status,\n                          upload_date: photo.uploaded_at || photo.upload_date,\n                          transaction_date: photo.transaction_date\n                        }))\n                      }\n                      type=\"transaction\"\n                      size=\"large\"\n                      maxPhotos={6}\n                      showDownload={true}\n                      userRole={currentUser.role}\n                      customerName={selectedCustomerForPhotos?.customerName || selectedCustomerForPhotos?.customer?.name || selectedCustomerForPhotos?.name}\n                    />\n                  </div>\n                )}\n\n                {/* Rolling Photos */}\n                {customerPhotos.filter((photo: any) => photo.type === 'rolling' || photo.photo_type === 'rolling').length > 0 && (\n                  <div>\n                    <h4 className=\"text-lg font-medium mb-3 flex items-center\">\n                      <span className=\"mr-2\">🎲</span>\n                      Rolling Photos\n                    </h4>\n                    <PhotoDisplay\n                      photos={customerPhotos\n                        .filter((photo: any) => photo.type === 'rolling' || photo.photo_type === 'rolling')\n                        .map((photo: any) => ({\n                          id: photo.id,\n                          photo: {\n                            data: photo.file_data || photo.photo?.data,\n                            filename: photo.file_name || photo.photo?.filename,\n                            size: photo.file_size || photo.photo?.size,\n                            type: photo.file_type || photo.photo?.type\n                          },\n                          status: photo.status,\n                          upload_date: photo.uploaded_at || photo.upload_date,\n                          transaction_date: photo.transaction_date\n                        }))\n                      }\n                      type=\"rolling\"\n                      size=\"large\"\n                      maxPhotos={6}\n                      showDownload={true}\n                      userRole={currentUser.role}\n                      customerName={selectedCustomerForPhotos?.customerName || selectedCustomerForPhotos?.customer?.name || selectedCustomerForPhotos?.name}\n                    />\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n          \n          <div className=\"flex justify-end mt-4\">\n            <Button variant=\"outline\" onClick={() => setShowCustomerPhotos(false)}>\n              Close\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Transaction Dialog */}\n      <Dialog open={showEditTransaction} onOpenChange={setShowEditTransaction}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Edit Transaction</DialogTitle>\n            <DialogDescription>\n              Edit transaction details\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"editTransactionType\">Transaction Type</Label>\n              <Select\n                value={transactionForm.type}\n                onValueChange={(value) => setTransactionForm({...transactionForm, type: value as 'buy-in' | 'cash-out'})}\n              >\n                <SelectTrigger id=\"editTransactionType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"buy-in\">Buy In</SelectItem>\n                  <SelectItem value=\"cash-out\">Cash Out</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"editTransactionAmount\">Amount (HK$)</Label>\n              <Input\n                id=\"editTransactionAmount\"\n                type=\"number\"\n                placeholder=\"Enter amount\"\n                value={transactionForm.amount}\n                onChange={(e) => setTransactionForm({...transactionForm, amount: e.target.value})}\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"editTransactionVenue\">Venue</Label>\n              <Select\n                value={transactionForm.venue}\n                onValueChange={(value) => setTransactionForm({...transactionForm, venue: value})}\n              >\n                <SelectTrigger id=\"editTransactionVenue\">\n                  <SelectValue placeholder=\"Select venue\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Hoe Win VIP\">Hoe Win VIP</SelectItem>\n                  <SelectItem value=\"House Casino\">House Casino</SelectItem>\n                  <SelectItem value=\"Competition\">Competition</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"editTransactionDateTime\">Date & Time</Label>\n              <Input\n                id=\"editTransactionDateTime\"\n                type=\"datetime-local\"\n                value={transactionForm.datetime}\n                onChange={(e) => setTransactionForm({...transactionForm, datetime: e.target.value})}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowEditTransaction(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleUpdateTransaction} disabled={saving || !transactionForm.amount}>\n              {saving ? 'Updating...' : 'Update Transaction'}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Rolling Dialog */}\n      <Dialog open={showEditRolling} onOpenChange={setShowEditRolling}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Edit Rolling</DialogTitle>\n            <DialogDescription>\n              Edit rolling record details\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"editRollingAmount\">Amount (HK$)</Label>\n              <Input\n                id=\"editRollingAmount\"\n                type=\"number\"\n                placeholder=\"Enter amount\"\n                value={rollingForm.amount}\n                onChange={(e) => setRollingForm({...rollingForm, amount: e.target.value})}\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"editCommissionRate\">Commission Rate (%)</Label>\n              <Input\n                id=\"editCommissionRate\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                max=\"100\"\n                placeholder=\"Enter commission rate (e.g., 1.40 for 1.40%)\"\n                value={(parseFloat(rollingForm.commission_rate) * 100).toFixed(2)}\n                onChange={(e) => setRollingForm({...rollingForm, commission_rate: String(parseFloat(e.target.value || '0') / 100)})}\n                required\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Current rate: {(parseFloat(rollingForm.commission_rate) * 100).toFixed(2)}% \n                (Commission: HK${rollingForm.amount ? (parseFloat(rollingForm.amount) * parseFloat(rollingForm.commission_rate)).toLocaleString() : '0'})\n              </p>\n            </div>\n            <div>\n              <Label htmlFor=\"editRollingStaff\">Staff Member</Label>\n              <Select\n                value={rollingForm.staff_id}\n                onValueChange={(value) => setRollingForm({...rollingForm, staff_id: value})}\n              >\n                <SelectTrigger id=\"editRollingStaff\">\n                  <SelectValue placeholder=\"Select staff member\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {(selectedTrip as any)?.staff?.map((staffMember: any) => (\n                    <SelectItem \n                      key={staffMember.staffId || staffMember.staff_id} \n                      value={staffMember.staffId || staffMember.staff_id}\n                    >\n                      {staffMember.staffName || staffMember.staff?.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"editRollingGameType\">Game Type</Label>\n              <Select\n                value={rollingForm.game_type}\n                onValueChange={(value) => setRollingForm({...rollingForm, game_type: value as 'baccarat' | 'blackjack' | 'roulette' | 'poker' | 'other'})}\n              >\n                <SelectTrigger id=\"editRollingGameType\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"baccarat\">Baccarat</SelectItem>\n                  <SelectItem value=\"blackjack\">Blackjack</SelectItem>\n                  <SelectItem value=\"roulette\">Roulette</SelectItem>\n                  <SelectItem value=\"poker\">Poker</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"editRollingVenue\">Venue</Label>\n              <Select\n                value={rollingForm.venue}\n                onValueChange={(value) => setRollingForm({...rollingForm, venue: value})}\n              >\n                <SelectTrigger id=\"editRollingVenue\">\n                  <SelectValue placeholder=\"Select venue\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Hoe Win VIP\">Hoe Win VIP</SelectItem>\n                  <SelectItem value=\"House Casino\">House Casino</SelectItem>\n                  <SelectItem value=\"Competition\">Competition</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"editRollingDateTime\">Date & Time</Label>\n              <Input\n                id=\"editRollingDateTime\"\n                type=\"datetime-local\"\n                value={rollingForm.datetime}\n                onChange={(e) => setRollingForm({...rollingForm, datetime: e.target.value})}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-2 mt-6\">\n            <Button variant=\"outline\" onClick={() => setShowEditRolling(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleUpdateRolling} disabled={saving || !rollingForm.amount || !rollingForm.commission_rate}>\n              {saving ? 'Updating...' : 'Update Rolling'}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Profit Sharing Rate Dialog */}\n      <Dialog open={showEditProfitSharing} onOpenChange={setShowEditProfitSharing}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Edit Profit Sharing Rate</DialogTitle>\n            <DialogDescription>\n              Adjust the profit sharing rate for this agent-customer relationship\n            </DialogDescription>\n          </DialogHeader>\n          \n          {editingProfitSharing && (\n            <div className=\"space-y-4\">\n              {/* Agent and Customer Info */}\n              <div className=\"bg-gray-50 p-3 rounded\">\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"font-medium text-gray-700\">Agent:</span>\n                    <div>{editingProfitSharing.agentName}</div>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">Customer:</span>\n                    <div>{editingProfitSharing.customerName}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Current Rate */}\n              <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded\">\n                <span className=\"font-medium text-blue-800\">Current Rate:</span>\n                <span className=\"text-xl font-bold text-blue-600\">{editingProfitSharing.currentRate}%</span>\n              </div>\n\n              {/* New Rate Input */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"newRate\">New Profit Sharing Rate (%)</Label>\n                <Input\n                  id=\"newRate\"\n                  type=\"number\"\n                  value={newProfitSharingRate}\n                  onChange={(e) => setNewProfitSharingRate(parseFloat(e.target.value) || 0)}\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"0.1\"\n                  className=\"text-lg\"\n                />\n              </div>\n\n              {/* Customer Net Result and Projected Share */}\n              {(() => {\n                // Find customer stats for this customer\n                const customerStats = selectedTrip?.customers?.find((c: any) => \n                  c.customer_id === editingProfitSharing.customerId || c.customerId === editingProfitSharing.customerId\n                );\n                const netResult = (customerStats as any)?.net_result || 0;\n                const projectedShare = calculateProjectedProfitShare(netResult, newProfitSharingRate);\n\n                return (\n                  <div className=\"space-y-3\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"p-3 bg-gray-50 rounded\">\n                        <div className=\"text-sm text-gray-600\">Customer Net Result</div>\n                        <div className={`text-lg font-bold ${\n                          netResult >= 0 ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {formatCurrencyWithSign(netResult, viewingCurrency, selectedTrip)}\n                        </div>\n                      </div>\n                      <div className=\"p-3 bg-green-50 rounded\">\n                        <div className=\"text-sm text-gray-600\">Projected Profit Share</div>\n                        <div className=\"text-lg font-bold text-green-600\">\n                          {formatCurrency(projectedShare, viewingCurrency, selectedTrip)}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {netResult <= 0 && (\n                      <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded\">\n                        <div className=\"text-sm text-yellow-800\">\n                          <strong>Note:</strong> Customer has negative or zero net result. \n                          Profit sharing only applies to positive customer profits.\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                );\n              })()}\n\n              {/* Rate Change Summary */}\n              <div className=\"p-3 bg-indigo-50 border border-indigo-200 rounded\">\n                <div className=\"text-sm text-indigo-800\">\n                  <strong>Rate Change:</strong> {editingProfitSharing.currentRate}% → {newProfitSharingRate}%\n                  <span className=\"ml-2\">\n                    ({newProfitSharingRate > editingProfitSharing.currentRate ? '+' : ''}\n                    {(newProfitSharingRate - editingProfitSharing.currentRate).toFixed(1)}%)\n                  </span>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex justify-end space-x-2 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowEditProfitSharing(false)}\n              disabled={saving}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleUpdateProfitSharing}\n              disabled={saving || !editingProfitSharing}\n            >\n              {saving ? 'Updating...' : 'Update Rate'}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n    </div>\n  );\n});\n\nProjectManagementComponent.displayName = 'ProjectManagementComponent';\n\nexport default ProjectManagementComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}