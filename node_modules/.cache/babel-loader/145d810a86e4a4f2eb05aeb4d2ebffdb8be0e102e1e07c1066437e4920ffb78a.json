{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'./ui/button';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./ui/card';import{Badge}from'./ui/badge';import{Alert,AlertDescription}from'./ui/alert';import{Progress}from'./ui/progress';import{Dialog,DialogContent,DialogDescription,DialogHeader,DialogTitle,DialogTrigger}from'./ui/dialog';import{AlertDialog,AlertDialogAction,AlertDialogCancel,AlertDialogContent,AlertDialogDescription,AlertDialogFooter,AlertDialogHeader,AlertDialogTitle,AlertDialogTrigger}from'./ui/alert-dialog';import{Label}from'./ui/label';import{Textarea}from'./ui/textarea';import{Tabs,TabsContent,TabsList,TabsTrigger}from'./ui/tabs';import{AdminManagement}from'./AdminManagement';import{db}from'../utils/supabase/supabaseClients';import{Database,Download,Upload,RefreshCw,Shield,AlertTriangle,CheckCircle,Clock,Activity,Archive,RotateCcw,Crown,Trash2,Package}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export function DataManagement(_ref){let{user}=_ref;const[stats,setStats]=useState(null);const[backups,setBackups]=useState([]);const[isLoading,setIsLoading]=useState(false);const[message,setMessage]=useState('');const[isExportDialogOpen,setIsExportDialogOpen]=useState(false);const[isImportDialogOpen,setIsImportDialogOpen]=useState(false);const[importData,setImportData]=useState('');const[exportData,setExportData]=useState('');const[showFreshStartDialog,setShowFreshStartDialog]=useState(false);const[freshStartConfirmation,setFreshStartConfirmation]=useState('');const[dataOverview,setDataOverview]=useState({});useEffect(()=>{loadStats();loadBackups();loadDataOverview();},[]);const loadStats=()=>{try{const dbStats=db.getStats();setStats(dbStats);}catch(error){console.error('Error loading stats:',error);}};const loadBackups=()=>{try{const availableBackups=db.getAvailableBackups();setBackups(availableBackups);}catch(error){console.error('Error loading backups:',error);}};const loadDataOverview=async()=>{try{const dataTypes=['users','customers','agents','staff','trips','rollingRecords'];const overview={};for(const dataType of dataTypes){try{const data=await db.get(dataType,[]);overview[dataType]=data.length;}catch(error){console.warn(\"Could not load \".concat(dataType,\":\"),error);overview[dataType]=0;}}setDataOverview(overview);}catch(error){console.error('Error loading data overview:',error);}};const handleExportData=async()=>{setIsLoading(true);setMessage('');try{const data=await db.exportAllData();setExportData(data);// Also trigger download\nconst blob=new Blob([data],{type:'application/json'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"casino-data-backup-\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);setMessage('âœ… Data exported and downloaded successfully');}catch(error){console.error('Export error:',error);setMessage('âŒ Failed to export data');}finally{setIsLoading(false);}};const handleImportData=async()=>{if(!importData.trim()){setMessage('âŒ Please paste the backup data');return;}setIsLoading(true);setMessage('');try{const success=await db.importAllData(importData);if(success){setMessage('âœ… Data imported successfully');setImportData('');setIsImportDialogOpen(false);loadBackups();loadDataOverview();}else{setMessage('âŒ Failed to import data - invalid format');}}catch(error){console.error('Import error:',error);setMessage('âŒ Failed to import data');}finally{setIsLoading(false);}};const handleFileImport=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(!file)return;const reader=new FileReader();reader.onload=e=>{var _e$target;const content=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;setImportData(content);};reader.readAsText(file);};const handleRestoreBackup=async(key,timestamp)=>{setIsLoading(true);setMessage('');try{const success=await db.restoreFromBackup(key,timestamp);if(success){setMessage(\"\\u2705 Restored \".concat(key,\" from backup \").concat(new Date(timestamp).toLocaleString()));loadDataOverview();}else{setMessage(\"\\u274C Failed to restore \".concat(key,\" from backup\"));}}catch(error){console.error('Restore error:',error);setMessage('âŒ Failed to restore from backup');}finally{setIsLoading(false);}};const handleHealthCheck=async()=>{setIsLoading(true);setMessage('');try{const isHealthy=await db.isHealthy();if(isHealthy){setMessage('âœ… Database connection is healthy');}else{setMessage('âš ï¸ Database connection issues detected');}loadStats();}catch(error){console.error('Health check error:',error);const errorMessage=error instanceof Error?error.message:'Unknown error occurred';setMessage(\"\\u274C Health check failed: \".concat(errorMessage));}finally{setIsLoading(false);}};const handleFreshStart=async()=>{if(freshStartConfirmation.toLowerCase()!=='fresh start'){setMessage('âŒ Please type \"FRESH START\" exactly to confirm');return;}setIsLoading(true);setMessage('');try{console.log('ðŸ§¹ Admin requested fresh start - clearing all data...');await db.clearAllDataForFreshStart();setMessage('âœ… Fresh start completed successfully - all data cleared and admin account recreated');setShowFreshStartDialog(false);setFreshStartConfirmation('');loadDataOverview();loadStats();}catch(error){console.error('Fresh start error:',error);const errorMessage=error instanceof Error?error.message:'Unknown error occurred';setMessage(\"\\u274C Fresh start failed: \".concat(errorMessage));}finally{setIsLoading(false);}};const formatBytes=bytes=>{if(bytes===0)return'0 B';const k=1024;const sizes=['B','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Data Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"System administration, database monitoring, and security management\"})]}),/*#__PURE__*/_jsxs(Alert,{className:\"border-green-200 bg-green-50\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 text-green-600\"}),/*#__PURE__*/_jsxs(AlertDescription,{className:\"text-green-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data Protection Active:\"}),\" Your keyed-in data is automatically preserved across system refreshes and upgrades. The system will never clear your data without explicit admin confirmation.\"]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Current Data Overview\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Overview of your stored data in Supabase\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\",children:Object.entries(dataOverview).map(_ref2=>{let[dataType,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 capitalize\",children:dataType})]},dataType);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Total records: \",Object.values(dataOverview).reduce((sum,count)=>sum+count,0)]}),/*#__PURE__*/_jsxs(Button,{onClick:loadDataOverview,size:\"sm\",variant:\"outline\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]})]})]})]}),/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"database\",className:\"w-full\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full grid-cols-2\",children:[/*#__PURE__*/_jsxs(TabsTrigger,{value:\"database\",className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Database Management\"})]}),/*#__PURE__*/_jsxs(TabsTrigger,{value:\"admins\",className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Crown,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Admin Accounts\"})]})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"database\",className:\"space-y-6 mt-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Supabase Database Status\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"System operates exclusively with Supabase cloud database\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Database Mode\"}),/*#__PURE__*/_jsx(Badge,{variant:\"default\",className:\"bg-blue-600\",children:\"Supabase Cloud\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[stats.healthy?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}):/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 text-red-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Health Status\"}),/*#__PURE__*/_jsx(Badge,{variant:stats.healthy?'default':'destructive',children:stats.healthy?'Healthy':'Issues'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Last Check\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:stats.lastHealthCheck})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Backups\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[stats.backupCount,\" available\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{onClick:handleHealthCheck,disabled:isLoading,variant:\"default\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-4 h-4 mr-2\"}),\"Check Connection\"]}),/*#__PURE__*/_jsxs(Button,{onClick:loadStats,disabled:isLoading,variant:\"outline\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh Status\"]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Data Backup & Recovery\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Export your data for safekeeping or import from previous backups\"})]}),/*#__PURE__*/_jsx(CardContent,{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsxs(Dialog,{open:isExportDialogOpen,onOpenChange:setIsExportDialogOpen,children:[/*#__PURE__*/_jsx(DialogTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Export Data\"]})}),/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-2xl\",children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Export All Data\"}),/*#__PURE__*/_jsx(DialogDescription,{children:\"This will create a complete backup of all your casino data\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:!exportData?/*#__PURE__*/_jsx(Button,{onClick:handleExportData,disabled:isLoading,className:\"w-full\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2 animate-spin\"}),\"Exporting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Generate & Download Export\"]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Export Data (automatically downloaded)\"}),/*#__PURE__*/_jsx(Textarea,{value:exportData,readOnly:true,rows:10,className:\"font-mono text-xs\",placeholder:\"Export data will appear here...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"The export file has been automatically downloaded. You can also copy the data above if needed.\"})]})})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:isImportDialogOpen,onOpenChange:setIsImportDialogOpen,children:[/*#__PURE__*/_jsx(DialogTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{variant:\"outline\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Import Data\"]})}),/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-2xl\",children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Import Data\"}),/*#__PURE__*/_jsx(DialogDescription,{children:\"Import data from a previous backup. This will overwrite current data.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"fileImport\",children:\"Upload Backup File\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fileImport\",type:\"file\",accept:\".json\",onChange:handleFileImport,className:\"w-full mt-1 p-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"importTextarea\",children:\"Or Paste Backup Data\"}),/*#__PURE__*/_jsx(Textarea,{id:\"importTextarea\",value:importData,onChange:e=>setImportData(e.target.value),rows:10,className:\"font-mono text-xs\",placeholder:\"Paste your backup JSON data here...\"})]}),/*#__PURE__*/_jsxs(Alert,{children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(AlertDescription,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Warning:\"}),\" Importing data will overwrite all current data. Make sure to export your current data first if you want to keep it.\"]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleImportData,disabled:isLoading||!importData.trim(),className:\"w-full\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2 animate-spin\"}),\"Importing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Import Data\"]})})]})]})]})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-red-200\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2 text-red-800\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Fresh Start (Danger Zone)\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Clear all data and start fresh (Admin only - requires confirmation)\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Alert,{className:\"border-red-200 bg-red-50\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(AlertDescription,{className:\"text-red-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Warning:\"}),\" This action will permanently delete all your data including customers, agents, trips, and records. Only the admin account will remain. This action cannot be undone.\"]})]}),/*#__PURE__*/_jsxs(AlertDialog,{open:showFreshStartDialog,onOpenChange:setShowFreshStartDialog,children:[/*#__PURE__*/_jsx(AlertDialogTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{variant:\"destructive\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 mr-2\"}),\"Request Fresh Start\"]})}),/*#__PURE__*/_jsxs(AlertDialogContent,{children:[/*#__PURE__*/_jsxs(AlertDialogHeader,{children:[/*#__PURE__*/_jsx(AlertDialogTitle,{children:\"\\u26A0\\uFE0F Confirm Fresh Start\"}),/*#__PURE__*/_jsxs(AlertDialogDescription,{children:[\"This will permanently delete ALL your data including:\",/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside mt-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"All customer records and rolling data\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All agent information and assignments\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All trips and project data\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All staff accounts and check-in records\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All financial records and reports\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"Only the admin account will be recreated with default credentials.\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Type \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\\"FRESH START\\\"\"}),\" below to confirm:\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:freshStartConfirmation,onChange:e=>setFreshStartConfirmation(e.target.value),placeholder:\"Type FRESH START to confirm\",className:\"w-full p-2 border border-gray-300 rounded-md\"})}),/*#__PURE__*/_jsxs(AlertDialogFooter,{children:[/*#__PURE__*/_jsx(AlertDialogCancel,{onClick:()=>setFreshStartConfirmation(''),children:\"Cancel\"}),/*#__PURE__*/_jsx(AlertDialogAction,{onClick:handleFreshStart,disabled:freshStartConfirmation.toLowerCase()!=='fresh start'||isLoading,className:\"bg-red-600 hover:bg-red-700\",children:isLoading?'Clearing Data...':'Confirm Fresh Start'})]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Automatic Backups\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Recent automatic backups created by the system\"})]}),/*#__PURE__*/_jsx(CardContent,{children:backups.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-12 h-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No automatic backups found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Backups are created automatically when data is saved\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[backups.slice(0,10).map((backup,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:backup.key}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[new Date(backup.timestamp).toLocaleString(),\" \\u2022 \",formatBytes(backup.size)]})]})]}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"outline\",onClick:()=>handleRestoreBackup(backup.key,backup.timestamp),disabled:isLoading,children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"w-3 h-3 mr-1\"}),\"Restore\"]})]},\"\".concat(backup.key,\"-\").concat(backup.timestamp))),backups.length>10&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 text-center pt-2\",children:[\"Showing 10 most recent backups out of \",backups.length,\" total\"]})]})})]}),message&&/*#__PURE__*/_jsx(Alert,{className:message.includes('âœ…')?'border-green-200 bg-green-50':'border-red-200 bg-red-50',children:/*#__PURE__*/_jsx(AlertDescription,{children:message})}),isLoading&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{className:\"pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Processing...\"})]}),/*#__PURE__*/_jsx(Progress,{value:undefined,className:\"mt-2\"})]})})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"admins\",className:\"mt-6\",children:/*#__PURE__*/_jsx(AdminManagement,{user:user,showError:()=>{},clearError:()=>{}})})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}