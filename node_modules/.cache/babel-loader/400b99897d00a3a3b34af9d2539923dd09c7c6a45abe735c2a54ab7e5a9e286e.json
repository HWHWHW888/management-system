{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'./ui/button';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./ui/card';import{AdminManagement}from'./AdminManagement';import{db}from'../utils/supabase/supabaseClients';import{Database,RefreshCw,Crown,Package}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function DataManagement(_ref){let{user}=_ref;const[dataOverview,setDataOverview]=useState({});useEffect(()=>{loadDataOverview();},[]);const loadDataOverview=async()=>{try{const dataTypes=['users','customers','agents','staff','trips'];const overview={};for(const dataType of dataTypes){try{const data=await db.get(dataType,[]);overview[dataType]=data.length;}catch(error){console.warn(\"Could not load \".concat(dataType,\":\"),error);overview[dataType]=0;}}setDataOverview(overview);}catch(error){console.error('Error loading data overview:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Data Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"System administration and database overview\"})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Current Data Overview\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Overview of your stored data in Supabase\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\",children:Object.entries(dataOverview).map(_ref2=>{let[dataType,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 capitalize\",children:dataType})]},dataType);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Total records: \",Object.values(dataOverview).reduce((sum,count)=>sum+count,0)]}),/*#__PURE__*/_jsxs(Button,{onClick:loadDataOverview,size:\"sm\",variant:\"outline\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Database Status\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"System operates with Supabase cloud database\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Database Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-blue-600\",children:\"Supabase Cloud\"})]})]})})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Crown,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Admin Accounts\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Manage administrator accounts and permissions\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(AdminManagement,{user:user,showError:()=>{},clearError:()=>{}})})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}