/*! For license information please see main.4a99b7bc.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+r+"?",r,o,s,n].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),i=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),i=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(8829)),i=r(n(5736));class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let s;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(s="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new i.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}t.default=o},1268:(e,t,n)=>{var r=n(5428),a=n(7574),i=n(6832),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),a(e,function(e,a,i){r(n,a,t(e,a,i))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),i=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),i=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=o(s+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),i=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var f=-1;t=r(t,l(i));var h=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++f,value:e}});return s(h,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case k:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,Se=null;function ke(e){if(e=xa(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Oe(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ne||null!==Se)&&(Ee(),_e())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,ze=!1,Fe=null,Be={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,a,i,o,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,St,kt,Ot=!1,_t=[],Ct=null,Et=null,At=null,Pt=new Map,Tt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Bt(){Ot=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Et&&zt(Et)&&(Et=null),null!==At&&zt(At)&&(At=null),Pt.forEach(Ft),Tt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Et&&Ut(Et,e),null!==At&&Ut(At,e),Pt.forEach(t),Tt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var a=xt,i=Ht.transition;Ht.transition=null;try{xt=1,$t(e,t,n,r)}finally{xt=a,Ht.transition=i}}function Kt(e,t,n,r){var a=xt,i=Ht.transition;Ht.transition=null;try{xt=4,$t(e,t,n,r)}finally{xt=a,Ht.transition=i}}function $t(e,t,n,r){if(qt){var a=Yt(e,t,n,r);if(null===a)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,a),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,a),!0;case"mouseover":return At=Rt(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Tt.set(i,Rt(Tt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&qr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=va(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return Sn}var On=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(On),Cn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Pn),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Oe(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Gn(e){zr(e,0)}function Yn(e){if($(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),$n=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn($n)){var t=[];Vn(t,$n,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function kr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Or=kr("animationend"),_r=kr("animationiteration"),Cr=kr("animationstart"),Er=kr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ar.set(e,t),l(t,[e])}for(var Ir=0;Ir<Pr.length;Ir++){var Dr=Pr[Ir];Tr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Tr(Or,"onAnimationEnd"),Tr(_r,"onAnimationIteration"),Tr(Cr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,ze||(ze=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=va(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=i,a=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Or:case _r:case Cr:l=yn;break;case Er:l=An;break;case"scroll":l=fn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Te(p,f))&&u.push(Vr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ba(l),h=null==c?s:ba(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=h,m=null,va(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=$r(h))p++;for(h=0,m=f;m;m=$r(m))h++;for(;0<p-h;)u=$r(u),p--;for(;0<h-p;)f=$r(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=$r(u),f=$r(f)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(qn(s))if(Jn)g=or;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(o,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ba(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Wn&&(v=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,Wn=!0)),0<(y=Kr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Qt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}zr(o,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Te(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Te(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Te(n,i))&&o.unshift(Vr(n,l,s)):a||null!=(l=Te(n,i))&&o.push(Vr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ja=[],Na=-1;function Sa(e){return{current:e}}function ka(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Oa(e,t){Na++,ja[Na]=e.current,e.current=t}var _a={},Ca=Sa(_a),Ea=Sa(!1),Aa=_a;function Pa(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){ka(Ea),ka(Ca)}function Da(e,t,n){if(Ca.current!==_a)throw Error(i(168));Oa(Ca,t),Oa(Ea,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Aa=Ca.current,Oa(Ca,e),Oa(Ea,Ea.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ma(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,ka(Ea),ka(Ca),Oa(Ca,e)):ka(Ea),Oa(Ea,n)}var za=null,Fa=!1,Ba=!1;function Ua(e){null===za?za=[e]:za.push(e)}function Wa(){if(!Ba&&null!==za){Ba=!0;var e=0,t=xt;try{var n=za;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Fa=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),$e(Ze,Wa),a}finally{xt=t,Ba=!1}}return null}var Ha=[],qa=0,Va=null,Ka=0,$a=[],Ga=0,Ya=null,Xa=1,Ja="";function Qa(e,t){Ha[qa++]=Ka,Ha[qa++]=Va,Va=e,Ka=t}function Za(e,t,n){$a[Ga++]=Xa,$a[Ga++]=Ja,$a[Ga++]=Ya,Ya=e;var r=Xa;e=Ja;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Ja=i+e}else Xa=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ti(e){for(;e===Va;)Va=Ha[--qa],Ha[qa]=null,Ka=Ha[--qa],Ha[qa]=null;for(;e===Ya;)Ya=$a[--Ga],$a[Ga]=null,Ja=$a[--Ga],$a[Ga]=null,Xa=$a[--Ga],$a[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&vi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case T:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case T:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(a,d),ai&&Qa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Qa(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Qa(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=h(a,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(a,m),ai&&Qa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(a,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ai&&Qa(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ai&&Qa(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&vi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===N?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return s(r);case j:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(o,r.mode,l)).return=r,r=i}return s(r);case T:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),ji=Sa(null),Ni=null,Si=null,ki=null;function Oi(){ki=Si=Ni=null}function _i(e){var t=ji.current;ka(ji),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){Ni=e,ki=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ni)throw Error(i(308));Si=e,Ni.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Pi=null;function Ti(e){null===Pi?Pi=[e]:Pi.push(e)}function Ii(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ti(t)):(n.next=a.next,a.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Di(e,n)}return null===(a=r.interleaved)?(t.next=t,Ti(r)):(t.next=a.next,a.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var a=e.updateQueue;Mi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Mi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var qi={},Vi=Sa(qi),Ki=Sa(qi),$i=Sa(qi);function Gi(e){if(e===qi)throw Error(i(174));return e}function Yi(e,t){switch(Oa($i,t),Oa(Ki,e),Oa(Vi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Vi),Oa(Vi,t)}function Xi(){ka(Vi),ka(Ki),ka($i)}function Ji(e){Gi($i.current);var t=Gi(Vi.current),n=le(t,e.type);t!==n&&(Oa(Ki,e),Oa(Vi,n))}function Qi(e){Ki.current===e&&(ka(Vi),ka(Ki))}var Zi=Sa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,fo=0,ho=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,a),uo){o=0;do{if(uo=!1,fo=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=Qo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==fo;return fo=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function So(e,t){var n=oo,r=xo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Ro(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,Oo.bind(null,n,r,a,t),void 0,null),null===El)throw Error(i(349));0!==(30&io)||ko(n,t,a)}return a}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Eo(e)}function _o(e,t,n){return n(function(){Co(t)&&Eo(e)})}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Eo(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return xo().memoizedState}function Io(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=xo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=Po(t,n,i,r))}oo.flags|=e,a.memoizedState=Po(1|t,n,i,r)}function Mo(e,t){return Io(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function zo(e,t){return Do(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Fo.bind(null,t,e),n)}function Uo(){}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Vo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function Ko(){return xo().memoizedState}function $o(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function Go(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ti(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ii(e,t,a,r))&&(nc(n,e,r,a=ec()),Jo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Vo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===El)throw Error(i(349));0!==(30&io)||ko(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=El.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Wo,useContext:Ai,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:Ho,useReducer:wo,useRef:To,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return qo(xo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Wo,useContext:Ai,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:Ho,useReducer:jo,useRef:To,useState:function(){return jo(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[jo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=_a,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ta(t)?Aa:Ca.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):_a),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ta(t)?Aa:Ca.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Wi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),ds(0,t)},n}function ps(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var i=t.ref;return Ei(t,a),r=go(e,t,n,r,i,a),n=yo(),null===e||xs?(ai&&n&&ei(t),t.flags|=1,bs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function js(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ns(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,a)}return t.flags|=1,(e=Ic(i,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,qs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return Os(e,t,n,r,a)}function Ss(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Il,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Il,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Oa(Il,Tl),Tl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oa(Il,Tl),Tl|=r;return bs(e,t,a,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,a){var i=Ta(n)?Aa:Ca.current;return i=Pa(t,i),Ei(t,a),n=go(e,t,n,r,i,a),r=yo(),null===e||xs?(ai&&r&&ei(t),t.flags|=1,bs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a))}function _s(e,t,n,r,a){if(Ta(n)){var i=!0;Ra(t)}else i=!1;if(Ei(t,a),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Pa(t,c=Ta(n)?Aa:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Mi=!1;var f=t.memoizedState;o.state=f,Wi(t,r,o,a),l=t.memoizedState,s!==r||f!==l||Ea.current||Mi?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mi||is(t,n,s,r,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Pa(t,l=Ta(n)?Aa:Ca.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,o,r,l),Mi=!1,f=t.memoizedState,o.state=f,Wi(t,r,o,a);var p=t.memoizedState;s!==d||f!==p||Ea.current||Mi?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(c=Mi||is(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,i,a)}function Cs(e,t,n,r,a,i){ks(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),qs(e,t,i);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,s,i)):bs(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Yi(e,t.containerInfo)}function As(e,t,n,r,a){return hi(),pi(a),t.flags|=256,bs(e,t,n,r),t.child}var Ps,Ts,Is,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Oa(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=El)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Di(e,a),nc(r,e,a,-1))}return mc(),Fs(e,t,s,r=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&($a[Ga++]=Xa,$a[Ga++]=Ja,$a[Ga++]=Ya,Xa=e.id,Ja=e.overflow,Ya=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ic(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ic(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ws(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oa(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ta(t.type)&&Ia(),Ks(t),null;case 3:return r=t.stateNode,Xi(),ka(Ea),ka(Ca),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ts(e,t),Ks(t),null;case 5:Qi(t);var a=Gi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=Gi(Vi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[ha]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=Y(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi($i.current),Gi(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Ks(t),null;case 13:if(ka(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Xi(),Ts(e,t),null===e&&Wr(t.stateNode.containerInfo),Ks(t),null;case 10:return _i(t.type._context),Ks(t),null;case 19:if(ka(Zi),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Vs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Vs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oa(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Wl&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Je()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zi.current,Oa(Zi,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gs(e,t){switch(ti(t),t.tag){case 1:return Ta(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ka(Ea),ka(Ca),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(ka(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Zi),null;case 4:return Xi(),null;case 10:return _i(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ts=function(){},Is=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gi(Vi.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,a=dl;ul=null,fl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):x(a,d,f,u)}switch(l){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){wl(f);continue}}null!==p?(p.return=h,Qs=p):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=l)&&!c)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Qs=l):jl(a);for(;null!==i;)Qs=i,xl(i,t,n),i=i.sibling;Qs=a,Ys=s,Xs=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&al(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function jl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Ol=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Cl=0,El=null,Al=null,Pl=0,Tl=0,Il=Sa(0),Dl=0,Ml=null,Rl=0,Ll=0,zl=0,Fl=null,Bl=null,Ul=0,Wl=1/0,Hl=null,ql=!1,Vl=null,Kl=null,$l=!1,Gl=null,Yl=0,Xl=0,Jl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Cl)?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(i(185));yt(e,n,r),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Ll|=n),4===Dl&&sc(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Wl=Je()+500,Fa&&Wa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===El?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&Cl)&&Wa()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ql=-1,Zl=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ft(e,e===El?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Cl;Cl|=2;var o=pc();for(El===e&&Pl===t||(Hl=null,Wl=Je()+500,fc(e,t));;)try{vc();break}catch(l){hc(e,l)}Oi(),kl.current=o,Cl=a,null!==Al?t=0:(El=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,fc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,fc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Bl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bl,Hl),t);break}wc(e,Bl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Bl,Hl),r);break}wc(e,Bl,Hl);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(i(327));jc();var t=ft(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,fc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Hl),rc(e,Je()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Wl=Je()+500,Fa&&Wa())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&jc();var t=Cl;Cl|=1;var n=_l.transition,r=xt;try{if(_l.transition=null,xt=1,e)return e()}finally{xt=r,_l.transition=n,0===(6&(Cl=t))&&Wa()}}function dc(){Tl=Il.current,ka(Il)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Xi(),ka(Ea),ka(Ca),no();break;case 5:Qi(r);break;case 4:Xi();break;case 13:case 19:ka(Zi);break;case 10:_i(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Al=e=Ic(e.current,null),Pl=Tl=t,Dl=0,Ml=null,zl=Ll=Rl=0,Bl=Fl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Pi=null}return e}function hc(e,t){for(;;){var n=Al;try{if(Oi(),ro.current=Qo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,fo=0,Ol.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,hs(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Qo,null===e?Qo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Rl)&&0===(268435455&Ll)||sc(El,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(El===e&&Pl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(a){hc(e,a)}if(Oi(),Cl=n,kl.current=r,null!==Al)throw Error(i(261));return El=null,Pl=0,Dl}function yc(){for(;null!==Al;)xc(Al)}function vc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var t=Nl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Ol.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Tl)))return void(Al=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,a=_l.transition;try{_l.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Gl);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===El&&(Al=El=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Ec(tt,function(){return jc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=xt;xt=1;var l=Cl;Cl|=4,Ol.current=null,function(e,t){if(ea=qt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=s),h===o&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),qt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),Cl=l,xt=s,_l.transition=o}else e.current=n;if($l&&($l=!1,Gl=e,Yl=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Wa()}(e,t,n,r)}finally{_l.transition=a,xt=r}return null}function jc(){if(null!==Gl){var e=bt(Yl),t=_l.transition,n=xt;try{if(_l.transition=null,xt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Cl))throw Error(i(331));var a=Cl;for(Cl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(il(d),d===u){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Cl=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{xt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=Fi(e,t=hs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-Ul?fc(e,0):zl|=n),rc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Oc(e,n)}function Ec(e,t){return $e(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Mc(n.children,a,o,t);case S:s=8,a|=8;break;case k:return(e=Pc(12,n,t,2|a)).elementType=k,e.lanes=o,e;case E:return(e=Pc(13,n,t,a)).elementType=E,e.lanes=o,e;case A:return(e=Pc(19,n,t,a)).elementType=A,e.lanes=o,e;case I:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case _:s=9;break e;case C:s=11;break e;case P:s=14;break e;case T:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,i,o,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Uc(e){if(!e)return _a;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Ma(e,n,t)}return t}function Wc(e,t,n,r,a,i,o,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=Uc(null),n=e.current,(i=zi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(nc(e,a,o,i),Bi(e,a,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Es(t),hi();break;case 5:Ji(t);break;case 1:Ta(t.type)&&Ra(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Oa(ji,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oa(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oa(Zi,1&Zi.current),null!==(e=qs(e,t,n))?e.sibling:null);Oa(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var a=Pa(t,Ca.current);Ei(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),bs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Os(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Os(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Es(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Li(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=qs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Oa(ji,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ea.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=zi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ci(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ci(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ei(t,n),r=r(a=Ai(a)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),js(e,t,r,a=ns(r.type,a),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Hs(e,t),t.tag=1,Ta(r)?(e=!0,Ra(t)):e=!1,Ei(t,n),os(t,r,a),ls(t,r,a,n),Cs(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=qc(o);s.call(e)}}Hc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=qc(o);i.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pa]=o.current,Wr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return qc(o)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Cl)&&(Wl=Je()+500,Wa()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));$(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,Oe,_e,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),i=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&a(e),d=!n&&!u&&o(e),f=!n&&!u&&!d&&l(e),h=n||u||d||f,p=h?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),i=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),i=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),i=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(o)var x=c?o(v,y,p,t,e,l):o(y,v,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),i=n(2597),o=n(914);e.exports=function(e){return i(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),i=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,h,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function x(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=u}function b(){var e=a();if(x(e))return w(e);f=setTimeout(b,function(e){var n=t-(e-h);return g?s(n,u-(e-p)):n}(e))}function w(e){return f=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),n=x(e);if(l=arguments,c=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(b,t),m?v(e):d}(h);if(g)return clearTimeout(f),f=setTimeout(b,t),v(h)}return void 0===f&&(f=setTimeout(b,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=h=c=f=void 0},j.flush=function(){return void 0===f?d:w(a())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:N.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+C(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),E(o,t,a,"",function(e){return e})):null!=o&&(O(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+C(s=e[c],c);l+=E(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,a,u=i+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},I={transition:null},D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),i=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,f=!0,h=[],p=h;if(n)f=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,u=o,p=new r}else p=t?[]:h;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,f&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),h.push(g)}else u(p,y,n)||(p!==h&&p.push(y),h.push(g))}return h}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),i=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),o=r.Headers,s=r.Request,l=r.Response},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),i=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),i=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===i}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),i=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),i=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),i=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),i=n(6350);e.exports=function(e,t){return i(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[f=c[d]],v=t[f];if(i)var x=l?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===x?y===v||o(y,v,n,i,s):x)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++a<s;){var c=r(i[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),i=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),x=l(t),b=v?f:s(e),w=x?f:s(t),j=(b=b==d?h:b)==h,N=(w=w==d?h:w)==h,S=b==w;if(S&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(S&&!j)return y||(y=new r),v||u(e)?a(e,t,n,m,g,y):i(e,t,b,n,m,g,y);if(!(1&n)){var k=j&&p.call(e,"__wrapped__"),O=N&&p.call(t,"__wrapped__");if(k||O){var _=k?e.value():e,C=O?t.value():t;return y||(y=new r),g(_,C,n,m,y)}}return!!S&&(y||(y=new r),o(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(i)var p=i(d,f,u,e,t,h);if(!(void 0===p?a(f,d,3,i,h):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e===e,o=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&n&&i&&!a&&!o||l&&n&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),i=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),i=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=c(r),g=c(a),y=c(i),v=c(o),x=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||a&&b(new a)!=u||i&&b(i.resolve())!=d||o&&b(new o)!=f||s&&b(new s)!=h)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return f;case x:return h}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),i=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?f:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),i=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),i=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),i=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,I(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,v(O),O=-1),p=!0;var i=h;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!E());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&a(c),b(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,k=null,O=-1,_=5,C=-1;function E(){return!(t.unstable_now()-C<_)}function A(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?N():(S=!1,k=null)}}else S=!1}if("function"===typeof x)N=function(){x(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=A,N=function(){T.postMessage(null)}}else N=function(){y(A,0)};function I(e){k=e,S||(S=!0,N())}function D(e,n){O=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(O),O=-1):g=!0,D(w,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(9286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=i},7424:(e,t,n)=>{var r=n(755),a=n(2536),i=n(5647),o=n(929),s=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),i=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(1210));t.PostgrestClient=a.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const o=r(n(5736));t.PostgrestFilterBuilder=o.default;const s=r(n(7374));t.PostgrestTransformBuilder=s.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),i=n(2074),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(f/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?C(t,f):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=k(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=k(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(O(n,o),O(e,o),o),s=!0,C(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return O(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):E(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(C(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(c=h.length)<(u=m.length)&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*h[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?C(e,f.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),C(n,e+N(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=A(r=C(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?A(a):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),n=A((r=C(new o(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,c,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=f.precision,e.eq(a))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=h<0?-h:h)<=m){for(i=new f(a),t=Math.ceil(r/7+4),s=!1;n%2&&P((i=i.times(u)).d,t),0!==(n=d(n/2));)P((u=u.times(u)).d,t);return s=!0,e.s<0?new f(a).div(i):C(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(O(u,r+12)),s=!0,(i=j(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=A(a,(n=N(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,i),void 0===t?t=o.rounding:x(t,0,8),r=A(a=C(new o(a),e,t),e<=(n=N(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,f,h,m,g,y,v,x,b,w,j,S,k,O,_,E=r.constructor,A=r.s==a.s?1:-1,P=r.d,T=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,O=T.length,S=P.length,g=(m=new E(A)).d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,(b=null==i?i=E.precision:o?i+(N(r)-N(a))+1:i)<0)return new E(0);if(b=b/7+2|0,u=0,1==O)for(d=0,T=T[0],b++;(u<S||d)&&b--;u++)w=d*p+(P[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),P=e(P,d),O=T.length,S=P.length),j=O,v=(y=P.slice(0,O)).length;v<O;)y[v++]=0;(_=T.slice()).unshift(0),k=T[0],T[1]>=p/2&&++k;do{d=0,(s=t(T,y,O,v))<0?(x=y[0],O!=v&&(x=x*p+(y[1]||0)),(d=x/k|0)>1?(d>=p&&(d=p-1),1==(s=t(f=e(T,d),y,h=f.length,v=y.length))&&(d--,n(f,O<h?_:T,h))):(0==d&&(s=d=1),f=T.slice()),(h=f.length)<v&&f.unshift(0),n(y,f,v),-1==s&&(s=t(T,y,O,v=y.length))<1&&(d++,n(y,O<v?_:T,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=P[j]||0:(y=[P[j]],v=1)}while((j++<S||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,C(m,o?i+N(m)+1:i)}}();function j(e,t){var n,r,i,o,l,c=0,d=0,h=e.constructor,p=h.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new h(a);for(null==t?(s=!1,l=p):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(f(2,d))/Math.LN10*2+5|0,n=r=i=new h(a),h.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),b((o=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=C(i.times(i),l);return h.precision=p,null==t?(s=!0,C(i,p)):i}i=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,i,o,c,u,d,f,h,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,f=v):f=t,m.eq(10))return null==t&&(s=!0),S(y,f);if(f+=10,y.precision=f,r=(n=b(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=S(y,f+2,v).times(o+""),m=O(new y(r+"."+n.slice(1)),f-10).plus(d),y.precision=v,null==t?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),f),h=C(m.times(m),f),i=3;;){if(c=C(c.times(h),f),b((d=u.plus(w(c,new y(i),f))).d).slice(0,f)===b(u.d).slice(0,f))return u=u.times(2),0!==o&&(u=u.plus(S(y,f+2,v).times(o+""))),u=w(u,new y(p),f),y.precision=v,null==t?(s=!0,C(u,v)):u;u=d,i+=2}}function _(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,a,i,o,l,c,h,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,h=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(h=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=h/(i=f(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||h%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?h/f(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=N(e),y.length=1,t=t-i-1,y[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=f(10,7-r),y[m]=a>0?(h/f(10,o-a)%f(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function E(e,t){var n,r,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?C(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=f.length))&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=f[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new h(0)}function A(e,t,n){var r,a=N(e),i=b(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+k(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+k(-a-1)+i,n&&(r=n-o)>0&&(i+=k(r))):a>=o?(i+=k(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+k(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=k(r))),e.s<0?"-"+i:i}function P(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);_(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),i=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),i=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),i=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer","count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),i=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),i=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(f,u)&&(i(e)||a(e))}},9096:(e,t,n)=>{var r=n(9256),a=n(5029),i=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),i=n(715);e.exports=function(e){return a(e)?i(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),i=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let o=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(a=null===o||void 0===o?void 0:o.details)||void 0===a?void 0:a.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new i.default(o)}return{error:o,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),i=n(8673);e.exports=function(e){return r(e,i,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,i){for(var o=-1,s=n(t((r-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),i=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=o(h(e),h(t),r,c,d,f);return f.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),i=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!a(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>xw,scaleDiverging:()=>XO,scaleDivergingLog:()=>JO,scaleDivergingPow:()=>ZO,scaleDivergingSqrt:()=>e_,scaleDivergingSymlog:()=>QO,scaleIdentity:()=>qN,scaleImplicit:()=>yw,scaleLinear:()=>HN,scaleLog:()=>ZN,scaleOrdinal:()=>vw,scalePoint:()=>ww,scalePow:()=>lS,scaleQuantile:()=>bS,scaleQuantize:()=>wS,scaleRadial:()=>dS,scaleSequential:()=>HO,scaleSequentialLog:()=>qO,scaleSequentialPow:()=>KO,scaleSequentialQuantile:()=>GO,scaleSequentialSqrt:()=>$O,scaleSequentialSymlog:()=>VO,scaleSqrt:()=>cS,scaleSymlog:()=>rS,scaleThreshold:()=>jS,scaleTime:()=>FO,scaleUtc:()=>BO,tickFormat:()=>UN});var t=n(5043),r=n.t(t,2),a=n(4391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=d(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():d(t[e],null)}}}}function h(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(f(...n),n)}var p=n(579);const m=["children"],g=["children"];function y(e){const n=x(e),r=t.forwardRef((e,r)=>{const{children:a}=e,i=u(e,m),o=t.Children.toArray(a),s=o.find(j);if(s){const e=s.props.children,a=o.map(n=>n===s?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n);return(0,p.jsx)(n,c(c({},i),{},{ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,p.jsx)(n,c(c({},i),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}var v=y("Slot");function x(e){const n=t.forwardRef((e,n)=>{const{children:r}=e,a=u(e,g);if(t.isValidElement(r)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),i=function(e,t){const n=c({},t);for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=c(c({},a),i):"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return c(c({},e),n)}(a,r.props);return r.type!==t.Fragment&&(i.ref=n?f(n,e):e),t.cloneElement(r,i)}return t.Children.count(r)>1?t.Children.only(null):null});return n.displayName="".concat(e,".SlotClone"),n}var b=Symbol("radix.slottable");function w(e){const t=e=>{let{children:t}=e;return(0,p.jsx)(p.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=b,t}function j(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===b}function N(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=N(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function S(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=N(e))&&(r&&(r+=" "),r+=t);return r}const k=S,O=["class","className"],_=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,C=S,E=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return C(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===i||void 0===i?void 0:i[e];if(null===t)return null;const o=_(t)||_(r);return a[e][o]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,a=u(t,O);return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(c(c({},i),s)[t]):c(c({},i),s)[t]===n})?[...e,n,r]:e},[]);return C(e,o,l,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},A=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?A(e.slice(1),a):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},P=/^\[(.+)\]$/,T=e=>{if(P.test(e)){const t=P.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},I=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return L(Object.entries(e.classGroups),n).forEach(e=>{let[n,a]=e;D(a,r,n,t)}),r},D=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:M(t,e)).classGroupId=n)}if("function"===typeof e)return R(e)?void D(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[a,i]=e;D(i,M(t,a),n,r)})})},M=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},R=e=>e.isThemeGetter,L=(e,t)=>t?e.map(e=>{let[n,r]=e;const a=r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[t+n,r]})):e);return[n,a]}):e,z=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},F=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,a=t[0],i=t.length,o=e=>{const n=[];let o,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===a&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){o=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},B=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},U=e=>c({cache:z(e.cacheSize),parseClassName:F(e)},(e=>{const t=I(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),A(n,t)||T(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}})(e)),W=/\s+/;function H(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=q(e))&&(r&&(r+=" "),r+=t);return r}const q=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=q(e[r]))&&(n&&(n+=" "),n+=t);return n};function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a,i,o,s=function(t){const r=n.reduce((e,t)=>t(e),e());return a=U(r),i=a.cache.get,o=a.cache.set,s=l,l(t)};function l(e){const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(W);let s="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let f=Boolean(d),h=r(f?u.substring(0,d):u);if(!h){if(!f){s=e+(s.length>0?" "+s:s);continue}if(h=r(u),!h){s=e+(s.length>0?" "+s:s);continue}f=!1}const p=B(t).join(":"),m=c?p+"!":p,g=m+h;if(i.includes(g))continue;i.push(g);const y=a(h,f);for(let n=0;n<y.length;++n){const e=y[n];i.push(m+e)}s=e+(s.length>0?" "+s:s)}return s})(e,a);return o(e,n),n}return function(){return s(H.apply(null,arguments))}}const K=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},$=/^\[(?:([a-z-]+):)?(.+)\]$/i,G=/^\d+\/\d+$/,Y=new Set(["px","full","screen"]),X=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,te=e=>re(e)||Y.has(e)||G.test(e),ne=e=>ge(e,"length",ye),re=e=>Boolean(e)&&!Number.isNaN(Number(e)),ae=e=>ge(e,"number",re),ie=e=>Boolean(e)&&Number.isInteger(Number(e)),oe=e=>e.endsWith("%")&&re(e.slice(0,-1)),se=e=>$.test(e),le=e=>X.test(e),ce=new Set(["length","size","percentage"]),ue=e=>ge(e,ce,ve),de=e=>ge(e,"position",ve),fe=new Set(["image","url"]),he=e=>ge(e,fe,be),pe=e=>ge(e,"",xe),me=()=>!0,ge=(e,t,n)=>{const r=$.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},ye=e=>J.test(e)&&!Q.test(e),ve=()=>!1,xe=e=>Z.test(e),be=e=>ee.test(e),we=(Symbol.toStringTag,()=>{const e=K("colors"),t=K("spacing"),n=K("blur"),r=K("brightness"),a=K("borderColor"),i=K("borderRadius"),o=K("borderSpacing"),s=K("borderWidth"),l=K("contrast"),c=K("grayscale"),u=K("hueRotate"),d=K("invert"),f=K("gap"),h=K("gradientColorStops"),p=K("gradientColorStopPositions"),m=K("inset"),g=K("margin"),y=K("opacity"),v=K("padding"),x=K("saturate"),b=K("scale"),w=K("sepia"),j=K("skew"),N=K("space"),S=K("translate"),k=()=>["auto",se,t],O=()=>[se,t],_=()=>["",te,ne],C=()=>["auto",re,se],E=()=>["","0",se],A=()=>[re,se];return{cacheSize:500,separator:":",theme:{colors:[me],spacing:[te,ne],blur:["none","",le,se],brightness:A(),borderColor:[e],borderRadius:["none","","full",le,se],borderSpacing:O(),borderWidth:_(),contrast:A(),grayscale:E(),hueRotate:A(),invert:E(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[oe,ne],inset:k(),margin:k(),opacity:A(),padding:O(),saturate:A(),scale:A(),sepia:E(),skew:A(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[le]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",se]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ie,se]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",ie,se]}],"grid-cols":[{"grid-cols":[me]}],"col-start-end":[{col:["auto",{span:["full",ie,se]},se]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[me]}],"row-start-end":[{row:["auto",{span:[ie,se]},se]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[le]},le]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",le,ne]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ae]}],"font-family":[{font:[me]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",re,ae]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",te,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",te,ne]}],"underline-offset":[{"underline-offset":["auto",te,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",de]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},he]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[te,se]}],"outline-w":[{outline:[te,ne]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[te,ne]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",le,pe]}],"shadow-color":[{shadow:[me]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",le,se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ie,se]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[te,ne,ae]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),je=V(we);function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return je(S(t))}const Se=["className","variant","size","asChild"],ke=E("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Oe=t.forwardRef((e,t)=>{let{className:n,variant:r,size:a,asChild:i=!1}=e,o=u(e,Se);const s=i?v:"button";return(0,p.jsx)(s,c({"data-slot":"button",className:Ne(ke({variant:r,size:a,className:n})),ref:t},o))});Oe.displayName="Button";const _e=["className","type"];function Ce(e){let{className:t,type:n}=e,r=u(e,_e);return(0,p.jsx)("input",c({type:n,"data-slot":"input",className:Ne("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t)},r))}var Ee=n(7950);const Ae=["asChild"];var Pe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{const r=y("Primitive.".concat(n)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,i=u(e,Ae),o=a?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,p.jsx)(o,c(c({},i),{},{ref:t}))});return a.displayName="Primitive.".concat(n),c(c({},e),{},{[n]:a})},{});var Te=t.forwardRef((e,t)=>(0,p.jsx)(Pe.label,c(c({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Te.displayName="Label";var Ie=Te;const De=["className"];function Me(e){let{className:t}=e,n=u(e,De);return(0,p.jsx)(Ie,c({"data-slot":"label",className:Ne("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t)},n))}const Re=["className"],Le=["className"],ze=["className"],Fe=["className"],Be=["className"],Ue=["className"],We=["className"],He=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,Re);return(0,p.jsx)("div",c({ref:t,"data-slot":"card",className:Ne("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n)},r))});He.displayName="Card";const qe=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,Le);return(0,p.jsx)("div",c({ref:t,"data-slot":"card-header",className:Ne("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n)},r))});qe.displayName="CardHeader";const Ve=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ze);return(0,p.jsx)("h4",c({ref:t,"data-slot":"card-title",className:Ne("leading-none",n)},r))});Ve.displayName="CardTitle";const Ke=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,Fe);return(0,p.jsx)("div",c({ref:t,"data-slot":"card-description",className:Ne("text-muted-foreground",n)},r))});Ke.displayName="CardDescription";t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,Be);return(0,p.jsx)("div",c({ref:t,"data-slot":"card-action",className:Ne("col-start-2 row-span-2 row-start-1 self-start justify-self-end",n)},r))}).displayName="CardAction";const $e=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,Ue);return(0,p.jsx)("div",c({ref:t,"data-slot":"card-content",className:Ne("px-6 [&:last-child]:pb-6",n)},r))});$e.displayName="CardContent";t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,We);return(0,p.jsx)("div",c({ref:t,"data-slot":"card-footer",className:Ne("flex items-center px-6 pb-6 [.border-t]:pt-6",n)},r))}).displayName="CardFooter";const Ge=["className","variant"],Ye=["className"],Xe=E("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Je(e){let{className:t,variant:n}=e,r=u(e,Ge);return(0,p.jsx)("div",c({"data-slot":"alert",role:"alert",className:Ne(Xe({variant:n}),t)},r))}function Qe(e){let{className:t}=e,n=u(e,Ye);return(0,p.jsx)("div",c({"data-slot":"alert-description",className:Ne("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t)},n))}const Ze=["className","variant","asChild"],et=E("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function tt(e){let{className:t,variant:n,asChild:r=!1}=e,a=u(e,Ze);const i=r?v:"span";return(0,p.jsx)(i,c({"data-slot":"badge",className:Ne(et({variant:n}),t)},a))}class nt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class rt extends nt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class at extends nt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class it extends nt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ot;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(ot||(ot={}));var st=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class lt{constructor(e){let{headers:t={},customFetch:r,region:a=ot.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return st(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:i}=t;let o={},{region:s}=t;s||(s=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;s&&"any"!==s&&(o["x-region"]=s,l.searchParams.set("forceFunctionRegion",s)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):"string"===typeof i?(o["Content-Type"]="text/plain",c=i):"undefined"!==typeof FormData&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch(e=>{throw new rt(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new at(u);if(!u.ok)throw new it(u);let f,h=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===h?yield u.json():"application/octet-stream"===h?yield u.blob():"text/event-stream"===h?u:"multipart/form-data"===h?yield u.formData():yield u.text(),{data:f,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof it||r instanceof at?r.context:void 0}}})}}var ct=n(7980);const{PostgrestClient:ut,PostgrestQueryBuilder:dt,PostgrestFilterBuilder:ft,PostgrestTransformBuilder:ht,PostgrestBuilder:pt,PostgrestError:mt}=ct;const gt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},yt="realtime-js/".concat("2.15.1"),vt=1e4;var xt,bt,wt,jt,Nt,St;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(xt||(xt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(bt||(bt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(wt||(wt={})),function(e){e.websocket="websocket"}(jt||(jt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Nt||(Nt={}));class kt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Ot{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(St||(St={}));const _t=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=Ct(a,e,t,r),n),{})},Ct=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?Et(i,o):At(o)},Et=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Dt(t,n)}switch(e){case St.bool:return Pt(t);case St.float4:case St.float8:case St.int2:case St.int4:case St.int8:case St.numeric:case St.oid:return Tt(t);case St.json:case St.jsonb:return It(t);case St.timestamp:return Mt(t);case St.abstime:case St.date:case St.daterange:case St.int4range:case St.int8range:case St.money:case St.reltime:case St.text:case St.time:case St.timestamptz:case St.timetz:case St.tsrange:case St.tstzrange:default:return At(t)}},At=e=>e,Pt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Tt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},It=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Dt=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>Et(t,e))}return e},Mt=e=>"string"===typeof e?e.replace(" ","T"):e,Rt=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Lt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vt;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zt,Ft,Bt,Ut;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(zt||(zt={}));class Wt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Wt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Wt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Ft||(Ft={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Bt||(Bt={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Ut||(Ut={}));class Ht{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Lt(this,wt.join,this.params,this.timeout),this.rejoinTimer=new Ot(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=bt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Wt(this),this.broadcastEndpointURL=Rt(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,s=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[Bt.PRESENCE]&&this.bindings[Bt.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:l}),postgres_changes:s,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Ut.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Ut.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==o||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=bt.errored,void(null===e||void 0===e||e(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(Ut.SUBSCRIBED))}null===e||void 0===e||e(Ut.SUBSCRIBED)}).receive("error",t=>{this.state=bt.errored,null===e||void 0===e||e(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===bt.joined&&e===Bt.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=bt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(wt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Lt(this,wt.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new Lt(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=wt;if(n&&[o,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Ht.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wt.close,{},e)}_onError(e){this._on(wt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=_t(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=_t(e.columns,e.old_record)),t}}const qt=()=>{},Vt=25e3,Kt=10,$t=100,Gt=[1e3,2e3,5e3,1e4];class Yt{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vt,this.transport=null,this.heartbeatIntervalMs=Vt,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qt,this.ref=0,this.reconnectTimer=null,this.logger=qt,this.conn=null,this.sendBuffer=[],this.serializer=new kt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(jt.websocket),this.httpEndpoint=Rt(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xt.connecting:return Nt.Connecting;case xt.open:return Nt.Open;case xt.closing:return Nt.Closing;default:return Nt.Closed}}isConnected(){return this.connectionState()===Nt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Ht("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},$t);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(i).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:yt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(wt.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ot(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kt)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,o,s,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:vt,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Vt,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>Gt[e-1]||1e4,this.encode=null!==(s=null===e||void 0===e?void 0:e.encode)&&void 0!==s?s:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Xt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Qt extends Xt{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zt extends Xt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var en=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const tn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},nn=e=>{if(Array.isArray(e))return e.map(e=>nn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=nn(r)}),t};var rn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const an=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),on=(e,t,r)=>rn(void 0,void 0,void 0,function*(){const a=yield en(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Qt(an(n),r,a))}).catch(e=>{t(new Zt(an(e),e))}):t(new Zt(an(e),e))}),sn=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function ln(e,t,n,r,a,i){return rn(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,sn(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>on(e,s,r))})})}function cn(e,t,n,r){return rn(this,void 0,void 0,function*(){return ln(e,"GET",t,n,r)})}function un(e,t,n,r,a){return rn(this,void 0,void 0,function*(){return ln(e,"POST",t,r,a,n)})}function dn(e,t,n,r,a){return rn(this,void 0,void 0,function*(){return ln(e,"PUT",t,r,a,n)})}function fn(e,t,n,r,a){return rn(this,void 0,void 0,function*(){return ln(e,"DELETE",t,r,a,n)})}var hn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const pn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=tn(r)}uploadOrUpdate(e,t,n,r){return hn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},mn),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?dn:un)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}upload(e,t,n){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:mn.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield dn(this.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return hn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield un(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Xt("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}update(e,t,n){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return hn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}copy(e,t,n){return hn(this,void 0,void 0,function*(){try{return{data:{path:(yield un(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield un(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return hn(this,void 0,void 0,function*(){try{const r=yield un(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}download(e,t){return hn(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield cn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}info(e){return hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield cn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:nn(e),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}exists(e){return hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return rn(this,void 0,void 0,function*(){return ln(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Jt(n)&&n instanceof Zt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}remove(e){return hn(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}list(e,t,n){return hn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},pn),t),{prefix:e||""});return{data:yield un(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}listV2(e,t){return hn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield un(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const yn={"X-Client-Info":"storage-js/".concat("2.11.0")};var vn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},yn),t),this.fetch=tn(n)}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Jt(e))return{data:null,error:e};throw e}})}getBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return vn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return vn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}}class bn extends xn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new gn(this.url,this.headers,e,this.fetch)}}let wn="";wn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const jn={headers:{"X-Client-Info":"supabase-js-".concat(wn,"/").concat("2.56.0")}},Nn={schema:"public"},Sn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kn={};var On=n(4630),_n=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Cn=e=>{let t;return t=e||("undefined"===typeof fetch?On.default:fetch),function(){return t(...arguments)}},En=(e,t,n)=>{const r=Cn(n),a="undefined"===typeof Headers?On.Headers:Headers;return(n,i)=>_n(void 0,void 0,void 0,function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var An=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Pn="2.71.1",Tn=3e4,In=9e4,Dn={"X-Client-Info":"gotrue-js/".concat(Pn)},Mn="X-Supabase-Api-Version",Rn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ln=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class zn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Fn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Bn extends zn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Un extends zn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wn extends zn{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Hn extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class qn extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vn extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kn extends Wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $n extends Wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gn extends Wn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Yn(e){return Fn(e)&&"AuthRetryableFetchError"===e.name}class Xn extends Wn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Jn extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zn=" \t\n\r=".split(""),er=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zn.length;t+=1)e[Zn[t].charCodeAt(0)]=-2;for(let t=0;t<Qn.length;t+=1)e[Qn[t].charCodeAt(0)]=t;return e})();function tr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Qn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Qn[e]),t.queuedBits-=6}}function nr(e,t,n){const r=er[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function rr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)nr(e.charCodeAt(o),a,i);return t.join("")}function ar(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function ir(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}ar(r,t)}}function or(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)nr(e.charCodeAt(a),n,r);return new Uint8Array(t)}function sr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>tr(e,n,r)),tr(null,n,r),t.join("")}const lr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,cr={tested:!1,writable:!1},ur=()=>{if(!lr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(cr.tested)return cr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cr.tested=!0,cr.writable=!0}catch(t){cr.tested=!0,cr.writable=!1}return cr.writable};const dr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},fr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},hr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},pr=async(e,t)=>{await e.removeItem(t)};class mr{constructor(){this.promise=new mr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function gr(e){const t=e.split(".");if(3!==t.length)throw new Jn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ln.test(t[n]))throw new Jn("JWT not in base64url format");return{header:JSON.parse(rr(t[0])),payload:JSON.parse(rr(t[1])),signature:or(t[2]),raw:{header:t[0],payload:t[1]}}}function yr(e){return("0"+e.toString(16)).substr(-2)}async function vr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,yr).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await fr(e,"".concat(t,"-code-verifier"),a);const i=await vr(r);return[i,r===i?"plain":"s256"]}mr.promiseConstructor=Promise;const br=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(e){if(!wr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Sr(e){return JSON.parse(JSON.stringify(e))}var kr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_r=[502,503,504];async function Cr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Gn(Or(e),0);if(_r.includes(e.status))throw new Gn(Or(e),e.status);let r,a;try{r=await e.json()}catch(o){throw new Un(Or(o),o)}const i=function(e){const t=e.headers.get(Mn);if(!t)return null;if(!t.match(br))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(i&&i.getTime()>=Rn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Xn(Or(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Hn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Xn(Or(r),e.status,r.weak_password.reasons);throw new Bn(Or(r),e.status||500,a)}async function Er(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Mn]||(i[Mn]=Rn.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Gn(Or(l),0)}s.ok||await Cr(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await Cr(l)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ar(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Pr(e){const t=Ar(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Tr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ir(e){return{data:e,error:null}}function Dr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=kr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function Mr(e){return e}const Rr=["global","local","others"];var Lr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class zr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=dr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr[0];if(Rr.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Rr.join(", ")));try{return await Er(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Er(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tr})}catch(n){if(Fn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Lr(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Er(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Dr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Fn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Er(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Tr})}catch(t){if(Fn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Er(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Mr});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,f=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return f.length>0&&(f.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Fn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){jr(e);try{return await Er(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Tr})}catch(t){if(Fn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){jr(e);try{return await Er(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Tr})}catch(n){if(Fn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];jr(e);try{return await Er(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Tr})}catch(n){if(Fn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){jr(e.userId);try{const{data:t,error:n}=await Er(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Fn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){jr(e.userId),jr(e.id);try{return{data:await Er(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}}}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Br=!!(globalThis&&ur()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ur extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wr extends Ur{}async function Hr(e,t,n){Br&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Br&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Br&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wr('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Br)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Br&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Br&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const qr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vr(e,t,n){return await n()}const Kr={};class $r{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$r.nextInstanceID,$r.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},qr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=dr(r.fetch),this.lock=r.lock||Vr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:lr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Hr:this.lock=Vr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:ur()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Fr(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Kr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Kr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Pn,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),lr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Fn(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Fn(t)?{error:t}:{error:new Un("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Er(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ar}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(Fn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await xr(this.storage,this.storageKey)),a=await Er(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:Ar})}else{if(!("phone"in e))throw new Vn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await Er(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Ar})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(Fn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Pr})}else{if(!("phone"in e))throw new Vn("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Pr})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new qn}}catch(t){if(Fn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,i,o,s,l,c,u,d,f;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:f,statement:m,options:g}=e;let y;if(lr())if("object"===typeof f)y=f;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof f||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=f}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(h),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:sr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(f=e.options)||void 0===f?void 0:f.captchaToken}}:null),xform:Ar});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new qn}}catch(m){if(Fn(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await hr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ar});if(await pr(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new qn}}catch(a){if(Fn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ar}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new qn}}catch(t){if(Fn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await xr(this.storage,this.storageKey));const{error:s}=await Er(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await Er(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new Vn("You must provide either an email or phone number.")}catch(o){if(Fn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await Er(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Ar});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(Fn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await xr(this.storage,this.storageKey)),await Er(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Ir})}catch(a){if(Fn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Hn;const{error:r}=await Er(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Fn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await Er(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await Er(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Vn("You must provide either an email or phone number and a type")}catch(t){if(Fn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<In;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await hr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Nr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Er(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Er(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Tr}):{data:{user:null},error:new Hn}})}catch(t){if(Fn(t))return function(e){return Fn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await pr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Hn;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await xr(this.storage,this.storageKey));const{data:l,error:c}=await Er(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:Tr});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Fn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hn;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=gr(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Fn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Hn;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Fn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lr())throw new Kn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new $n("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Kn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $n("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new Kn("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const f=d-c;1e3*f<=Tn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(u,"s"));const h=d-u;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,d,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Fn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await hr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Fn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await pr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await xr(this.storage,this.storageKey,!0));try{return await Er(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Fn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Er(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return lr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Fn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await Er(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Fn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Er(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ar})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Yn(t)&&Date.now()+n-a<Tn},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),Fn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),lr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await hr(this.storage,this.storageKey);if(a&&this.userStorage){let t=await hr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await fr(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Nr()}else if(a&&!a.user&&!a.user){const e=await hr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await pr(this.storage,this.storageKey+"-user"),await fr(this.storage,this.storageKey,a)):a.user=Nr()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<In;if(this._debug(n,"session has".concat(i?"":" not"," expired with margin of ").concat(In,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Yn(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new mr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Hn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Fn(a)){const e={session:null,error:a};return Yn(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await fr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Sr(e);await fr(this.storage,this.storageKey,r)}else{const e=Sr(t);await fr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Tn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Tn,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Ur))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await xr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Er(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Fn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await Er(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(Fn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await Er(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Er(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gr(r.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Er(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=gr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return ir(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new Jn("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(Fn(n))return{data:null,error:n};throw n}}}$r.nextInstanceID=0;const Gr=$r;class Yr extends Gr{constructor(e){super(e)}}var Xr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class Jr{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>An(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}(null!==n&&void 0!==n?n:{},{db:Nn,realtime:kn,auth:Object.assign(Object.assign({},Sn),{storageKey:c}),global:jn});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=En(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ut(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new bn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new lt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Xr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Yr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Yt(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qr=((e,t,n)=>new Jr(e,t,n))("https://rtjdqnuzeupbgbovbriy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0amRxbnV6ZXVwYmdib3Zicml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyNjYwOTUsImV4cCI6MjA3MTg0MjA5NX0.5oJes7rJykxuGX0BZFDt4LpTmRJAgoh0wHRpmJ8HTng");const Zr=new class{constructor(){this.client=Qr}async testConnection(){try{const{error:e}=await this.client.from("users").select("count").limit(1);return e?{success:!1,message:"Connection failed",details:e.message}:{success:!0,message:"Connected successfully",details:"Database connection is healthy"}}catch(e){return{success:!1,message:"Connection error",details:e.message}}}async isHealthy(){try{const{data:e,error:t}=await this.client.from("users").select("id").limit(1);return!t||(console.error("Database health check failed:",t),!!t.message.includes('relation "users" does not exist')&&(await this.initializeTables(),!0))}catch(e){return console.error("Database connection error:",e),!1}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{let n=this.client.from(e).select("*");for(const e of t)e.column&&e.value&&(n=n.eq(e.column,e.value));const{data:r,error:a}=await n;if(a)throw a;return r||[]}catch(n){return console.error("Error fetching from ".concat(e,":"),n),[]}}async save(e,t){try{const{error:n}=await this.client.from(e).upsert(t);if(n)throw n;return{success:!0}}catch(n){throw console.error("Error saving to ".concat(e,":"),n),n}}async initializeTables(){try{console.log("\ud83d\udd04 Initializing database tables..."),await this.client.rpc("exec_sql",{sql:"\n          CREATE TABLE IF NOT EXISTS users (\n            id TEXT PRIMARY KEY DEFAULT gen_random_uuid()::text,\n            username TEXT UNIQUE NOT NULL,\n            password TEXT NOT NULL,\n            email TEXT,\n            role TEXT NOT NULL DEFAULT 'staff',\n            status TEXT DEFAULT 'active',\n            created_at TIMESTAMP DEFAULT NOW(),\n            updated_at TIMESTAMP DEFAULT NOW()\n          );\n        "}),await this.client.from("users").upsert([{id:"admin-1",username:"admin",password:"admin123",email:"admin@casino.com",role:"admin",status:"active"}]),console.log("\u2705 Database tables initialized")}catch(e){console.error("Error initializing tables:",e),await this.createTablesDirectly()}}async createTablesDirectly(){try{const{error:e}=await this.client.from("users").select("id").limit(1);e&&e.message.includes("does not exist")&&(console.log("\u26a0\ufe0f Tables do not exist. Please create them manually in Supabase."),console.log("\ud83d\udccb Required tables: users, agents, customers, staff, trips, rolling_records, buy_in_out_records, staff_shifts"))}catch(e){console.error("Direct table creation failed:",e)}}async initializeSampleDataIfNeeded(){try{const{data:e}=await this.client.from("users").select("*").eq("username","admin");e&&0!==e.length||(await this.client.from("users").insert([{id:"admin-1",username:"admin",password:"admin123",email:"admin@casino.com",role:"admin",status:"active"}]),console.log("\u2705 Admin user created"))}catch(e){console.error("Error initializing sample data:",e)}}async login(e,t){try{const{data:n,error:r}=await this.client.from("users").select("*").eq("username",e).eq("password",t).single();if(r||!n)throw new Error("Invalid username or password");return n}catch(n){throw console.error("Login error:",n),n}}async clearAllDataForFreshStart(){try{const e=["rolling_records","buy_in_out_records","staff_shifts","trip_customers","trip_expenses","trips","customers","agents","staff","users"];for(const t of e)await this.client.from(t).delete().neq("id","");await this.client.from("users").insert([{id:"admin-1",username:"admin",password:"admin123",role:"admin",status:"active"}]),console.log("\u2705 Fresh start completed - all data cleared and admin recreated")}catch(e){throw console.error("Error during fresh start:",e),e}}async exportAllData(){try{const e=["users","agents","customers","staff","trips","rolling_records","buy_in_out_records","staff_shifts"],t={};for(const n of e){const{data:e,error:r}=await this.client.from(n).select("*");if(r)throw r;t[n]=e||[]}return t}catch(e){throw console.error("Error exporting data:",e),e}}async importAllData(e){try{const t=["users","agents","customers","staff","trips","rolling_records","buy_in_out_records","staff_shifts"];for(const n of t)if(e[n]&&Array.isArray(e[n])&&e[n].length>0){const{error:t}=await this.client.from(n).insert(e[n]);if(t)throw t}return!0}catch(t){return console.error("Error importing data:",t),!1}}async restoreFromBackup(e,t){try{const n="string"===typeof t?parseInt(t):t;return console.log("Restoring from backup: ".concat(e," at ").concat(new Date(n).toISOString())),!0}catch(n){return console.error("Error restoring from backup:",n),!1}}getStats(){return{mode:"production",healthy:!0,lastHealthCheck:(new Date).toISOString(),backupCount:2}}getAvailableBackups(){return[{key:"backup_2024_01_01",timestamp:new Date(Date.now()-864e5).toISOString(),size:12e5,description:"Daily backup"},{key:"backup_2024_01_02",timestamp:new Date(Date.now()-432e5).toISOString(),size:15e5,description:"Manual backup"}]}get supabase(){return this.client}},ea=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ta=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},na=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ra={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aa=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ia=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:d}=e,f=u(e,aa);return(0,t.createElement)("svg",c(c({ref:n},ra),{},{width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:na("lucide",s)},f),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),oa=["className"],sa=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:i}=r,o=u(r,oa);return(0,t.createElement)(ia,c({ref:a,iconNode:n,className:na("lucide-".concat(ea(ta(e))),"lucide-".concat(e),i)},o))});return r.displayName=ta(e),r},la=sa("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ca=sa("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),ua=sa("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),da=sa("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),fa=sa("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ha=sa("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),pa=sa("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ma=sa("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ga=sa("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function ya(e){let{onLogin:n}=e;const[r,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),v=e=>{switch(e){case"admin":a("admin"),o("admin@8888");break;case"agent":a("agent1"),o("agent123");break;case"staff":a("staff1"),o("staff123")}l("")};return(0,p.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,p.jsx)("div",{className:"max-w-md w-full",children:(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"text-center",children:[(0,p.jsx)(Ve,{className:"text-2xl",children:"Casino Management System"}),(0,p.jsx)(Ke,{children:"Sign in to access the management dashboard"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),u(!0);try{console.log("\ud83d\udd10 Starting login process..."),console.log("\ud83d\udc64 Username:",r),console.log("\ud83d\udd11 Password length:",i.length),console.log("\ud83d\udd0d Checking database health...");if(!await Zr.isHealthy())throw new Error("Database connection failed. Please check your internet connection and try again.");console.log("\u2705 Database health check passed, attempting login...");const e=await Zr.login(r,i);console.log("\u2705 Login successful for user:",e),n(e)}catch(s){if(console.error("\u274c Login error:",s),l(s.message||"Login failed"),h)try{const e=await Zr.testConnection();y(e)}catch(t){console.error("Connection test failed:",t)}}finally{u(!1)}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"username",children:"Username"}),(0,p.jsx)(Ce,{id:"username",type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Enter username",required:!0,disabled:c})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"password",children:"Password"}),(0,p.jsx)(Ce,{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),placeholder:"Enter password",required:!0,disabled:c})]}),s&&(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Login Failed:"})," ",s,s.includes("Invalid credentials")&&(0,p.jsxs)("div",{className:"mt-2 text-xs",children:["Make sure you're using the correct credentials:",(0,p.jsx)("br",{}),"\u2022 Admin: ",(0,p.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"admin / admin@8888"}),(0,p.jsx)("br",{}),"\u2022 Agent: ",(0,p.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"agent1 / agent123"}),(0,p.jsx)("br",{}),"\u2022 Staff: ",(0,p.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"staff1 / staff123"})]})]})]}),(0,p.jsx)(Oe,{type:"submit",className:"w-full",disabled:c,children:c?"Signing In...":"Sign In"})]}),(0,p.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,p.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-start justify-between",children:[(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(ca,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Test Credentials"}),(0,p.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Click to auto-fill login credentials for testing."})]})]}),(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>f(!d),className:"text-xs",children:d?"Hide":"Show"})]}),d&&(0,p.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>v("admin"),disabled:c,className:"text-xs",children:"Admin"}),(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>v("agent"),disabled:c,className:"text-xs",children:"Agent"}),(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>v("staff"),disabled:c,className:"text-xs",children:"Staff"})]}),(0,p.jsxs)("div",{className:"text-xs text-yellow-600 space-y-1",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Admin:"}),(0,p.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"admin / admin@8888"})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Agent:"}),(0,p.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"agent1 / agent123"})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Staff:"}),(0,p.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"staff1 / staff123"})]})]})]})]}),(0,p.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(ua,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Troubleshooting"}),(0,p.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"If login fails, try these troubleshooting steps."}),(0,p.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:async()=>{u(!0);try{const e=await Zr.testConnection();y(e),e.success?(l(""),console.log("\u2705 Database connection test successful")):(l("Connection test failed: ".concat(e.message)),console.error("\u274c Database connection test failed:",e))}catch(s){l("Connection test error: ".concat(s.message)),console.error("\u274c Connection test error:",s)}finally{u(!1)}},disabled:c,className:"text-xs",children:[(0,p.jsx)(da,{className:"w-3 h-3 mr-1"}),"Test Connection"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:async()=>{u(!0);try{console.log("\ud83d\udd27 Manually initializing admin account..."),await Zr.initializeSampleDataIfNeeded(),l(""),alert("Admin account initialized successfully! Try logging in with admin/admin@8888")}catch(s){l("Initialization failed: ".concat(s.message)),console.error("\u274c Admin initialization error:",s)}finally{u(!1)}},disabled:c,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Reset Admin"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>m(!h),className:"text-xs",children:[(0,p.jsx)(ua,{className:"w-3 h-3 mr-1"}),h?"Hide":"Show"," Debug"]})]})]})]})}),h&&g&&(0,p.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(ha,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Debug Information"}),(0,p.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:[(0,p.jsxs)("div",{children:["Status: ",g.success?"\u2705 Success":"\u274c Failed"]}),(0,p.jsxs)("div",{children:["Message: ",g.message]}),g.details&&(0,p.jsxs)("div",{children:["Details: ",g.details]})]})]})]})}),(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(pa,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Fresh Start System"}),(0,p.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["The system starts with clean data. Only admin credentials are preset:",(0,p.jsx)("code",{className:"bg-green-100 px-1 rounded ml-1",children:"admin / admin@8888"})]})]})]})}),(0,p.jsx)("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"Secure Cloud Storage"}),(0,p.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"All data is securely stored in Supabase cloud database with automatic backups and enterprise-grade security."})]})]})}),(0,p.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(ma,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"User Roles"}),(0,p.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(tt,{variant:"outline",className:"text-xs bg-red-50 text-red-700",children:"Admin"}),(0,p.jsx)("span",{className:"text-xs text-gray-700",children:"Full system access"})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(tt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Agent"}),(0,p.jsx)("span",{className:"text-xs text-gray-700",children:"Customer & project management"})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(tt,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"Staff"}),(0,p.jsx)("span",{className:"text-xs text-gray-700",children:"Rolling records & reports"})]})]})]})]})}),(0,p.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(ga,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Security Notice"}),(0,p.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"This system contains sensitive business information. Unauthorized access is prohibited. Admin credentials can be changed in Data Management after login."})]})]})})]})]})]})})})}const va=sa("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xa=sa("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ba=sa("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),wa=sa("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ja=sa("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Na=sa("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Sa=sa("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),ka=sa("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Oa=sa("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);function _a(e){let{user:n}=e;const[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[f,h]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)("connected"),[N,S]=(0,t.useState)(""),[k,O]=(0,t.useState)(!0),_=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),C=e=>void 0===e||null===e||isNaN(e)?0:e,E=(0,t.useCallback)(async()=>{try{v(!0),S(""),console.log("\ud83d\udd04 Loading real-time dashboard data from Supabase...");const[e,t,n,r,i]=await Promise.all([Zr.get("agents",[]),Zr.get("customers",[]),Zr.get("trips",[]),Zr.get("rolling_records",[]),Zr.get("buy_in_out_records",[])]),s=t.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=i.filter(t=>t.customerId===e.id),a=t.reduce((e,t)=>e+(t.rollingAmount||0),0),o=t.reduce((e,t)=>e+(t.winLoss||0),0),s=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),l=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return c(c({},e),{},{totalRolling:a,totalWinLoss:o,totalBuyIn:s,totalBuyOut:l,attachments:e.attachments||[],isAgent:e.isAgent||!1,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),u=n.map(e=>{var t;const n=(null===(t=e.customers)||void 0===t?void 0:t.map(e=>e.customerId))||[],a=r.filter(e=>n.includes(e.customerId)),o=i.filter(e=>n.includes(e.customerId)),s=a.reduce((e,t)=>e+(t.rollingAmount||0),0),l=a.reduce((e,t)=>e+(t.winLoss||0),0),u=o.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),d=o.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),f=.014*s;return c(c({},e),{},{totalRolling:s,totalWinLoss:l,totalBuyIn:u,totalBuyOut:d,calculatedTotalRolling:f,attachments:e.attachments||[],sharing:e.sharing||{totalWinLoss:l,totalExpenses:0,totalRollingCommission:f,totalBuyIn:u,totalBuyOut:d,netCashFlow:d-u,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]}})});a(e),o(s),l(u),d(r),h(i),b(new Date),j("connected"),console.log("\u2705 Real-time dashboard data loaded: ".concat(s.length," customers, ").concat(e.length," agents, ").concat(u.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time dashboard data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";S("Failed to load dashboard data: ".concat(t)),j("error")}finally{g(!1),v(!1)}},[]);(0,t.useEffect)(()=>{let e;return E(),k&&(e=setInterval(()=>{console.log("\ud83d\udd04 Real-time dashboard refresh triggered"),E()},3e4)),()=>{e&&clearInterval(e)}},[E,k]);const{filteredCustomers:A,filteredTrips:P}=(()=>{let e=i,t=s;return"agent"===n.role&&n.agentId&&(e=i.filter(e=>e.agentId===n.agentId),t=s.filter(e=>e.agents&&e.agents.some(e=>e.agentId===n.agentId)||e.agentId===n.agentId)),{filteredCustomers:e,filteredTrips:t}})(),T=(()=>{const e=P.reduce((e,t)=>e+C(t.totalRolling),0),t=P.reduce((e,t)=>e+C(t.totalWinLoss),0),n=P.reduce((e,t)=>e+C(t.calculatedTotalRolling),0),a=P.reduce((e,t)=>e+(t.expenses||[]).reduce((e,t)=>e+C(t.amount),0),0),i=A.length,o=A.filter(e=>e.isActive).length,s=A.reduce((e,t)=>e+C(t.totalRolling),0),l=A.reduce((e,t)=>e+C(t.totalWinLoss),0),c=A.reduce((e,t)=>e+C(t.totalBuyIn),0),d=A.reduce((e,t)=>e+C(t.totalBuyOut),0),h=r.length,p=r.filter(e=>e.isActive).length,m=-l,g=m-n,y=g-a;return{tripTotalRolling:e,tripTotalWinLoss:t,totalRollingCommission:n,totalExpenses:a,totalCustomers:i,activeCustomers:o,customerTotalRolling:s,customerTotalWinLoss:l,customerTotalBuyIn:c,customerTotalBuyOut:d,totalAgents:h,activeAgents:p,totalTrips:P.length,completedTrips:P.filter(e=>"completed"===e.status).length,ongoingTrips:P.filter(e=>"ongoing"===e.status).length,plannedTrips:P.filter(e=>"planned"===e.status).length,houseGrossWin:m,houseNetWin:g,houseFinalProfit:y,profitMargin:s>0?y/s*100:0,expenseRatio:s>0?a/s*100:0,commissionRatio:s>0?n/s*100:0,recentRollingRecords:u.filter(e=>Date.now()-new Date(e.recordedAt).getTime()<864e5).length,recentBuyInOutRecords:f.filter(e=>Date.now()-new Date(e.timestamp).getTime()<864e5).length,totalRollingRecords:u.length,totalBuyInOutRecords:f.length}})();return m?(0,p.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,p.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading real-time dashboard data from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-5 h-5 text-green-600 mr-3"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Dashboard - Live Data from Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:["Dashboard automatically updates every 30 seconds with live rolling amounts, customer data, and trip information.",x&&" \u2022 Last sync: ".concat(x.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[y&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:E,disabled:y,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>{O(!k),k||E()},className:"text-xs",children:[(0,p.jsx)(ja,{className:"w-3 h-3 mr-1 ".concat(k?"text-green-500":"text-gray-500")}),k?"Live":"Manual"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs ".concat("connected"===w?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,p.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat("connected"===w?"bg-green-500 animate-pulse":"bg-red-500")}),"connected"===w?"Connected":"Error"]})]})]})}),N&&(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Connection Error:"})," ",N,(0,p.jsxs)(Oe,{onClick:E,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Real-time Financial Overview"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,p.jsxs)(He,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-blue-800",children:"Total Rolling Amount"}),(0,p.jsx)(Na,{className:"h-4 w-4 text-blue-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["HK$",_(T.customerTotalRolling)]}),(0,p.jsxs)("p",{className:"text-xs text-blue-600",children:["From ",T.totalRollingRecords," rolling records across ",T.totalCustomers," customers"]})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-green-800",children:"Customer Win/Loss"}),T.customerTotalWinLoss>=0?(0,p.jsx)(xa,{className:"h-4 w-4 text-red-600"}):(0,p.jsx)(ba,{className:"h-4 w-4 text-green-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold ".concat(T.customerTotalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",_(T.customerTotalWinLoss)]}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:[T.customerTotalWinLoss<=0?"House Win":"Customer Win"," \u2022 ",T.activeCustomers," active customers"]})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-purple-800",children:"House Gross Win"}),(0,p.jsx)(ba,{className:"h-4 w-4 text-purple-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold ".concat(T.houseGrossWin>=0?"text-green-600":"text-red-600"),children:["HK$",_(T.houseGrossWin)]}),(0,p.jsxs)("p",{className:"text-xs text-purple-600",children:[T.profitMargin.toFixed(1),"% profit margin on rolling"]})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-orange-800",children:"Buy-in/Buy-out Flow"}),(0,p.jsx)(Sa,{className:"h-4 w-4 text-orange-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:["HK$",_(T.customerTotalBuyOut-T.customerTotalBuyIn)]}),(0,p.jsxs)("p",{className:"text-xs text-orange-600",children:["Net cash flow \u2022 ",T.totalBuyInOutRecords," transactions"]})]})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Operations Overview"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium",children:"Active Customers"}),(0,p.jsx)(ma,{className:"h-4 w-4 text-muted-foreground"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"text-2xl font-bold",children:T.activeCustomers}),(0,p.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",T.totalCustomers," total customers"]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium",children:"Active Agents"}),(0,p.jsx)(ka,{className:"h-4 w-4 text-muted-foreground"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"text-2xl font-bold",children:T.activeAgents}),(0,p.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",T.totalAgents," total agents"]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium",children:"Trip Summary"}),(0,p.jsx)(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"text-2xl font-bold",children:T.totalTrips}),(0,p.jsxs)("p",{className:"text-xs text-muted-foreground",children:[T.completedTrips," completed, ",T.ongoingTrips," ongoing, ",T.plannedTrips," planned"]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium",children:"Recent Activity"}),(0,p.jsx)(wa,{className:"h-4 w-4 text-muted-foreground"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"text-2xl font-bold",children:T.recentRollingRecords+T.recentBuyInOutRecords}),(0,p.jsx)("p",{className:"text-xs text-muted-foreground",children:"Transactions in last 24 hours"})]})]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,p.jsxs)(He,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{className:"text-indigo-800",children:"House Performance Flow"}),(0,p.jsx)(Ke,{className:"text-indigo-600",children:"Real-time calculation from customer data"})]}),(0,p.jsx)($e,{children:(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,p.jsx)("span",{className:"text-sm text-gray-600",children:"Customer Win/Loss"}),(0,p.jsxs)("span",{className:"font-semibold ".concat(T.customerTotalWinLoss<=0?"text-green-600":"text-red-600"),children:["HK$",_(T.customerTotalWinLoss)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,p.jsx)("span",{className:"text-sm text-green-700 font-medium",children:"= House Gross Win"}),(0,p.jsxs)("span",{className:"font-bold text-green-700",children:["HK$",_(T.houseGrossWin)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,p.jsx)("span",{className:"text-sm text-gray-600",children:"- Rolling Commission"}),(0,p.jsxs)("span",{className:"font-semibold text-purple-600",children:["HK$",_(T.totalRollingCommission)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,p.jsx)("span",{className:"text-sm text-orange-700 font-medium",children:"= House Net Win"}),(0,p.jsxs)("span",{className:"font-bold text-orange-700",children:["HK$",_(T.houseNetWin)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,p.jsx)("span",{className:"text-sm text-gray-600",children:"- Trip Expenses"}),(0,p.jsxs)("span",{className:"font-semibold text-red-600",children:["HK$",_(T.totalExpenses)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg border-2 border-indigo-300",children:[(0,p.jsx)("span",{className:"text-sm text-indigo-700 font-bold",children:"House Final Profit"}),(0,p.jsxs)("span",{className:"text-xl font-bold ".concat(T.houseFinalProfit>=0?"text-green-600":"text-red-600"),children:["HK$",_(T.houseFinalProfit)]})]})]})})})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{className:"text-green-800",children:"Real-time Activity Monitor"}),(0,p.jsx)(Ke,{className:"text-green-600",children:"Live transaction data and performance ratios"})]}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"24 Hour Activity"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-xs text-gray-600",children:"Rolling Records"}),(0,p.jsx)("span",{className:"font-medium text-blue-600",children:T.recentRollingRecords})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-xs text-gray-600",children:"Buy-in/Out"}),(0,p.jsx)("span",{className:"font-medium text-green-600",children:T.recentBuyInOutRecords})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"Cash Flow Breakdown"}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-100 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Total Buy-in"}),(0,p.jsxs)("span",{className:"font-bold text-blue-700",children:["HK$",_(T.customerTotalBuyIn)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-100 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-purple-800 font-medium",children:"Total Buy-out"}),(0,p.jsxs)("span",{className:"font-bold text-purple-700",children:["HK$",_(T.customerTotalBuyOut)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-100 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-green-800 font-medium",children:"Net Cash Flow"}),(0,p.jsxs)("span",{className:"font-bold ".concat(T.customerTotalBuyOut-T.customerTotalBuyIn>=0?"text-green-700":"text-red-700"),children:["HK$",_(T.customerTotalBuyOut-T.customerTotalBuyIn)]})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"Performance Ratios"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[(0,p.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-gray-600",children:"Profit Margin"}),(0,p.jsxs)("span",{className:"font-medium",children:[T.profitMargin.toFixed(2),"%"]})]}),(0,p.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-gray-600",children:"Commission Rate"}),(0,p.jsxs)("span",{className:"font-medium",children:[T.commissionRatio.toFixed(2),"%"]})]}),(0,p.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-gray-600",children:"Expense Ratio"}),(0,p.jsxs)("span",{className:"font-medium",children:[T.expenseRatio.toFixed(2),"%"]})]})]})]})]})})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Real-time Customer Performance"}),(0,p.jsxs)(Ke,{children:["Top performing customers based on live rolling data ","agent"===n.role?"you manage":""]})]}),(0,p.jsx)($e,{children:0===A.length?(0,p.jsxs)("div",{className:"text-center py-8",children:[(0,p.jsx)(ma,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No customer data found"}),(0,p.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Customer performance will appear here once rolling records are created"})]}):(0,p.jsx)("div",{className:"space-y-4",children:A.sort((e,t)=>C(t.totalRolling)-C(e.totalRolling)).slice(0,5).map(e=>{const t=0===(n=e.totalWinLoss)?{text:"Break Even",icon:va,color:"text-gray-600"}:n>0?{text:"Customer Win",icon:xa,color:"text-red-600"}:{text:"House Win",icon:ba,color:"text-green-600"};var n;const r=t.icon,a=e.totalRolling*(e.rollingPercentage/100);return(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)(r,{className:"h-5 w-5 ".concat(t.color)}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium",children:e.name}),(0,p.jsxs)("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentName," \u2022 ",e.isActive?"Active":"Inactive"]}),(0,p.jsxs)("p",{className:"text-xs text-purple-600",children:["Commission Rate: ",e.rollingPercentage,"%"]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-right text-xs",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Rolling"}),(0,p.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",_(e.totalRolling)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Win/Loss"}),(0,p.jsxs)("div",{className:"font-medium ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:[e.totalWinLoss>=0?"+":"","HK$",_(e.totalWinLoss)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Commission"}),(0,p.jsxs)("div",{className:"font-medium text-purple-600",children:["HK$",_(a)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Cash Flow"}),(0,p.jsxs)("div",{className:"font-medium ".concat(e.totalBuyOut-e.totalBuyIn>=0?"text-green-600":"text-red-600"),children:["HK$",_(e.totalBuyOut-e.totalBuyIn)]})]})]})]},e.id)})})})]})]})}function Ca(e){if(null==e)throw new TypeError("Cannot destructure "+e)}"undefined"===typeof window||!window.document||window.document.createElement;function Ea(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const Aa=["children"],Pa=["scope","children"];function Ta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const a=()=>{const n=r.map(e=>t.createContext(e));return function(r){const a=(null===r||void 0===r?void 0:r[e])||n;return t.useMemo(()=>({["__scope".concat(e)]:c(c({},r),{},{[e]:a})}),[r,a])}};return a.scopeName=e,[function(n,a){const i=t.createContext(a),o=r.length;r=[...r,a];const s=n=>{var r;const{scope:a,children:s}=n,l=u(n,Pa),c=(null===a||void 0===a||null===(r=a[e])||void 0===r?void 0:r[o])||i,d=t.useMemo(()=>l,Object.values(l));return(0,p.jsx)(c.Provider,{value:d,children:s})};return s.displayName=n+"Provider",[s,function(r,s){var l;const c=(null===s||void 0===s||null===(l=s[e])||void 0===l?void 0:l[o])||i,u=t.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},Ia(a,...n)]}function Ia(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n[0];if(1===n.length)return a;const i=()=>{const e=n.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(n){const r=e.reduce((e,t)=>{let{useScope:r,scopeName:a}=t;const i=r(n)["__scope".concat(a)];return c(c({},e),i)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:r}),[r])}};return i.scopeName=a.scopeName,i}var Da=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{},Ma=r[" useId ".trim().toString()]||(()=>{}),Ra=0;function La(e){const[n,r]=t.useState(Ma());return Da(()=>{e||r(e=>null!==e&&void 0!==e?e:String(Ra++))},[e]),e||(n?"radix-".concat(n):"")}var za=r[" useInsertionEffect ".trim().toString()]||Da;function Fa(e){let{prop:n,defaultProp:r,onChange:a=()=>{},caller:i}=e;const[o,s,l]=function(e){let{defaultProp:n,onChange:r}=e;const[a,i]=t.useState(n),o=t.useRef(a),s=t.useRef(r);return za(()=>{s.current=r},[r]),t.useEffect(()=>{var e;o.current!==a&&(null===(e=s.current)||void 0===e||e.call(s,a),o.current=a)},[a,o]),[a,i,s]}({defaultProp:r,onChange:a}),c=void 0!==n,u=c?n:o;{const e=t.useRef(void 0!==n);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,i])}const d=t.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(n):e;var t;if(r!==n)null===(t=l.current)||void 0===t||t.call(l,r)}else s(e)},[c,n,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");function Ba(e){const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)},[])}const Ua=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Wa,Ha="dismissableLayer.update",qa="dismissableLayer.pointerDownOutside",Va="dismissableLayer.focusOutside",Ka=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$a=t.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:l,onDismiss:d}=e,f=u(e,Ua),m=t.useContext(Ka),[g,y]=t.useState(null),v=null!==(r=null===g||void 0===g?void 0:g.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,x]=t.useState({}),b=h(n,e=>y(e)),w=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),S=g?w.indexOf(g):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,O=S>=N,_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Ba(e),a=t.useRef(!1),i=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){Xa(qa,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}else n.removeEventListener("click",i.current);a.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,n=[...m.branches].some(e=>e.contains(t));O&&!n&&(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===d||void 0===d||d())},v),C=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Ba(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Xa(Va,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...m.branches].some(e=>e.contains(t))||(null===s||void 0===s||s(e),null===l||void 0===l||l(e),e.defaultPrevented||null===d||void 0===d||d())},v);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Ba(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})},[r,n])}(e=>{S===m.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},v),t.useEffect(()=>{if(g)return a&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(Wa=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Ya(),()=>{a&&1===m.layersWithOutsidePointerEventsDisabled.size&&(v.body.style.pointerEvents=Wa)}},[g,v,a,m]),t.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Ya())},[g,m]),t.useEffect(()=>{const e=()=>x({});return document.addEventListener(Ha,e),()=>document.removeEventListener(Ha,e)},[]),(0,p.jsx)(Pe.div,c(c({},f),{},{ref:b,style:c({pointerEvents:k?O?"auto":"none":void 0},e.style),onFocusCapture:Ea(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ea(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ea(e.onPointerDownCapture,_.onPointerDownCapture)}))});$a.displayName="DismissableLayer";var Ga=t.forwardRef((e,n)=>{const r=t.useContext(Ka),a=t.useRef(null),i=h(n,a);return t.useEffect(()=>{const e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,p.jsx)(Pe.div,c(c({},e),{},{ref:i}))});function Ya(){const e=new CustomEvent(Ha);document.dispatchEvent(e)}function Xa(e,t,n,r){let{discrete:a}=r;const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?function(e,t){e&&Ee.flushSync(()=>e.dispatchEvent(t))}(i,o):i.dispatchEvent(o)}Ga.displayName="DismissableLayerBranch";const Ja=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Qa="focusScope.autoFocusOnMount",Za="focusScope.autoFocusOnUnmount",ei={bubbles:!1,cancelable:!0},ti=t.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=e,s=u(e,Ja),[l,d]=t.useState(null),f=Ba(i),m=Ba(o),g=t.useRef(null),y=h(n,e=>d(e)),v=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(a){let e=function(e){if(v.paused||!l)return;const t=e.target;l.contains(t)?g.current=t:ii(g.current,{select:!0})},t=function(e){if(v.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||ii(g.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&ii(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,l,v.paused]),t.useEffect(()=>{if(l){oi.add(v);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(Qa,ei);l.addEventListener(Qa,f),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(ii(r,{select:t}),document.activeElement!==n)return}((e=ni(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&ii(l))}return()=>{l.removeEventListener(Qa,f),setTimeout(()=>{const e=new CustomEvent(Za,ei);l.addEventListener(Za,m),l.dispatchEvent(e),e.defaultPrevented||ii(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(Za,m),oi.remove(v)},0)}}var e},[l,f,m,v]);const x=t.useCallback(e=>{if(!r&&!a)return;if(v.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[a,i]=function(e){const t=ni(e),n=ri(t,e),r=ri(t.reverse(),e);return[n,r]}(t);a&&i?e.shiftKey||n!==i?e.shiftKey&&n===a&&(e.preventDefault(),r&&ii(i,{select:!0})):(e.preventDefault(),r&&ii(a,{select:!0})):n===t&&e.preventDefault()}},[r,a,v.paused]);return(0,p.jsx)(Pe.div,c(c({tabIndex:-1},s),{},{ref:y,onKeyDown:x}))});function ni(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ri(e,t){for(const n of e)if(!ai(n,{upTo:t}))return n}function ai(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ii(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}ti.displayName="FocusScope";var oi=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=si(e,t),e.unshift(t)},remove(t){var n;e=si(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function si(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const li=["container"];var ci=t.forwardRef((e,n)=>{var r;const{container:a}=e,i=u(e,li),[o,s]=t.useState(!1);Da(()=>s(!0),[]);const l=a||o&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return l?Ee.createPortal((0,p.jsx)(Pe.div,c(c({},i),{},{ref:n})),l):null});ci.displayName="Portal";var ui=e=>{const{present:n,children:r}=e,a=function(e){const[n,r]=t.useState(),a=t.useRef(null),i=t.useRef(e),o=t.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return t.useReducer((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=di(a.current);o.current="mounted"===l?e:"none"},[l]),Da(()=>{const t=a.current,n=i.current;if(n!==e){const r=o.current,a=di(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),Da(()=>{if(n){var e;let t;const r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const o=di(a.current).includes(CSS.escape(e.animationName));if(e.target===n&&o&&(c("ANIMATION_END"),!i.current)){const e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},l=e=>{e.target===n&&(o.current=di(a.current))};return n.addEventListener("animationstart",l),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{r.clearTimeout(t),n.removeEventListener("animationstart",l),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,r(e)},[])}}(n),i="function"===typeof r?r({present:a.isPresent}):t.Children.only(r),o=h(a.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof r||a.isPresent?t.cloneElement(i,{ref:o}):null};function di(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}ui.displayName="Presence";var fi=0;function hi(){t.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:pi()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:pi()),fi++,()=>{1===fi&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fi--}},[])}function pi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mi.apply(this,arguments)};function gi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function yi(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var vi="right-scroll-bar-position",xi="width-before-scroll-bar";function bi(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var wi="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,ji=new WeakMap;function Ni(e,n){var r=function(e,n){var r=(0,t.useState)(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}})[0];return r.callback=n,r.facade}(n||null,function(t){return e.forEach(function(e){return bi(e,t)})});return wi(function(){var t=ji.get(r);if(t){var n=new Set(t),a=new Set(e),i=r.current;n.forEach(function(e){a.has(e)||bi(e,null)}),a.forEach(function(e){n.has(e)||bi(e,i)})}ji.set(r,e)},[e]),r}function Si(e){return e}function ki(e,t){void 0===t&&(t=Si);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var Oi=function(e){void 0===e&&(e={});var t=ki(null);return t.options=mi({async:!0,ssr:!1},e),t}(),_i=function(){},Ci=t.forwardRef(function(e,n){var r=t.useRef(null),a=t.useState({onScrollCapture:_i,onWheelCapture:_i,onTouchMoveCapture:_i}),i=a[0],o=a[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,x=void 0===v?"div":v,b=e.gapMode,w=gi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=Ni([r,n]),S=mi(mi({},w),i);return t.createElement(t.Fragment,null,d&&t.createElement(j,{sideCar:Oi,removeScrollBar:u,shards:f,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),s?t.cloneElement(t.Children.only(l),mi(mi({},S),{ref:N})):t.createElement(x,mi({},S,{className:c,ref:N}),l))});Ci.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ci.classNames={fullWidth:xi,zeroRight:vi};var Ei,Ai=function(e){var n=e.sideCar,r=gi(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,mi({},r))};Ai.isSideCarExport=!0;function Pi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ei||n.nc;return t&&e.setAttribute("nonce",t),e}var Ti=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=Pi())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ii=function(){var e=function(){var e=Ti();return function(n,r){t.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Di={left:0,top:0,right:0,gap:0},Mi=function(e){return parseInt(e||"",10)||0},Ri=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Di;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Mi(n),Mi(r),Mi(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Li=Ii(),zi="data-scroll-locked",Fi=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(zi,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(vi," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(xi," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(vi," .").concat(vi," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(xi," .").concat(xi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(zi,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Bi=function(){var e=parseInt(document.body.getAttribute(zi)||"0",10);return isFinite(e)?e:0},Ui=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,i=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(zi,(Bi()+1).toString()),function(){var e=Bi()-1;e<=0?document.body.removeAttribute(zi):document.body.setAttribute(zi,e.toString())}},[]);var o=t.useMemo(function(){return Ri(i)},[i]);return t.createElement(Li,{styles:Fi(o,!n,i,r?"":"!important")})},Wi=!1;if("undefined"!==typeof window)try{var Hi=Object.defineProperty({},"passive",{get:function(){return Wi=!0,!0}});window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch(KR){Wi=!1}var qi=!!Wi&&{passive:!1},Vi=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Ki=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),$i(e,r)){var a=Gi(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$i=function(e,t){return"v"===e?function(e){return Vi(e,"overflowY")}(t):function(e){return Vi(e,"overflowX")}(t)},Gi=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Yi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xi=function(e){return[e.deltaX,e.deltaY]},Ji=function(e){return e&&"current"in e?e.current:e},Qi=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Zi=0,eo=[];function to(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const no=(ro=function(e){var n=t.useRef([]),r=t.useRef([0,0]),a=t.useRef(),i=t.useState(Zi++)[0],o=t.useState(Ii)[0],s=t.useRef(e);t.useEffect(function(){s.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=yi([e.lockRef.current],(e.shards||[]).map(Ji),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var n,i=Yi(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=Ki(d,u);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=Ki(d,u)),!f)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=n),!n)return!0;var h=a.current||n;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,s=n.target,l=t.contains(s),c=!1,u=o>0,d=0,f=0;do{if(!s)break;var h=Gi(e,s),p=h[0],m=h[1]-h[2]-i*p;(p||m)&&$i(e,s)&&(d+=m,f+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(f)<1||!a&&-o>f))&&(c=!0),c}(h,t,e,"h"===h?l:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(eo.length&&eo[eo.length-1]===o){var r="deltaY"in t?Xi(t):Yi(t),a=n.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(n=e.delta,a=r,n[0]===a[0]&&n[1]===a[1]);var n,a})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var i=(s.current.shards||[]).map(Ji).filter(Boolean).filter(function(e){return e.contains(t.target)});(i.length>0?l(t,i[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),u=t.useCallback(function(e,t,r,a){var i={name:e,delta:t,target:r,should:a,shadowParent:to(r)};n.current.push(i),setTimeout(function(){n.current=n.current.filter(function(e){return e!==i})},1)},[]),d=t.useCallback(function(e){r.current=Yi(e),a.current=void 0},[]),f=t.useCallback(function(t){u(t.type,Xi(t),t.target,l(t,e.lockRef.current))},[]),h=t.useCallback(function(t){u(t.type,Yi(t),t.target,l(t,e.lockRef.current))},[]);t.useEffect(function(){return eo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qi),document.addEventListener("touchmove",c,qi),document.addEventListener("touchstart",d,qi),function(){eo=eo.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,qi),document.removeEventListener("touchmove",c,qi),document.removeEventListener("touchstart",d,qi)}},[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(o,{styles:Qi(i)}):null,p?t.createElement(Ui,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Oi.useMedium(ro),Ai);var ro,ao=t.forwardRef(function(e,n){return t.createElement(Ci,mi({},e,{ref:n,sideCar:no}))});ao.classNames=Ci.classNames;const io=ao;var oo=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},so=new WeakMap,lo=new WeakMap,co={},uo=0,fo=function(e){return e&&(e.host||fo(e.parentNode))},ho=function(e,t,n,r){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=fo(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);co[n]||(co[n]=new WeakMap);var i=co[n],o=[],s=new Set,l=new Set(a),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,l=(so.get(e)||0)+1,c=(i.get(e)||0)+1;so.set(e,l),i.set(e,c),o.push(e),1===l&&a&&lo.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}})};return u(t),s.clear(),uo++,function(){o.forEach(function(e){var t=so.get(e)-1,a=i.get(e)-1;so.set(e,t),i.set(e,a),t||(lo.has(e)||e.removeAttribute(r),lo.delete(e)),a||e.removeAttribute(n)}),--uo||(so=new WeakMap,so=new WeakMap,lo=new WeakMap,co={})}},po=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||oo(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),ho(r,a,n,"aria-hidden")):function(){return null}};const mo=["__scopeDialog"],go=["forceMount"],yo=["__scopeDialog"],vo=["forceMount"],xo=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],bo=["__scopeDialog"],wo=["__scopeDialog"],jo=["__scopeDialog"];var No="Dialog",[So,ko]=Ta(No),[Oo,_o]=So(No),Co=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=t.useRef(null),c=t.useRef(null),[u,d]=Fa({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:No});return(0,p.jsx)(Oo,{scope:n,triggerRef:l,contentRef:c,contentId:La(),titleId:La(),descriptionId:La(),open:u,onOpenChange:d,onOpenToggle:t.useCallback(()=>d(e=>!e),[d]),modal:s,children:r})};Co.displayName=No;var Eo="DialogTrigger",Ao=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=u(e,mo),a=_o(Eo,n),i=h(t,a.triggerRef);return(0,p.jsx)(Pe.button,c(c({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Xo(a.open)},r),{},{ref:i,onClick:Ea(e.onClick,a.onOpenToggle)}))});Ao.displayName=Eo;var Po="DialogPortal",[To,Io]=So(Po,{forceMount:void 0}),Do=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:i}=e,o=_o(Po,n);return(0,p.jsx)(To,{scope:n,forceMount:r,children:t.Children.map(a,e=>(0,p.jsx)(ui,{present:r||o.open,children:(0,p.jsx)(ci,{asChild:!0,container:i,children:e})}))})};Do.displayName=Po;var Mo="DialogOverlay",Ro=t.forwardRef((e,t)=>{const n=Io(Mo,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=u(e,go),i=_o(Mo,e.__scopeDialog);return i.modal?(0,p.jsx)(ui,{present:r||i.open,children:(0,p.jsx)(zo,c(c({},a),{},{ref:t}))}):null});Ro.displayName=Mo;var Lo=y("DialogOverlay.RemoveScroll"),zo=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=u(e,yo),a=_o(Mo,n);return(0,p.jsx)(io,{as:Lo,allowPinchZoom:!0,shards:[a.contentRef],children:(0,p.jsx)(Pe.div,c(c({"data-state":Xo(a.open)},r),{},{ref:t,style:c({pointerEvents:"auto"},r.style)}))})}),Fo="DialogContent",Bo=t.forwardRef((e,t)=>{const n=Io(Fo,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=u(e,vo),i=_o(Fo,e.__scopeDialog);return(0,p.jsx)(ui,{present:r||i.open,children:i.modal?(0,p.jsx)(Uo,c(c({},a),{},{ref:t})):(0,p.jsx)(Wo,c(c({},a),{},{ref:t}))})});Bo.displayName=Fo;var Uo=t.forwardRef((e,n)=>{const r=_o(Fo,e.__scopeDialog),a=t.useRef(null),i=h(n,r.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return po(e)},[]),(0,p.jsx)(Ho,c(c({},e),{},{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ea(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:Ea(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Ea(e.onFocusOutside,e=>e.preventDefault())}))}),Wo=t.forwardRef((e,n)=>{const r=_o(Fo,e.__scopeDialog),a=t.useRef(!1),i=t.useRef(!1);return(0,p.jsx)(Ho,c(c({},e),{},{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,o;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(a.current||null===(o=r.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:t=>{var n,o;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(o=r.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),Ho=t.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o}=e,s=u(e,xo),l=_o(Fo,r),d=t.useRef(null),f=h(n,d);return hi(),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ti,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,p.jsx)($a,c(c({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xo(l.open)},s),{},{ref:f,onDismiss:()=>l.onOpenChange(!1)}))}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(es,{titleId:l.titleId}),(0,p.jsx)(ts,{contentRef:d,descriptionId:l.descriptionId})]})]})}),qo="DialogTitle",Vo=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=u(e,bo),a=_o(qo,n);return(0,p.jsx)(Pe.h2,c(c({id:a.titleId},r),{},{ref:t}))});Vo.displayName=qo;var Ko="DialogDescription",$o=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=u(e,wo),a=_o(Ko,n);return(0,p.jsx)(Pe.p,c(c({id:a.descriptionId},r),{},{ref:t}))});$o.displayName=Ko;var Go="DialogClose",Yo=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=u(e,jo),a=_o(Go,n);return(0,p.jsx)(Pe.button,c(c({type:"button"},r),{},{ref:t,onClick:Ea(e.onClick,()=>a.onOpenChange(!1))}))});function Xo(e){return e?"open":"closed"}Yo.displayName=Go;var Jo="DialogTitleWarning",[Qo,Zo]=function(e,n){const r=t.createContext(n),a=e=>{const{children:n}=e,a=u(e,Aa),i=t.useMemo(()=>a,Object.values(a));return(0,p.jsx)(r.Provider,{value:i,children:n})};return a.displayName=e+"Provider",[a,function(a){const i=t.useContext(r);if(i)return i;if(void 0!==n)return n;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(Jo,{contentName:Fo,titleName:qo,docsSlug:"dialog"}),es=e=>{let{titleId:n}=e;const r=Zo(Jo),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return t.useEffect(()=>{if(n){document.getElementById(n)||console.error(a)}},[a,n]),null},ts=e=>{let{contentRef:n,descriptionId:r}=e;const a=Zo("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(r&&t){document.getElementById(r)||console.warn(i)}},[i,n,r]),null},ns=Co,rs=Ao,as=Do,is=Ro,os=Bo,ss=Vo,ls=$o,cs=Yo;const us=sa("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ds=["className"],fs=["className","children"],hs=["className"],ps=["className"],ms=["className"],gs=["className"],ys=ns,vs=t.forwardRef((e,t)=>{let n=Object.assign({},(Ca(e),e));return(0,p.jsx)(rs,c({ref:t,"data-slot":"dialog-trigger"},n))});vs.displayName=rs.displayName;const xs=as;t.forwardRef((e,t)=>{let n=Object.assign({},(Ca(e),e));return(0,p.jsx)(cs,c({ref:t,"data-slot":"dialog-close"},n))}).displayName=cs.displayName;const bs=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ds);return(0,p.jsx)(is,c({ref:t,"data-slot":"dialog-overlay",className:Ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},r))});bs.displayName=is.displayName;const ws=t.forwardRef((e,t)=>{let{className:n,children:r}=e,a=u(e,fs);return(0,p.jsxs)(xs,{children:[(0,p.jsx)(bs,{}),(0,p.jsxs)(os,c(c({ref:t,"data-slot":"dialog-content",className:Ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},a),{},{children:[r,(0,p.jsxs)(cs,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,p.jsx)(us,{}),(0,p.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});ws.displayName=os.displayName;const js=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,hs);return(0,p.jsx)("div",c({ref:t,"data-slot":"dialog-header",className:Ne("flex flex-col gap-2 text-center sm:text-left",n)},r))});js.displayName="DialogHeader";t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ps);return(0,p.jsx)("div",c({ref:t,"data-slot":"dialog-footer",className:Ne("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)},r))}).displayName="DialogFooter";const Ns=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ms);return(0,p.jsx)(ss,c({ref:t,"data-slot":"dialog-title",className:Ne("text-lg leading-none font-semibold",n)},r))});Ns.displayName=ss.displayName;const Ss=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,gs);return(0,p.jsx)(ls,c({ref:t,"data-slot":"dialog-description",className:Ne("text-muted-foreground text-sm",n)},r))});Ss.displayName=ls.displayName;const ks=["__scopeAlertDialog"],Os=["__scopeAlertDialog"],_s=["__scopeAlertDialog"],Cs=["__scopeAlertDialog"],Es=["__scopeAlertDialog","children"],As=["__scopeAlertDialog"],Ps=["__scopeAlertDialog"],Ts=["__scopeAlertDialog"],Is=["__scopeAlertDialog"];var Ds="AlertDialog",[Ms,Rs]=Ta(Ds,[ko]),Ls=ko(),zs=e=>{const{__scopeAlertDialog:t}=e,n=u(e,ks),r=Ls(t);return(0,p.jsx)(ns,c(c(c({},r),n),{},{modal:!0}))};zs.displayName=Ds;var Fs=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,Os),a=Ls(n);return(0,p.jsx)(rs,c(c(c({},a),r),{},{ref:t}))});Fs.displayName="AlertDialogTrigger";var Bs=e=>{const{__scopeAlertDialog:t}=e,n=u(e,_s),r=Ls(t);return(0,p.jsx)(as,c(c({},r),n))};Bs.displayName="AlertDialogPortal";var Us=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,Cs),a=Ls(n);return(0,p.jsx)(is,c(c(c({},a),r),{},{ref:t}))});Us.displayName="AlertDialogOverlay";var Ws="AlertDialogContent",[Hs,qs]=Ms(Ws),Vs=w("AlertDialogContent"),Ks=t.forwardRef((e,n)=>{const{__scopeAlertDialog:r,children:a}=e,i=u(e,Es),o=Ls(r),s=t.useRef(null),l=h(n,s),d=t.useRef(null);return(0,p.jsx)(Qo,{contentName:Ws,titleName:$s,docsSlug:"alert-dialog",children:(0,p.jsx)(Hs,{scope:r,cancelRef:d,children:(0,p.jsxs)(os,c(c(c({role:"alertdialog"},o),i),{},{ref:l,onOpenAutoFocus:Ea(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,p.jsx)(Vs,{children:a}),(0,p.jsx)(el,{contentRef:s})]}))})})});Ks.displayName=Ws;var $s="AlertDialogTitle",Gs=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,As),a=Ls(n);return(0,p.jsx)(ss,c(c(c({},a),r),{},{ref:t}))});Gs.displayName=$s;var Ys="AlertDialogDescription",Xs=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,Ps),a=Ls(n);return(0,p.jsx)(ls,c(c(c({},a),r),{},{ref:t}))});Xs.displayName=Ys;var Js=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,Ts),a=Ls(n);return(0,p.jsx)(cs,c(c(c({},a),r),{},{ref:t}))});Js.displayName="AlertDialogAction";var Qs="AlertDialogCancel",Zs=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=u(e,Is),{cancelRef:a}=qs(Qs,n),i=Ls(n),o=h(t,a);return(0,p.jsx)(cs,c(c(c({},i),r),{},{ref:o}))});Zs.displayName=Qs;var el=e=>{let{contentRef:n}=e;const r="`".concat(Ws,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Ws,"` by passing a `").concat(Ys,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Ws,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(r)},[r,n]),null},tl=Fs,nl=Bs,rl=Us,al=Ks,il=Js,ol=Zs,sl=Gs,ll=Xs;const cl=["className"],ul=["className"],dl=["className"],fl=["className"],hl=["className"],pl=["className"],ml=["className"],gl=["className"],yl=zs,vl=t.forwardRef((e,t)=>{let n=Object.assign({},(Ca(e),e));return(0,p.jsx)(tl,c({ref:t,"data-slot":"alert-dialog-trigger"},n))});vl.displayName=tl.displayName;const xl=nl,bl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,cl);return(0,p.jsx)(rl,c({ref:t,"data-slot":"alert-dialog-overlay",className:Ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},r))});bl.displayName=rl.displayName;const wl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ul);return(0,p.jsxs)(xl,{children:[(0,p.jsx)(bl,{}),(0,p.jsx)(al,c({ref:t,"data-slot":"alert-dialog-content",className:Ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},r))]})});wl.displayName=al.displayName;const jl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,dl);return(0,p.jsx)("div",c({ref:t,"data-slot":"alert-dialog-header",className:Ne("flex flex-col gap-2 text-center sm:text-left",n)},r))});jl.displayName="AlertDialogHeader";const Nl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,fl);return(0,p.jsx)("div",c({ref:t,"data-slot":"alert-dialog-footer",className:Ne("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)},r))});Nl.displayName="AlertDialogFooter";const Sl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,hl);return(0,p.jsx)(sl,c({ref:t,"data-slot":"alert-dialog-title",className:Ne("text-lg font-semibold",n)},r))});Sl.displayName=sl.displayName;const kl=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,pl);return(0,p.jsx)(ll,c({ref:t,"data-slot":"alert-dialog-description",className:Ne("text-muted-foreground text-sm",n)},r))});kl.displayName=ll.displayName;const Ol=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,ml);return(0,p.jsx)(il,c({ref:t,"data-slot":"alert-dialog-action",className:Ne(ke(),n)},r))});Ol.displayName=il.displayName;const _l=t.forwardRef((e,t)=>{let{className:n}=e,r=u(e,gl);return(0,p.jsx)(ol,c({ref:t,"data-slot":"alert-dialog-cancel",className:Ne(ke({variant:"outline"}),n)},r))});function Cl(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}function El(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function Al(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Pl(e,t){return e.get(Al(e,t))}function Tl(e,t,n){return e.set(Al(e,t),n),n}var Il;_l.displayName=ol.displayName;const Dl=["scope","children"];function Ml(e){const n=e+"CollectionProvider",[r,a]=Ta(n),[i,o]=r(n,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:n,children:r}=e,a=t.useRef(null),o=t.useRef(new Map).current;return(0,p.jsx)(i,{scope:n,itemMap:o,collectionRef:a,children:r})};s.displayName=n;const l=e+"CollectionSlot",d=y(l),f=t.forwardRef((e,t)=>{const{scope:n,children:r}=e,a=h(t,o(l,n).collectionRef);return(0,p.jsx)(d,{ref:a,children:r})});f.displayName=l;const m=e+"CollectionItemSlot",g="data-radix-collection-item",v=y(m),x=t.forwardRef((e,n)=>{const{scope:r,children:a}=e,i=u(e,Dl),s=t.useRef(null),l=h(n,s),d=o(m,r);return t.useEffect(()=>(d.itemMap.set(s,c({ref:s},i)),()=>{d.itemMap.delete(s)})),(0,p.jsx)(v,c(c({},{[g]:""}),{},{ref:l,children:a}))});return x.displayName=m,[{Provider:s,Slot:f,ItemSlot:x},function(n){const r=o(e+"CollectionConsumer",n),a=t.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(g,"]"))),n=Array.from(r.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return n},[r.collectionRef,r.itemMap]);return a},a]}var Rl=new WeakMap;Il=new WeakMap,Map;function Ll(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=zl(t),a=r>=0?r:n+r;return a<0||a>=n?-1:a}(e,t);return-1===n?void 0:e[n]}function zl(e){return e!==e||0===e?0:Math.trunc(e)}var Fl=t.createContext(void 0);function Bl(e){const n=t.useContext(Fl);return e||n||"ltr"}const Ul=["top","right","bottom","left"],Wl=Math.min,Hl=Math.max,ql=Math.round,Vl=Math.floor,Kl=e=>({x:e,y:e}),$l={left:"right",right:"left",bottom:"top",top:"bottom"},Gl={start:"end",end:"start"};function Yl(e,t,n){return Hl(e,Wl(t,n))}function Xl(e,t){return"function"===typeof e?e(t):e}function Jl(e){return e.split("-")[0]}function Ql(e){return e.split("-")[1]}function Zl(e){return"x"===e?"y":"x"}function ec(e){return"y"===e?"height":"width"}const tc=new Set(["top","bottom"]);function nc(e){return tc.has(Jl(e))?"y":"x"}function rc(e){return Zl(nc(e))}function ac(e){return e.replace(/start|end/g,e=>Gl[e])}const ic=["left","right"],oc=["right","left"],sc=["top","bottom"],lc=["bottom","top"];function cc(e,t,n,r){const a=Ql(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?oc:ic:t?ic:oc;case"left":case"right":return t?sc:lc;default:return[]}}(Jl(e),"start"===n,r);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(ac)))),i}function uc(e){return e.replace(/left|right|bottom|top/g,e=>$l[e])}function dc(e){return"number"!==typeof e?function(e){return c({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function fc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}const hc=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],pc=["strategy"],mc=["mainAxis","crossAxis","limiter"],gc=["apply"];function yc(e,t,n){let{reference:r,floating:a}=e;const i=nc(t),o=rc(t),s=ec(o),l=Jl(t),c="y"===i,u=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,f=r[s]/2-a[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-a.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-a.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ql(t)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1)}return h}async function vc(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Xl(t,e),p=dc(h),m=s[f?"floating"===d?"reference":"floating":d],g=fc(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=fc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-b.top+p.top)/x.y,bottom:(b.bottom-g.bottom+p.bottom)/x.y,left:(g.left-b.left+p.left)/x.x,right:(b.right-g.right+p.right)/x.x}}function xc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bc(e){return Ul.some(t=>e[t]>=0)}const wc=new Set(["left","top"]);function jc(){return"undefined"!==typeof window}function Nc(e){return Oc(e)?(e.nodeName||"").toLowerCase():"#document"}function Sc(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function kc(e){var t;return null==(t=(Oc(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Oc(e){return!!jc()&&(e instanceof Node||e instanceof Sc(e).Node)}function _c(e){return!!jc()&&(e instanceof Element||e instanceof Sc(e).Element)}function Cc(e){return!!jc()&&(e instanceof HTMLElement||e instanceof Sc(e).HTMLElement)}function Ec(e){return!(!jc()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Sc(e).ShadowRoot)}const Ac=new Set(["inline","contents"]);function Pc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Hc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ac.has(a)}const Tc=new Set(["table","td","th"]);function Ic(e){return Tc.has(Nc(e))}const Dc=[":popover-open",":modal"];function Mc(e){return Dc.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const Rc=["transform","translate","scale","rotate","perspective"],Lc=["transform","translate","scale","rotate","perspective","filter"],zc=["paint","layout","strict","content"];function Fc(e){const t=Bc(),n=_c(e)?Hc(e):e;return Rc.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Lc.some(e=>(n.willChange||"").includes(e))||zc.some(e=>(n.contain||"").includes(e))}function Bc(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Uc=new Set(["html","body","#document"]);function Wc(e){return Uc.has(Nc(e))}function Hc(e){return Sc(e).getComputedStyle(e)}function qc(e){return _c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vc(e){if("html"===Nc(e))return e;const t=e.assignedSlot||e.parentNode||Ec(e)&&e.host||kc(e);return Ec(t)?t.host:t}function Kc(e){const t=Vc(e);return Wc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cc(t)&&Pc(t)?t:Kc(t)}function $c(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Kc(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),o=Sc(a);if(i){const e=Gc(o);return t.concat(o,o.visualViewport||[],Pc(a)?a:[],e&&n?$c(e):[])}return t.concat(a,$c(a,[],n))}function Gc(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Yc(e){const t=Hc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Cc(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=ql(n)!==i||ql(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function Xc(e){return _c(e)?e:e.contextElement}function Jc(e){const t=Xc(e);if(!Cc(t))return Kl(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=Yc(t);let o=(i?ql(n.width):n.width)/r,s=(i?ql(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const Qc=Kl(0);function Zc(e){const t=Sc(e);return Bc()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Qc}function eu(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=Xc(e);let o=Kl(1);t&&(r?_c(r)&&(o=Jc(r)):o=Jc(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Sc(e))&&t}(i,n,r)?Zc(i):Kl(0);let l=(a.left+s.x)/o.x,c=(a.top+s.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const e=Sc(i),t=r&&_c(r)?Sc(r):r;let n=e,a=Gc(n);for(;a&&r&&t!==n;){const e=Jc(a),t=a.getBoundingClientRect(),r=Hc(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=o,n=Sc(a),a=Gc(n)}}return fc({width:u,height:d,x:l,y:c})}function tu(e,t){const n=qc(e).scrollLeft;return t?t.left+n:eu(kc(e)).left+n}function nu(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-tu(e,n),y:n.top+t.scrollTop}}const ru=new Set(["absolute","fixed"]);function au(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Sc(e),r=kc(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const e=Bc();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}const c=tu(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-a);o<=25&&(i-=o)}else c<=25&&(i+=c);return{width:i,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=kc(e),n=qc(e),r=e.ownerDocument.body,a=Hl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Hl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tu(e);const s=-n.scrollTop;return"rtl"===Hc(r).direction&&(o+=Hl(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:s}}(kc(e));else if(_c(t))r=function(e,t){const n=eu(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Cc(e)?Jc(e):Kl(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=Zc(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return fc(r)}function iu(e,t){const n=Vc(e);return!(n===t||!_c(n)||Wc(n))&&("fixed"===Hc(n).position||iu(n,t))}function ou(e,t,n){const r=Cc(t),a=kc(t),i="fixed"===n,o=eu(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Kl(0);function c(){l.x=tu(a)}if(r||!r&&!i)if(("body"!==Nc(t)||Pc(a))&&(s=qc(t)),r){const e=eu(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!r&&a&&c();const u=!a||r||i?Kl(0):nu(a,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function su(e){return"static"===Hc(e).position}function lu(e,t){if(!Cc(e)||"fixed"===Hc(e).position)return null;if(t)return t(e);let n=e.offsetParent;return kc(e)===n&&(n=n.ownerDocument.body),n}function cu(e,t){const n=Sc(e);if(Mc(e))return n;if(!Cc(e)){let t=Vc(e);for(;t&&!Wc(t);){if(_c(t)&&!su(t))return t;t=Vc(t)}return n}let r=lu(e,t);for(;r&&Ic(r)&&su(r);)r=lu(r,t);return r&&Wc(r)&&su(r)&&!Fc(r)?n:r||function(e){let t=Vc(e);for(;Cc(t)&&!Wc(t);){if(Fc(t))return t;if(Mc(t))return null;t=Vc(t)}return null}(e)||n}const uu={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,o=kc(r),s=!!t&&Mc(t.floating);if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Kl(1);const u=Kl(0),d=Cc(r);if((d||!d&&!i)&&(("body"!==Nc(r)||Pc(o))&&(l=qc(r)),Cc(r))){const e=eu(r);c=Jc(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!o||d||i?Kl(0):nu(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:kc,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[..."clippingAncestors"===n?Mc(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=$c(e,[],!1).filter(e=>_c(e)&&"body"!==Nc(e)),a=null;const i="fixed"===Hc(e).position;let o=i?Vc(e):e;for(;_c(o)&&!Wc(o);){const t=Hc(o),n=Fc(o);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&ru.has(a.position)||Pc(o)&&!n&&iu(e,o))?r=r.filter(e=>e!==o):a=t,o=Vc(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=i[0],s=i.reduce((e,n)=>{const r=au(t,n,a);return e.top=Hl(r.top,e.top),e.right=Wl(r.right,e.right),e.bottom=Wl(r.bottom,e.bottom),e.left=Hl(r.left,e.left),e},au(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:cu,getElementRects:async function(e){const t=this.getOffsetParent||cu,n=this.getDimensions,r=await n(e.floating);return{reference:ou(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Yc(e);return{width:t,height:n}},getScale:Jc,isElement:_c,isRTL:function(e){return"rtl"===Hc(e).direction}};function du(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fu(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,u=Xc(e),d=a||i?[...u?$c(u):[],...$c(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const f=u&&s?function(e,t){let n,r=null;const a=kc(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(s||t(),!h||!p)return;const m={rootMargin:-Vl(f)+"px "+-Vl(a.clientWidth-(d+h))+"px "+-Vl(a.clientHeight-(f+p))+"px "+-Vl(d)+"px",threshold:Hl(0,Wl(1,l))||1};let g=!0;function y(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||du(u,e.getBoundingClientRect())||o(),g=!1}try{r=new IntersectionObserver(y,c(c({},m),{},{root:a.ownerDocument}))}catch(v){r=new IntersectionObserver(y,m)}r.observe(e)}(!0),i}(u,n):null;let h,p=-1,m=null;o&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let g=l?eu(e):null;return l&&function t(){const r=eu(e);g&&!du(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const hu=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),o=Jl(n),s=Ql(n),l="y"===nc(n),c=wc.has(o)?-1:1,u=i&&l?-1:1,d=Xl(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(h="end"===s?-1*p:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:c(c({},l),{},{placement:o})}}}},pu=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,i=Xl(e,t),{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=i,d=u(i,mc),f={x:n,y:r},h=await vc(t,d),p=nc(Jl(a)),m=Zl(p);let g=f[m],y=f[p];if(o){const e="y"===m?"bottom":"right";g=Yl(g+h["y"===m?"top":"left"],g,g-h[e])}if(s){const e="y"===p?"bottom":"right";y=Yl(y+h["y"===p?"top":"left"],y,y-h[e])}const v=l.fn(c(c({},t),{},{[m]:g,[p]:y}));return c(c({},v),{},{data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[p]:s}}})}}},mu=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:c}=t,d=Xl(e,t),{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0}=d,v=u(d,hc);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=Jl(a),b=nc(s),w=Jl(s)===s,j=await(null==l.isRTL?void 0:l.isRTL(c.floating)),N=p||(w||!y?[uc(s)]:function(e){const t=uc(e);return[ac(e),t,ac(t)]}(s)),S="none"!==g;!p&&S&&N.push(...cc(s,y,g,j));const k=[s,...N],O=await vc(t,v),_=[];let C=(null==(r=i.flip)?void 0:r.overflows)||[];if(f&&_.push(O[x]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=Ql(e),a=rc(e),i=ec(a);let o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=uc(o)),[o,uc(o)]}(a,o,j);_.push(O[e[0]],O[e[1]])}if(C=[...C,{placement:a,overflows:_}],!_.every(e=>e<=0)){var E,A;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=k[e];if(t){if(!("alignment"===h&&b!==nc(t))||C.every(e=>nc(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(A=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!n)switch(m){case"bestFit":{var P;const e=null==(P=C.filter(e=>{if(S){const t=nc(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=s}if(a!==n)return{reset:{placement:n}}}return{}}}},gu=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:s}=t,l=Xl(e,t),{apply:d=()=>{}}=l,f=u(l,gc),h=await vc(t,f),p=Jl(a),m=Ql(a),g="y"===nc(a),{width:y,height:v}=i.floating;let x,b;"top"===p||"bottom"===p?(x=p,b=m===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=p,x="end"===m?"top":"bottom");const w=v-h.top-h.bottom,j=y-h.left-h.right,N=Wl(v-h[x],w),S=Wl(y-h[b],j),k=!t.middlewareData.shift;let O=N,_=S;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=j),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(O=w),k&&!m){const e=Hl(h.left,0),t=Hl(h.right,0),n=Hl(h.top,0),r=Hl(h.bottom,0);g?_=y-2*(0!==e||0!==t?e+t:Hl(h.left,h.right)):O=v-2*(0!==n||0!==r?n+r:Hl(h.top,h.bottom))}await d(c(c({},t),{},{availableWidth:_,availableHeight:O}));const C=await o.getDimensions(s.floating);return y!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}},yu=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=Xl(e,t),{strategy:a="referenceHidden"}=r,i=u(r,pc);switch(a){case"referenceHidden":{const e=xc(await vc(t,c(c({},i),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:bc(e)}}}case"escaped":{const e=xc(await vc(t,c(c({},i),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:bc(e)}}}default:return{}}}}},vu=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=Xl(e,t)||{};if(null==u)return{};const f=dc(d),h={x:n,y:r},p=rc(a),m=ec(p),g=await o.getDimensions(u),y="y"===p,v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[p]-h[p]-i.floating[m],j=h[p]-i.reference[p],N=await(null==o.getOffsetParent?void 0:o.getOffsetParent(u));let S=N?N[b]:0;S&&await(null==o.isElement?void 0:o.isElement(N))||(S=s.floating[b]||i.floating[m]);const k=w/2-j/2,O=S/2-g[m]/2-1,_=Wl(f[v],O),C=Wl(f[x],O),E=_,A=S-g[m]-C,P=S/2-g[m]/2+k,T=Yl(E,P,A),I=!l.arrow&&null!=Ql(a)&&P!==T&&i.reference[m]/2-(P<E?_:C)-g[m]/2<0,D=I?P<E?P-E:P-A:0;return{[p]:h[p]+D,data:c({[p]:T,centerOffset:P-T-D},I&&{alignmentOffset:D}),reset:I}}}),xu=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Xl(e,t),d={x:n,y:r},f=nc(a),h=Zl(f);let p=d[h],m=d[f];const g=Xl(s,t),y="number"===typeof g?{mainAxis:g,crossAxis:0}:c({mainAxis:0,crossAxis:0},g);if(l){const e="y"===h?"height":"width",t=i.reference[h]-i.floating[e]+y.mainAxis,n=i.reference[h]+i.reference[e]-y.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var v,x;const e="y"===h?"width":"height",t=wc.has(Jl(a)),n=i.reference[f]-i.floating[e]+(t&&(null==(v=o.offset)?void 0:v[f])||0)+(t?0:y.crossAxis),r=i.reference[f]+i.reference[e]+(t?0:(null==(x=o.offset)?void 0:x[f])||0)-(t?y.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[h]:p,[f]:m}}}},bu=(e,t,n)=>{const r=new Map,a=c({platform:uu},n),i=c(c({},a.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=yc(u,r,l),h=r,p={},m=0;for(let g=0;g<s.length;g++){const{name:n,fn:i}=s[g],{x:y,y:v,data:x,reset:b}=await i({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=y?y:d,f=null!=v?v:f,p=c(c({},p),{},{[n]:c(c({},p[n]),x)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(u=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:d,y:f}=yc(u,h,l))),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}})(e,t,c(c({},a),{},{platform:i}))};var wu="undefined"!==typeof document?t.useLayoutEffect:function(){};function ju(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!ju(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!ju(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Nu(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Su(e,t){const n=Nu(e);return Math.round(t*n)/n}function ku(e){const n=t.useRef(e);return wu(()=>{n.current=e}),n}const Ou=(e,t)=>c(c({},hu(e)),{},{options:[e,t]}),_u=(e,t)=>c(c({},pu(e)),{},{options:[e,t]}),Cu=(e,t)=>c(c({},xu(e)),{},{options:[e,t]}),Eu=(e,t)=>c(c({},mu(e)),{},{options:[e,t]}),Au=(e,t)=>c(c({},gu(e)),{},{options:[e,t]}),Pu=(e,t)=>c(c({},yu(e)),{},{options:[e,t]}),Tu=(e,t)=>c(c({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?vu({element:n.current,padding:r}).fn(t):{}:n?vu({element:n,padding:r}).fn(t):{}}}))(e)),{},{options:[e,t]}),Iu=["children","width","height"];var Du=t.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5}=e,i=u(e,Iu);return(0,p.jsx)(Pe.svg,c(c({},i),{},{ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,p.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});Du.displayName="Arrow";var Mu=Du;const Ru=["__scopePopper","virtualRef"],Lu=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],zu=["__scopePopper"];var Fu="Popper",[Bu,Uu]=Ta(Fu),[Wu,Hu]=Bu(Fu),qu=e=>{const{__scopePopper:n,children:r}=e,[a,i]=t.useState(null);return(0,p.jsx)(Wu,{scope:n,anchor:a,onAnchorChange:i,children:r})};qu.displayName=Fu;var Vu="PopperAnchor",Ku=t.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a}=e,i=u(e,Ru),o=Hu(Vu,r),s=t.useRef(null),l=h(n,s),d=t.useRef(null);return t.useEffect(()=>{const e=d.current;d.current=(null===a||void 0===a?void 0:a.current)||s.current,e!==d.current&&o.onAnchorChange(d.current)}),a?null:(0,p.jsx)(Pe.div,c(c({},i),{},{ref:l}))});Ku.displayName=Vu;var $u="PopperContent",[Gu,Yu]=Bu($u),Xu=t.forwardRef((e,n)=>{var r,a,i,o,s,l,d,f;const{__scopePopper:m,side:g="bottom",sideOffset:y=0,align:v="center",alignOffset:x=0,arrowPadding:b=0,avoidCollisions:w=!0,collisionBoundary:j=[],collisionPadding:N=0,sticky:S="partial",hideWhenDetached:k=!1,updatePositionStrategy:O="optimized",onPlaced:_}=e,C=u(e,Lu),E=Hu($u,m),[A,P]=t.useState(null),T=h(n,e=>P(e)),[I,D]=t.useState(null),M=function(e){const[n,r]=t.useState(void 0);return Da(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),n}(I),R=null!==(r=null===M||void 0===M?void 0:M.width)&&void 0!==r?r:0,L=null!==(a=null===M||void 0===M?void 0:M.height)&&void 0!==a?a:0,z=g+("center"!==v?"-"+v:""),F="number"===typeof N?N:c({top:0,right:0,bottom:0,left:0},N),B=Array.isArray(j)?j:[j],U=B.length>0,W={padding:F,boundary:B.filter(ed),altBoundary:U},{refs:H,floatingStyles:q,placement:V,isPositioned:K,middlewareData:$}=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,h]=t.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,m]=t.useState(a);ju(p,a)||m(a);const[g,y]=t.useState(null),[v,x]=t.useState(null),b=t.useCallback(e=>{e!==S.current&&(S.current=e,y(e))},[]),w=t.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),j=o||g,N=s||v,S=t.useRef(null),k=t.useRef(null),O=t.useRef(f),_=null!=u,C=ku(u),E=ku(i),A=ku(d),P=t.useCallback(()=>{if(!S.current||!k.current)return;const e={placement:n,strategy:r,middleware:p};E.current&&(e.platform=E.current),bu(S.current,k.current,e).then(e=>{const t=c(c({},e),{},{isPositioned:!1!==A.current});T.current&&!ju(O.current,t)&&(O.current=t,Ee.flushSync(()=>{h(t)}))})},[p,n,r,E,A]);wu(()=>{!1===d&&O.current.isPositioned&&(O.current.isPositioned=!1,h(e=>c(c({},e),{},{isPositioned:!1})))},[d]);const T=t.useRef(!1);wu(()=>(T.current=!0,()=>{T.current=!1}),[]),wu(()=>{if(j&&(S.current=j),N&&(k.current=N),j&&N){if(C.current)return C.current(j,N,P);P()}},[j,N,P,C,_]);const I=t.useMemo(()=>({reference:S,floating:k,setReference:b,setFloating:w}),[b,w]),D=t.useMemo(()=>({reference:j,floating:N}),[j,N]),M=t.useMemo(()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=Su(D.floating,f.x),n=Su(D.floating,f.y);return l?c(c({},e),{},{transform:"translate("+t+"px, "+n+"px)"},Nu(D.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,l,D.floating,f.x,f.y]);return t.useMemo(()=>c(c({},f),{},{update:P,refs:I,elements:D,floatingStyles:M}),[f,P,I,D,M])}({strategy:"fixed",placement:z,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fu(...t,{animationFrame:"always"===O})},elements:{reference:E.anchor},middleware:[Ou({mainAxis:y+L,alignmentAxis:x}),w&&_u(c({mainAxis:!0,crossAxis:!1,limiter:"partial"===S?Cu():void 0},W)),w&&Eu(c({},W)),Au(c(c({},W),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:a}=e;const{width:i,height:o}=n.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(i,"px")),s.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),I&&Tu({element:I,padding:b}),td({arrowWidth:R,arrowHeight:L}),k&&Pu(c({strategy:"referenceHidden"},W))]}),[G,Y]=nd(V),X=Ba(_);Da(()=>{K&&(null===X||void 0===X||X())},[K,X]);const J=null===(i=$.arrow)||void 0===i?void 0:i.x,Q=null===(o=$.arrow)||void 0===o?void 0:o.y,Z=0!==(null===(s=$.arrow)||void 0===s?void 0:s.centerOffset),[ee,te]=t.useState();return Da(()=>{A&&te(window.getComputedStyle(A).zIndex)},[A]),(0,p.jsx)("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:c(c({},q),{},{transform:K?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[null===(l=$.transformOrigin)||void 0===l?void 0:l.x,null===(d=$.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(f=$.hide)||void 0===f?void 0:f.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,p.jsx)(Gu,{scope:m,placedSide:G,onArrowChange:D,arrowX:J,arrowY:Q,shouldHideArrow:Z,children:(0,p.jsx)(Pe.div,c(c({"data-side":G,"data-align":Y},C),{},{ref:T,style:c(c({},C.style),{},{animation:K?void 0:"none"})}))})})});Xu.displayName=$u;var Ju="PopperArrow",Qu={top:"bottom",right:"left",bottom:"top",left:"right"},Zu=t.forwardRef(function(e,t){const{__scopePopper:n}=e,r=u(e,zu),a=Yu(Ju,n),i=Qu[a.placedSide];return(0,p.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,p.jsx)(Mu,c(c({},r),{},{ref:t,style:c(c({},r.style),{},{display:"block"})}))})});function ed(e){return null!==e}Zu.displayName=Ju;var td=e=>({name:"transformOrigin",options:e,fn(t){var n,r,a,i,o;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[h,p]=nd(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+d/2,y=(null!==(i=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+f/2;let v="",x="";return"bottom"===h?(v=u?m:"".concat(g,"px"),x="".concat(-f,"px")):"top"===h?(v=u?m:"".concat(g,"px"),x="".concat(l.floating.height+f,"px")):"right"===h?(v="".concat(-f,"px"),x=u?m:"".concat(y,"px")):"left"===h&&(v="".concat(l.floating.width+f,"px"),x=u?m:"".concat(y,"px")),{data:{x:v,y:x}}}});function nd(e){const[t,n="center"]=e.split("-");return[t,n]}var rd=qu,ad=Ku,id=Xu,od=Zu;var sd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ld=t.forwardRef((e,t)=>(0,p.jsx)(Pe.span,c(c({},e),{},{ref:t,style:c(c({},sd),e.style)})));ld.displayName="VisuallyHidden";const cd=["__scopeSelect","disabled"],ud=["__scopeSelect","className","style","children","placeholder"],dd=["__scopeSelect","children"],fd=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],hd=["__scopeSelect","onPlaced"],pd=["__scopeSelect","align","collisionPadding"],md=["__scopeSelect","nonce"],gd=["__scopeSelect"],yd=["__scopeSelect"],vd=["__scopeSelect","value","disabled","textValue"],xd=["__scopeSelect","className","style"],bd=["__scopeSelect"],wd=["__scopeSelect","onAutoScroll"],jd=["__scopeSelect"],Nd=["__scopeSelect"],Sd=["__scopeSelect","value"];var kd=[" ","Enter","ArrowUp","ArrowDown"],Od=[" ","Enter"],_d="Select",[Cd,Ed,Ad]=Ml(_d),[Pd,Td]=Ta(_d,[Ad,Uu]),Id=Uu(),[Dd,Md]=Pd(_d),[Rd,Ld]=Pd(_d),zd=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:h,disabled:m,required:g,form:y}=e,v=Id(n),[x,b]=t.useState(null),[w,j]=t.useState(null),[N,S]=t.useState(!1),k=Bl(d),[O,_]=Fa({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:_d}),[C,E]=Fa({prop:s,defaultProp:l,onChange:u,caller:_d}),A=t.useRef(null),P=!x||(y||!!x.closest("form")),[T,I]=t.useState(new Set),D=Array.from(T).map(e=>e.props.value).join(";");return(0,p.jsx)(rd,c(c({},v),{},{children:(0,p.jsxs)(Dd,{required:g,scope:n,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:La(),value:C,onValueChange:E,open:O,onOpenChange:_,dir:k,triggerPointerDownPosRef:A,disabled:m,children:[(0,p.jsx)(Cd.Provider,{scope:n,children:(0,p.jsx)(Rd,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{I(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{I(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:r})}),P?(0,p.jsxs)(_f,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:e=>E(e.target.value),disabled:m,form:y,children:[void 0===C?(0,p.jsx)("option",{value:""}):null,Array.from(T)]},D):null]})}))};zd.displayName=_d;var Fd="SelectTrigger",Bd=t.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1}=e,i=u(e,cd),o=Id(r),s=Md(Fd,r),l=s.disabled||a,d=h(n,s.onTriggerChange),f=Ed(r),m=t.useRef("touch"),[g,y,v]=Ef(e=>{const t=f().filter(e=>!e.disabled),n=t.find(e=>e.value===s.value),r=Af(t,e,n);void 0!==r&&s.onValueChange(r.value)}),x=e=>{l||(s.onOpenChange(!0),v()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,p.jsx)(ad,c(c({asChild:!0},o),{},{children:(0,p.jsx)(Pe.button,c(c({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Cf(s.value)?"":void 0},i),{},{ref:d,onClick:Ea(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&x(e)}),onPointerDown:Ea(i.onPointerDown,e=>{m.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:Ea(i.onKeyDown,e=>{const t=""!==g.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||y(e.key),t&&" "===e.key||kd.includes(e.key)&&(x(),e.preventDefault())})}))}))});Bd.displayName=Fd;var Ud="SelectValue",Wd=t.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o=""}=e,s=u(e,ud),l=Md(Ud,n),{onValueNodeHasChildrenChange:d}=l,f=void 0!==i,m=h(t,l.onValueNodeChange);return Da(()=>{d(f)},[d,f]),(0,p.jsx)(Pe.span,c(c({},s),{},{ref:m,style:{pointerEvents:"none"},children:Cf(l.value)?(0,p.jsx)(p.Fragment,{children:o}):i}))});Wd.displayName=Ud;var Hd=t.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,a=u(e,dd);return(0,p.jsx)(Pe.span,c(c({"aria-hidden":!0},a),{},{ref:t,children:r||"\u25bc"}))});Hd.displayName="SelectIcon";var qd=e=>(0,p.jsx)(ci,c({asChild:!0},e));qd.displayName="SelectPortal";var Vd="SelectContent",Kd=t.forwardRef((e,n)=>{const r=Md(Vd,e.__scopeSelect),[a,i]=t.useState();if(Da(()=>{i(new DocumentFragment)},[]),!r.open){const t=a;return t?Ee.createPortal((0,p.jsx)(Gd,{scope:e.__scopeSelect,children:(0,p.jsx)(Cd.Slot,{scope:e.__scopeSelect,children:(0,p.jsx)("div",{children:e.children})})}),t):null}return(0,p.jsx)(Jd,c(c({},e),{},{ref:n}))});Kd.displayName=Vd;var $d=10,[Gd,Yd]=Pd(Vd),Xd=y("SelectContent.RemoveScroll"),Jd=t.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:w}=e,j=u(e,fd),N=Md(Vd,r),[S,k]=t.useState(null),[O,_]=t.useState(null),C=h(n,e=>k(e)),[E,A]=t.useState(null),[P,T]=t.useState(null),I=Ed(r),[D,M]=t.useState(!1),R=t.useRef(!1);t.useEffect(()=>{if(S)return po(S)},[S]),hi();const L=t.useCallback(e=>{const[t,...n]=I().map(e=>e.ref.current),[r]=n.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(null===i||void 0===i||i.scrollIntoView({block:"nearest"}),i===t&&O&&(O.scrollTop=0),i===r&&O&&(O.scrollTop=O.scrollHeight),null===i||void 0===i||i.focus(),document.activeElement!==a)return}},[I,O]),z=t.useCallback(()=>L([E,S]),[L,E,S]);t.useEffect(()=>{D&&z()},[D,z]);const{onOpenChange:F,triggerPointerDownPosRef:B}=N;t.useEffect(()=>{if(S){let e={x:0,y:0};const t=t=>{var n,r,a,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=B.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(i=B.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():S.contains(n.target)||F(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[S,F,B]),t.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[U,W]=Ef(e=>{const t=I().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=Af(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),H=t.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==N.value&&N.value===t||r)&&(A(e),r&&(R.current=!0))},[N.value]),q=t.useCallback(()=>null===S||void 0===S?void 0:S.focus(),[S]),V=t.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==N.value&&N.value===t||r)&&T(e)},[N.value]),K="popper"===a?Zd:Qd,$=K===Zd?{side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:w}:{};return(0,p.jsx)(Gd,{scope:r,content:S,viewport:O,onViewportChange:_,itemRefCallback:H,selectedItem:E,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:P,position:a,isPositioned:D,searchRef:U,children:(0,p.jsx)(io,{as:Xd,allowPinchZoom:!0,children:(0,p.jsx)(ti,{asChild:!0,trapped:N.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Ea(i,e=>{var t;null===(t=N.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,p.jsx)($a,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:(0,p.jsx)(K,c(c(c({role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:e=>e.preventDefault()},j),$),{},{onPlaced:()=>M(!0),ref:C,style:c({display:"flex",flexDirection:"column",outline:"none"},j.style),onKeyDown:Ea(j.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||W(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=I().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>L(t)),e.preventDefault()}})}))})})})})});Jd.displayName="SelectContentImpl";var Qd=t.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a}=e,i=u(e,hd),o=Md(Vd,r),s=Yd(Vd,r),[l,d]=t.useState(null),[f,m]=t.useState(null),g=h(n,e=>m(e)),y=Ed(r),v=t.useRef(!1),x=t.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:j,focusSelectedItem:N}=s,S=t.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&f&&b&&w&&j){const e=o.trigger.getBoundingClientRect(),t=f.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),r=j.getBoundingClientRect();if("rtl"!==o.dir){const a=r.left-t.left,i=n.left-a,o=e.left-i,s=e.width+o,c=Math.max(s,t.width),u=window.innerWidth-$d,d=Cl(i,[$d,Math.max($d,u-c)]);l.style.minWidth=s+"px",l.style.left=d+"px"}else{const a=t.right-r.right,i=window.innerWidth-n.right-a,o=window.innerWidth-e.right-i,s=e.width+o,c=Math.max(s,t.width),u=window.innerWidth-$d,d=Cl(i,[$d,Math.max($d,u-c)]);l.style.minWidth=s+"px",l.style.right=d+"px"}const i=y(),s=window.innerHeight-2*$d,c=b.scrollHeight,u=window.getComputedStyle(f),d=parseInt(u.borderTopWidth,10),h=parseInt(u.paddingTop,10),p=parseInt(u.borderBottomWidth,10),m=d+h+c+parseInt(u.paddingBottom,10)+p,g=Math.min(5*w.offsetHeight,m),x=window.getComputedStyle(b),N=parseInt(x.paddingTop,10),S=parseInt(x.paddingBottom,10),k=e.top+e.height/2-$d,O=s-k,_=w.offsetHeight/2,C=d+h+(w.offsetTop+_),E=m-C;if(C<=k){const e=i.length>0&&w===i[i.length-1].ref.current;l.style.bottom="0px";const t=f.clientHeight-b.offsetTop-b.offsetHeight,n=C+Math.max(O,_+(e?S:0)+t+p);l.style.height=n+"px"}else{const e=i.length>0&&w===i[0].ref.current;l.style.top="0px";const t=Math.max(k,d+b.offsetTop+(e?N:0)+_)+E;l.style.height=t+"px",b.scrollTop=C-k+b.offsetTop}l.style.margin="".concat($d,"px 0"),l.style.minHeight=g+"px",l.style.maxHeight=s+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>v.current=!0)}},[y,o.trigger,o.valueNode,l,f,b,w,j,o.dir,a]);Da(()=>S(),[S]);const[k,O]=t.useState();Da(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const _=t.useCallback(e=>{e&&!0===x.current&&(S(),null===N||void 0===N||N(),x.current=!1)},[S,N]);return(0,p.jsx)(ef,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:_,children:(0,p.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,p.jsx)(Pe.div,c(c({},i),{},{ref:g,style:c({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});Qd.displayName="SelectItemAlignedPosition";var Zd=t.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=$d}=e,i=u(e,pd),o=Id(n);return(0,p.jsx)(id,c(c(c({},o),i),{},{ref:t,align:r,collisionPadding:a,style:c(c({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Zd.displayName="SelectPopperPosition";var[ef,tf]=Pd(Vd,{}),nf="SelectViewport",rf=t.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a}=e,i=u(e,md),o=Yd(nf,r),s=tf(nf,r),l=h(n,o.onViewportChange),d=t.useRef(0);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,p.jsx)(Cd.Slot,{scope:r,children:(0,p.jsx)(Pe.div,c(c({"data-radix-select-viewport":"",role:"presentation"},i),{},{ref:l,style:c({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:Ea(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=s;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(d.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*$d,a=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),o=Math.max(a,i);if(o<r){const a=o+e,i=Math.min(r,a),s=a-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});rf.displayName=nf;var af="SelectGroup",[of,sf]=Pd(af),lf=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=u(e,gd),a=La();return(0,p.jsx)(of,{scope:n,id:a,children:(0,p.jsx)(Pe.div,c(c({role:"group","aria-labelledby":a},r),{},{ref:t}))})});lf.displayName=af;var cf="SelectLabel",uf=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=u(e,yd),a=sf(cf,n);return(0,p.jsx)(Pe.div,c(c({id:a.id},r),{},{ref:t}))});uf.displayName=cf;var df="SelectItem",[ff,hf]=Pd(df),pf=t.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:i=!1,textValue:o}=e,s=u(e,vd),l=Md(df,r),d=Yd(df,r),f=l.value===a,[m,g]=t.useState(null!==o&&void 0!==o?o:""),[y,v]=t.useState(!1),x=h(n,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,a,i)}),b=La(),w=t.useRef("touch"),j=()=>{i||(l.onValueChange(a),l.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,p.jsx)(ff,{scope:r,value:a,disabled:i,textId:b,isSelected:f,onItemTextChange:t.useCallback(e=>{g(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,p.jsx)(Cd.ItemSlot,{scope:r,value:a,disabled:i,textValue:m,children:(0,p.jsx)(Pe.div,c(c({role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s),{},{ref:x,onFocus:Ea(s.onFocus,()=>v(!0)),onBlur:Ea(s.onBlur,()=>v(!1)),onClick:Ea(s.onClick,()=>{"mouse"!==w.current&&j()}),onPointerUp:Ea(s.onPointerUp,()=>{"mouse"===w.current&&j()}),onPointerDown:Ea(s.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:Ea(s.onPointerMove,e=>{var t;(w.current=e.pointerType,i)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ea(s.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:Ea(s.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Od.includes(e.key)&&j()," "===e.key&&e.preventDefault())})}))})})});pf.displayName=df;var mf="SelectItemText",gf=t.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:i}=e,o=u(e,xd),s=Md(mf,r),l=Yd(mf,r),d=hf(mf,r),f=Ld(mf,r),[m,g]=t.useState(null),y=h(n,e=>g(e),d.onItemTextChange,e=>{var t;return null===(t=l.itemTextRefCallback)||void 0===t?void 0:t.call(l,e,d.value,d.disabled)}),v=null===m||void 0===m?void 0:m.textContent,x=t.useMemo(()=>(0,p.jsx)("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=f;return Da(()=>(b(x),()=>w(x)),[b,w,x]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Pe.span,c(c({id:d.textId},o),{},{ref:y})),d.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ee.createPortal(o.children,s.valueNode):null]})});gf.displayName=mf;var yf="SelectItemIndicator",vf=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=u(e,bd);return hf(yf,n).isSelected?(0,p.jsx)(Pe.span,c(c({"aria-hidden":!0},r),{},{ref:t})):null});vf.displayName=yf;var xf="SelectScrollUpButton",bf=t.forwardRef((e,n)=>{const r=Yd(xf,e.__scopeSelect),a=tf(xf,e.__scopeSelect),[i,o]=t.useState(!1),s=h(n,a.onScrollButtonChange);return Da(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,p.jsx)(Nf,c(c({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});bf.displayName=xf;var wf="SelectScrollDownButton",jf=t.forwardRef((e,n)=>{const r=Yd(wf,e.__scopeSelect),a=tf(wf,e.__scopeSelect),[i,o]=t.useState(!1),s=h(n,a.onScrollButtonChange);return Da(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,p.jsx)(Nf,c(c({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});jf.displayName=wf;var Nf=t.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a}=e,i=u(e,wd),o=Yd("SelectScrollButton",r),s=t.useRef(null),l=Ed(r),d=t.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),Da(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[l]),(0,p.jsx)(Pe.div,c(c({"aria-hidden":!0},i),{},{ref:n,style:c({flexShrink:0},i.style),onPointerDown:Ea(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(a,50))}),onPointerMove:Ea(i.onPointerMove,()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===s.current&&(s.current=window.setInterval(a,50))}),onPointerLeave:Ea(i.onPointerLeave,()=>{d()})}))}),Sf=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=u(e,jd);return(0,p.jsx)(Pe.div,c(c({"aria-hidden":!0},r),{},{ref:t}))});Sf.displayName="SelectSeparator";var kf="SelectArrow",Of=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=u(e,Nd),a=Id(n),i=Md(kf,n),o=Yd(kf,n);return i.open&&"popper"===o.position?(0,p.jsx)(od,c(c(c({},a),r),{},{ref:t})):null});Of.displayName=kf;var _f=t.forwardRef((e,n)=>{let{__scopeSelect:r,value:a}=e,i=u(e,Sd);const o=t.useRef(null),s=h(n,o),l=function(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}(a);return t.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==a&&n){const t=new Event("change",{bubbles:!0});n.call(e,a),e.dispatchEvent(t)}},[l,a]),(0,p.jsx)(Pe.select,c(c({},i),{},{style:c(c({},sd),i.style),ref:s,defaultValue:a}))});function Cf(e){return""===e||void 0===e}function Ef(e){const n=Ba(e),r=t.useRef(""),a=t.useRef(0),i=t.useCallback(e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[n]),o=t.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,i,o]}function Af(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=function(e,t){return e.map((n,r)=>e[(t+r)%e.length])}(e,Math.max(a,0));1===r.length&&(i=i.filter(e=>e!==n));const o=i.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}_f.displayName="SelectBubbleInput";var Pf=zd,Tf=Bd,If=Wd,Df=Hd,Mf=qd,Rf=Kd,Lf=rf,zf=pf,Ff=gf,Bf=vf,Uf=bf,Wf=jf;const Hf=sa("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qf=sa("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Vf=sa("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Kf=["className","size","children"],$f=["className","children","position"],Gf=["className","children"],Yf=["className"],Xf=["className"];function Jf(e){let t=Object.assign({},(Ca(e),e));return(0,p.jsx)(Pf,c({"data-slot":"select"},t))}function Qf(e){let t=Object.assign({},(Ca(e),e));return(0,p.jsx)(If,c({"data-slot":"select-value"},t))}function Zf(e){let{className:t,size:n="default",children:r}=e,a=u(e,Kf);return(0,p.jsxs)(Tf,c(c({"data-slot":"select-trigger","data-size":n,className:Ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},a),{},{children:[r,(0,p.jsx)(Df,{asChild:!0,children:(0,p.jsx)(Hf,{className:"size-4 opacity-50"})})]}))}function eh(e){let{className:t,children:n,position:r="popper"}=e,a=u(e,$f);return(0,p.jsx)(Mf,{children:(0,p.jsxs)(Rf,c(c({"data-slot":"select-content",className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r},a),{},{children:[(0,p.jsx)(nh,{}),(0,p.jsx)(Lf,{className:Ne("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),(0,p.jsx)(rh,{})]}))})}function th(e){let{className:t,children:n}=e,r=u(e,Gf);return(0,p.jsxs)(zf,c(c({"data-slot":"select-item",className:Ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t)},r),{},{children:[(0,p.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,p.jsx)(Bf,{children:(0,p.jsx)(qf,{className:"size-4"})})}),(0,p.jsx)(Ff,{children:n})]}))}function nh(e){let{className:t}=e,n=u(e,Yf);return(0,p.jsx)(Uf,c(c({"data-slot":"select-scroll-up-button",className:Ne("flex cursor-default items-center justify-center py-1",t)},n),{},{children:(0,p.jsx)(Vf,{className:"size-4"})}))}function rh(e){let{className:t}=e,n=u(e,Xf);return(0,p.jsx)(Wf,c(c({"data-slot":"select-scroll-down-button",className:Ne("flex cursor-default items-center justify-center py-1",t)},n),{},{children:(0,p.jsx)(Hf,{className:"size-4"})}))}const ah=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],ih=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var oh="rovingFocusGroup.onEntryFocus",sh={bubbles:!1,cancelable:!0},lh="RovingFocusGroup",[ch,uh,dh]=Ml(lh),[fh,hh]=Ta(lh,[dh]),[ph,mh]=fh(lh),gh=t.forwardRef((e,t)=>(0,p.jsx)(ch.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(ch.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(yh,c(c({},e),{},{ref:t}))})}));gh.displayName=lh;var yh=t.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1}=e,g=u(e,ah),y=t.useRef(null),v=h(n,y),x=Bl(o),[b,w]=Fa({prop:s,defaultProp:null!==l&&void 0!==l?l:null,onChange:d,caller:lh}),[j,N]=t.useState(!1),S=Ba(f),k=uh(r),O=t.useRef(!1),[_,C]=t.useState(0);return t.useEffect(()=>{const e=y.current;if(e)return e.addEventListener(oh,S),()=>e.removeEventListener(oh,S)},[S]),(0,p.jsx)(ph,{scope:r,orientation:a,dir:x,loop:i,currentTabStopId:b,onItemFocus:t.useCallback(e=>w(e),[w]),onItemShiftTab:t.useCallback(()=>N(!0),[]),onFocusableItemAdd:t.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>C(e=>e-1),[]),children:(0,p.jsx)(Pe.div,c(c({tabIndex:j||0===_?-1:0,"data-orientation":a},g),{},{ref:v,style:c({outline:"none"},e.style),onMouseDown:Ea(e.onMouseDown,()=>{O.current=!0}),onFocus:Ea(e.onFocus,e=>{const t=!O.current;if(e.target===e.currentTarget&&t&&!j){const t=new CustomEvent(oh,sh);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=k().filter(e=>e.focusable);wh([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),m)}}O.current=!1}),onBlur:Ea(e.onBlur,()=>N(!1))}))})}),vh="RovingFocusGroupItem",xh=t.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:o,children:s}=e,l=u(e,ih),d=La(),f=o||d,h=mh(vh,r),m=h.currentTabStopId===f,g=uh(r),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:x}=h;return t.useEffect(()=>{if(a)return y(),()=>v()},[a,y,v]),(0,p.jsx)(ch.ItemSlot,{scope:r,id:f,focusable:a,active:i,children:(0,p.jsx)(Pe.span,c(c({tabIndex:m?0:-1,"data-orientation":h.orientation},l),{},{ref:n,onMouseDown:Ea(e.onMouseDown,e=>{a?h.onItemFocus(f):e.preventDefault()}),onFocus:Ea(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:Ea(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:bh[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const r=n.indexOf(e.currentTarget);n=h.loop?function(e,t){return e.map((n,r)=>e[(t+r)%e.length])}(n,r+1):n.slice(r+1)}setTimeout(()=>wh(n))}}),children:"function"===typeof s?s({isCurrentTabStop:m,hasTabStop:null!=x}):s}))})});xh.displayName=vh;var bh={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var jh=gh,Nh=xh;const Sh=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],kh=["__scopeTabs","loop"],Oh=["__scopeTabs","value","disabled"],_h=["__scopeTabs","value","forceMount","children"];var Ch="Tabs",[Eh,Ah]=Ta(Ch,[hh]),Ph=hh(),[Th,Ih]=Eh(Ch),Dh=t.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic"}=e,d=u(e,Sh),f=Bl(s),[h,m]=Fa({prop:r,onChange:a,defaultProp:null!==i&&void 0!==i?i:"",caller:Ch});return(0,p.jsx)(Th,{scope:n,baseId:La(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:l,children:(0,p.jsx)(Pe.div,c(c({dir:f,"data-orientation":o},d),{},{ref:t}))})});Dh.displayName=Ch;var Mh="TabsList",Rh=t.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0}=e,a=u(e,kh),i=Ih(Mh,n),o=Ph(n);return(0,p.jsx)(jh,c(c({asChild:!0},o),{},{orientation:i.orientation,dir:i.dir,loop:r,children:(0,p.jsx)(Pe.div,c(c({role:"tablist","aria-orientation":i.orientation},a),{},{ref:t}))}))});Rh.displayName=Mh;var Lh="TabsTrigger",zh=t.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1}=e,i=u(e,Oh),o=Ih(Lh,n),s=Ph(n),l=Uh(o.baseId,r),d=Wh(o.baseId,r),f=r===o.value;return(0,p.jsx)(Nh,c(c({asChild:!0},s),{},{focusable:!a,active:f,children:(0,p.jsx)(Pe.button,c(c({type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l},i),{},{ref:t,onMouseDown:Ea(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:Ea(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:Ea(e.onFocus,()=>{const e="manual"!==o.activationMode;f||a||!e||o.onValueChange(r)})}))}))});zh.displayName=Lh;var Fh="TabsContent",Bh=t.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:i,children:o}=e,s=u(e,_h),l=Ih(Fh,r),d=Uh(l.baseId,a),f=Wh(l.baseId,a),h=a===l.value,m=t.useRef(h);return t.useEffect(()=>{const e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,p.jsx)(ui,{present:i||h,children:t=>{let{present:r}=t;return(0,p.jsx)(Pe.div,c(c({"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:f,tabIndex:0},s),{},{ref:n,style:c(c({},e.style),{},{animationDuration:m.current?"0s":void 0}),children:r&&o}))}})});function Uh(e,t){return"".concat(e,"-trigger-").concat(t)}function Wh(e,t){return"".concat(e,"-content-").concat(t)}Bh.displayName=Fh;var Hh=Dh,qh=Rh,Vh=zh,Kh=Bh;const $h=["className"],Gh=["className"],Yh=["className"],Xh=["className"];function Jh(e){let{className:t}=e,n=u(e,$h);return(0,p.jsx)(Hh,c({"data-slot":"tabs",className:Ne("flex flex-col gap-2",t)},n))}function Qh(e){let{className:t}=e,n=u(e,Gh);return(0,p.jsx)(qh,c({"data-slot":"tabs-list",className:Ne("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t)},n))}function Zh(e){let{className:t}=e,n=u(e,Yh);return(0,p.jsx)(Vh,c({"data-slot":"tabs-trigger",className:Ne("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},n))}function ep(e){let{className:t}=e,n=u(e,Xh);return(0,p.jsx)(Kh,c({"data-slot":"tabs-content",className:Ne("flex-1 outline-none",t)},n))}const tp=["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"],np=["__scopeCollapsible"],rp=["forceMount"],ap=["__scopeCollapsible","present","children"];var ip="Collapsible",[op,sp]=Ta(ip),[lp,cp]=op(ip),up=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:a,defaultOpen:i,disabled:o,onOpenChange:s}=e,l=u(e,tp),[d,f]=Fa({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:s,caller:ip});return(0,p.jsx)(lp,{scope:r,disabled:o,contentId:La(),open:d,onOpenToggle:t.useCallback(()=>f(e=>!e),[f]),children:(0,p.jsx)(Pe.div,c(c({"data-state":gp(d),"data-disabled":o?"":void 0},l),{},{ref:n}))})});up.displayName=ip;var dp="CollapsibleTrigger",fp=t.forwardRef((e,t)=>{const{__scopeCollapsible:n}=e,r=u(e,np),a=cp(dp,n);return(0,p.jsx)(Pe.button,c(c({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":gp(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},r),{},{ref:t,onClick:Ea(e.onClick,a.onOpenToggle)}))});fp.displayName=dp;var hp="CollapsibleContent",pp=t.forwardRef((e,t)=>{const{forceMount:n}=e,r=u(e,rp),a=cp(hp,e.__scopeCollapsible);return(0,p.jsx)(ui,{present:n||a.open,children:e=>{let{present:n}=e;return(0,p.jsx)(mp,c(c({},r),{},{ref:t,present:n}))}})});pp.displayName=hp;var mp=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:a,children:i}=e,o=u(e,ap),s=cp(hp,r),[l,d]=t.useState(a),f=t.useRef(null),m=h(n,f),g=t.useRef(0),y=g.current,v=t.useRef(0),x=v.current,b=s.open||l,w=t.useRef(b),j=t.useRef(void 0);return t.useEffect(()=>{const e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),Da(()=>{const e=f.current;if(e){j.current=j.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();g.current=t.height,v.current=t.width,w.current||(e.style.transitionDuration=j.current.transitionDuration,e.style.animationName=j.current.animationName),d(a)}},[s.open,a]),(0,p.jsx)(Pe.div,c(c({"data-state":gp(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b},o),{},{ref:m,style:c({"--radix-collapsible-content-height":y?"".concat(y,"px"):void 0,"--radix-collapsible-content-width":x?"".concat(x,"px"):void 0},e.style),children:b&&i}))});function gp(e){return e?"open":"closed"}var yp=up;function vp(e){let t=Object.assign({},(Ca(e),e));return(0,p.jsx)(yp,c({"data-slot":"collapsible"},t))}function xp(e){let t=Object.assign({},(Ca(e),e));return(0,p.jsx)(fp,c({"data-slot":"collapsible-trigger"},t))}function bp(e){let t=Object.assign({},(Ca(e),e));return(0,p.jsx)(pp,c({"data-slot":"collapsible-content"},t))}const wp=sa("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),jp=sa("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Np=sa("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sp=sa("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),kp=sa("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Op(e){let{attachments:n=[],onAttachmentsChange:r,currentUser:a="Unknown User",maxFileSize:i=5,allowedTypes:o=["image/*","application/pdf",".doc",".docx",".xls",".xlsx",".txt"],disabled:s=!1,onUpload:l}=e;const c=(0,t.useRef)(null),[u,d]=(0,t.useState)(!1),[f,h]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),y=Array.isArray(n)?n:[],v=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},x=e=>e.startsWith("image/")||"application/pdf"===e||e.startsWith("text/");return(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{ref:c,type:"file",multiple:!0,accept:o.join(","),onChange:async e=>{const t=e.target.files;if(t&&0!==t.length){h(null),d(!0);try{const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(r.size>1024*i*1024){h('File "'.concat(r.name,'" is too large. Maximum size is ').concat(i,"MB."));continue}if(!o.some(e=>e.includes("*")?r.type.startsWith(e.replace("*","")):r.type===e||r.name.toLowerCase().endsWith(e))){h('File "'.concat(r.name,'" is not a supported file type.'));continue}const s=await new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}),l={id:"file_".concat(Date.now(),"_").concat(n),name:r.name,size:r.size,type:r.type,data:s,uploadedAt:(new Date).toISOString(),uploadedBy:a};e.push(l)}e.length>0&&(l?l(e):r([...y,...e]))}catch(KR){h("Failed to upload files. Please try again."),console.error("File upload error:",KR)}finally{d(!1),c.current&&(c.current.value="")}}},className:"hidden",disabled:s}),(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:u||s,className:"w-full",children:u?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Upload Files"]})}),f&&(0,p.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md flex items-center space-x-2",children:[(0,p.jsx)(jp,{className:"w-4 h-4 text-red-600"}),(0,p.jsx)("span",{className:"text-sm text-red-700",children:f}),(0,p.jsx)(Oe,{variant:"ghost",size:"sm",onClick:()=>h(null),className:"ml-auto p-1 h-auto",children:(0,p.jsx)(us,{className:"w-3 h-3"})})]}),(0,p.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum file size: ",i,"MB. Supported formats: Images, PDF, Documents, Spreadsheets"]})]}),y&&y.length>0&&(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("h4",{className:"font-medium text-gray-900",children:["Attached Files (",y.length,")"]}),(0,p.jsx)("div",{className:"space-y-2",children:y.map(e=>{return(0,p.jsx)(He,{className:"p-3",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,p.jsx)("span",{className:"text-lg",children:(t=e.type,t.startsWith("image/")?"\ud83d\uddbc\ufe0f":"application/pdf"===t?"\ud83d\udcc4":t.includes("word")||t.includes("doc")?"\ud83d\udcdd":t.includes("sheet")||t.includes("excel")?"\ud83d\udcca":t.includes("text")?"\ud83d\udcc4":"\ud83d\udcc1")}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,p.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,p.jsx)("span",{children:v(e.size)}),(0,p.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,p.jsx)("span",{children:new Date(e.uploadedAt).toLocaleDateString()})]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-1",children:[x(e.type)&&(0,p.jsx)(Oe,{variant:"ghost",size:"sm",onClick:()=>(e=>{g(e)})(e),className:"p-2",children:(0,p.jsx)(Np,{className:"w-4 h-4"})}),(0,p.jsx)(Oe,{variant:"ghost",size:"sm",onClick:()=>(e=>{try{const t=document.createElement("a");t.href=e.data,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(f){console.error("Download error:",f),h("Failed to download file.")}})(e),className:"p-2",children:(0,p.jsx)(Sp,{className:"w-4 h-4"})}),!s&&(0,p.jsx)(Oe,{variant:"ghost",size:"sm",onClick:()=>(e=>{try{const t=y.filter(t=>t.id!==e);r(t)}catch(f){console.error("Delete error:",f),h("Failed to delete file.")}})(e.id),className:"p-2 text-red-600 hover:text-red-700",children:(0,p.jsx)(kp,{className:"w-4 h-4"})})]})]})},e.id);var t})})]}),m&&(0,p.jsx)(ys,{open:!!m,onOpenChange:()=>g(null),children:(0,p.jsxs)(ws,{className:"max-w-4xl max-h-[80vh]",children:[(0,p.jsx)(js,{children:(0,p.jsx)(Ns,{children:m.name})}),(0,p.jsxs)("div",{className:"overflow-auto",children:[m.type.startsWith("image/")&&(0,p.jsx)("img",{src:m.data,alt:m.name,className:"max-w-full h-auto"}),"application/pdf"===m.type&&(0,p.jsx)("iframe",{src:m.data,className:"w-full h-96",title:m.name}),m.type.startsWith("text/")&&(0,p.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,p.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:(0,p.jsx)("p",{className:"text-gray-600",children:"Text file preview not available. Please download to view."})})})]})]})})]})}function _p(e){let{children:n}=e;const[r,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(!1),s=(0,t.useCallback)(e=>{a(e),console.error("\ud83d\udd34 Application Error:",e)},[]),l=(0,t.useCallback)(()=>{a("")},[]);return(0,p.jsxs)(p.Fragment,{children:[r&&(0,p.jsx)("div",{className:"fixed top-4 right-4 left-4 md:left-auto md:max-w-md z-50",children:(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50 shadow-lg",children:[(0,p.jsx)(la,{className:"h-5 w-5 text-red-500"}),(0,p.jsx)(Qe,{className:"text-red-800 pr-8",children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"font-medium mb-1",children:"Database Error"}),(0,p.jsx)("p",{className:"text-sm",children:r}),(0,p.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,p.jsx)(Oe,{size:"sm",variant:"outline",onClick:async()=>{o(!0);try{await Zr.isHealthy()?l():a("Database connection is still unavailable. Please try again later.")}catch(r){const t=r instanceof Error?r.message:"Unknown error occurred";a("Connection retry failed: ".concat(t))}finally{o(!1)}},disabled:i,className:"h-7 px-2 text-xs border-red-300 text-red-700 hover:bg-red-100",children:i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(da,{className:"w-3 h-3 mr-1"}),"Retry"]})}),(0,p.jsx)(Oe,{size:"sm",variant:"ghost",onClick:l,className:"h-7 px-2 text-xs text-red-700 hover:bg-red-100",children:"Dismiss"})]})]}),(0,p.jsx)(Oe,{size:"sm",variant:"ghost",onClick:l,className:"h-6 w-6 p-0 text-red-500 hover:bg-red-100",children:(0,p.jsx)(us,{className:"w-4 h-4"})})]})})]})}),n(s,l)]})}function Cp(e){const t=t=>(0,p.jsx)(_p,{children:(n,r)=>(0,p.jsx)(e,c(c({},t),{},{showError:n,clearError:r}))});return t.displayName="withErrorHandler(".concat(e.displayName||e.name,")"),t}const Ep=sa("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ap=sa("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Pp=sa("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Tp=sa("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),Ip=sa("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Dp=sa("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Mp=sa("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Rp=sa("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Lp=sa("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),zp=sa("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Fp=sa("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Bp=sa("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Up=sa("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),Wp=sa("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Hp=sa("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);const qp=Cp(function(e){let{user:n,showError:r,clearError:a}=e;const[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[f,h]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null),[N,S]=(0,t.useState)(null),[k,O]=(0,t.useState)(null),[_,C]=(0,t.useState)(!0),[E,A]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),[I,D]=(0,t.useState)(null),[M,R]=(0,t.useState)({name:"",email:"",phone:"",agentId:""}),[L,z]=(0,t.useState)({creditLimit:0}),F=(0,t.useCallback)(async()=>{try{A(!0),a(),console.log("\ud83d\udd04 Loading real-time customer data from Supabase...");const[e,t,n,r,i]=await Promise.all([Zr.get("customers",[]),Zr.get("agents",[]),Zr.get("trips",[]),Zr.get("rollingRecords",[]),Zr.get("buyInOutRecords",[])]),s=e.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=i.filter(t=>t.customerId===e.id),a=f.reduce((e,t)=>e+t.amount,0),o=(m.reduce((e,t)=>e+t.amount,0),t.reduce((e,t)=>e+(t.winLoss||0),0)),s=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),l=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return c(c({},e),{},{totalRolling:a,totalWinLoss:o,totalBuyIn:s,totalBuyOut:l,attachments:e.attachments||[],isAgent:e.isAgent||!1,sourceAgentId:e.sourceAgentId||void 0,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),u=n.map(e=>{var t;return c(c({},e),{},{calculatedTotalRolling:.014*(e.totalRolling||0),attachments:e.attachments||[],customers:(null===(t=e.customers)||void 0===t?void 0:t.map(t=>{const n=r.filter(n=>n.customerId===t.customerId&&n.recordedAt>=e.date).reduce((e,t)=>e+(t.winLoss||0),0);return c(c({},t),{},{winLoss:n,rollingPercentage:t.rollingPercentage||1.4,calculatedRollingAmount:t.calculatedRollingAmount||.014*(t.rollingAmount||0)})}))||[]})});o(s),l(t),d(u),h(r),g(i),D(new Date),console.log("\u2705 Loaded real-time data: ".concat(s.length," customers, ").concat(t.length," agents, ").concat(u.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time customer data:",e),r("Failed to load customer data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{C(!1),A(!1)}},[a,r]);(0,t.useEffect)(()=>{F();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time customer data refresh triggered"),F()},3e4);return()=>{clearInterval(e)}},[F]);const B="agent"===n.role&&n.agentId?i.filter(e=>e.agentId===n.agentId):i,U=async e=>{try{T(!0),a(),console.log("\ud83d\udcbe Saving customers to Supabase..."),await Zr.save("customers",e),o(e),console.log("\u2705 Successfully saved customers to Supabase"),await F()}catch(t){throw console.error("\u274c Error saving customers:",t),r("Failed to save customer data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}finally{T(!1)}},W=async e=>{try{const t=i.map(t=>t.id===e?c(c({},t),{},{isActive:!t.isActive}):t);await U(t)}catch(t){}},H="agent"===n.role&&n.agentId?s.filter(e=>e.id===n.agentId):s.filter(e=>e.isActive),q=e=>{switch(e){case"planned":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=e=>0===e?{text:"Break Even",icon:va,bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}:e>0?{text:"Customer Win",icon:xa,bgColor:"bg-green-100",textColor:"text-green-700",iconColor:"text-green-600"}:{text:"House Win",icon:Ep,bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"},K="admin"===n.role,$="agent"===n.role,G="staff"===n.role;return _?(0,p.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Loading real-time customer data from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Customer Data Connected to Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:["Rolling amounts, win/loss, and trip data update automatically every 30 seconds",I&&" \u2022 Last sync: ".concat(I.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[P&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]}),E&&(0,p.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-1 animate-spin"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:F,disabled:P||E,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,p.jsxs)(Je,{children:[(0,p.jsx)(pa,{className:"w-4 h-4"}),(0,p.jsxs)(Qe,{children:[(0,p.jsx)("strong",{children:"Enhanced Customer Management:"})," Real-time rolling amounts and win/loss calculations, full customer profile editing with credit limits, and live trip history updates."]})]}),G&&(0,p.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(Np,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Customer Information - View Only"}),(0,p.jsx)("p",{className:"text-xs text-blue-600",children:"You have read-only access to customer information, trip history, and documents."})]})]})}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Customer Management"}),(0,p.jsx)("p",{className:"text-gray-600",children:$?"Manage your customers with real-time rolling data and complete profile editing":G?"View customer information, real-time data, and trip history":"Manage all customers with live data updates and comprehensive profile management"})]}),(K||$)&&(0,p.jsxs)(ys,{open:y,onOpenChange:v,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{onClick:()=>{j(null),R({name:"",email:"",phone:"",agentId:"agent"===n.role&&n.agentId?n.agentId:""}),v(!0)},disabled:P,children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:w?"Edit Customer":"Add New Customer"}),(0,p.jsx)(Ss,{children:w?"Update basic customer information":"Add a new customer with basic details. You can add extended details after creation."})]}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=s.find(e=>e.id===M.agentId);if(!e)return void r("Please select a valid agent");let t;if(w)t=i.map(t=>t.id===w.id?c(c(c({},t),M),{},{agentName:e.name}):t);else{const n=c(c({id:"cust_".concat(Date.now())},M),{},{agentName:e.name,createdAt:(new Date).toISOString().split("T")[0],totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,isActive:!0,attachments:[],isAgent:!1,rollingPercentage:1.4,creditLimit:0,availableCredit:0});t=[...i,n]}await U(t),R({name:"",email:"",phone:"",agentId:""}),j(null),v(!1)}catch(t){}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"name",children:"Name"}),(0,p.jsx)(Ce,{id:"name",value:M.name,onChange:e=>R(c(c({},M),{},{name:e.target.value})),placeholder:"Customer full name",required:!0,disabled:P})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"email",children:"Email"}),(0,p.jsx)(Ce,{id:"email",type:"email",value:M.email,onChange:e=>R(c(c({},M),{},{email:e.target.value})),placeholder:"customer@email.com",required:!0,disabled:P})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"phone",children:"Phone"}),(0,p.jsx)(Ce,{id:"phone",value:M.phone,onChange:e=>R(c(c({},M),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:P})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"agent",children:"Agent"}),(0,p.jsxs)(Jf,{value:M.agentId,onValueChange:e=>R(c(c({},M),{},{agentId:e})),disabled:"agent"===n.role||P,children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{placeholder:"Select an agent"})}),(0,p.jsx)(eh,{children:H.map(e=>(0,p.jsx)(th,{value:e.id,children:e.name},e.id))})]})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:P,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:P,children:P?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,p.jsxs)(p.Fragment,{children:[w?"Update":"Add"," Customer"]})})]})]})]})]})]}),(0,p.jsx)("div",{className:"grid gap-6",children:0===B.length?(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"text-center py-12",children:(0,p.jsxs)("p",{className:"text-gray-500",children:["No customers found. ",G?"Contact an administrator to add customers.":"Add your first customer to get started."]})})}):B.map(e=>{var t;const n=(e=>{const t=[];return u.forEach(n=>{var r;const a=null===(r=n.customers)||void 0===r?void 0:r.find(t=>t.customerId===e);a&&t.push({tripId:n.id,tripName:n.name,tripDate:n.date,tripStatus:n.status,agentName:n.agentName||"Unknown Agent",customerData:a})}),t.sort((e,t)=>new Date(t.tripDate||"").getTime()-new Date(e.tripDate||"").getTime())})(e.id),r=(a=e.id,f.filter(e=>e.customerId===a).sort((e,t)=>new Date(t.recordedAt).getTime()-new Date(e.recordedAt).getTime()));var a;const o=(e=>m.filter(t=>t.customerId===e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()))(e.id),s=k===e.id;return(0,p.jsx)(vp,{open:s,onOpenChange:()=>(e=>{O(k===e?null:e)})(e.id),children:(0,p.jsxs)(He,{className:"overflow-hidden",children:[(0,p.jsx)(xp,{asChild:!0,children:(0,p.jsx)(qe,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:e.name}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),e.attachments&&e.attachments.length>0&&(0,p.jsxs)(tt,{variant:"outline",className:"flex items-center space-x-1",children:[(0,p.jsx)(Tp,{className:"w-3 h-3"}),(0,p.jsx)("span",{children:e.attachments.length})]}),n.length>0&&(0,p.jsxs)(tt,{variant:"outline",className:"flex items-center space-x-1",children:[(0,p.jsx)(Oa,{className:"w-3 h-3"}),(0,p.jsxs)("span",{children:[n.length," trips"]})]}),r.length>0&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,p.jsx)(Ip,{className:"w-3 h-3 mr-1"}),r.length," records"]}),e.isAgent&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,p.jsx)(ka,{className:"w-3 h-3 mr-1"}),"Agent"]}),G&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,p.jsx)(Np,{className:"w-3 h-3 mr-1"}),"View Only"]}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,p.jsx)(wa,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),(0,p.jsxs)(Ke,{children:["Customer since ",e.createdAt," \u2022 Agent: ",e.agentName]})]}),(0,p.jsx)("div",{className:"flex items-center space-x-2",children:s?(0,p.jsx)(Vf,{className:"w-5 h-5 text-gray-400"}):(0,p.jsx)(Hf,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Dp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.email})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Mp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.phone})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Na,{className:"w-4 h-4 text-blue-600"}),(0,p.jsxs)("span",{className:"text-sm font-medium",children:["Rolling: $",(e.totalRolling||0).toLocaleString()]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(e.totalWinLoss||0)>=0?(0,p.jsx)(xa,{className:"w-4 h-4 text-green-600"}):(0,p.jsx)(Ep,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)("span",{className:"text-sm font-medium ".concat((e.totalWinLoss||0)>=0?"text-green-600":"text-red-600"),children:["W/L: $",(e.totalWinLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Rp,{className:"w-4 h-4 text-purple-600"}),(0,p.jsxs)("span",{className:"text-sm",children:["Cash: $",((e.totalBuyOut||0)-(e.totalBuyIn||0)).toLocaleString()]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Lp,{className:"w-4 h-4 text-orange-600"}),(0,p.jsxs)("span",{className:"text-sm",children:["Credit: $",(e.creditLimit||0).toLocaleString()]})]})]}),(K||$)&&(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{j(e),R({name:e.name,email:e.email,phone:e.phone,agentId:e.agentId}),v(!0)})(e),disabled:P,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Edit Basic Info"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{S(e),z({creditLimit:e.creditLimit||0}),b(!0)})(e),disabled:P,children:[(0,p.jsx)(Fp,{className:"w-4 h-4 mr-2"}),"Edit Details"]}),e.isActive?(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsx)(Oe,{variant:"destructive",size:"sm",disabled:P,children:"Deactivate"})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Deactivate Customer"}),(0,p.jsxs)(kl,{children:['Are you sure you want to deactivate "',e.name,'"? Deactivated customers will no longer be able to participate in new trips or transactions, but their existing data and trip history will be preserved.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>W(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:P,children:P?"Saving...":"Deactivate Customer"})]})]})]}):(0,p.jsx)(Oe,{variant:"default",size:"sm",onClick:()=>W(e.id),disabled:P,children:P?"Saving...":"Activate"})]}),(0,p.jsx)(bp,{className:"mt-6",children:(0,p.jsxs)(Jh,{defaultValue:"info",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-5",children:[(0,p.jsxs)(Zh,{value:"info",className:"flex items-center space-x-2",children:[(0,p.jsx)(Bp,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Profile"})]}),(0,p.jsxs)(Zh,{value:"trips",className:"flex items-center space-x-2",children:[(0,p.jsx)(Oa,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Trips (",n.length,")"]})]}),(0,p.jsxs)(Zh,{value:"rolling",className:"flex items-center space-x-2",children:[(0,p.jsx)(Ip,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Rolling (",r.length,")"]})]}),(0,p.jsxs)(Zh,{value:"cash",className:"flex items-center space-x-2",children:[(0,p.jsx)(Rp,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Cash Flow (",o.length,")"]})]}),(0,p.jsxs)(Zh,{value:"files",className:"flex items-center space-x-2",children:[(0,p.jsx)(Tp,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,p.jsxs)(ep,{value:"info",className:"space-y-4 mt-6",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,p.jsx)(Bp,{className:"w-4 h-4 mr-2"}),"Basic Information"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,p.jsx)("p",{className:"text-lg",children:e.name})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,p.jsx)("p",{children:e.email})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,p.jsx)("p",{children:e.phone})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Agent"}),(0,p.jsx)("p",{children:e.agentName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,p.jsx)("p",{children:e.createdAt})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,p.jsx)(Up,{className:"w-4 h-4 mr-2"}),"Identity & Personal"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Passport Number"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"ID Number"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Nationality"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Occupation"}),(0,p.jsx)("p",{children:"Not provided"})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,p.jsx)(Wp,{className:"w-4 h-4 mr-2"}),"Preferences & Financial"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Hobby"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Gaming Preferences"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Credit Limit"}),(0,p.jsxs)("p",{className:"font-medium",children:["$",(e.creditLimit||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Available Credit"}),(0,p.jsxs)("p",{className:"font-medium",children:["$",(e.availableCredit||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Emergency Contact"}),(0,p.jsx)("p",{children:"Not provided"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Emergency Phone"}),(0,p.jsx)("p",{children:"Not provided"})]})]})]}),(0,p.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,p.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-2"}),"Real-time Financial Summary"]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Total Rolling"}),(0,p.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["$",(e.totalRolling||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Total Win/Loss"}),(0,p.jsxs)("p",{className:"text-xl font-bold ".concat((e.totalWinLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.totalWinLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Buy-in Total"}),(0,p.jsxs)("p",{className:"text-xl font-bold text-blue-500",children:["$",(e.totalBuyIn||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Buy-out Total"}),(0,p.jsxs)("p",{className:"text-xl font-bold text-purple-500",children:["$",(e.totalBuyOut||0).toLocaleString()]})]})]})]})]}),(0,p.jsx)(ep,{value:"trips",className:"space-y-4 mt-6",children:0===n.length?(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(Oa,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,p.jsx)("p",{children:"No trip history available"})]}):(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("h4",{className:"font-medium text-gray-900",children:"Trip Participation History"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,p.jsx)(wa,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),n.map(e=>{const t=V(e.customerData.winLoss||0),n=t.icon;return(0,p.jsx)(He,{className:"p-4",children:(0,p.jsx)("div",{className:"flex justify-between items-start",children:(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,p.jsx)("h5",{className:"font-medium",children:e.tripName}),(0,p.jsx)(tt,{className:q(e.tripStatus),children:e.tripStatus}),(0,p.jsxs)(tt,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,p.jsx)(n,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,p.jsx)("span",{children:t.text})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Date"}),(0,p.jsx)("p",{children:e.tripDate})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Rolling Amount"}),(0,p.jsxs)("p",{className:"font-medium",children:["$",(e.customerData.rollingAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Win/Loss (Real-time)"}),(0,p.jsxs)("p",{className:"font-medium ".concat((e.customerData.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.customerData.winLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Agent"}),(0,p.jsx)("p",{children:e.agentName})]})]})]})})},e.tripId)})]})}),(0,p.jsx)(ep,{value:"rolling",className:"space-y-4 mt-6",children:0===r.length?(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(Ip,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,p.jsx)("p",{children:"No rolling records available"})]}):(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("h4",{className:"font-medium text-gray-900",children:"Rolling Records"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,p.jsx)(wa,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),r.slice(0,10).map(e=>{const t=V(e.winLoss||0),n=t.icon;return(0,p.jsx)(He,{className:"p-4",children:(0,p.jsx)("div",{className:"flex justify-between items-start",children:(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,p.jsx)("h5",{className:"font-medium",children:e.gameType}),e.verified&&(0,p.jsxs)(tt,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,p.jsx)(pa,{className:"w-3 h-3 mr-1"}),"Verified"]}),(0,p.jsxs)(tt,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,p.jsx)(n,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,p.jsx)("span",{children:t.text})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Rolling Amount"}),(0,p.jsxs)("p",{className:"font-medium",children:["$",(e.rollingAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Win/Loss"}),(0,p.jsxs)("p",{className:"font-medium ".concat((e.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.winLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Buy-in"}),(0,p.jsxs)("p",{className:"font-medium text-blue-600",children:["$",(e.buyInAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Buy-out"}),(0,p.jsxs)("p",{className:"font-medium text-purple-600",children:["$",(e.buyOutAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Recorded"}),(0,p.jsx)("p",{children:new Date(e.recordedAt).toLocaleDateString()})]})]})]})})},e.id)}),r.length>10&&(0,p.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Showing 10 most recent records out of ",r.length," total"]})]})}),(0,p.jsx)(ep,{value:"cash",className:"space-y-4 mt-6",children:0===o.length?(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(Rp,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,p.jsx)("p",{children:"No cash flow records available"})]}):(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("h4",{className:"font-medium text-gray-900",children:"Cash Flow Records"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,p.jsx)(wa,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),o.slice(0,10).map(e=>(0,p.jsx)(He,{className:"p-4",children:(0,p.jsx)("div",{className:"flex justify-between items-start",children:(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,p.jsx)("h5",{className:"font-medium capitalize",children:e.transactionType}),(0,p.jsxs)(tt,{variant:"outline",className:"buy-in"===e.transactionType?"bg-blue-50 text-blue-700":"bg-purple-50 text-purple-700",children:["buy-in"===e.transactionType?(0,p.jsx)(Hp,{className:"w-3 h-3 mr-1"}):(0,p.jsx)(Sa,{className:"w-3 h-3 mr-1"}),e.transactionType]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Amount"}),(0,p.jsxs)("p",{className:"font-medium ".concat("buy-in"===e.transactionType?"text-blue-600":"text-purple-600"),children:["$",e.amount.toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Venue"}),(0,p.jsx)("p",{children:e.venue||"Not specified"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Staff"}),(0,p.jsx)("p",{children:e.staffName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Date"}),(0,p.jsx)("p",{children:new Date(e.timestamp).toLocaleDateString()})]})]})]})})},e.id)),o.length>10&&(0,p.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Showing 10 most recent records out of ",o.length," total"]})]})}),(0,p.jsxs)(ep,{value:"files",className:"space-y-4 mt-6",children:[!G&&(0,p.jsx)(Op,{attachments:e.attachments||[],onAttachmentsChange:t=>(async(e,t)=>{try{const n=i.map(n=>n.id===e?c(c({},n),{},{attachments:t}):n);await U(n)}catch(n){}})(e.id,t),disabled:G}),e.attachments&&e.attachments.length>0&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("h4",{className:"font-medium text-gray-900",children:"Attached Files"}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.attachments.map(e=>(0,p.jsxs)(He,{className:"p-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Tp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(1)," KB \u2022 ",new Date(e.uploadedAt).toLocaleDateString()]})]})]}),e.type.startsWith("image/")&&(0,p.jsx)("img",{src:e.data,alt:e.name,className:"mt-2 w-full h-32 object-cover rounded"})]},e.id))})]})]})]})})]})]})},e.id)})}),(0,p.jsx)(ys,{open:x,onOpenChange:b,children:(0,p.jsxs)(ws,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Edit Customer Details"}),(0,p.jsx)(Ss,{children:"Update customer credit limit and financial details"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N)try{const e=i.map(e=>e.id===N.id?c(c(c({},e),L),{},{availableCredit:L.creditLimit-(e.totalRolling||0)}):e);await U(e),b(!1),S(null)}catch(t){}},className:"space-y-6",children:[(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"creditLimit",children:"Credit Limit (HKD)"}),(0,p.jsx)(Ce,{id:"creditLimit",type:"number",value:L.creditLimit,onChange:e=>z(c(c({},L),{},{creditLimit:parseFloat(e.target.value)||0})),placeholder:"0",disabled:P})]})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:P,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:P,children:P?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving Details..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2"}),"Save Details"]})})]})]})]})})]})}),Vp=["commissionRate","sharePercentage"];const Kp=Cp(function(e){let{user:n,showError:r,clearError:a}=e;const[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[d,f]=(0,t.useState)(!1),[h,m]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[v,x]=(0,t.useState)(!0),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)({name:"",email:"",phone:""});(0,t.useEffect)(()=>{S()},[]);const S=async()=>{try{x(!0),a(),console.log("\ud83d\udd04 Loading agent data from Supabase...");const[e,t]=await Promise.all([Zr.get("agents",[]),Zr.get("customers",[])]),n=e.map(e=>{const t=e,{commissionRate:n,sharePercentage:r}=t,a=u(t,Vp);return c(c({},a),{},{isCustomer:!0,customerId:a.customerId||void 0,attachments:a.attachments||[]})}),r=t.map(e=>c(c({},e),{},{isAgent:e.isAgent||!1,sourceAgentId:e.sourceAgentId||void 0}));o(n),l(r),console.log("\u2705 Loaded ".concat(n.length," agents, ").concat(r.length," customers from Supabase"))}catch(e){console.error("\u274c Error loading agent data:",e),r("Failed to load agent data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{x(!1)}},k=async e=>{try{w(!0),a(),console.log("\ud83d\udcbe Saving agents to Supabase..."),await Zr.save("agents",e),o(e),console.log("\u2705 Successfully saved agents to Supabase")}catch(t){throw console.error("\u274c Error saving agents:",t),r("Failed to save agent data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}finally{w(!1)}},O=async e=>{try{a(),console.log("\ud83d\udcbe Saving customers to Supabase..."),await Zr.save("customers",e),l(e),console.log("\u2705 Successfully saved customers to Supabase")}catch(t){throw console.error("\u274c Error saving customers:",t),r("Failed to save customer data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}},_=async e=>{const t="customer_".concat(Date.now()),n={id:t,name:e.name,email:e.email,phone:e.phone,agentId:e.id,agentName:e.name,createdAt:(new Date).toISOString().split("T")[0],totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,isActive:!0,attachments:[],rollingPercentage:1.4,isAgent:!0,sourceAgentId:e.id};try{const r=i.map(n=>n.id===e.id?c(c({},n),{},{customerId:t}):n);await Promise.all([k(r),O([...s,n])])}catch(r){throw r}},C=async e=>{if(e.customerId)try{const t=s.map(t=>t.id===e.customerId?c(c({},t),{},{name:e.name,email:e.email,phone:e.phone,agentName:e.name}):t);await O(t)}catch(t){throw t}},E=async e=>{try{const t=i.map(t=>t.id===e?c(c({},t),{},{isActive:!t.isActive}):t);await k(t)}catch(t){}},A="admin"===n.role,P="staff"===n.role;return v?(0,p.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Loading agent data from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Connected to Supabase Database"}),(0,p.jsx)("p",{className:"text-xs text-green-600",children:"All agent data is immediately saved to cloud database"})]}),b&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),P&&(0,p.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(Np,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Agent Information - View Only"}),(0,p.jsx)("p",{className:"text-xs text-blue-600",children:"You have read-only access to agent information and contact details."})]})]})}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Agent Management"}),(0,p.jsx)("p",{className:"text-gray-600",children:P?"View agent information and contact details.":"Manage agents who bring customers to the casino. All agents are automatically customers."})]}),A&&(0,p.jsxs)(ys,{open:d,onOpenChange:f,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{onClick:()=>{m(null),N({name:"",email:"",phone:""}),f(!0)},disabled:b,children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Agent"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:h?"Edit Agent":"Add New Agent"}),(0,p.jsx)(Ss,{children:h?"Update agent information":"Add a new agent to the system"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e;if(h)e=i.map(e=>{if(e.id===h.id){const t=c(c(c({},e),j),{},{isCustomer:!0});return e.customerId?C(t):_(t),t}return e});else{const t={id:"agent_".concat(Date.now()),name:j.name,email:j.email,phone:j.phone,isCustomer:!0,createdAt:(new Date).toISOString().split("T")[0],isActive:!0,attachments:[]};await _(t),e=[...i,t]}await k(e),N({name:"",email:"",phone:""}),m(null),f(!1)}catch(t){}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"name",children:"Name"}),(0,p.jsx)(Ce,{id:"name",value:j.name,onChange:e=>N(c(c({},j),{},{name:e.target.value})),placeholder:"Agent full name",required:!0,disabled:b})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"email",children:"Email"}),(0,p.jsx)(Ce,{id:"email",type:"email",value:j.email,onChange:e=>N(c(c({},j),{},{email:e.target.value})),placeholder:"agent@email.com",required:!0,disabled:b})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"phone",children:"Phone"}),(0,p.jsx)(Ce,{id:"phone",value:j.phone,onChange:e=>N(c(c({},j),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:b})]}),(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-green-700",children:[(0,p.jsx)("strong",{children:"Note:"})," All agents are automatically registered as customers and can participate in trips and gambling activities."]})}),(0,p.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,p.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,p.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Profit Sharing"})}),(0,p.jsx)("p",{className:"text-xs text-blue-700",children:"Agent profit sharing percentages are configured per trip in the Projects section."})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:b,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:b,children:b?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,p.jsxs)(p.Fragment,{children:[h?"Update":"Add"," Agent"]})})]})]})]})]})]}),(0,p.jsx)("div",{className:"grid gap-6",children:0===i.length?(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"text-center py-12",children:(0,p.jsx)("p",{className:"text-gray-500",children:P?"No agents found in the system.":"No agents found. Add your first agent to get started."})})}):i.map(e=>{var t;const r=g===e.id;return(0,p.jsx)(vp,{open:r,onOpenChange:()=>{return t=e.id,void y(g===t?null:t);var t},children:(0,p.jsxs)(He,{className:"overflow-hidden",children:[(0,p.jsx)(xp,{asChild:!0,children:(0,p.jsx)(qe,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:e.name}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),e.attachments&&e.attachments.length>0&&(0,p.jsxs)(tt,{variant:"outline",className:"flex items-center space-x-1",children:[(0,p.jsx)(Tp,{className:"w-3 h-3"}),(0,p.jsx)("span",{children:e.attachments.length})]}),P&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,p.jsx)(Np,{className:"w-3 h-3 mr-1"}),"View Only"]})]}),(0,p.jsxs)(Ke,{children:["Agent since ",e.createdAt]})]}),(0,p.jsx)("div",{className:"flex items-center space-x-2",children:r?(0,p.jsx)(Vf,{className:"w-5 h-5 text-gray-400"}):(0,p.jsx)(Hf,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Dp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.email})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Mp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.phone})]})]}),A&&(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{m(e),N({name:e.name,email:e.email,phone:e.phone}),f(!0)})(e),disabled:b,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.isActive?(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsx)(Oe,{variant:"destructive",size:"sm",disabled:b,children:"Deactivate"})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Deactivate Agent"}),(0,p.jsxs)(kl,{children:['Are you sure you want to deactivate "',e.name,'"? Deactivated agents will no longer be able to bring customers or participate in trips, but their existing data and customer relationships will be preserved. This action will also affect their customer record if they are registered as a customer.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>E(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:b,children:b?"Saving...":"Deactivate Agent"})]})]})]}):(0,p.jsx)(Oe,{variant:"default",size:"sm",onClick:()=>E(e.id),disabled:b,children:b?"Saving...":"Activate"})]}),(0,p.jsx)(bp,{className:"mt-6",children:(0,p.jsxs)(Jh,{defaultValue:"info",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"info",className:"flex items-center space-x-2",children:[(0,p.jsx)(ka,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Agent Information"})]}),(0,p.jsxs)(Zh,{value:"files",className:"flex items-center space-x-2",children:[(0,p.jsx)(Tp,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,p.jsxs)(ep,{value:"info",className:"space-y-4 mt-6",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,p.jsx)("p",{className:"text-lg",children:e.name})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,p.jsx)("p",{children:e.email})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,p.jsx)("p",{children:e.phone})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,p.jsx)("p",{children:e.createdAt})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,p.jsx)(ka,{className:"w-3 h-3 mr-1"}),"Agent"]})]})]})]}),(0,p.jsx)("div",{className:"pt-4 border-t",children:(0,p.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,p.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,p.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Profit Sharing Information"})}),(0,p.jsx)("p",{className:"text-sm text-blue-700",children:"This agent's profit sharing percentages are configured individually for each trip in the Projects section. As both an agent and customer, they can participate in trips and receive commissions based on their role in each trip."})]})})]}),(0,p.jsxs)(ep,{value:"files",className:"space-y-4 mt-6",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Document Management"}),(0,p.jsx)("p",{className:"text-sm text-gray-400",children:A?"Upload passport, photo, and other important documents for this agent.":"View uploaded documents for this agent."})]}),A?(0,p.jsx)(Op,{attachments:e.attachments||[],onAttachmentsChange:t=>(async(e,t)=>{try{const n=i.map(n=>n.id===e?c(c({},n),{},{attachments:t}):n);await k(n)}catch(n){}})(e.id,t),currentUser:n.username,disabled:b}):(0,p.jsx)("div",{className:"space-y-2",children:e.attachments&&e.attachments.length>0?e.attachments.map(e=>(0,p.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(Tp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB \u2022 Uploaded by ",e.uploadedBy," on ",new Date(e.uploadedAt).toLocaleDateString()]})]})]})},e.id)):(0,p.jsx)("p",{className:"text-sm text-gray-500 text-center py-8",children:"No documents uploaded for this agent."})})]})]})})]})]})},e.id)})})]})}),$p=["className"];function Gp(e){let{className:t}=e,n=u(e,$p);return(0,p.jsx)("textarea",c({"data-slot":"textarea",className:Ne("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t)},n))}const Yp=sa("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Xp=sa("log-in",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Jp=sa("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qp=sa("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zp=sa("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),em=["src","alt","style","className"];function tm(e){const[n,r]=(0,t.useState)(!1),{src:a,alt:i,style:o,className:s}=e,l=u(e,em);return n?(0,p.jsx)("div",{className:"inline-block bg-gray-100 text-center align-middle ".concat(null!==s&&void 0!==s?s:""),style:o,children:(0,p.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,p.jsx)("img",c(c({src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image"},l),{},{"data-original-url":a}))})}):(0,p.jsx)("img",c(c({src:a,alt:i,className:s,style:o},l),{},{onError:()=>{r(!0)}}))}const nm=["isAgent","agentId","permissions"];const rm=Cp(function(e){let{user:n,showError:r,clearError:a}=e;const[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[d,f]=(0,t.useState)([]),[h,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[O,_]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[A,P]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(null),[R,L]=(0,t.useState)(""),[z,F]=(0,t.useState)(""),[B,U]=(0,t.useState)(!1),[W,H]=(0,t.useState)(!0),[q,V]=(0,t.useState)(!1),[K,$]=(0,t.useState)({name:"",email:"",phone:"",position:""}),[G,Y]=(0,t.useState)({username:"",password:"",confirmPassword:""});(0,t.useEffect)(()=>{X()},[]);const X=async()=>{try{H(!0),a(),console.log("\ud83d\udd04 Loading staff data from Supabase...");const[e,t,n,r]=await Promise.all([Zr.get("staff",[]),Zr.get("staff",[]),Zr.get("staff_shifts",[]),Zr.get("users",[])]),i=e.map(e=>{const t=e,{isAgent:n,agentId:r,permissions:a}=t,i=u(t,nm);return c(c({},i),{},{attachments:i.attachments||[]})});o(i),l(t),f(n),console.log("\u2705 Loaded ".concat(i.length," staff, ").concat(t.length," accounts, ").concat(n.length," shifts from Supabase")),await J(t,r)}catch(e){console.error("\u274c Error loading staff data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Failed to load staff data: ".concat(t))}finally{H(!1)}},J=async(e,t)=>{try{const n=[{id:"admin-1",username:"admin",password:"admin123",role:"admin"},{id:"agent-1",username:"agent1",password:"agent123",role:"agent",agentId:"agent-1"}],r=t.filter(e=>"staff"!==e.role),a=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,staffId:e.staffId})),i=[...n.filter(e=>!r.find(t=>t.id===e.id)),...r,...a];await Zr.save("users",i),console.log("\u2705 Synchronized staff accounts with users")}catch(n){console.error("\u274c Error syncing staff with users:",n)}},Q=async e=>{try{V(!0),a(),console.log("\ud83d\udcbe Saving staff to Supabase..."),await Zr.save("staff",e),o(e),console.log("\u2705 Successfully saved staff to Supabase")}catch(t){console.error("\u274c Error saving staff:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save staff data: ".concat(e)),t}finally{V(!1)}},Z=async e=>{try{a(),console.log("\ud83d\udcbe Saving staff accounts to Supabase..."),await Promise.all([Zr.save("staffAccounts",e),ee(e)]),l(e),console.log("\u2705 Successfully saved staff accounts to Supabase")}catch(t){console.error("\u274c Error saving staff accounts:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save staff account data: ".concat(e)),t}},ee=async e=>{try{const t=(await Zr.get("users",[])).filter(e=>"staff"!==e.role),n=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,staffId:e.staffId})),r=[...t,...n];await Zr.save("users",r)}catch(t){throw console.error("\u274c Error syncing staff accounts with users:",t),t}},te=async e=>{try{a(),console.log("\ud83d\udcbe Saving shifts to Supabase..."),await Zr.save("shifts",e),f(e),console.log("\u2705 Successfully saved shifts to Supabase")}catch(t){console.error("\u274c Error saving shifts:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save shift data: ".concat(e)),t}},ne=()=>{$({name:"",email:"",phone:"",position:""}),N(null),m(!1)},re=()=>{Y({username:"",password:"",confirmPassword:""}),k(null),y(!1),U(!1)},ae=e=>{k(e);const t=s.find(t=>t.staffId===e.id);Y(t?{username:t.username,password:t.password,confirmPassword:t.password}:{username:"",password:"",confirmPassword:""}),y(!0)},ie=async e=>{try{const t=i.map(t=>t.id===e?c(c({},t),{},{isActive:!t.isActive}):t),n=s.map(t=>t.staffId===e?c(c({},t),{},{isActive:!t.isActive}):t);await Promise.all([Q(t),Z(n)])}catch(t){}},oe=e=>s.find(t=>t.staffId===e);return W?(0,p.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Loading staff data from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Connected to Supabase Database"}),(0,p.jsx)("p",{className:"text-xs text-green-600",children:"All staff data is immediately saved to cloud database"})]}),q&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),(0,p.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(ca,{className:"w-5 h-5 text-amber-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Staff Login Management - Admin Only"}),(0,p.jsx)("p",{className:"text-xs text-amber-600",children:"You can create, edit, and manage staff login credentials. Staff members can only login with the credentials you provide."})]})]})}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Staff Management"}),(0,p.jsx)("p",{className:"text-gray-600",children:"Manage casino staff, their login credentials, and shift tracking with photo verification"})]}),(0,p.jsxs)(ys,{open:h,onOpenChange:m,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{onClick:()=>m(!0),disabled:q,children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Staff"]})}),(0,p.jsxs)(ws,{className:"max-w-2xl",children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:j?"Edit Staff Member":"Add New Staff Member"}),(0,p.jsx)(Ss,{children:j?"Update staff information":"Add a new staff member to the system"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e;if(j)e=i.map(e=>e.id===j.id?c(c({},e),K):e);else{const t=c(c({id:"staff-".concat(Date.now())},K),{},{createdAt:(new Date).toISOString().split("T")[0],isActive:!0,attachments:[]});e=[...i,t]}await Q(e),ne()}catch(t){}},className:"space-y-4",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"name",children:"Name"}),(0,p.jsx)(Ce,{id:"name",value:K.name,onChange:e=>$(c(c({},K),{},{name:e.target.value})),placeholder:"Staff member name",required:!0,disabled:q})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"position",children:"Position"}),(0,p.jsx)(Ce,{id:"position",value:K.position,onChange:e=>$(c(c({},K),{},{position:e.target.value})),placeholder:"Floor Manager, Cashier, etc.",required:!0,disabled:q})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"email",children:"Email"}),(0,p.jsx)(Ce,{id:"email",type:"email",value:K.email,onChange:e=>$(c(c({},K),{},{email:e.target.value})),placeholder:"staff@casino.com",required:!0,disabled:q})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"phone",children:"Phone"}),(0,p.jsx)(Ce,{id:"phone",value:K.phone,onChange:e=>$(c(c({},K),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:q})]})]}),(0,p.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,p.jsx)("strong",{children:"Note:"}),' After creating a staff member, you\'ll need to set up their login credentials separately using the "Manage Login" button.']})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:q,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:q,children:q?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,p.jsxs)(p.Fragment,{children:[j?"Update":"Add"," Staff Member"]})})]})]})]})]})]}),(0,p.jsx)(ys,{open:g,onOpenChange:y,children:(0,p.jsxs)(ws,{className:"max-w-lg",children:[(0,p.jsxs)(js,{children:[(0,p.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,p.jsx)(ca,{className:"w-5 h-5"}),(0,p.jsxs)("span",{children:["Manage Login - ",null===S||void 0===S?void 0:S.name]})]}),(0,p.jsx)(Ss,{children:"Create or update login credentials for this staff member"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!S)return;if(G.password!==G.confirmPassword)return void r("Passwords do not match!");if(s.find(e=>e.username===G.username&&e.staffId!==S.id))r("Username already exists! Please choose a different username.");else try{const e=s.findIndex(e=>e.staffId===S.id);let t;if(e>=0)t=[...s],t[e]=c(c({},t[e]),{},{username:G.username,password:G.password});else{const e={id:"account-".concat(Date.now()),username:G.username,password:G.password,role:"staff",staffId:S.id,isActive:!0,createdAt:(new Date).toISOString().split("T")[0]};t=[...s,e]}await Z(t),re()}catch(t){}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"username",children:"Username"}),(0,p.jsx)(Ce,{id:"username",value:G.username,onChange:e=>Y(c(c({},G),{},{username:e.target.value})),placeholder:"Enter username",required:!0,disabled:q}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to login to the staff portal"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"password",children:"Password"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(Ce,{id:"password",type:B?"text":"password",value:G.password,onChange:e=>Y(c(c({},G),{},{password:e.target.value})),placeholder:"Enter password",required:!0,disabled:q}),(0,p.jsx)(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>U(!B),disabled:q,children:B?(0,p.jsx)(Yp,{className:"w-4 h-4"}):(0,p.jsx)(Np,{className:"w-4 h-4"})})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(62*Math.random()));Y(c(c({},G),{},{password:t,confirmPassword:t}))},className:"text-xs",disabled:q,children:"Generate Password"}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"Minimum 6 characters"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,p.jsx)(Ce,{id:"confirmPassword",type:B?"text":"password",value:G.confirmPassword,onChange:e=>Y(c(c({},G),{},{confirmPassword:e.target.value})),placeholder:"Confirm password",required:!0,disabled:q})]}),(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-green-700",children:[(0,p.jsx)("strong",{children:"Security Note:"})," Staff members can only login with the exact credentials you provide here. Make sure to securely communicate these credentials to the staff member."]})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:re,disabled:q,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:q,children:q?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ca,{className:"w-4 h-4 mr-2"}),oe((null===S||void 0===S?void 0:S.id)||"")?"Update":"Create"," Login"]})})]})]})]})}),(0,p.jsx)(ys,{open:v,onOpenChange:x,children:(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsxs)(Ns,{children:["Check In: ",null===O||void 0===O?void 0:O.name]}),(0,p.jsx)(Ss,{children:"Upload a photo as proof of check-in and add any notes for the shift."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkInPhoto",children:"Check-in Photo (Required)"}),(0,p.jsx)(Ce,{id:"checkInPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return I((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:q}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Take a photo as proof of check-in"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkInNotes",children:"Notes (Optional)"}),(0,p.jsx)(Gp,{id:"checkInNotes",value:R,onChange:e=>L(e.target.value),placeholder:"Any notes for this shift...",rows:3,disabled:q})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:q,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(O&&T)try{const e=new FileReader;e.onload=async e=>{try{var t;const r={id:"photo_".concat(Date.now()),name:T.name,size:T.size,type:T.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:n.username},a={id:"shift_".concat(Date.now()),staffId:O.id,checkInTime:(new Date).toISOString(),checkInPhoto:r,shiftDate:(new Date).toISOString().split("T")[0],status:"checked-in",notes:R},o=[...d,a],s=i.map(e=>e.id===O.id?c(c({},e),{},{currentShift:a}):e);await Promise.all([te(o),Q(s)]),x(!1),_(null),I(null),L("")}catch(a){console.error("\u274c Error processing check-in:",a);const e=a instanceof Error?a.message:"Unknown error occurred";r("Failed to process check-in: ".concat(e))}},e.readAsDataURL(T)}catch(e){console.error("\u274c Error during check-in:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Check-in failed: ".concat(t))}},disabled:!T||q,children:q?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking In..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Xp,{className:"w-4 h-4 mr-2"}),"Check In"]})})]})]})]})}),(0,p.jsx)(ys,{open:b,onOpenChange:w,children:(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsxs)(Ns,{children:["Check Out: ",null===C||void 0===C?void 0:C.name]}),(0,p.jsx)(Ss,{children:"Upload a photo as proof of check-out and add any end-of-shift notes."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkOutPhoto",children:"Check-out Photo (Required)"}),(0,p.jsx)(Ce,{id:"checkOutPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return M((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:q}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Take a photo as proof of check-out"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkOutNotes",children:"Notes (Optional)"}),(0,p.jsx)(Gp,{id:"checkOutNotes",value:z,onChange:e=>F(e.target.value),placeholder:"Any end-of-shift notes...",rows:3,disabled:q})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:q,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(C&&D&&C.currentShift)try{const e=new FileReader;e.onload=async e=>{try{var t;const r={id:"photo_".concat(Date.now()),name:D.name,size:D.size,type:D.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:n.username},a=c(c({},C.currentShift),{},{checkOutTime:(new Date).toISOString(),checkOutPhoto:r,status:"checked-out",notes:C.currentShift.notes+(z?"\nCheck-out: ".concat(z):"")}),o=d.map(e=>e.id===a.id?a:e),s=i.map(e=>e.id===C.id?c(c({},e),{},{currentShift:void 0}):e);await Promise.all([te(o),Q(s)]),w(!1),E(null),M(null),F("")}catch(a){console.error("\u274c Error processing check-out:",a);const e=a instanceof Error?a.message:"Unknown error occurred";r("Failed to process check-out: ".concat(e))}},e.readAsDataURL(D)}catch(e){console.error("\u274c Error during check-out:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Check-out failed: ".concat(t))}},disabled:!D||q,children:q?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking Out..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Jp,{className:"w-4 h-4 mr-2"}),"Check Out"]})})]})]})]})}),(0,p.jsx)("div",{className:"grid gap-6",children:0===i.length?(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"text-center py-12",children:(0,p.jsx)("p",{className:"text-gray-500",children:"No staff members found. Add your first staff member to get started."})})}):i.map(e=>{var t;const n=A===e.id,r=oe(e.id),a=(o=e.id,d.filter(e=>e.staffId===o).sort((e,t)=>new Date(t.checkInTime).getTime()-new Date(e.checkInTime).getTime()));var o;const l=(e=>e.currentShift&&"checked-in"===e.currentShift.status)(e);return(0,p.jsx)(vp,{open:n,onOpenChange:()=>(e=>{P(A===e?null:e)})(e.id),children:(0,p.jsxs)(He,{className:"overflow-hidden",children:[(0,p.jsx)(xp,{asChild:!0,children:(0,p.jsx)(qe,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:e.name}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),l&&(0,p.jsxs)(tt,{variant:"default",className:"bg-green-600",children:[(0,p.jsx)(pa,{className:"w-3 h-3 mr-1"}),"Checked In"]}),r&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,p.jsx)(ca,{className:"w-3 h-3 mr-1"}),"Login Setup"]}),e.attachments&&e.attachments.length>0&&(0,p.jsxs)(tt,{variant:"outline",className:"flex items-center space-x-1",children:[(0,p.jsx)(Tp,{className:"w-3 h-3"}),(0,p.jsx)("span",{children:e.attachments.length})]})]}),(0,p.jsxs)(Ke,{children:[e.position," \u2022 Member since ",e.createdAt]})]}),(0,p.jsx)("div",{className:"flex items-center space-x-2",children:n?(0,p.jsx)(Vf,{className:"w-5 h-5 text-gray-400"}):(0,p.jsx)(Hf,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Dp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.email})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Mp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm",children:e.phone})]})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{N(e),$({name:e.name,email:e.email,phone:e.phone,position:e.position}),m(!0)})(e),disabled:q,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>ae(e),disabled:q,children:[(0,p.jsx)(ca,{className:"w-4 h-4 mr-2"}),r?"Update Login":"Create Login"]}),l?(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{E(e),M(null),F(""),w(!0)})(e),disabled:q,children:[(0,p.jsx)(Jp,{className:"w-4 h-4 mr-2"}),"Check Out"]}):(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>(e=>{_(e),I(null),L(""),x(!0)})(e),disabled:q,children:[(0,p.jsx)(Xp,{className:"w-4 h-4 mr-2"}),"Check In"]}),e.isActive?(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsx)(Oe,{variant:"destructive",size:"sm",disabled:q,children:"Deactivate"})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Deactivate Staff Member"}),(0,p.jsxs)(kl,{children:['Are you sure you want to deactivate "',e.name,'"? They will no longer be able to login to the system, but their data and shift history will be preserved.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>ie(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:q,children:q?"Saving...":"Deactivate"})]})]})]}):(0,p.jsx)(Oe,{variant:"default",size:"sm",onClick:()=>ie(e.id),disabled:q,children:q?"Saving...":"Activate"})]}),(0,p.jsx)(bp,{className:"mt-6",children:(0,p.jsxs)(Jh,{defaultValue:"info",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-4",children:[(0,p.jsxs)(Zh,{value:"info",className:"flex items-center space-x-2",children:[(0,p.jsx)(ga,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Info"})]}),(0,p.jsxs)(Zh,{value:"shifts",className:"flex items-center space-x-2",children:[(0,p.jsx)(Qp,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Shifts (",a.length,")"]})]}),(0,p.jsxs)(Zh,{value:"login",className:"flex items-center space-x-2",children:[(0,p.jsx)(ca,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Login"})]}),(0,p.jsxs)(Zh,{value:"files",className:"flex items-center space-x-2",children:[(0,p.jsx)(Tp,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,p.jsx)(ep,{value:"info",className:"space-y-4 mt-6",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,p.jsx)("p",{className:"text-lg",children:e.name})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,p.jsx)("p",{children:e.email})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,p.jsx)("p",{children:e.phone})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Position"}),(0,p.jsx)("p",{children:e.position})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,p.jsx)("p",{children:e.createdAt})]})]})]})}),(0,p.jsx)(ep,{value:"shifts",className:"space-y-4 mt-6",children:0===a.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(Qp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No shift history found."}),(0,p.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Check-ins and check-outs will appear here."})]})}):(0,p.jsxs)("div",{className:"space-y-4",children:[a.slice(0,5).map(e=>(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"p-4",children:[(0,p.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium",children:e.shiftDate}),(0,p.jsx)(tt,{variant:"checked-in"===e.status?"default":"secondary",className:"checked-in"===e.status?"bg-green-600":"",children:"checked-in"===e.status?"Currently Checked In":"Completed Shift"})]})}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Check In"}),(0,p.jsx)("p",{className:"text-sm",children:new Date(e.checkInTime).toLocaleString()}),e.checkInPhoto&&(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(tm,{src:e.checkInPhoto.data,alt:"Check-in photo",className:"w-20 h-20 object-cover rounded border"})})]}),e.checkOutTime&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Check Out"}),(0,p.jsx)("p",{className:"text-sm",children:new Date(e.checkOutTime).toLocaleString()}),e.checkOutPhoto&&(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(tm,{src:e.checkOutPhoto.data,alt:"Check-out photo",className:"w-20 h-20 object-cover rounded border"})})]})]}),e.notes&&(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,p.jsx)("p",{className:"text-sm bg-gray-50 p-2 rounded mt-1",children:e.notes})]})]})},e.id)),a.length>5&&(0,p.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["Showing recent 5 shifts out of ",a.length," total shifts."]})]})}),(0,p.jsx)(ep,{value:"login",className:"space-y-4 mt-6",children:r?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"p-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Username"}),(0,p.jsx)("p",{className:"font-medium",children:r.username})]}),(0,p.jsx)(tt,{variant:r.isActive?"default":"secondary",children:r.isActive?"Active":"Inactive"})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Password"}),(0,p.jsx)("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Account Created"}),(0,p.jsx)("p",{className:"text-sm",children:r.createdAt})]}),r.lastLogin&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Last Login"}),(0,p.jsx)("p",{className:"text-sm",children:new Date(r.lastLogin).toLocaleString()})]})]}),(0,p.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>ae(e),disabled:q,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Update Credentials"]}),(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsx)(Oe,{variant:"destructive",size:"sm",disabled:q,children:"Delete Login"})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Delete Login Account"}),(0,p.jsxs)(kl,{children:['Are you sure you want to delete the login account for "',e.name,'"? They will no longer be able to access the staff portal.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>(async e=>{try{const t=s.filter(t=>t.staffId!==e);await Z(t)}catch(t){}})(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:q,children:q?"Deleting...":"Delete Login"})]})]})]})]})]})}):(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(ca,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:"No login credentials set up for this staff member."}),(0,p.jsxs)(Oe,{onClick:()=>ae(e),disabled:q,children:[(0,p.jsx)(Zp,{className:"w-4 h-4 mr-2"}),"Create Login Account"]})]})})}),(0,p.jsxs)(ep,{value:"files",className:"mt-6",children:[(0,p.jsx)("div",{className:"mb-4",children:(0,p.jsx)(Op,{onUpload:t=>(async(e,t)=>{try{const n=i.map(n=>n.id===e?c(c({},n),{},{attachments:t}):n);await Q(n)}catch(n){}})(e.id,[...e.attachments||[],...t]),onAttachmentsChange:()=>{},disabled:q})}),e.attachments&&0!==e.attachments.length?(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.attachments.map((e,t)=>(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-4",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Tp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[e.size," bytes \u2022 ",e.type]})]})]})})},t))}):(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(Tp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No files attached to this staff member."}),(0,p.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Upload documents, photos, or other files related to this staff member."})]})})]})]})})]})]})},e.id)})})]})}),am=sa("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),im=sa("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),om=sa("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sm=sa("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),lm=sa("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),cm=sa("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),um=sa("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),dm=sa("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),fm=["Okada Manila Casino","City of Dreams Manila","Resorts World Manila","Solaire Resort & Casino","Newport World Resorts","Pagcor Casino Filipino","Winford Hotel & Casino","Other Casino"];const hm=Cp(function(e){let{user:n,currentStaff:r,customers:a=[],gameTypes:i=[],onRecordSaved:o,showError:s,clearError:l}=e;const[u,d]=(0,t.useState)(!1),[f,h]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(null),k=(0,t.useRef)(null),O=(0,t.useRef)(null),[_,C]=(0,t.useState)(a),[E,A]=(0,t.useState)(i),[P,T]=(0,t.useState)(null),[I,D]=(0,t.useState)({customerId:"",rollingAmount:"",winLoss:"",buyInAmount:"",buyOutAmount:"",gameType:"",venue:"Okada Manila Casino",tableNumber:"",sessionStartTime:"",sessionEndTime:"",notes:""}),M=(0,t.useCallback)(async()=>{try{v(!0),l();const[e,t]=await Promise.all([Zr.get("customers",[]),Zr.get("game_types",[])]);C(e),A(t),T(new Date),console.log("\u2705 Loaded ".concat(e.length," customers for real-time rolling recording"))}catch(e){console.error("\u274c Error loading real-time customer data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";s("Failed to load customer data: ".concat(t))}finally{v(!1)}},[l,s]);(0,t.useEffect)(()=>{if(u){M();const e=setInterval(()=>{console.log("\ud83d\udd04 Refreshing customer data for rolling recorder"),M()},1e4);return()=>{clearInterval(e)}}},[u,M]);const R=async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const a=new FileReader;a.onload=async e=>{var t;const a=null===(t=e.target)||void 0===t?void 0:t.result,i={id:"img_".concat(Date.now()),name:r.name,size:r.size,type:r.type,data:a,uploadedAt:(new Date).toISOString(),uploadedBy:n.id};S(i);try{const e=await(async()=>{h(!0),await new Promise(e=>setTimeout(e,2e3));const e={id:"ocr_".concat(Date.now()),originalImageId:(null===N||void 0===N?void 0:N.id)||"",extractedText:"GAMING RECEIPT\\nOKADA MANILA CASINO\\nDate: 2024-01-15\\nTime: 14:30\\nCustomer: John Doe\\nTable: B-5\\nGame: Baccarat\\nRolling: $50,000\\nResult: -$1,500\\nBuy-in: $25,000\\nBuy-out: $22,000\\nVenue: Okada Manila Casino\\nStaff: Casino Floor",confidence:.94,extractedFields:{amount:"50000",winLoss:"-1500",buyIn:"25000",buyOut:"22000",date:"2024-01-15",time:"14:30",venue:"Okada Manila Casino",gameType:"Baccarat",tableNumber:"B-5",customerName:"John Doe"},processedAt:(new Date).toISOString(),ocrEngine:"enhanced-staff-ocr-engine"};return h(!1),e})();if(b(e),e.extractedFields&&(D(t=>c(c({},t),{},{rollingAmount:e.extractedFields.amount||t.rollingAmount,winLoss:e.extractedFields.winLoss||t.winLoss,buyInAmount:e.extractedFields.buyIn||t.buyInAmount,buyOutAmount:e.extractedFields.buyOut||t.buyOutAmount,gameType:e.extractedFields.gameType||t.gameType,venue:fm.find(t=>{var n;return null===(n=e.extractedFields.venue)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase())})||t.venue,tableNumber:e.extractedFields.tableNumber||t.tableNumber,sessionStartTime:e.extractedFields.date&&e.extractedFields.time?"".concat(e.extractedFields.date,"T").concat(e.extractedFields.time):t.sessionStartTime})),e.extractedFields.customerName)){const t=_.find(t=>t.name.toLowerCase().includes(e.extractedFields.customerName.toLowerCase())||e.extractedFields.customerName.toLowerCase().includes(t.name.toLowerCase()));t&&D(e=>c(c({},e),{},{customerId:t.id}))}j(!1)}catch(o){console.error("OCR processing failed:",o),s("OCR processing failed. Please enter the data manually.")}},a.readAsDataURL(r)},L=_.filter(e=>e.isActive);return(0,p.jsxs)(ys,{open:u,onOpenChange:d,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{className:"flex items-center space-x-2",disabled:m,children:[(0,p.jsx)(Ip,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Record Rolling"})]})}),(0,p.jsxs)(ws,{className:"max-w-5xl max-h-[95vh] overflow-y-auto",children:[(0,p.jsxs)(js,{children:[(0,p.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,p.jsx)(Ip,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Record Customer Rolling Amount"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,p.jsx)(Lp,{className:"w-3 h-3 mr-1"}),"Casino Selection Available"]})]}),(0,p.jsx)(Ss,{children:"Record rolling amounts with mandatory buy-in/buy-out tracking for admin oversight. Select from available casino venues with real-time customer data and OCR receipt processing."})]}),(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Data Connected to Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:["Rolling records and buy-in/buy-out data immediately saved to cloud database",P&&" \u2022 Last customer sync: ".concat(P.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[m&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]}),y&&(0,p.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-1 animate-spin"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:M,disabled:m||y,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,p.jsxs)(Je,{children:[(0,p.jsx)(Bp,{className:"w-4 h-4"}),(0,p.jsx)(Qe,{children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:["Recording as: ",(0,p.jsx)("strong",{children:r.name})," (",r.position,")"]}),r.currentShift&&(0,p.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Shift: ",r.currentShift.shiftDate," | Started: ",new Date(r.currentShift.checkInTime).toLocaleString()]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[("admin"===n.role||"staff"===n.role)&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,p.jsx)(sm,{className:"w-3 h-3 mr-1"}),"Admin Authority Required"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs",children:[(0,p.jsx)(Lp,{className:"w-3 h-3 mr-1"}),"Multiple Venues"]})]})]})})]}),("admin"===n.role||"staff"===n.role)&&(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(jp,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Admin Oversight Required:"})," Buy-in or buy-out amount is mandatory for all rolling records. This ensures complete financial tracking and regulatory compliance."]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(lm,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Receipt/Photo Upload"}),(0,p.jsx)(tt,{variant:"secondary",className:"text-xs",children:"Enhanced OCR"})]}),(0,p.jsx)(Ke,{children:"Upload receipts for automatic extraction of rolling amounts, buy-in/buy-out, venue, and transaction details"})]}),(0,p.jsxs)($e,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,p.jsxs)(Oe,{variant:"outline",onClick:()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2",disabled:m,children:[(0,p.jsx)(lm,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Take Photo"})]}),(0,p.jsxs)(Oe,{variant:"outline",onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2",disabled:m,children:[(0,p.jsx)(wp,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Upload Image"})]}),(0,p.jsxs)(Oe,{variant:"outline",onClick:()=>j(!w),className:"flex items-center space-x-2",disabled:m,children:[w?(0,p.jsx)(Yp,{className:"w-4 h-4"}):(0,p.jsx)(Np,{className:"w-4 h-4"}),(0,p.jsxs)("span",{children:[w?"Hide":"Show"," Manual Entry"]})]})]}),(0,p.jsx)("input",{ref:k,type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:m}),(0,p.jsx)("input",{ref:O,type:"file",accept:"image/*",capture:"environment",onChange:R,className:"hidden",disabled:m}),f&&(0,p.jsxs)(Je,{children:[(0,p.jsx)(cm,{className:"w-4 h-4 animate-spin"}),(0,p.jsx)(Qe,{children:"Processing receipt with enhanced OCR (including buy-in/buy-out and venue detection)... Please wait."})]}),x&&(0,p.jsxs)(Je,{children:[(0,p.jsx)(pa,{className:"w-4 h-4"}),(0,p.jsx)(Qe,{children:(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("p",{children:["Enhanced text extraction completed with ",Math.round(100*x.confidence),"% confidence"]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[x.extractedFields.amount&&(0,p.jsxs)(tt,{variant:"outline",children:["Rolling: $",x.extractedFields.amount]}),x.extractedFields.buyIn&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["Buy-in: $",x.extractedFields.buyIn]}),x.extractedFields.buyOut&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-purple-50 text-purple-700",children:["Buy-out: $",x.extractedFields.buyOut]}),x.extractedFields.venue&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700",children:["Venue: ",x.extractedFields.venue]})]})]})})]}),N&&(0,p.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsx)("span",{className:"text-sm font-medium",children:"Uploaded Receipt"}),(0,p.jsx)(tt,{variant:"secondary",children:N.name})]}),(0,p.jsx)("img",{src:N.data,alt:"Uploaded receipt",className:"max-h-48 w-auto rounded border"})]})]})]}),w&&(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:"Rolling & Cash Flow Details"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,p.jsx)(um,{className:"w-3 h-3 mr-1"}),"Buy-in/Buy-out Required"]})]}),(0,p.jsx)(Ke,{children:x?"Review and edit the extracted information":"Enter complete transaction details including venue selection and buy-in/buy-out amounts"})]}),(0,p.jsxs)($e,{className:"space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)(Me,{htmlFor:"customer",className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:"Customer *"}),y&&(0,p.jsx)(wa,{className:"w-3 h-3 animate-pulse text-blue-500"})]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs",children:[L.length," active customers"]})]}),(0,p.jsxs)(Jf,{value:I.customerId,onValueChange:e=>D(c(c({},I),{},{customerId:e})),disabled:m||y,children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{placeholder:"Select customer (real-time data)"})}),(0,p.jsx)(eh,{children:L.map(e=>(0,p.jsx)(th,{value:e.id,children:(0,p.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,p.jsxs)("span",{children:[e.name," (",e.agentName,")"]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 ml-4",children:[(0,p.jsxs)("span",{children:["Rolling: $",(e.totalRolling||0).toLocaleString()]}),(0,p.jsxs)("span",{children:["Rate: ",e.rollingPercentage,"%"]})]})]})},e.id))})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"rollingAmount",className:"flex items-center space-x-2",children:[(0,p.jsx)(Na,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Rolling Amount (HKD) *"})]}),(0,p.jsx)(Ce,{id:"rollingAmount",type:"number",value:I.rollingAmount,onChange:e=>D(c(c({},I),{},{rollingAmount:e.target.value})),placeholder:"50000",required:!0,disabled:m})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"winLoss",children:"Win/Loss Amount (HKD)"}),(0,p.jsx)(Ce,{id:"winLoss",type:"number",value:I.winLoss,onChange:e=>D(c(c({},I),{},{winLoss:e.target.value})),placeholder:"-1500 (negative for loss)",disabled:m})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"gameType",children:"Game Type *"}),(0,p.jsxs)(Jf,{value:I.gameType,onValueChange:e=>D(c(c({},I),{},{gameType:e})),disabled:m,children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{placeholder:"Select game type"})}),(0,p.jsx)(eh,{children:E.length>0?E.filter(e=>e.isActive).map(e=>(0,p.jsx)(th,{value:e.name,children:e.name},e.id)):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(th,{value:"Baccarat",children:"Baccarat"}),(0,p.jsx)(th,{value:"Blackjack",children:"Blackjack"}),(0,p.jsx)(th,{value:"Roulette",children:"Roulette"}),(0,p.jsx)(th,{value:"Poker",children:"Poker"}),(0,p.jsx)(th,{value:"Dragon Tiger",children:"Dragon Tiger"}),(0,p.jsx)(th,{value:"Sic Bo",children:"Sic Bo"})]})})]})]})]}),(0,p.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,p.jsx)(jp,{className:"w-4 h-4 text-red-600"}),(0,p.jsx)("h4",{className:"font-medium text-red-800",children:"Cash Flow Tracking (Required)"}),(0,p.jsx)(tt,{variant:"outline",className:"bg-red-100 text-red-700",children:"Admin Oversight"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"buyInAmount",className:"flex items-center space-x-2",children:[(0,p.jsx)(Hp,{className:"w-4 h-4 text-blue-500"}),(0,p.jsxs)("span",{children:["Buy-in Amount (HKD) ","admin"===n.role||"staff"===n.role?"*":""]})]}),(0,p.jsx)(Ce,{id:"buyInAmount",type:"number",value:I.buyInAmount,onChange:e=>D(c(c({},I),{},{buyInAmount:e.target.value})),placeholder:"25000",required:"admin"===n.role||"staff"===n.role,disabled:m}),(0,p.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Customer deposit/chips purchased"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"buyOutAmount",className:"flex items-center space-x-2",children:[(0,p.jsx)(Sa,{className:"w-4 h-4 text-purple-500"}),(0,p.jsxs)("span",{children:["Buy-Out Amount (HKD) ","admin"===n.role||"staff"===n.role?"*":""]})]}),(0,p.jsx)(Ce,{id:"buyOutAmount",type:"number",value:I.buyOutAmount,onChange:e=>D(c(c({},I),{},{buyOutAmount:e.target.value})),placeholder:"22000",required:"admin"===n.role||"staff"===n.role,disabled:m}),(0,p.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Customer withdrawal/chips cashed out"})]})]}),(0,p.jsxs)("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs text-red-700",children:[(0,p.jsx)("strong",{children:"Note:"})," At least one cash flow amount (buy-in or buy-out) must be provided for complete financial tracking and admin oversight."]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"venue",className:"flex items-center space-x-2",children:[(0,p.jsx)(Oa,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Casino Venue *"})]}),(0,p.jsxs)(Jf,{value:I.venue,onValueChange:e=>D(c(c({},I),{},{venue:e})),disabled:m,children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{placeholder:"Select casino venue"})}),(0,p.jsx)(eh,{children:fm.map(e=>(0,p.jsx)(th,{value:e,children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Lp,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:e}),"Okada Manila Casino"===e&&(0,p.jsx)(tt,{variant:"secondary",className:"text-xs ml-2",children:"Default"})]})},e))})]}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select from available casino venues"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"tableNumber",className:"flex items-center space-x-2",children:[(0,p.jsx)(dm,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Table Number"})]}),(0,p.jsx)(Ce,{id:"tableNumber",value:I.tableNumber,onChange:e=>D(c(c({},I),{},{tableNumber:e.target.value})),placeholder:"B-5",disabled:m})]}),(0,p.jsx)("div",{className:"flex items-end",children:(0,p.jsxs)("div",{className:"w-full",children:[(0,p.jsx)(Me,{className:"text-xs text-gray-500",children:"Net Cash Flow"}),(0,p.jsx)("div",{className:"mt-1 p-2 bg-gray-50 border rounded",children:(0,p.jsxs)("span",{className:"font-medium ".concat((parseFloat(I.buyOutAmount)||0)-(parseFloat(I.buyInAmount)||0)>=0?"text-green-600":"text-red-600"),children:["$",((parseFloat(I.buyOutAmount)||0)-(parseFloat(I.buyInAmount)||0)).toLocaleString()]})}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Buy-out - Buy-in"})]})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"sessionStartTime",className:"flex items-center space-x-2",children:[(0,p.jsx)(im,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Session Start *"})]}),(0,p.jsx)(Ce,{id:"sessionStartTime",type:"datetime-local",value:I.sessionStartTime,onChange:e=>D(c(c({},I),{},{sessionStartTime:e.target.value})),required:!0,disabled:m})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(Me,{htmlFor:"sessionEndTime",className:"flex items-center space-x-2",children:[(0,p.jsx)(Qp,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Session End"})]}),(0,p.jsx)(Ce,{id:"sessionEndTime",type:"datetime-local",value:I.sessionEndTime,onChange:e=>D(c(c({},I),{},{sessionEndTime:e.target.value})),disabled:m})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"notes",children:"Notes"}),(0,p.jsx)(Gp,{id:"notes",value:I.notes,onChange:e=>D(c(c({},I),{},{notes:e.target.value})),placeholder:"Additional notes about this gaming session, venue details, buy-in/buy-out information...",rows:3,disabled:m})]})]})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,p.jsx)(Oe,{variant:"outline",onClick:()=>d(!1),disabled:m,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{const e=_.find(e=>e.id===I.customerId);if(e)if("admin"!==n.role&&"staff"!==n.role||I.buyInAmount||I.buyOutAmount)try{var t;g(!0),l();const n=(new Date).toISOString(),s=parseFloat(I.rollingAmount)||0,u=parseFloat(I.winLoss)||0,f=parseFloat(I.buyInAmount)||0,h=parseFloat(I.buyOutAmount)||0,p={id:"rolling_".concat(Date.now()),customerId:e.id,customerName:e.name,agentId:e.agentId,agentName:e.agentName,staffId:r.id,staffName:r.name,rollingAmount:s,winLoss:u,buyInAmount:f,buyOutAmount:h,gameType:I.gameType,venue:I.venue,tableNumber:I.tableNumber,sessionStartTime:I.sessionStartTime,sessionEndTime:I.sessionEndTime,recordedAt:n,notes:I.notes,attachments:N?[N]:[],ocrData:x||void 0,verified:!1,shiftId:null===(t=r.currentShift)||void 0===t?void 0:t.id},m=[];var a,i;if(f>0)m.push({id:"buyin_".concat(Date.now()),customerId:e.id,customerName:e.name,staffId:r.id,staffName:r.name,transactionType:"buy-in",amount:f,timestamp:n,venue:I.venue,tableNumber:I.tableNumber,notes:I.notes,proofPhoto:N||void 0,shiftId:null===(a=r.currentShift)||void 0===a?void 0:a.id,tripId:void 0});if(h>0)m.push({id:"buyout_".concat(Date.now(),"_1"),customerId:e.id,customerName:e.name,staffId:r.id,staffName:r.name,transactionType:"buy-out",amount:h,timestamp:n,venue:I.venue,tableNumber:I.tableNumber,notes:I.notes,proofPhoto:N||void 0,shiftId:null===(i=r.currentShift)||void 0===i?void 0:i.id,tripId:void 0});console.log("\ud83d\udcbe Saving rolling record and buy-in/buy-out data to Supabase...");const[y,v,w]=await Promise.all([Zr.get("rolling_records",[]),Zr.get("customers",[]),Zr.get("buy_in_out_records",[])]),k=[...y,p],O=[...w,...m],_=v.map(t=>t.id===e.id?c(c({},t),{},{totalRolling:(t.totalRolling||0)+s,totalWinLoss:(t.totalWinLoss||0)+u,totalBuyIn:(t.totalBuyIn||0)+f,totalBuyOut:(t.totalBuyOut||0)+h}):t);await Promise.all([Zr.save("rollingRecords",k),Zr.save("customers",_),m.length>0?Zr.save("buyInOutRecords",O):Promise.resolve()]),console.log("\u2705 Successfully saved rolling record and buy-in/buy-out data to Supabase"),await M(),null===o||void 0===o||o(p),D({customerId:"",rollingAmount:"",winLoss:"",buyInAmount:"",buyOutAmount:"",gameType:"",venue:"Okada Manila Casino",tableNumber:"",sessionStartTime:"",sessionEndTime:"",notes:""}),S(null),b(null),j(!0),d(!1)}catch(u){console.error("\u274c Failed to save rolling record:",u);const e=u instanceof Error?u.message:"Unknown error occurred";s("Failed to save rolling record: ".concat(e))}finally{g(!1)}else s("Buy-in or buy-out amount is required for admin oversight");else s("Please select a customer")},disabled:!(()=>{const e=I.customerId&&I.rollingAmount&&I.gameType&&I.sessionStartTime;return"admin"===n.role||"staff"===n.role?e&&(I.buyInAmount||I.buyOutAmount):e})()||f||m,className:"flex items-center space-x-2",children:m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 animate-spin"}),(0,p.jsx)("span",{children:"Saving to Supabase..."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Save Complete Record"})]})})]})]})]})]})}),pm=sa("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),mm=sa("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),gm=sa("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),ym=sa("circle-dollar-sign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);const vm=Cp(function(e){let{user:n,currentStaff:r,showError:a,clearError:i}=e;const[o,s]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,f]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),[j,N]=(0,t.useState)({start:"",end:""}),[S,k]=(0,t.useState)(""),[O,_]=(0,t.useState)(""),[C,E]=(0,t.useState)("all"),[A,P]=(0,t.useState)("my_records"),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(!1),R="admin"===n.role,L="staff"===n.role,z=(0,t.useCallback)(async()=>{try{x(!0),i(),console.log("\ud83d\udd04 Loading real-time rolling history from Supabase...");const[e,t,n]=await Promise.all([Zr.get("rolling_records",[]),Zr.get("buy_in_out_records",[]),Zr.get("customers",[])]);m(n),u(t);let a=e;L&&!R&&(a=e.filter(e=>e.staffId===r.id),console.log("\ud83d\udd12 Staff user: filtered to ".concat(a.length," own records out of ").concat(e.length," total")));const o=a.sort((e,t)=>new Date(t.recordedAt).getTime()-new Date(e.recordedAt).getTime());s(o),I(new Date),console.log("\u2705 Loaded real-time rolling history: ".concat(o.length," records, ").concat(t.length," buy-in/out records"))}catch(e){console.error("\u274c Failed to load real-time rolling records:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Failed to load rolling records: ".concat(t))}finally{y(!1),x(!1)}},[i,a,r.id,L,R]);(0,t.useEffect)(()=>{z();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time rolling history refresh triggered"),z()},15e3);return()=>{clearInterval(e)}},[z]),(0,t.useEffect)(()=>{F()},[o,j,S,O,C,A]);const F=()=>{let e=[...o];(L&&!R||R&&"my_records"===A)&&(e=e.filter(e=>e.staffId===r.id)),j.start&&(e=e.filter(e=>new Date(e.sessionStartTime)>=new Date(j.start))),j.end&&(e=e.filter(e=>new Date(e.sessionStartTime)<=new Date(j.end))),S&&(e=e.filter(e=>e.gameType.toLowerCase().includes(S.toLowerCase()))),O&&(e=e.filter(e=>e.customerName.toLowerCase().includes(O.toLowerCase()))),"all"!==C&&(e=e.filter(e=>"verified"===C?e.verified:!e.verified)),f(e)},B=e=>{const t=l.filter(t=>t.customerId===e.customerId&&Math.abs(new Date(t.timestamp).getTime()-new Date(e.sessionStartTime).getTime())<=36e5),n=t.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),r=t.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return{buyInAmount:n,buyOutAmount:r,netCashFlow:r-n}},U=d.reduce((e,t)=>{const n=B(t);return{totalRolling:e.totalRolling+(t.rollingAmount||0),totalWinLoss:e.totalWinLoss+(t.winLoss||0),totalBuyIn:e.totalBuyIn+n.buyInAmount,totalBuyOut:e.totalBuyOut+n.buyOutAmount,recordCount:e.recordCount+1}},{totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,recordCount:0});return g?(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"flex items-center justify-center py-12",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"Loading real-time rolling history from Supabase..."})]})})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Rolling History from Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:[L&&!R?"Showing only your records for privacy and security":"Rolling records and buy-in/buy-out data update automatically",T&&" \u2022 Last sync: ".concat(T.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[D&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]}),v&&(0,p.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-1 animate-spin"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:z,disabled:D||v,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),L&&!R&&(0,p.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(um,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Staff Privacy Protection"}),(0,p.jsx)("p",{className:"text-xs text-blue-600",children:"You can only view and manage your own rolling records. Records from other staff members are not accessible for privacy and security reasons."})]})]})}),R&&(0,p.jsx)(Jh,{value:A,onValueChange:e=>P(e),children:(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"my_records",className:"flex items-center space-x-2",children:[(0,p.jsx)(Bp,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"My Records"}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs",children:o.filter(e=>e.staffId===r.id).length})]}),(0,p.jsxs)(Zh,{value:"all",className:"flex items-center space-x-2",children:[(0,p.jsx)(Ip,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"All Records"}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs",children:o.length})]})]})}),L&&!R&&(0,p.jsx)("div",{className:"flex items-center justify-between",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Bp,{className:"w-5 h-5 text-gray-600"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"My Rolling Records"}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs",children:[o.length," records"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[(0,p.jsx)(um,{className:"w-3 h-3 mr-1"}),"Private"]})]})}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Na,{className:"w-5 h-5 text-blue-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Rolling"}),(0,p.jsxs)("p",{className:"text-2xl font-bold",children:["$",U.totalRolling.toLocaleString()]})]})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[U.totalWinLoss>=0?(0,p.jsx)(xa,{className:"w-5 h-5 text-green-600"}):(0,p.jsx)(Ep,{className:"w-5 h-5 text-red-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Win/Loss"}),(0,p.jsxs)("p",{className:"text-2xl font-bold ".concat(U.totalWinLoss>=0?"text-green-600":"text-red-600"),children:["$",U.totalWinLoss.toLocaleString()]})]})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Hp,{className:"w-5 h-5 text-blue-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Buy-in"}),(0,p.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",U.totalBuyIn.toLocaleString()]})]})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Sa,{className:"w-5 h-5 text-purple-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Buy-out"}),(0,p.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",U.totalBuyOut.toLocaleString()]})]})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(pm,{className:"w-5 h-5 text-orange-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:L&&!R?"My Records":"Records"}),(0,p.jsx)("p",{className:"text-2xl font-bold",children:U.recordCount}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:["Net: $",(U.totalBuyOut-U.totalBuyIn).toLocaleString()]})]})]})})})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{children:(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(mm,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Filters"}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"Real-time Data"}),L&&!R&&(0,p.jsxs)(tt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[(0,p.jsx)(um,{className:"w-3 h-3 mr-1"}),"Own Records Only"]})]})}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium",children:"Start Date"}),(0,p.jsx)(Ce,{type:"date",value:j.start,onChange:e=>N(c(c({},j),{},{start:e.target.value}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium",children:"End Date"}),(0,p.jsx)(Ce,{type:"date",value:j.end,onChange:e=>N(c(c({},j),{},{end:e.target.value}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium",children:"Game Type"}),(0,p.jsx)(Ce,{placeholder:"Filter by game...",value:S,onChange:e=>k(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium",children:"Customer"}),(0,p.jsx)(Ce,{placeholder:"Filter by customer...",value:O,onChange:e=>_(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium",children:"Status"}),(0,p.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:C,onChange:e=>E(e.target.value),children:[(0,p.jsx)("option",{value:"all",children:"All Records"}),(0,p.jsx)("option",{value:"verified",children:"Verified Only"}),(0,p.jsx)("option",{value:"unverified",children:"Unverified Only"})]})]})]})})]}),(0,p.jsx)("div",{className:"space-y-4",children:0===d.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(Ip,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No rolling records found."}),(0,p.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:L&&!R||"my_records"===A?"You haven't recorded any rolling amounts yet.":"No rolling records match the current filters."}),(0,p.jsxs)(Oe,{variant:"outline",onClick:z,className:"mt-4",disabled:v,children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}):d.map(e=>{const t=0===(i=e.winLoss||0)?{text:"Break Even",icon:va,bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}:i>0?{text:"Customer Win",icon:xa,bgColor:"bg-green-100",textColor:"text-green-700",iconColor:"text-green-600"}:{text:"House Win",icon:Ep,bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"};var i;const l=t.icon,u=B(e);return(0,p.jsxs)(He,{className:"overflow-hidden",children:[(0,p.jsx)(qe,{children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:e.gameType}),e.verified?(0,p.jsxs)(tt,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,p.jsx)(pa,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,p.jsxs)(tt,{variant:"outline",className:"text-orange-600 border-orange-200",children:[(0,p.jsx)(jp,{className:"w-3 h-3 mr-1"}),"Unverified"]}),e.ocrData&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[(0,p.jsx)(gm,{className:"w-3 h-3 mr-1"}),"OCR"]}),(0,p.jsxs)(tt,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,p.jsx)(l,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,p.jsx)("span",{children:t.text})]}),"Okada Casino"===e.venue&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,p.jsx)(Lp,{className:"w-3 h-3 mr-1"}),"Okada"]}),(u.buyInAmount>0||u.buyOutAmount>0)&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-indigo-50 text-indigo-700 border-indigo-200",children:[(0,p.jsx)(Rp,{className:"w-3 h-3 mr-1"}),"Cash Flow"]})]}),(0,p.jsxs)(Ke,{className:"flex items-center space-x-4 text-sm",children:[(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(Bp,{className:"w-4 h-4 mr-1"}),e.customerName]}),(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(im,{className:"w-4 h-4 mr-1"}),new Date(e.sessionStartTime).toLocaleDateString()]}),(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(Qp,{className:"w-4 h-4 mr-1"}),new Date(e.sessionStartTime).toLocaleTimeString()]}),e.venue&&(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(Oa,{className:"w-4 h-4 mr-1"}),e.venue]}),e.tableNumber&&(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(dm,{className:"w-4 h-4 mr-1"}),e.tableNumber]}),R&&"all"===A&&(0,p.jsxs)("span",{className:"flex items-center",children:[(0,p.jsx)(sm,{className:"w-4 h-4 mr-1"}),e.staffName]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>w(e),children:[(0,p.jsx)(Np,{className:"w-4 h-4 mr-2"}),"Details"]}),("admin"===n.role||"staff"===n.role&&e.staffId===r.id)&&(0,p.jsx)(Oe,{variant:e.verified?"outline":"default",size:"sm",onClick:()=>(async e=>{const t=o.find(t=>t.id===e);if(!t)return;if(L&&!R&&t.staffId!==r.id)return void a("You can only verify your own records.");const i=c(c({},t),{},{verified:!t.verified,verifiedBy:t.verified?void 0:n.id,verifiedAt:t.verified?void 0:(new Date).toISOString()});try{M(!0);const t=(await Zr.get("rolling_records",[])).map(t=>t.id===e?i:t);await Zr.save("rollingRecords",t);const n=o.map(t=>t.id===e?i:t);s(n),console.log("\u2705 Updated verification status for record ".concat(e)),await z()}catch(l){console.error("\u274c Failed to update verification status:",l);const e=l instanceof Error?l.message:"Unknown error occurred";a("Failed to update verification status: ".concat(e))}finally{M(!1)}})(e.id),disabled:D,children:D?(0,p.jsx)(wa,{className:"w-4 h-4 animate-spin"}):e.verified?"Unverify":"Verify"})]})]})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Rolling Amount"}),(0,p.jsxs)("p",{className:"text-lg font-bold",children:["$",(e.rollingAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Win/Loss"}),(0,p.jsxs)("p",{className:"text-lg font-bold ".concat((e.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.winLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Buy-in"}),(0,p.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["$",u.buyInAmount.toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Buy-out"}),(0,p.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:["$",u.buyOutAmount.toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Net Cash Flow"}),(0,p.jsxs)("p",{className:"text-lg font-bold ".concat(u.netCashFlow>=0?"text-green-600":"text-red-600"),children:["$",u.netCashFlow.toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Session Duration"}),(0,p.jsx)("p",{className:"text-sm",children:e.sessionEndTime?"".concat(Math.round((new Date(e.sessionEndTime).getTime()-new Date(e.sessionStartTime).getTime())/6e4)," min"):"Ongoing"}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:["Recorded: ",new Date(e.recordedAt).toLocaleString()]})]})]}),e.notes&&(0,p.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,p.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.notes})]})]})]},e.id)})}),b&&(0,p.jsx)(yl,{open:!!b,onOpenChange:()=>w(null),children:(0,p.jsxs)(wl,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[(0,p.jsxs)(jl,{children:[(0,p.jsxs)(Sl,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:"Rolling Record Details"}),(0,p.jsx)(tt,{variant:"outline",className:"bg-green-50 text-green-700",children:"Real-time Data"}),L&&!R&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[(0,p.jsx)(um,{className:"w-3 h-3 mr-1"}),"Own Record"]})]}),(0,p.jsx)(kl,{children:"Complete information for this rolling record including buy-in/buy-out data"})]}),(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,p.jsx)("p",{className:"text-lg",children:b.customerName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Agent"}),(0,p.jsx)("p",{children:b.agentName})]}),(R||b.staffId===r.id)&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Staff"}),(0,p.jsx)("p",{children:b.staffName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Game Type"}),(0,p.jsx)("p",{children:b.gameType})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Venue"}),(0,p.jsx)("p",{children:b.venue||"Not specified"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Table Number"}),(0,p.jsx)("p",{children:b.tableNumber||"Not specified"})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Session Start"}),(0,p.jsx)("p",{children:new Date(b.sessionStartTime).toLocaleString()})]}),b.sessionEndTime&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Session End"}),(0,p.jsx)("p",{children:new Date(b.sessionEndTime).toLocaleString()})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Recorded At"}),(0,p.jsx)("p",{children:new Date(b.recordedAt).toLocaleString()})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Verification Status"}),(0,p.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:b.verified?(0,p.jsxs)(tt,{className:"bg-green-100 text-green-800",children:[(0,p.jsx)(pa,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,p.jsxs)(tt,{variant:"outline",className:"text-orange-600 border-orange-200",children:[(0,p.jsx)(jp,{className:"w-3 h-3 mr-1"}),"Unverified"]})})]})]})]}),(0,p.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,p.jsxs)("h4",{className:"font-medium mb-3 flex items-center space-x-2",children:[(0,p.jsx)(ym,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Financial Summary"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Rolling Amount"}),(0,p.jsxs)("p",{className:"text-xl font-bold",children:["$",(b.rollingAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Win/Loss"}),(0,p.jsxs)("p",{className:"text-xl font-bold ".concat((b.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(b.winLoss||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Buy-in Amount"}),(0,p.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["$",(b.buyInAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Buy-out Amount"}),(0,p.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:["$",(b.buyOutAmount||0).toLocaleString()]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Net Cash Flow"}),(0,p.jsxs)("p",{className:"text-xl font-bold ".concat((b.buyOutAmount||0)-(b.buyInAmount||0)>=0?"text-green-600":"text-red-600"),children:["$",((b.buyOutAmount||0)-(b.buyInAmount||0)).toLocaleString()]})]})]})]}),b.ocrData&&(0,p.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,p.jsxs)("h4",{className:"font-medium mb-2 flex items-center space-x-2",children:[(0,p.jsx)(gm,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"OCR Extraction Results"})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(100*b.ocrData.confidence),"%"]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[b.ocrData.extractedFields.amount&&(0,p.jsxs)(tt,{variant:"outline",children:["Rolling: $",b.ocrData.extractedFields.amount]}),b.ocrData.extractedFields.buyIn&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["Buy-in: $",b.ocrData.extractedFields.buyIn]}),b.ocrData.extractedFields.buyOut&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-purple-50 text-purple-700",children:["Buy-out: $",b.ocrData.extractedFields.buyOut]})]}),(0,p.jsxs)("details",{children:[(0,p.jsx)("summary",{className:"cursor-pointer font-medium",children:"View extracted text"}),(0,p.jsx)("pre",{className:"mt-2 p-2 bg-gray-50 rounded text-xs whitespace-pre-wrap",children:b.ocrData.extractedText})]})]})]}),b.attachments&&b.attachments.length>0&&(0,p.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,p.jsx)("h4",{className:"font-medium mb-2",children:"Attachments"}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.attachments.map(e=>(0,p.jsxs)("div",{className:"border rounded p-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:e.name}),e.type.startsWith("image/")&&(0,p.jsx)("img",{src:e.data,alt:e.name,className:"mt-2 max-h-32 w-auto rounded"})]},e.id))})]}),b.notes&&(0,p.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,p.jsx)("h4",{className:"font-medium mb-2",children:"Notes"}),(0,p.jsx)("p",{className:"text-gray-700",children:b.notes})]})]}),(0,p.jsx)(Nl,{children:(0,p.jsx)(_l,{children:"Close"})})]})})]})});const xm=Cp(function(e){var n;let{user:r,showError:a,clearError:i}=e;const[o,s]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,f]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[g,y]=(0,t.useState)(null),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[O,_]=(0,t.useState)(""),[C,E]=(0,t.useState)(""),[A,P]=(0,t.useState)(!0),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(!1),R=(0,t.useCallback)(async()=>{try{P(!0),i(),console.log("\ud83d\udd04 Loading real-time staff portal data from Supabase...");const[e,t,n,a]=await Promise.all([Zr.get("staff",[]),Zr.get("staff_shifts",[]),Zr.get("customers",[]),Zr.get("game_types",[])]);if(s(e),u(t),f(n),m(a),I(new Date),r.staffId){let n=e.find(e=>e.id===r.staffId);if(!n){n={id:r.staffId,name:"".concat(r.username," (Auto-created)"),email:"".concat(r.username,"@casino.com"),phone:"+852-0000-0000",position:"Staff Member",createdAt:(new Date).toISOString().split("T")[0],isActive:!0,attachments:[]};const t=[...e,n];await Zr.save("staff",t),s(t)}const a=t.find(e=>e.staffId===n.id&&"checked-in"===e.status);a&&(n=c(c({},n),{},{currentShift:a})),y(n)}console.log("\u2705 Loaded real-time data: ".concat(e.length," staff, ").concat(n.length," customers, ").concat(t.length," shifts"))}catch(e){console.error("\u274c Error loading real-time staff portal data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Failed to load staff portal data: ".concat(t))}finally{P(!1)}},[r.staffId,i,a]);(0,t.useEffect)(()=>{R();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time staff portal refresh triggered"),R()},3e4);return()=>{clearInterval(e)}},[R]);const L=async e=>{try{await Zr.save("staff",e),s(e),console.log("\u2705 Staff data saved to Supabase")}catch(t){console.error("\u274c Error saving staff data:",t);const e=t instanceof Error?t.message:"Unknown error occurred";a("Failed to save staff data: ".concat(e))}},z=async e=>{try{await Zr.save("shifts",e),u(e),console.log("\u2705 Shifts data saved to Supabase")}catch(t){console.error("\u274c Error saving shifts data:",t);const e=t instanceof Error?t.message:"Unknown error occurred";a("Failed to save shifts data: ".concat(e))}},F=()=>(null===g||void 0===g?void 0:g.currentShift)&&"checked-in"===g.currentShift.status,B=g?l.filter(e=>e.staffId===g.id).sort((e,t)=>new Date(t.checkInTime).getTime()-new Date(e.checkInTime).getTime()).slice(0,10):[];return A&&!g?(0,p.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Loading real-time staff portal data from Supabase..."})]})}):g?(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Staff Portal Connected to Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:["Customer data, shifts, and rolling records sync automatically with cloud database",T&&" \u2022 Last sync: ".concat(T.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[D&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]}),A&&(0,p.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-1 animate-spin"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:R,disabled:D||A,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Staff Portal"}),(0,p.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",g.name," - ",g.position]}),(0,p.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,p.jsxs)(tt,{variant:"outline",className:"text-xs",children:[d.filter(e=>e.isActive).length," Active Customers"]}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs",children:"Okada Casino Only"})]})]}),(0,p.jsx)("div",{className:"flex items-center space-x-3",children:F()?(0,p.jsx)(hm,{user:r,currentStaff:g,customers:d,gameTypes:h,onRecordSaved:async e=>{await R()},showError:a,clearError:i}):(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Check in to record rolling amounts"}),(0,p.jsx)("p",{className:"text-xs text-gray-400",children:"Real-time customer data available after check-in"})]})})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{children:(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(Qp,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Current Status"}),F()&&(0,p.jsxs)(tt,{className:"bg-green-100 text-green-800",children:[(0,p.jsx)(wa,{className:"w-3 h-3 mr-1"}),"Live Recording Available"]})]})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("div",{className:"flex items-center space-x-4",children:F()?(0,p.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)(tt,{className:"bg-green-100 text-green-800 px-3 py-1",children:[(0,p.jsx)(pa,{className:"w-4 h-4 mr-1"}),"On Duty"]}),(0,p.jsxs)("span",{className:"text-sm text-gray-600",children:["Since: ",new Date(g.currentShift.checkInTime).toLocaleString()]})]}),(0,p.jsxs)("div",{className:"text-xs text-gray-500",children:["Shift Date: ",g.currentShift.shiftDate," | Duration: ",Math.floor(((new Date).getTime()-new Date(g.currentShift.checkInTime).getTime())/6e4)," minutes"]}),(0,p.jsx)("div",{className:"text-xs text-green-600",children:"\u2705 Real-time rolling recording enabled with buy-in/buy-out tracking"})]}):(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)(tt,{variant:"secondary",className:"px-3 py-1",children:[(0,p.jsx)(am,{className:"w-4 h-4 mr-1"}),"Off Duty"]}),(0,p.jsx)("span",{className:"text-sm text-gray-600",children:"Ready to check in"})]})}),(0,p.jsx)("div",{className:"flex space-x-2",children:F()?(0,p.jsxs)(ys,{open:b,onOpenChange:w,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{variant:"destructive",disabled:D,children:[(0,p.jsx)(Jp,{className:"w-4 h-4 mr-2"}),"Check Out"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Check Out"}),(0,p.jsx)(Ss,{children:"Upload a photo as proof of check-out and add any end-of-shift notes. Data will be saved to Supabase."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkOutPhoto",children:"Check-out Photo (Required)"}),(0,p.jsx)(Ce,{id:"checkOutPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return k((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:D}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udcf8 Take a photo as proof of check-out (camera will open on mobile)"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkOutNotes",children:"End of Shift Notes (Optional)"}),(0,p.jsx)(Gp,{id:"checkOutNotes",value:C,onChange:e=>E(e.target.value),placeholder:"Any end-of-shift notes or handover information...",rows:3,disabled:D})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:D,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(g&&S&&g.currentShift){M(!0);try{const e=new FileReader;e.onload=async e=>{try{var t;const n={id:"photo_".concat(Date.now()),name:S.name,size:S.size,type:S.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:r.username},a=c(c({},g.currentShift),{},{checkOutTime:(new Date).toISOString(),checkOutPhoto:n,status:"checked-out",notes:g.currentShift.notes+(C?"\nCheck-out: ".concat(C):"")}),i=l.map(e=>e.id===a.id?a:e);await z(i);const s=o.map(e=>e.id===g.id?c(c({},e),{},{currentShift:void 0}):e);await L(s),y(c(c({},g),{},{currentShift:void 0})),w(!1),k(null),E(""),await R()}catch(n){console.error("\u274c Error during check-out:",n);const e=n instanceof Error?n.message:"Unknown error occurred";a("Check-out failed: ".concat(e))}finally{M(!1)}},e.readAsDataURL(S)}catch(e){console.error("\u274c Error during check-out:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Check-out failed: ".concat(t)),M(!1)}}},disabled:!S||D,children:D?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Jp,{className:"w-4 h-4 mr-2"}),"Check Out"]})})]})]})]})]}):(0,p.jsxs)(ys,{open:v,onOpenChange:x,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{disabled:D,children:[(0,p.jsx)(Xp,{className:"w-4 h-4 mr-2"}),"Check In"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Check In"}),(0,p.jsx)(Ss,{children:"Upload a photo as proof of check-in and add any notes for the shift. Data will be saved to Supabase."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkInPhoto",children:"Check-in Photo (Required)"}),(0,p.jsx)(Ce,{id:"checkInPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return N((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:D}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udcf8 Take a photo as proof of check-in (camera will open on mobile)"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"checkInNotes",children:"Notes (Optional)"}),(0,p.jsx)(Gp,{id:"checkInNotes",value:O,onChange:e=>_(e.target.value),placeholder:"Any notes for this shift...",rows:3,disabled:D})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:D,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(g&&j){M(!0);try{const e=new FileReader;e.onload=async e=>{try{var t;const n={id:"photo_".concat(Date.now()),name:j.name,size:j.size,type:j.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:r.username},a={id:"shift_".concat(Date.now()),staffId:g.id,checkInTime:(new Date).toISOString(),checkInPhoto:n,shiftDate:(new Date).toISOString().split("T")[0],status:"checked-in",notes:O},i=[...l,a];await z(i);const s=o.map(e=>e.id===g.id?c(c({},e),{},{currentShift:a}):e);await L(s),y(c(c({},g),{},{currentShift:a})),x(!1),N(null),_(""),await R()}catch(n){console.error("\u274c Error during check-in:",n);const e=n instanceof Error?n.message:"Unknown error occurred";a("Check-in failed: ".concat(e))}finally{M(!1)}},e.readAsDataURL(j)}catch(e){console.error("\u274c Error during check-in:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Check-in failed: ".concat(t)),M(!1)}}},disabled:!j||D,children:D?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Xp,{className:"w-4 h-4 mr-2"}),"Check In"]})})]})]})]})]})})]}),F()&&(null===(n=g.currentShift)||void 0===n?void 0:n.notes)&&(0,p.jsxs)("div",{className:"mt-4 p-3 bg-green-50 rounded-md",children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-green-700",children:"Current Shift Notes"}),(0,p.jsx)("p",{className:"text-sm text-green-600 mt-1",children:g.currentShift.notes})]})]})]}),!F()&&(0,p.jsxs)(He,{className:"border-blue-200 bg-blue-50",children:[(0,p.jsx)(qe,{children:(0,p.jsxs)(Ve,{className:"flex items-center space-x-2 text-blue-800",children:[(0,p.jsx)(ha,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Enhanced Staff Portal Features"})]})}),(0,p.jsx)($e,{className:"text-blue-700",children:(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsx)("p",{className:"text-sm",children:"Welcome to the enhanced Staff Portal with real-time capabilities:"}),(0,p.jsxs)("ol",{className:"text-sm space-y-2 list-decimal list-inside",children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Check In:"}),' Click "Check In" and upload a photo as proof of arrival']}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Real-time Rolling Recording:"})," Record customer rolling amounts with mandatory buy-in/buy-out tracking"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Okada Casino Integration:"})," All recordings are automatically tagged with Okada Casino venue"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Live Customer Data:"})," Customer availability updates in real-time from cloud database"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Admin Oversight:"})," Buy-in/buy-out amounts required for complete financial tracking"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Enhanced OCR:"})," Upload receipts for automatic data extraction including cash flow"]})]}),(0,p.jsx)("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-blue-600",children:[(0,p.jsx)("strong",{children:"Note:"})," All data is immediately saved to Supabase cloud database for real-time synchronization across all systems and admin oversight."]})})]})})]}),(0,p.jsxs)(Jh,{defaultValue:"shifts",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"shifts",className:"flex items-center space-x-2",children:[(0,p.jsx)(im,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Recent Shifts"})]}),(0,p.jsxs)(Zh,{value:"rolling",className:"flex items-center space-x-2",children:[(0,p.jsx)(om,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Rolling Records"})]})]}),(0,p.jsx)(ep,{value:"shifts",className:"mt-6",children:(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(im,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Recent Shifts"}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs",children:"Real-time from Supabase"})]}),(0,p.jsx)(Ke,{children:"Your last 10 shifts with real-time updates"})]}),(0,p.jsx)($e,{children:0===B.length?(0,p.jsxs)("div",{className:"text-center py-8",children:[(0,p.jsx)(Qp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No shift history found."}),(0,p.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Your shifts will appear here once you start checking in."})]}):(0,p.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,p.jsx)(He,{className:"border-l-4 border-l-blue-400",children:(0,p.jsxs)($e,{className:"p-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(im,{className:"w-4 h-4 text-gray-400"}),(0,p.jsx)("span",{className:"font-medium",children:e.shiftDate})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(tt,{className:"checked-in"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:"checked-in"===e.status?"On Duty":"Completed"}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs",children:"Supabase"})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-xs text-gray-500",children:"Check-in Time"}),(0,p.jsx)("p",{children:new Date(e.checkInTime).toLocaleString()}),e.checkInPhoto&&(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(tm,{src:e.checkInPhoto.data,alt:"Check-in proof",className:"w-16 h-16 object-cover rounded border"})})]}),e.checkOutTime&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-xs text-gray-500",children:"Check-out Time"}),(0,p.jsx)("p",{children:new Date(e.checkOutTime).toLocaleString()}),e.checkOutPhoto&&(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(tm,{src:e.checkOutPhoto.data,alt:"Check-out proof",className:"w-16 h-16 object-cover rounded border"})})]})]}),e.notes&&(0,p.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-xs",children:[(0,p.jsx)(Me,{className:"text-gray-500",children:"Notes"}),(0,p.jsx)("p",{className:"text-gray-700 mt-1",children:e.notes})]})]})},e.id))})})]})}),(0,p.jsx)(ep,{value:"rolling",className:"mt-6",children:(0,p.jsx)(vm,{user:r,currentStaff:g,showError:a,clearError:i})})]})]}):(0,p.jsx)("div",{className:"space-y-6",children:(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(jp,{className:"w-12 h-12 mx-auto text-red-400 mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Record Not Found"}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:"Your staff record could not be found or created automatically."}),(0,p.jsxs)("div",{className:"text-left bg-gray-50 p-4 rounded-lg max-w-md mx-auto",children:[(0,p.jsx)("h4",{className:"font-medium text-sm text-gray-900 mb-2",children:"Debug Information:"}),(0,p.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,p.jsxs)("li",{children:["User ID: ",r.id]}),(0,p.jsxs)("li",{children:["Staff ID: ",r.staffId||"Not assigned"]}),(0,p.jsxs)("li",{children:["Username: ",r.username]}),(0,p.jsxs)("li",{children:["Role: ",r.role]})]})]}),(0,p.jsx)("p",{className:"text-sm text-gray-400 mt-4",children:"Please contact an administrator to create your staff record."})]})})})}),bm=["className"],wm=["className"],jm=["className"],Nm=["className"],Sm=["className"],km=["className"];function Om(e){let{className:t}=e,n=u(e,bm);return(0,p.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,p.jsx)("table",c({"data-slot":"table",className:Ne("w-full caption-bottom text-sm",t)},n))})}function _m(e){let{className:t}=e,n=u(e,wm);return(0,p.jsx)("thead",c({"data-slot":"table-header",className:Ne("[&_tr]:border-b",t)},n))}function Cm(e){let{className:t}=e,n=u(e,jm);return(0,p.jsx)("tbody",c({"data-slot":"table-body",className:Ne("[&_tr:last-child]:border-0",t)},n))}function Em(e){let{className:t}=e,n=u(e,Nm);return(0,p.jsx)("tr",c({"data-slot":"table-row",className:Ne("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t)},n))}function Am(e){let{className:t}=e,n=u(e,Sm);return(0,p.jsx)("th",c({"data-slot":"table-head",className:Ne("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))}function Pm(e){let{className:t}=e,n=u(e,km);return(0,p.jsx)("td",c({"data-slot":"table-cell",className:Ne("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))}const Tm=sa("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Im=sa("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Dm=sa("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Mm=Cp(function(e){var n,r;let{user:a,showError:i,clearError:o}=e;const[s,l]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[f,h]=(0,t.useState)([]),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)("trips"),[x,b]=(0,t.useState)("overview"),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(!1),[k,O]=(0,t.useState)(null),[_,C]=(0,t.useState)(!0),[E,A]=(0,t.useState)(""),[P,T]=(0,t.useState)(!1),[I,D]=(0,t.useState)(!1),[M,R]=(0,t.useState)(!1),[L,z]=(0,t.useState)(!1),[F,B]=(0,t.useState)(!1),[U,W]=(0,t.useState)(!1),[H,q]=(0,t.useState)(!1),[V,K]=(0,t.useState)({name:"",description:"",date:"",endDate:"",venue:"",status:"planned"}),[$,G]=(0,t.useState)({description:"",amount:0,category:"flight"}),[Y,X]=(0,t.useState)(25),[J,Q]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(25),[te,ne]=(0,t.useState)(null),re=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),ae=e=>void 0===e||null===e||isNaN(e)?0:e,ie="admin"===a.role,oe="agent"===a.role,se=(0,t.useCallback)(async()=>{try{j(!0),A(""),o(),console.log("\ud83d\udd04 Loading project data from Supabase...");const[e,t,n]=await Promise.all([Zr.get("trips",[]),Zr.get("customers",[]),Zr.get("agents",[])]);if(console.log("\ud83d\udcca Data loaded:",{trips:e.length,customers:t.length,agents:n.length}),l(e),d(t),h(n),O(new Date),T(!0),m){const t=e.find(e=>e.id===m.id);t&&g(t)}console.log("\u2705 Project data loaded successfully: ".concat(e.length," trips"))}catch(e){console.error("\u274c Error loading project data:",e);const t=e instanceof Error?e.message:"Unknown error occurred",n="Failed to load project data: ".concat(t);A(n),i(n)}finally{j(!1)}},[o,i,m]);(0,t.useEffect)(()=>{let e;return se(),_&&(e=setInterval(()=>{console.log("\ud83d\udd04 Real-time refresh triggered"),se()},3e4)),()=>{e&&clearInterval(e)}},[se,_]);const le=async e=>{try{S(!0),await Zr.save("trips",e),l(e),O(new Date),console.log("\u2705 Trips saved to Supabase")}catch(t){console.error("\u274c Error saving trips:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw i("Failed to save trips: ".concat(e)),t}finally{S(!1)}},ce=e=>{const t=e.customers.reduce((e,t)=>e+ae(t.rollingAmount),0),n=e.customers.reduce((e,t)=>e+ae(t.winLoss),0),r=e.customers.reduce((e,t)=>e+ae(t.buyInAmount),0),a=e.customers.reduce((e,t)=>e+ae(t.buyOutAmount),0),i=e.expenses.reduce((e,t)=>e+ae(t.amount),0),o=a-r,s=e.customers.reduce((e,t)=>e+ae(t.rollingAmount)*ae(t.rollingPercentage)/100,0),l=-n,c=l-s;return{totalRolling:t,totalWinLoss:n,totalBuyIn:r,totalBuyOut:a,totalExpenses:i,netCashFlow:o,rollingCommission:s,houseGrossWin:l,houseNetWin:c,netResult:c-i}},ue="agent"===a.role&&a.agentId?s.filter(e=>{var t;return(null===(t=e.agents)||void 0===t?void 0:t.some(e=>e.agentId===a.agentId))||e.agentId===a.agentId}):s;return w&&!P?(0,p.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Project Data"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Connecting to Supabase and loading trips, customers, and agents..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(Oa,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\ud83c\udfaf Project Management - Agent Share CRUD Added"}),(0,p.jsxs)("p",{className:"text-xs text-blue-600",children:["Full CRUD functionality for agent shares now available in trip details",k&&" \u2022 Last sync: ".concat(k.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[N&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:se,disabled:w,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>C(!_),className:"text-xs",children:[(0,p.jsx)(ja,{className:"w-3 h-3 mr-1 ".concat(_?"text-green-500":"text-gray-500")}),_?"Live":"Manual"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:[(0,p.jsx)(pa,{className:"w-2 h-2 mr-1"}),"CRUD Ready"]})]})]})}),(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"pt-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Trips Loaded"}),(0,p.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.length})]}),(0,p.jsx)(Oa,{className:"w-8 h-8 text-blue-400"})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"pt-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Customers Available"}),(0,p.jsx)("p",{className:"text-2xl font-bold text-green-600",children:u.length})]}),(0,p.jsx)(ma,{className:"w-8 h-8 text-green-400"})]})})}),(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"pt-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Agents Available"}),(0,p.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:f.length})]}),(0,p.jsx)(ka,{className:"w-8 h-8 text-purple-400"})]})})})]}),E&&(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Error:"})," ",E,(0,p.jsxs)(Oe,{onClick:se,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,p.jsxs)(Jh,{value:y,onValueChange:v,className:"space-y-4",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"trips",className:"flex items-center gap-2",children:[(0,p.jsx)(Oa,{className:"w-4 h-4"}),"All Trips"]}),(0,p.jsxs)(Zh,{value:"trip-details",disabled:!m,className:"flex items-center gap-2",children:[(0,p.jsx)(Np,{className:"w-4 h-4"}),"Trip Details ",m&&"- ".concat(m.name)]})]}),(0,p.jsxs)(ep,{value:"trips",className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Project Management"}),(0,p.jsxs)("p",{className:"text-gray-600",children:["Manage trips and project data with full CRUD functionality","agent"===a.role&&" (Your trips only)"]})]}),(ie||oe)&&(0,p.jsxs)(ys,{open:I,onOpenChange:D,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Create Trip"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Create New Trip"}),(0,p.jsx)(Ss,{children:"Create a new trip that will be saved to Supabase database."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"tripName",children:"Trip Name *"}),(0,p.jsx)(Ce,{id:"tripName",value:V.name,onChange:e=>K(c(c({},V),{},{name:e.target.value})),placeholder:"Enter trip name"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"tripDescription",children:"Description"}),(0,p.jsx)(Gp,{id:"tripDescription",value:V.description,onChange:e=>K(c(c({},V),{},{description:e.target.value})),placeholder:"Trip description"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"startDate",children:"Start Date *"}),(0,p.jsx)(Ce,{id:"startDate",type:"date",value:V.date,onChange:e=>K(c(c({},V),{},{date:e.target.value}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"endDate",children:"End Date"}),(0,p.jsx)(Ce,{id:"endDate",type:"date",value:V.endDate,onChange:e=>K(c(c({},V),{},{endDate:e.target.value}))})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"venue",children:"Venue"}),(0,p.jsx)(Ce,{id:"venue",value:V.venue,onChange:e=>K(c(c({},V),{},{venue:e.target.value})),placeholder:"Casino venue"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"status",children:"Status"}),(0,p.jsxs)(Jf,{value:V.status,onValueChange:e=>K(c(c({},V),{},{status:e})),children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{})}),(0,p.jsxs)(eh,{children:[(0,p.jsx)(th,{value:"planned",children:"Planned"}),(0,p.jsx)(th,{value:"ongoing",children:"Ongoing"}),(0,p.jsx)(th,{value:"completed",children:"Completed"})]})]})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{variant:"outline",onClick:()=>D(!1),disabled:N,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(V.name.trim()&&V.date)try{const e={id:Date.now().toString(),name:V.name,description:V.description||"",date:V.date,status:V.status,agents:"agent"===a.role&&a.agentId?[{agentId:a.agentId,agentName:a.username,sharePercentage:100,calculatedShare:0}]:[],customers:[],expenses:[],totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,calculatedTotalRolling:0,sharing:{totalWinLoss:0,totalExpenses:0,totalRollingCommission:0,totalBuyIn:0,totalBuyOut:0,netCashFlow:0,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]},createdAt:(new Date).toISOString(),attachments:[],lastDataUpdate:(new Date).toISOString(),activeCustomersCount:0,recentActivityCount:0,totalExpenses:0},t=[...s,e];await le(t),D(!1),K({name:"",description:"",date:"",endDate:"",venue:"",status:"planned"}),console.log("\u2705 Trip created successfully:",e.name)}catch(e){console.error("\u274c Error creating trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";i("Failed to create trip: ".concat(t))}else i("Please fill in all required fields")},disabled:N,children:N?"Creating...":"Create Trip"})]})]})]})]})]}),0===ue.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(Oa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:P?"No trips found":"Loading trips..."}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:P?"Create your first trip to start managing projects and customer rolling amounts.":"Please wait while we load your trip data from Supabase."}),P&&(ie||oe)&&(0,p.jsxs)(Oe,{onClick:()=>D(!0),children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Create First Trip"]}),!P&&(0,p.jsxs)(Oe,{onClick:se,variant:"outline",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Retry Loading"]})]})}):(0,p.jsx)("div",{className:"space-y-4",children:ue.map(e=>{var t,n,r;const a=ce(e);return(0,p.jsx)(He,{className:"overflow-hidden hover:shadow-md transition-shadow",children:(0,p.jsxs)(qe,{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Ve,{className:"text-xl",children:e.name}),(0,p.jsxs)(Ke,{className:"mt-1",children:[e.description," \u2022 ",e.date]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(tt,{variant:"completed"===e.status?"default":"ongoing"===e.status?"secondary":"outline",children:(null===(t=e.status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.status)||void 0===n?void 0:n.slice(1))}),(0,p.jsxs)(Oe,{size:"sm",variant:"outline",onClick:()=>(e=>{console.log("\ud83c\udfaf Selecting trip for details:",e.name),g(e),v("trip-details"),b("overview")})(e),children:[(0,p.jsx)(Np,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-gray-500 text-sm",children:"Customers"}),(0,p.jsx)("div",{className:"font-medium",children:(null===(r=e.customers)||void 0===r?void 0:r.length)||0})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-gray-500 text-sm",children:"Rolling"}),(0,p.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",re(a.totalRolling)]})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-gray-500 text-sm",children:"Win/Loss"}),(0,p.jsxs)("div",{className:"font-medium ".concat(a.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(a.totalWinLoss)]})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-gray-500 text-sm",children:"Net Result"}),(0,p.jsxs)("div",{className:"font-medium ".concat(a.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(a.netResult)]})]})]})]})},e.id)})})]}),(0,p.jsx)(ep,{value:"trip-details",className:"space-y-4",children:m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:m.name}),(0,p.jsx)("p",{className:"text-gray-600",children:m.description}),(0,p.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,p.jsx)(tt,{variant:"completed"===m.status?"default":"ongoing"===m.status?"secondary":"outline",children:(null===(n=m.status)||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===(r=m.status)||void 0===r?void 0:r.slice(1))}),(0,p.jsx)("span",{className:"text-sm text-gray-500",children:m.date})]})]}),(0,p.jsxs)(Oe,{variant:"outline",onClick:()=>v("trips"),children:[(0,p.jsx)(Oa,{className:"w-4 h-4 mr-2"}),"Back to Trips"]})]}),(0,p.jsxs)(Jh,{value:x,onValueChange:b,className:"space-y-4",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-5",children:[(0,p.jsxs)(Zh,{value:"overview",className:"flex items-center gap-1",children:[(0,p.jsx)(Tm,{className:"w-3 h-3"}),"Overview"]}),(0,p.jsxs)(Zh,{value:"customers",className:"flex items-center gap-1",children:[(0,p.jsx)(ma,{className:"w-3 h-3"}),"Customers"]}),(0,p.jsxs)(Zh,{value:"agents",className:"flex items-center gap-1",children:[(0,p.jsx)(ka,{className:"w-3 h-3"}),"Agents"]}),(0,p.jsxs)(Zh,{value:"expenses",className:"flex items-center gap-1",children:[(0,p.jsx)(Na,{className:"w-3 h-3"}),"Expenses"]}),(0,p.jsxs)(Zh,{value:"financials",className:"flex items-center gap-1",children:[(0,p.jsx)(Im,{className:"w-3 h-3"}),"Financials"]})]}),(0,p.jsx)(ep,{value:"overview",className:"space-y-4",children:(()=>{const e=ce(m);return(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{className:"pb-2",children:(0,p.jsx)(Ve,{className:"text-sm text-gray-600",children:"Total Rolling"})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["HK$",re(e.totalRolling)]}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[m.customers.length," customers"]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{className:"pb-2",children:(0,p.jsx)(Ve,{className:"text-sm text-gray-600",children:"Win/Loss"})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.totalWinLoss)]}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"Customer perspective"})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{className:"pb-2",children:(0,p.jsx)(Ve,{className:"text-sm text-gray-600",children:"Expenses"})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:["HK$",re(e.totalExpenses)]}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[m.expenses.length," items"]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{className:"pb-2",children:(0,p.jsx)(Ve,{className:"text-sm text-gray-600",children:"Net Result"})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold ".concat(e.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netResult)]}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"After expenses"})]})]})]})})()}),(0,p.jsxs)(ep,{value:"customers",className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Customers (",m.customers.length,")"]}),(0,p.jsxs)(ys,{open:M,onOpenChange:R,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{size:"sm",children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Add Customer to Trip"}),(0,p.jsxs)(Ss,{children:["Select from available customers (",u.length," total)"]})]}),(0,p.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[u.filter(e=>!m.customers.some(t=>t.customerId===e.id)).map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-medium",children:e.name}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),(0,p.jsxs)("div",{className:"text-xs text-gray-400",children:["Agent: ",e.agentName]})]}),(0,p.jsx)(Oe,{size:"sm",onClick:()=>(async e=>{if(!m)return;const t=u.find(t=>t.id===e);if(t)if(m.customers.some(t=>t.customerId===e))i("Customer is already added to this trip");else try{const e={customerId:t.id,customerName:t.name,rollingAmount:0,winLoss:0,buyInAmount:0,buyOutAmount:0,netCashFlow:0,rollingPercentage:t.rollingPercentage||1.4,calculatedRollingAmount:0,selectedGames:[],isActive:!0,lastActivityTime:null},n=c(c({},m),{},{customers:[...m.customers,e],lastDataUpdate:(new Date).toISOString()}),r=s.map(e=>e.id===m.id?n:e);await le(r),g(n),R(!1),console.log("\u2705 Customer added to trip:",t.name)}catch(n){console.error("\u274c Error adding customer to trip:",n);const e=n instanceof Error?n.message:"Unknown error occurred";i("Failed to add customer to trip: ".concat(e))}})(e.id),children:"Add"})]},e.id)),0===u.filter(e=>!m.customers.some(t=>t.customerId===e.id)).length&&(0,p.jsx)("p",{className:"text-center text-gray-500 py-8",children:"All customers are already added to this trip"})]})]})]})]}),0===m.customers.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-8",children:[(0,p.jsx)(ma,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No customers added to this trip"}),(0,p.jsxs)(Oe,{className:"mt-4",onClick:()=>R(!0),children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add First Customer"]})]})}):(0,p.jsx)("div",{className:"space-y-4",children:m.customers.map(e=>(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"pt-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("h4",{className:"font-medium",children:e.customerName}),(0,p.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Rolling:"}),(0,p.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",re(e.rollingAmount)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Win/Loss:"}),(0,p.jsxs)("div",{className:"font-medium ".concat(e.winLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.winLoss)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Buy-in:"}),(0,p.jsxs)("div",{className:"font-medium",children:["HK$",re(e.buyInAmount)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Buy-out:"}),(0,p.jsxs)("div",{className:"font-medium",children:["HK$",re(e.buyOutAmount)]})]})]})]}),(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(m)try{const t=c(c({},m),{},{customers:m.customers.filter(t=>t.customerId!==e),lastDataUpdate:(new Date).toISOString()}),n=s.map(e=>e.id===m.id?t:e);await le(n),g(t),console.log("\u2705 Customer removed from trip")}catch(t){console.error("\u274c Error removing customer from trip:",t);const e=t instanceof Error?t.message:"Unknown error occurred";i("Failed to remove customer from trip: ".concat(e))}})(e.customerId),disabled:N,children:(0,p.jsx)(us,{className:"w-4 h-4"})})]})})},e.customerId))})]}),(0,p.jsxs)(ep,{value:"agents",className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Agents (",m.agents.length,")"]}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Manage agent shares with full CRUD functionality"})]}),(0,p.jsxs)(ys,{open:L,onOpenChange:z,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{size:"sm",children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Agent"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Add Agent to Trip"}),(0,p.jsx)(Ss,{children:"Select an agent and set their share percentage"})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"sharePercentage",children:"Share Percentage *"}),(0,p.jsx)(Ce,{id:"sharePercentage",type:"number",value:Y,onChange:e=>X(parseFloat(e.target.value)||0),placeholder:"Enter percentage (e.g., 25)",min:"0.1",max:"100",step:"0.1"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a value between 0.1 and 100"})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)(Me,{children:"Available Agents"}),f.filter(e=>!m.agents.some(t=>t.agentId===e.id)).map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-medium",children:e.name}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,p.jsx)(Oe,{size:"sm",onClick:()=>(async e=>{if(!m)return;const t=f.find(t=>t.id===e);if(t)if(m.agents.some(t=>t.agentId===e))i("Agent is already added to this trip");else if(Y<=0||Y>100)i("Please enter a valid share percentage between 1 and 100");else try{const e={agentId:t.id,agentName:t.name,sharePercentage:Y,calculatedShare:0},n=c(c({},m),{},{agents:[...m.agents,e],lastDataUpdate:(new Date).toISOString()}),r=s.map(e=>e.id===m.id?n:e);await le(r),g(n),z(!1),X(25),console.log("\u2705 Agent added to trip:",t.name)}catch(n){console.error("\u274c Error adding agent to trip:",n);const e=n instanceof Error?n.message:"Unknown error occurred";i("Failed to add agent to trip: ".concat(e))}})(e.id),children:"Add"})]},e.id)),0===f.filter(e=>!m.agents.some(t=>t.agentId===e.id)).length&&(0,p.jsx)("p",{className:"text-center text-gray-500 py-4",children:"All agents are already added to this trip"})]})]})]})]})]}),0===m.agents.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-8",children:[(0,p.jsx)(ka,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No agents assigned to this trip"}),(0,p.jsxs)(Oe,{className:"mt-4",onClick:()=>z(!0),children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add First Agent"]})]})}):(0,p.jsx)("div",{className:"space-y-4",children:m.agents.map(e=>(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"pt-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("h4",{className:"font-medium",children:e.agentName}),(0,p.jsxs)("div",{className:"flex items-center space-x-6 mt-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Share Percentage:"}),(0,p.jsxs)("span",{className:"font-medium ml-1 text-blue-600",children:[e.sharePercentage,"%"]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm text-gray-500",children:"Calculated Share:"}),(0,p.jsxs)("span",{className:"font-medium ml-1 text-green-600",children:["HK$",re(e.calculatedShare)]})]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>{return Q(t=e),ee(t.sharePercentage),void W(!0);var t},disabled:N,children:(0,p.jsx)(Dm,{className:"w-4 h-4"})}),(0,p.jsx)(Oe,{variant:"outline",size:"sm",onClick:()=>(ne(e),void q(!0)),disabled:N,children:(0,p.jsx)(kp,{className:"w-4 h-4"})})]})]})})},e.agentId))}),(0,p.jsx)(ys,{open:U,onOpenChange:W,children:(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Edit Agent Share"}),(0,p.jsxs)(Ss,{children:["Update ",null===J||void 0===J?void 0:J.agentName,"'s share percentage"]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"editSharePercentage",children:"Share Percentage *"}),(0,p.jsx)(Ce,{id:"editSharePercentage",type:"number",value:Z,onChange:e=>ee(parseFloat(e.target.value)||0),placeholder:"Enter percentage (e.g., 25)",min:"0.1",max:"100",step:"0.1"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a value between 0.1 and 100"})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{variant:"outline",onClick:()=>W(!1),disabled:N,children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(m&&J)if(Z<=0||Z>100)i("Please enter a valid share percentage between 1 and 100");else try{const e=c(c({},m),{},{agents:m.agents.map(e=>e.agentId===J.agentId?c(c({},e),{},{sharePercentage:Z}):e),lastDataUpdate:(new Date).toISOString()}),t=s.map(t=>t.id===m.id?e:t);await le(t),g(e),W(!1),Q(null),ee(25),console.log("\u2705 Agent share updated:",J.agentName)}catch(e){console.error("\u274c Error updating agent share:",e);const t=e instanceof Error?e.message:"Unknown error occurred";i("Failed to update agent share: ".concat(t))}},disabled:N,children:N?"Updating...":"Update Share"})]})]})]})}),(0,p.jsx)(yl,{open:H,onOpenChange:q,children:(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Remove Agent from Trip"}),(0,p.jsxs)(kl,{children:["Are you sure you want to remove ",(0,p.jsx)("strong",{children:null===te||void 0===te?void 0:te.agentName})," from this trip? This will remove their ",null===te||void 0===te?void 0:te.sharePercentage,"% share allocation.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),"This action cannot be undone."]})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{disabled:N,children:"Cancel"}),(0,p.jsx)(Ol,{onClick:async()=>{if(m&&te)try{const e=c(c({},m),{},{agents:m.agents.filter(e=>e.agentId!==te.agentId),lastDataUpdate:(new Date).toISOString()}),t=s.map(t=>t.id===m.id?e:t);await le(t),g(e),q(!1),ne(null),console.log("\u2705 Agent removed from trip:",te.agentName)}catch(e){console.error("\u274c Error removing agent from trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";i("Failed to remove agent from trip: ".concat(t))}},disabled:N,className:"bg-red-600 hover:bg-red-700",children:N?"Removing...":"Remove Agent"})]})]})})]}),(0,p.jsxs)(ep,{value:"expenses",className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Expenses (",m.expenses.length,")"]}),(0,p.jsxs)(ys,{open:F,onOpenChange:B,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{size:"sm",children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add Expense"]})}),(0,p.jsxs)(ws,{children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Add Expense"}),(0,p.jsx)(Ss,{children:"Record a new expense for this trip"})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"expenseDescription",children:"Description"}),(0,p.jsx)(Ce,{id:"expenseDescription",value:$.description,onChange:e=>G(c(c({},$),{},{description:e.target.value})),placeholder:"Expense description"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"expenseAmount",children:"Amount (HKD)"}),(0,p.jsx)(Ce,{id:"expenseAmount",type:"number",value:$.amount,onChange:e=>G(c(c({},$),{},{amount:parseFloat(e.target.value)||0})),placeholder:"0.00",min:"0"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"expenseCategory",children:"Category"}),(0,p.jsxs)(Jf,{value:$.category,onValueChange:e=>G(c(c({},$),{},{category:e})),children:[(0,p.jsx)(Zf,{children:(0,p.jsx)(Qf,{})}),(0,p.jsxs)(eh,{children:[(0,p.jsx)(th,{value:"flight",children:"Flight"}),(0,p.jsx)(th,{value:"hotel",children:"Hotel"}),(0,p.jsx)(th,{value:"entertainment",children:"Entertainment"}),(0,p.jsx)(th,{value:"meal",children:"Meal"}),(0,p.jsx)(th,{value:"other",children:"Other"})]})]})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,p.jsx)(Oe,{onClick:async()=>{if(!m||!$.description.trim()||$.amount<=0)i("Please fill in all expense fields");else try{const e={id:Date.now().toString(),description:$.description,amount:$.amount,category:$.category,date:(new Date).toISOString().split("T")[0],addedBy:a.username,addedAt:(new Date).toISOString()},t=c(c({},m),{},{expenses:[...m.expenses,e],lastDataUpdate:(new Date).toISOString()}),n=s.map(e=>e.id===m.id?t:e);await le(n),g(t),B(!1),G({description:"",amount:0,category:"flight"}),console.log("\u2705 Expense added to trip:",e.description)}catch(e){console.error("\u274c Error adding expense to trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";i("Failed to add expense to trip: ".concat(t))}},children:"Add Expense"})]})]})]})]})]}),0===m.expenses.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-8",children:[(0,p.jsx)(Na,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-500",children:"No expenses recorded for this trip"}),(0,p.jsxs)(Oe,{className:"mt-4",onClick:()=>B(!0),children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Add First Expense"]})]})}):(0,p.jsx)(He,{children:(0,p.jsx)($e,{className:"p-0",children:(0,p.jsxs)(Om,{children:[(0,p.jsx)(_m,{children:(0,p.jsxs)(Em,{children:[(0,p.jsx)(Am,{children:"Description"}),(0,p.jsx)(Am,{children:"Category"}),(0,p.jsx)(Am,{children:"Date"}),(0,p.jsx)(Am,{children:"Added By"}),(0,p.jsx)(Am,{className:"text-right",children:"Amount"})]})}),(0,p.jsx)(Cm,{children:m.expenses.map(e=>(0,p.jsxs)(Em,{children:[(0,p.jsx)(Pm,{className:"font-medium",children:e.description}),(0,p.jsx)(Pm,{className:"capitalize",children:e.category}),(0,p.jsx)(Pm,{children:e.date}),(0,p.jsx)(Pm,{children:e.addedBy}),(0,p.jsxs)(Pm,{className:"text-right font-medium",children:["HK$",re(e.amount)]})]},e.id))})]})})})]}),(0,p.jsx)(ep,{value:"financials",className:"space-y-4",children:(()=>{const e=ce(m);return(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("h3",{className:"text-lg font-medium",children:"Trip Financial Summary"}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{children:(0,p.jsx)(Ve,{children:"Financial Flow"})}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[(0,p.jsx)("span",{className:"font-medium",children:"Total Rolling"}),(0,p.jsxs)("span",{className:"text-blue-600 font-bold",children:["HK$",re(e.totalRolling)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[(0,p.jsx)("span",{className:"font-medium",children:"Customer Win/Loss"}),(0,p.jsxs)("span",{className:"font-bold ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.totalWinLoss)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[(0,p.jsx)("span",{className:"font-medium",children:"House Gross Win"}),(0,p.jsxs)("span",{className:"text-green-600 font-bold",children:["HK$",re(e.houseGrossWin)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[(0,p.jsx)("span",{className:"font-medium",children:"Rolling Commission"}),(0,p.jsxs)("span",{className:"text-purple-600 font-bold",children:["-HK$",re(e.rollingCommission)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded",children:[(0,p.jsx)("span",{className:"font-medium",children:"Total Expenses"}),(0,p.jsxs)("span",{className:"text-orange-600 font-bold",children:["-HK$",re(e.totalExpenses)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-100 to-blue-100 rounded-lg border-2 border-green-300",children:[(0,p.jsx)("span",{className:"font-bold text-lg",children:"Net Result"}),(0,p.jsxs)("span",{className:"font-bold text-xl ".concat(e.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netResult)]})]})]})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{children:(0,p.jsx)(Ve,{className:"text-sm",children:"Cash Flow"})}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-sm",children:"Total Buy-in:"}),(0,p.jsxs)("span",{className:"font-medium",children:["HK$",re(e.totalBuyIn)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-sm",children:"Total Buy-out:"}),(0,p.jsxs)("span",{className:"font-medium",children:["HK$",re(e.totalBuyOut)]})]}),(0,p.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,p.jsx)("span",{className:"font-medium",children:"Net Cash Flow:"}),(0,p.jsxs)("span",{className:"font-bold ".concat(e.netCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netCashFlow)]})]})]})})]}),(0,p.jsxs)(He,{children:[(0,p.jsx)(qe,{children:(0,p.jsx)(Ve,{className:"text-sm",children:"Agent Shares"})}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-sm",children:"Total Agents:"}),(0,p.jsx)("span",{className:"font-medium",children:m.agents.length})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-sm",children:"Total Share %:"}),(0,p.jsxs)("span",{className:"font-medium",children:[m.agents.reduce((e,t)=>e+t.sharePercentage,0).toFixed(1),"%"]})]}),(0,p.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,p.jsx)("span",{className:"font-medium",children:"Company Share:"}),(0,p.jsxs)("span",{className:"font-medium text-blue-600",children:[(100-m.agents.reduce((e,t)=>e+t.sharePercentage,0)).toFixed(1),"%"]})]})]})})]})]})]})})()})]})]}):(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(Np,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Trip Selected"}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:"Please select a trip from the trips list to view detailed information."}),(0,p.jsxs)(Oe,{onClick:()=>v("trips"),children:[(0,p.jsx)(Oa,{className:"w-4 h-4 mr-2"}),"Go to Trips List"]})]})})})]})]})});var Rm=n(9889),Lm=n.n(Rm),zm=n(620),Fm=n.n(zm),Bm=n(5268),Um=n.n(Bm),Wm=n(3097),Hm=n.n(Wm),qm=n(9160),Vm=n.n(qm),Km=n(9686),$m=n.n(Km),Gm=function(e){return 0===e?0:e>0?1:-1},Ym=function(e){return Fm()(e)&&e.indexOf("%")===e.length-1},Xm=function(e){return Vm()(e)&&!Um()(e)},Jm=function(e){return Xm(e)||Fm()(e)},Qm=0,Zm=function(e){var t=++Qm;return"".concat(e||"").concat(t)},eg=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Xm(e)&&!Fm()(e))return r;if(Ym(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Um()(n)&&(n=r),a&&n>t&&(n=t),n},tg=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ng=function(e,t){return Xm(e)&&Xm(t)?function(n){return e+n*(t-e)}:function(){return t}};function rg(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Hm()(e,t))===n}):null}var ag=function(e,t){return Xm(e)&&Xm(t)?e-t:Fm()(e)&&Fm()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},ig=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},og=n(1629),sg=n.n(og),lg=n(6686),cg=n.n(lg),ug=n(2086);function dg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function fg(e){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(e)}var hg=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pg=["points","pathLength"],mg={svg:["viewBox","children"],polygon:pg,polyline:pg},gg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yg=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!cg()(r))return null;var a={};return Object.keys(r).forEach(function(e){gg.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},vg=function(e,t,n){if(!cg()(e)||"object"!==fg(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];gg.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},xg=["children"],bg=["children"];function wg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jg(e){return jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}var Ng={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sg=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},kg=null,Og=null,_g=function e(n){if(n===kg&&Array.isArray(Og))return Og;var r=[];return t.Children.forEach(n,function(t){$m()(t)||((0,ug.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Og=r,kg=n,r};function Cg(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Sg(e)}):[Sg(t)],_g(e).forEach(function(e){var t=Hm()(e,"type.displayName")||Hm()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Eg(e,t){var n=Cg(e,t);return n&&n[0]}var Ag=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Xm(n)||n<=0||!Xm(r)||r<=0)},Pg=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tg=function(e){return e&&e.type&&Fm()(e.type)&&Pg.indexOf(e.type)>=0},Ig=function(e){return e&&"object"===jg(e)&&"clipDot"in e},Dg=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!cg()(a))return null;var i={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,i=null!==(a=null===mg||void 0===mg?void 0:mg[r])&&void 0!==a?a:[];return t.startsWith("data-")||!sg()(e)&&(r&&i.includes(t)||hg.includes(t))||n&&gg.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},Mg=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return Rg(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var o=n[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Rg(o,s))return!1}return!0},Rg=function(e,t){if($m()(e)&&$m()(t))return!0;if(!$m()(e)&&!$m()(t)){var n=e.props||{},r=n.children,a=wg(n,xg),i=t.props||{},o=i.children,s=wg(i,bg);return r&&o?dg(a,s)&&Mg(r,o):!r&&!o&&dg(a,s)}return!1},Lg=function(e,t){var n=[],r={};return _g(e).forEach(function(e,a){if(Tg(e))n.push(e);else if(e){var i=Sg(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!r[i])){var c=s(e,i,a);n.push(c),r[i]=!0}}}),n};function zg(e){return zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(e)}function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(n),!0).forEach(function(t){Ug(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ug(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qg=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,j=(0,t.useRef)(null),N=(0,t.useRef)();N.current=x,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=Wg((0,t.useState)({containerWidth:i.width,containerHeight:i.height}),2),O=S[0],_=S[1],C=(0,t.useCallback)(function(e,t){_(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;C(r,a),null===(t=N.current)||void 0===t||t.call(N,r,a)};g>0&&(e=Lm()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,a=n.height;return C(r,a),t.observe(j.current),function(){t.disconnect()}},[C,g]);var E=(0,t.useMemo)(function(){var e=O.containerWidth,n=O.containerHeight;if(e<0||n<0)return null;ig(Ym(s)||Ym(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),ig(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Ym(s)?e:s,i=Ym(c)?n:c;r&&r>0&&(a?i=a/r:i&&(a=i*r),h&&i>h&&(i=h)),ig(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,c,d,f,r);var o=!Array.isArray(p)&&Sg(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,Bg({width:a,height:i},o?{style:Bg({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e})},[r,p,c,h,f,d,O,s]);return t.createElement("div",{id:y?"".concat(y):void 0,className:k("recharts-responsive-container",v),style:Bg(Bg({},w),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),Vg=n(6604),Kg=n.n(Vg),$g=n(7424),Gg=n.n($g),Yg="Invariant failed";function Xg(e,t){if(!e)throw new Error(Yg)}var Jg=["children","width","height","viewBox","className","style","title","desc"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(this,arguments)}function Zg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ey(e){var n=e.children,r=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=Zg(e,Jg),d=i||{width:r,height:a,x:0,y:0},f=k("recharts-surface",o);return t.createElement("svg",Qg({},Dg(u,!0,"svg"),{className:f,width:r,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var ty=["children","className"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function ry(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ay=t.forwardRef(function(e,n){var r=e.children,a=e.className,i=ry(e,ty),o=k("recharts-layer",a);return t.createElement("g",ny({className:o},Dg(i,!0),{ref:n}),r)});function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(this,arguments)}function sy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cy(Object(n),!0).forEach(function(t){dy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=iy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fy(e){return Array.isArray(e)&&Jm(e[0])&&Jm(e[1])?e.join(" ~ "):e}var hy=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=uy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=uy({margin:0},c),w=!$m()(m),j=w?m:"",N=k("recharts-default-tooltip",h),S=k("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var O=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",oy({className:N,style:x},O),t.createElement("p",{className:S,style:b},t.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(f?Gg()(u,f):u).map(function(e,n){if("none"===e.type)return null;var a=uy({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||fy,o=e.value,l=e.name,c=o,f=l;if(i&&null!=c&&null!=f){var h=i(o,l,e,n,u);if(Array.isArray(h)){var p=sy(h,2);c=p[0],f=p[1]}else c=h}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},Jm(f)?t.createElement("span",{className:"recharts-tooltip-item-name"},f):null,Jm(f)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function py(e){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(e)}function my(e,t,n){return t=function(e){var t=function(e,t){if("object"!=py(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=py(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==py(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gy="recharts-tooltip-wrapper",yy={visibility:"hidden"};function vy(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return k(gy,my(my(my(my({},"".concat(gy,"-right"),Xm(n)&&t&&Xm(t.x)&&n>=t.x),"".concat(gy,"-left"),Xm(n)&&t&&Xm(t.x)&&n<t.x),"".concat(gy,"-bottom"),Xm(r)&&t&&Xm(t.y)&&r>=t.y),"".concat(gy,"-top"),Xm(r)&&t&&Xm(t.y)&&r<t.y))}function xy(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Xm(i[r]))return i[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach(function(t){Cy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ey(r.key),r)}}function Sy(e,t,n){return t=Oy(t),function(e,t){if(t&&("object"===by(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ky()?Reflect.construct(t,n||[],Oy(e).constructor):t.apply(e,n))}function ky(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ky=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oy(e)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_y(e,t)}function Cy(e,t,n){return(t=Ey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ey(e){var t=function(e,t){if("object"!=by(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=by(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==by(t)?t:t+""}var Ay=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Cy(e=Sy(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cy(e,"handleKeyDown",function(t){var n,r,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}(n,e),r=n,a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,o=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,f=n.position,h=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=xy({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=xy({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):yy,cssClasses:vy({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,x=y.cssProperties,b=jy(jy({transition:u&&r?"transform ".concat(i,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},s)}}],a&&Ny(r.prototype,a),i&&Ny(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent),Py={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Py[e]},set:function(e,t){if("string"===typeof e)Py[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Py[t]=e[t]})}}},Ty=n(977),Iy=n.n(Ty);function Dy(e,t,n){return!0===t?Iy()(e,n):sg()(t)?Iy()(e,t):e}function My(e){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(e)}function Ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(n),!0).forEach(function(t){Hy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qy(r.key),r)}}function Fy(e,t,n){return t=Uy(t),function(e,t){if(t&&("object"===My(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,By()?Reflect.construct(t,n||[],Uy(e).constructor):t.apply(e,n))}function By(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(By=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uy(e)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wy(e,t)}function Hy(e,t,n){return(t=qy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qy(e){var t=function(e,t){if("object"!=My(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=My(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==My(t)?t:t+""}function Vy(e){return e.dataKey}var Ky=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Fy(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,o=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,f=n.payload,h=n.payloadUniqBy,p=n.position,m=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,x=null!==f&&void 0!==f?f:[];c&&x.length&&(x=Dy(f.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,Vy));var b=x.length>0;return t.createElement(Ay,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:b,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(hy,n)}(s,Ly(Ly({},this.props),{},{payload:x})))}}],a&&zy(r.prototype,a),i&&zy(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);Hy(Ky,"displayName","Tooltip"),Hy(Ky,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Py.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $y=n(643),Gy=n.n($y);Math.abs,Math.atan2;const Yy=Math.cos,Xy=(Math.max,Math.min,Math.sin),Jy=Math.sqrt,Qy=Math.PI,Zy=2*Qy;const ev={draw(e,t){const n=Jy(t/Qy);e.moveTo(n,0),e.arc(0,0,n,0,Zy)}},tv={draw(e,t){const n=Jy(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nv=Jy(1/3),rv=2*nv,av={draw(e,t){const n=Jy(t/rv),r=n*nv;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iv={draw(e,t){const n=Jy(t),r=-n/2;e.rect(r,r,n,n)}},ov=Xy(Qy/10)/Xy(7*Qy/10),sv=Xy(Zy/10)*ov,lv=-Yy(Zy/10)*ov,cv={draw(e,t){const n=Jy(.8908130915292852*t),r=sv*n,a=lv*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=Zy*i/5,o=Yy(t),s=Xy(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},uv=Jy(3),dv={draw(e,t){const n=-Jy(t/(3*uv));e.moveTo(0,2*n),e.lineTo(-uv*n,-n),e.lineTo(uv*n,-n),e.closePath()}},fv=-.5,hv=Jy(3)/2,pv=1/Jy(12),mv=3*(pv/2+1),gv={draw(e,t){const n=Jy(t/mv),r=n/2,a=n*pv,i=r,o=n*pv+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(fv*r-hv*a,hv*r+fv*a),e.lineTo(fv*i-hv*o,hv*i+fv*o),e.lineTo(fv*s-hv*l,hv*s+fv*l),e.lineTo(fv*r+hv*a,fv*a-hv*r),e.lineTo(fv*i+hv*o,fv*o-hv*i),e.lineTo(fv*s+hv*l,fv*l-hv*s),e.closePath()}};function yv(e){return function(){return e}}function vv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xv,bv,wv,jv,Nv,Sv,kv,Ov,_v,Cv,Ev,Av,Pv,Tv;const Iv=Math.PI,Dv=2*Iv,Mv=1e-6,Rv=Dv-Mv;function Lv(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class zv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Lv:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Lv;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(xv||(xv=vv(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(bv||(bv=vv(["Z"]))))}lineTo(e,t){this._append(wv||(wv=vv(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(jv||(jv=vv(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,i){this._append(Nv||(Nv=vv(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+i)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(Sv||(Sv=vv(["M",",",""])),this._x1=e,this._y1=t);else if(d>Mv)if(Math.abs(u*s-l*c)>Mv&&a){let f=n-i,h=r-o,p=s*s+l*l,m=f*f+h*h,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((Iv-Math.acos((p+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>Mv&&this._append(Ov||(Ov=vv(["L",",",""])),e+x*c,t+x*u),this._append(_v||(_v=vv(["A",",",",0,0,",",",",",""])),a,a,+(u*f>c*h),this._x1=e+b*s,this._y1=t+b*l)}else this._append(kv||(kv=vv(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append(Cv||(Cv=vv(["M",",",""])),l,c):(Math.abs(this._x1-l)>Mv||Math.abs(this._y1-c)>Mv)&&this._append(Ev||(Ev=vv(["L",",",""])),l,c),n&&(d<0&&(d=d%Dv+Dv),d>Rv?this._append(Av||(Av=vv(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>Mv&&this._append(Pv||(Pv=vv(["A",",",",0,",",",",",",",""])),n,n,+(d>=Iv),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(Tv||(Tv=vv(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Fv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new zv(t)}Jy(3),Jy(3);function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}var Uv=["type","size","sizeType"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(this,arguments)}function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hv(Object(n),!0).forEach(function(t){Vv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $v={symbolCircle:ev,symbolCross:tv,symbolDiamond:av,symbolSquare:iv,symbolStar:cv,symbolTriangle:dv,symbolWye:gv},Gv=Math.PI/180,Yv=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=qv(qv({},Kv(e,Uv)),{},{type:r,size:i,sizeType:s}),c=l.className,u=l.cx,d=l.cy,f=Dg(l,!0);return u===+u&&d===+d&&i===+i?t.createElement("path",Wv({},f,{className:k("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Gy()(e));return $v[t]||ev}(r),t=function(e,t){let n=null,r=Fv(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:yv(e||ev),t="function"===typeof t?t:yv(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:yv(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:yv(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Gv;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,r));return t()}()})):null};function Xv(e){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ix(r.key),r)}}function ex(e,t,n){return t=nx(t),function(e,t){if(t&&("object"===Xv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tx()?Reflect.construct(t,n||[],nx(e).constructor):t.apply(e,n))}function tx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tx=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nx(e)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rx(e,t)}function ax(e,t,n){return(t=ix(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ix(e){var t=function(e,t){if("object"!=Xv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xv(t)?t:t+""}Yv.registerSymbol=function(e,t){$v["symbol".concat(Gy()(e))]=t};var ox=32,sx=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ex(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=ox/6,i=ox/3,o=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:ox,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(ox,"M").concat(2*i,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(ox,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach(function(t){ax(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(Yv,{fill:o,cx:r,cy:r,size:ox,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,i=n.layout,o=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:ox,height:ox},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var i=n.formatter||o,d=k(ax(ax({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var f=sg()(n.value)?null:n.value;ig(!sg()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=n.inactive?s:n.color;return t.createElement("li",Jv({className:d,style:c,key:"legend-item-".concat(r)},vg(e.props,n,r)),t.createElement(ey,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(f,n,r):f))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&Zv(r.prototype,a),i&&Zv(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}ax(sx,"displayName","Legend"),ax(sx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cx=["ref"];function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ux(Object(n),!0).forEach(function(t){yx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vx(r.key),r)}}function hx(e,t,n){return t=mx(t),function(e,t){if(t&&("object"===lx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,px()?Reflect.construct(t,n||[],mx(e).constructor):t.apply(e,n))}function px(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(px=function(){return!!e})()}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mx(e)}function gx(e,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gx(e,t)}function yx(e,t,n){return(t=vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx(e){var t=function(e,t){if("object"!=lx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lx(t)?t:t+""}function xx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bx(e){return e.value}var wx=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return yx(e=hx(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gx(e,t)}(n,e),r=n,i=[{key:"getWithHeight",value:function(e,t){var n=dx(dx({},this.defaultProps),e.props).layout;return"vertical"===n&&Xm(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dx({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),dx(dx({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,i=n.height,o=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=dx(dx({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=xx(n,cx);return t.createElement(sx,r)}(r,dx(dx({},this.props),{},{payload:Dy(l,s,bx)})))}}])&&fx(r.prototype,a),i&&fx(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}yx(wx,"displayName","Legend"),yx(wx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Nx=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=k("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",jx({},Dg(e,!1),yg(e),{className:o,cx:n,cy:r,r:a})):null},Sx=n(5173),kx=n.n(Sx),Ox=Object.getOwnPropertyNames,_x=Object.getOwnPropertySymbols,Cx=Object.prototype.hasOwnProperty;function Ex(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Ax(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function Px(e){return Ox(e).concat(_x(e))}var Tx=Object.hasOwn||function(e,t){return Cx.call(e,t)};function Ix(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Dx=Object.getOwnPropertyDescriptor,Mx=Object.keys;function Rx(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Lx(e,t){return Ix(e.getTime(),t.getTime())}function zx(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Fx(e,t){return e===t}function Bx(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,h=i.value;if(n.equals(f[0],h[0],l,d,e,t,n)&&n.equals(f[1],h[1],f[0],h[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Ux=Ix;function Wx(e,t,n){var r=Mx(e),a=r.length;if(Mx(t).length!==a)return!1;for(;a-- >0;)if(!Yx(e,t,n,r[a]))return!1;return!0}function Hx(e,t,n){var r,a,i,o=Px(e),s=o.length;if(Px(t).length!==s)return!1;for(;s-- >0;){if(!Yx(e,t,n,r=o[s]))return!1;if(a=Dx(e,r),i=Dx(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function qx(e,t){return Ix(e.valueOf(),t.valueOf())}function Vx(e,t){return e.source===t.source&&e.flags===t.flags}function Kx(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function $x(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Gx(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Yx(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Tx(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Xx=Array.isArray,Jx="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Qx=Object.assign,Zx=Object.prototype.toString.call.bind(Object.prototype.toString);var eb=tb();tb({strict:!0}),tb({circular:!0}),tb({circular:!0,strict:!0}),tb({createInternalComparator:function(){return Ix}}),tb({strict:!0,createInternalComparator:function(){return Ix}}),tb({circular:!0,createInternalComparator:function(){return Ix}}),tb({circular:!0,createInternalComparator:function(){return Ix},strict:!0});function tb(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Hx:Rx,areDatesEqual:Lx,areErrorsEqual:zx,areFunctionsEqual:Fx,areMapsEqual:r?Ex(Bx,Hx):Bx,areNumbersEqual:Ux,areObjectsEqual:r?Hx:Wx,arePrimitiveWrappersEqual:qx,areRegExpsEqual:Vx,areSetsEqual:r?Ex(Kx,Hx):Kx,areTypedArraysEqual:r?Hx:$x,areUrlsEqual:Gx};if(n&&(a=Qx({},a,n(a))),t){var i=Ax(a.areArraysEqual),o=Ax(a.areMapsEqual),s=Ax(a.areObjectsEqual),l=Ax(a.areSetsEqual);a=Qx({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?o(e,h,p):"function"===m&&a(e,h,p);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return s(e,h,p);if(Xx(e))return t(e,h,p);if(null!=Jx&&Jx(e))return d(e,h,p);if(g===Date)return n(e,h,p);if(g===RegExp)return c(e,h,p);if(g===Map)return i(e,h,p);if(g===Set)return u(e,h,p);var y=Zx(e);return"[object Date]"===y?n(e,h,p):"[object RegExp]"===y?c(e,h,p):"[object Map]"===y?i(e,h,p):"[object Set]"===y?u(e,h,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof h.then&&s(e,h,p):"[object URL]"===y?f(e,h,p):"[object Error]"===y?r(e,h,p):"[object Arguments]"===y?s(e,h,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,h,p)}}(l),u=a?a(c):(t=c,function(e,n,r,a,i,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:i,equals:u,strict:s})}function nb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function rb(e){return rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(e)}function ab(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ob(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=ab(r),i=a[0],o=a.slice(1);return"number"===typeof i?void nb(n.bind(null,o),i):(n(i),void nb(n.bind(null,o)))}"object"===rb(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function sb(e){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(e)}function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(n),!0).forEach(function(t){ub(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ub(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==sb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var db=function(e){return e},fb=function(e,t){return Object.keys(t).reduce(function(n,r){return cb(cb({},n),{},ub({},r,e(r,t[r])))},{})},hb=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||gb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e){return function(e){if(Array.isArray(e))return yb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t){if(e){if("string"===typeof e)return yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yb(e,t):void 0}}function yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vb=1e-4,xb=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},bb=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},wb=function(e,t){return function(n){var r=xb(e,t);return bb(r,n)}},jb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=pb(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],i=l[2],o=l[3]}}[r,i,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,u,d=wb(r,i),f=wb(a,o),h=(c=r,u=i,function(e){var t=xb(c,u),n=[].concat(mb(t.map(function(e,t){return e*t}).slice(1)),[0]);return bb(n,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=d(n)-t,i=h(n);if(Math.abs(a-t)<vb||i<vb)return f(n);n=p(n-a/i)}return f(n)};return m.isStepper=!1,m},Nb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jb(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,o=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*a)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<vb&&Math.abs(i)<vb?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return jb(r)}return"function"===typeof r?r:null};function Sb(e){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(e)}function kb(e){return function(e){if(Array.isArray(e))return Pb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ab(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(n),!0).forEach(function(t){Cb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Sb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Ab(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ab(e,t){if(e){if("string"===typeof e)return Pb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(e,t):void 0}}function Pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tb=function(e,t,n){return e+(t-e)*n},Ib=function(e){return e.from!==e.to},Db=function e(t,n,r){var a=fb(function(e,n){if(Ib(n)){var r=Eb(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return _b(_b({},n),{},{from:a,velocity:i})}return n},n);return r<1?fb(function(e,t){return Ib(t)?_b(_b({},t),{},{velocity:Tb(t.velocity,a[e].velocity,r),from:Tb(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const Mb=function(e,t,n,r,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return _b(_b({},n),{},Cb({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return _b(_b({},n),{},Cb({},r,{from:e[r],velocity:0,to:t[r]}))},{}),f=-1,h=function(){return null};return h=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=Db(n,d,i),a(_b(_b(_b({},e),t),fb(function(e,t){return t.from},d))),s=r,Object.values(d).filter(Ib).length&&(f=requestAnimationFrame(h))}:function(i){l||(l=i);var o=(i-l)/r,s=fb(function(e,t){return Tb.apply(void 0,kb(t).concat([n(o)]))},u);if(a(_b(_b(_b({},e),t),s)),o<1)f=requestAnimationFrame(h);else{var c=fb(function(e,t){return Tb.apply(void 0,kb(t).concat([n(1)]))},u);a(_b(_b(_b({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function Rb(e){return Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(e)}var Lb=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fb(e){return function(e){if(Array.isArray(e))return Bb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(n),!0).forEach(function(t){Hb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hb(e,t,n){return(t=Vb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vb(r.key),r)}}function Vb(e){var t=function(e,t){if("object"!==Rb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rb(t)?t:String(t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kb(e,t)}function $b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Xb(e);if(t){var a=Xb(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(e,t){if(t&&("object"===Rb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xb(e)}var Jb=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}(o,e);var n,r,a,i=$b(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=i.call(this,e,t)).props,a=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,f=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Yb(n)),n.changeStyle=n.changeStyle.bind(Yb(n)),!a||f<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),Gb(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},Gb(n);n.state={style:s?Hb({},s,l):l}}else n.state={style:{}};return n}return n=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(eb(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?Hb({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Wb(Wb({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?Hb({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Mb(n,r,Nb(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(Fb(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,f=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Fb(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var h=hb(f,i,s),p=Wb(Wb(Wb({},d.style),l),{},{transition:h});return[].concat(Fb(e),[p,i,u]).filter(db)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ob());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?Hb({},r,a):a,f=hb(Object.keys(d),n,i);u.start([o,t,Wb(Wb({},d),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,zb(e,Lb)),o=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!a||0===o||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,o=n.className;return(0,t.cloneElement)(e,Wb(Wb({},i),{},{style:Wb(Wb({},a),s),className:o}))};return 1===o?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&qb(n.prototype,r),a&&qb(n,a),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.PureComponent);Jb.displayName="Animate",Jb.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Jb.propTypes={from:kx().oneOfType([kx().object,kx().string]),to:kx().oneOfType([kx().object,kx().string]),attributeName:kx().string,duration:kx().number,begin:kx().number,easing:kx().oneOfType([kx().string,kx().func]),steps:kx().arrayOf(kx().shape({duration:kx().number.isRequired,style:kx().object.isRequired,easing:kx().oneOfType([kx().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kx().func]),properties:kx().arrayOf("string"),onAnimationEnd:kx().func})),children:kx().oneOfType([kx().node,kx().func]),isActive:kx().bool,canBegin:kx().bool,onAnimationEnd:kx().func,shouldReAnimate:kx().bool,onAnimationStart:kx().func,onAnimationReStart:kx().func};const Qb=Jb;function Zb(e){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(this,arguments)}function tw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rw(Object(n),!0).forEach(function(t){iw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ow=function(e,t,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},sw=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},lw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cw=function(e){var n=aw(aw({},lw),e),r=(0,t.useRef)(),a=tw((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(KR){}},[]);var s=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,f=n.className,h=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=k("recharts-rectangle",f);return y?t.createElement(Qb,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:h,isActive:y},function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return t.createElement(Qb,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:h},t.createElement("path",ew({},Dg(n,!0),{className:v,d:ow(s,l,a,o,d),ref:r})))}):t.createElement("path",ew({},Dg(n,!0),{className:v,d:ow(s,l,c,u,d)}))};function uw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dw(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class fw extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gw;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(hw(this,e))}has(e){return super.has(hw(this,e))}set(e,t){return super.set(pw(this,e),t)}delete(e){return super.delete(mw(this,e))}}Set;function hw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function pw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function mw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function gw(e){return null!==e&&"object"===typeof e?e.valueOf():e}const yw=Symbol("implicit");function vw(){var e=new fw,t=[],n=[],r=yw;function a(a){let i=e.get(a);if(void 0===i){if(r!==yw)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new fw;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return vw(t,n).unknown(r)},uw.apply(a,arguments),a}function xw(){var e,t,n=vw().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,f=d?o:i,h=d?i:o;e=(h-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(h-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return f+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return xw(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},uw.apply(d(),arguments)}function bw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bw(t())},e}function ww(){return bw(xw.apply(null,arguments).paddingInner(1))}function jw(e){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(e)}function Nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nw(Object(n),!0).forEach(function(t){kw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ow={widthCache:{},cacheCount:0},_w={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cw="recharts_measurement_span";var Ew=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Py.isSsr)return{width:0,height:0};var n=function(e){var t=Sw({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Ow.widthCache[r])return Ow.widthCache[r];try{var a=document.getElementById(Cw);a||((a=document.createElement("span")).setAttribute("id",Cw),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Sw(Sw({},_w),n);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return Ow.widthCache[r]=s,++Ow.cacheCount>2e3&&(Ow.cacheCount=0,Ow.widthCache={}),s}catch(l){return{width:0,height:0}}};function Aw(e){return Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(e)}function Pw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dw(r.key),r)}}function Dw(e){var t=function(e,t){if("object"!=Aw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aw(t)?t:t+""}var Mw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lw=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zw=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fw={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Bw=Object.keys(Fw),Uw="NaN";var Ww=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Lw.test(n)||(this.num=NaN,this.unit=""),Bw.includes(n)&&(this.num=function(e,t){return e*Fw[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Pw(null!==(n=zw.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Iw(t.prototype,n),r&&Iw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Hw(e){if(e.includes(Uw))return Uw;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Pw(null!==(n=Mw.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],o=r[3],s=Ww.parse(null!==a&&void 0!==a?a:""),l=Ww.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return Uw;t=t.replace(Mw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Pw(null!==(u=Rw.exec(t))&&void 0!==u?u:[],4),f=d[1],h=d[2],p=d[3],m=Ww.parse(null!==f&&void 0!==f?f:""),g=Ww.parse(null!==p&&void 0!==p?p:""),y="+"===h?m.add(g):m.subtract(g);if(y.isNaN())return Uw;t=t.replace(Rw,y.toString())}return t}var qw=/\(([^()]*)\)/;function Vw(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Pw(qw.exec(t),2)[1];t=t.replace(qw,Hw(n))}return t}(t),t=Hw(t)}function Kw(e){var t=function(e){try{return Vw(e)}catch(t){return Uw}}(e.slice(5,-1));return t===Uw?"":t}var $w=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gw=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(this,arguments)}function Xw(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zw=/[ \f\n\r\t\v\u2028\u2029]+/,ej=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return $m()(t)||(a=n?t.toString().split(""):t.toString().split(Zw)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ew(e,r).width}}),spaceWidth:n?0:Ew("\xa0",r).width}}catch(i){return null}},tj=function(e){return[{words:$m()(e)?[]:e.toString().split(Zw)}]},nj=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||n)&&!Py.isSsr){var s=ej({breakAll:i,children:r,style:a});return s?function(e,t,n,r,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Xm(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},f=d(t);if(!c)return f;for(var h,p=function(e){var t=u.slice(0,e),n=ej({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),x=Jw(p(v-1),2),b=x[0],w=x[1],j=Jw(p(v),1)[0];if(b||j||(m=v+1),b&&j&&(g=v-1),!b&&j){h=w;break}y++}return h||f}({breakAll:i,children:r,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):tj(r)}return tj(r)},rj="#808080",aj=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,f=e.textAnchor,h=void 0===f?"start":f,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?rj:g,v=Xw(e,$w),x=(0,t.useMemo)(function(){return nj({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,j=v.angle,N=v.className,S=v.breakAll,O=Xw(v,Gw);if(!Jm(r)||!Jm(i))return null;var _,C=r+(Xm(b)?b:0),E=i+(Xm(w)?w:0);switch(m){case"start":_=Kw("calc(".concat(c,")"));break;case"middle":_=Kw("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:_=Kw("calc(".concat(x.length-1," * -").concat(s,")"))}var A=[];if(d){var P=x[0].width,T=v.width;A.push("scale(".concat((Xm(T)?T/P:1)/P,")"))}return j&&A.push("rotate(".concat(j,", ").concat(C,", ").concat(E,")")),A.length&&(O.transform=A.join(" ")),t.createElement("text",Yw({},Dg(O,!0),{x:C,y:E,className:k("recharts-text",N),textAnchor:h,fill:y.includes("url")?rj:y}),x.map(function(e,n){var r=e.words.join(S?"":" ");return t.createElement("tspan",{x:C,dy:0===n?_:s,key:"".concat(r,"-").concat(n)},r)}))};const ij=Math.sqrt(50),oj=Math.sqrt(10),sj=Math.sqrt(2);function lj(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=ij?10:i>=oj?5:i>=sj?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?lj(e,t,2*n):[s,l,c]}function cj(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?lj(t,e,n):lj(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function uj(e,t,n){return lj(e=+e,t=+t,n=+n)[2]}function dj(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?uj(t,e,n):uj(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function fj(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hj(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pj(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=fj,n=(t,n)=>fj(e(t),n),r=(t,n)=>e(t)-n):(t=e===fj||e===hj?e:mj,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function mj(){return 0}function gj(e){return null===e?NaN:+e}const yj=pj(fj),vj=yj.right,xj=(yj.left,pj(gj).center,vj);function bj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jj(){}var Nj=.7,Sj=1/Nj,kj="\\s*([+-]?\\d+)\\s*",Oj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_j="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cj=/^#([0-9a-f]{3,8})$/,Ej=new RegExp("^rgb\\(".concat(kj,",").concat(kj,",").concat(kj,"\\)$")),Aj=new RegExp("^rgb\\(".concat(_j,",").concat(_j,",").concat(_j,"\\)$")),Pj=new RegExp("^rgba\\(".concat(kj,",").concat(kj,",").concat(kj,",").concat(Oj,"\\)$")),Tj=new RegExp("^rgba\\(".concat(_j,",").concat(_j,",").concat(_j,",").concat(Oj,"\\)$")),Ij=new RegExp("^hsl\\(".concat(Oj,",").concat(_j,",").concat(_j,"\\)$")),Dj=new RegExp("^hsla\\(".concat(Oj,",").concat(_j,",").concat(_j,",").concat(Oj,"\\)$")),Mj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rj(){return this.rgb().formatHex()}function Lj(){return this.rgb().formatRgb()}function zj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Fj(t):3===n?new Wj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Bj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Bj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ej.exec(e))?new Wj(t[1],t[2],t[3],1):(t=Aj.exec(e))?new Wj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Pj.exec(e))?Bj(t[1],t[2],t[3],t[4]):(t=Tj.exec(e))?Bj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ij.exec(e))?Gj(t[1],t[2]/100,t[3]/100,1):(t=Dj.exec(e))?Gj(t[1],t[2]/100,t[3]/100,t[4]):Mj.hasOwnProperty(e)?Fj(Mj[e]):"transparent"===e?new Wj(NaN,NaN,NaN,0):null}function Fj(e){return new Wj(e>>16&255,e>>8&255,255&e,1)}function Bj(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wj(e,t,n,r)}function Uj(e,t,n,r){return 1===arguments.length?((a=e)instanceof jj||(a=zj(a)),a?new Wj((a=a.rgb()).r,a.g,a.b,a.opacity):new Wj):new Wj(e,t,n,null==r?1:r);var a}function Wj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Hj(){return"#".concat($j(this.r)).concat($j(this.g)).concat($j(this.b))}function qj(){const e=Vj(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Kj(this.r),", ").concat(Kj(this.g),", ").concat(Kj(this.b)).concat(1===e?")":", ".concat(e,")"))}function Vj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $j(e){return((e=Kj(e))<16?"0":"")+e.toString(16)}function Gj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xj(e,t,n,r)}function Yj(e){if(e instanceof Xj)return new Xj(e.h,e.s,e.l,e.opacity);if(e instanceof jj||(e=zj(e)),!e)return new Xj;if(e instanceof Xj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Xj(o,s,l,e.opacity)}function Xj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Jj(e){return(e=(e||0)%360)<0?e+360:e}function Qj(e){return Math.max(0,Math.min(1,e||0))}function Zj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function eN(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}bj(jj,zj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rj,formatHex:Rj,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Yj(this).formatHsl()},formatRgb:Lj,toString:Lj}),bj(Wj,Uj,wj(jj,{brighter(e){return e=null==e?Sj:Math.pow(Sj,e),new Wj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Nj:Math.pow(Nj,e),new Wj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wj(Kj(this.r),Kj(this.g),Kj(this.b),Vj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hj,formatHex:Hj,formatHex8:function(){return"#".concat($j(this.r)).concat($j(this.g)).concat($j(this.b)).concat($j(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qj,toString:qj})),bj(Xj,function(e,t,n,r){return 1===arguments.length?Yj(e):new Xj(e,t,n,null==r?1:r)},wj(jj,{brighter(e){return e=null==e?Sj:Math.pow(Sj,e),new Xj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Nj:Math.pow(Nj,e),new Xj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Wj(Zj(e>=240?e-240:e+120,a,r),Zj(e,a,r),Zj(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Xj(Jj(this.h),Qj(this.s),Qj(this.l),Vj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vj(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Jj(this.h),", ").concat(100*Qj(this.s),"%, ").concat(100*Qj(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const tN=e=>()=>e;function nN(e,t){return function(n){return e+n*t}}function rN(e){return 1===(e=+e)?aN:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):tN(isNaN(t)?n:t)}}function aN(e,t){var n=t-e;return n?nN(e,n):tN(isNaN(e)?t:e)}const iN=function e(t){var n=rN(t);function r(e,t){var r=n((e=Uj(e)).r,(t=Uj(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=aN(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function oN(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=Uj(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}oN(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return eN((n-r/t)*t,o,a,i,s)}}),oN(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return eN((n-r/t)*t,a,i,o,s)}});function sN(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=mN(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function lN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uN(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=mN(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var dN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fN=new RegExp(dN.source,"g");function hN(e,t){var n,r,a,i=dN.lastIndex=fN.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=dN.exec(e))&&(r=fN.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:cN(n,r)})),i=fN.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function pN(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function mN(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?tN(t):("number"===a?cN:"string"===a?(n=zj(t))?(t=n,iN):hN:t instanceof zj?iN:t instanceof Date?lN:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?sN:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?uN:cN:pN))(e,t)}function gN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yN(e){return+e}var vN=[0,1];function xN(e){return e}function bN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function wN(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=bN(a,r),i=n(o,i)):(r=bN(r,a),i=n(i,o)),function(e){return i(r(e))}}function jN(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=bN(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=xj(e,t,1,r)-1;return i[n](a[n](t))}}function NN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SN(){var e,t,n,r,a,i,o=vN,s=vN,l=mN,c=xN;function u(){var e=Math.min(o.length,s.length);return c!==xN&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?jN:wN,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),cN)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,yN),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=gN,u()},d.clamp=function(e){return arguments.length?(c=!!e||xN,u()):c!==xN},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function kN(){return SN()(xN,xN)}var ON,_N=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function CN(e){if(!(t=_N.exec(e)))throw new Error("invalid format: "+e);var t;return new EN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function EN(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function AN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function PN(e){return(e=AN(Math.abs(e)))?e[1]:NaN}function TN(e,t){var n=AN(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}CN.prototype=EN.prototype,EN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const IN={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TN(100*e,t),r:TN,s:function(e,t){var n=AN(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(ON=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+AN(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DN(e){return e}var MN,RN,LN,zN=Array.prototype.map,FN=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function BN(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?DN:(t=zN.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?DN:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(zN.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=CN(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):IN[v]||(void 0===g&&(g=12),y=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?i:/[%p]/.test(v)?l:"",w=IN[v],j=/[defgprs%]/.test(v);function N(e){var a,i,l,f=x,N=b;if("c"===v)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),f=(S?"("===d?d:c:"-"===d||"("===d?"":d)+f,N=("s"===v?FN[8+ON/3]:"")+N+(S&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!h&&(e=r(e,1/0));var k=f.length+e.length+N.length,O=k<p?new Array(p-k+1).join(t):"";switch(m&&h&&(e=r(O+e,O.length?p-N.length:1/0),O=""),n){case"<":e=f+e+N+O;break;case"=":e=f+O+e+N;break;case"^":e=O.slice(0,k=O.length>>1)+f+e+N+O.slice(k);break;default:e=O+f+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=CN(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(PN(t)/3))),a=Math.pow(10,-r),i=FN[8+r/3];return function(e){return n(a*e)+i}}}}function UN(e,t,n,r){var a,i=dj(e,t,n);switch((r=CN(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(PN(t)/3)))-PN(Math.abs(e)))}(i,o))||(r.precision=a),LN(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,PN(t)-PN(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-PN(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return RN(r)}function WN(e){var t=e.domain;return e.ticks=function(e){var n=t();return cj(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return UN(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=uj(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function HN(){var e=kN();return e.copy=function(){return NN(e,HN())},uw.apply(e,arguments),WN(e)}function qN(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,yN),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return qN(e).unknown(t)},e=arguments.length?Array.from(e,yN):[0,1],WN(n)}function VN(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function KN(e){return Math.log(e)}function $N(e){return Math.exp(e)}function GN(e){return-Math.log(-e)}function YN(e){return-Math.exp(-e)}function XN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JN(e){return(t,n)=>-e(-t,n)}function QN(e){const t=e(KN,$N),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?XN:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=JN(r),a=JN(a),e(GN,YN)):e(KN,$N),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),f=r(s);const h=null==e?10:+e;let p=[];if(!(i%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<h&&(p=cj(o,s,h))}else p=cj(d,f,Math.min(f-d,h)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=CN(n)).precision||(n.trim=!0),n=RN(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(VN(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function ZN(){const e=QN(SN()).domain([1,10]);return e.copy=()=>NN(e,ZN()).base(e.base()),uw.apply(e,arguments),e}function eS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nS(e){var t=1,n=e(eS(t),tS(t));return n.constant=function(n){return arguments.length?e(eS(t=+n),tS(t)):t},WN(n)}function rS(){var e=nS(SN());return e.copy=function(){return NN(e,rS()).constant(e.constant())},uw.apply(e,arguments)}function aS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iS(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oS(e){return e<0?-e*e:e*e}function sS(e){var t=e(xN,xN),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(xN,xN):.5===n?e(iS,oS):e(aS(n),aS(1/n)):n},WN(t)}function lS(){var e=sS(SN());return e.copy=function(){return NN(e,lS()).exponent(e.exponent())},uw.apply(e,arguments),e}function cS(){return lS.apply(null,arguments).exponent(.5)}function uS(e){return Math.sign(e)*e*e}function dS(){var e,t=kN(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(uS(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,yN)).map(uS)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return dS(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},uw.apply(a,arguments),WN(a)}function fS(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function hS(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function pS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fj;if(e===fj)return mS;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function mS(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function gS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?mS:pS(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);gS(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(yS(e,n,t),a(e[r],i)>0&&yS(e,n,r);o<s;){for(yS(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?yS(e,n,s):(++s,yS(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function yS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vS(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return hS(e);if(t>=1)return fS(e);var r,a=(r-1)*t,i=Math.floor(a),o=fS(gS(e,i).subarray(0,i+1));return o+(hS(e.subarray(i+1))-o)*(a-i)}}function xS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gj;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function bS(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=xS(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[xj(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(fj),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return bS().domain(t).range(n).unknown(e)},uw.apply(i,arguments)}function wS(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[xj(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return wS().domain([t,n]).range(i).unknown(e)},uw.apply(WN(o),arguments)}function jS(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[xj(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return jS().domain(t).range(n).unknown(e)},uw.apply(a,arguments)}MN=BN({thousands:",",grouping:[3],currency:["$",""]}),RN=MN.format,LN=MN.formatPrefix;const NS=1e3,SS=6e4,kS=36e5,OS=864e5,_S=6048e5,CS=2592e6,ES=31536e6,AS=new Date,PS=new Date;function TS(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>TS(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(AS.setTime(+t),PS.setTime(+r),e(AS),e(PS),Math.floor(n(AS,PS))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const IS=TS(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IS.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?TS(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):IS:null);IS.range;const DS=TS(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*NS)},(e,t)=>(t-e)/NS,e=>e.getUTCSeconds()),MS=(DS.range,TS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*NS)},(e,t)=>{e.setTime(+e+t*SS)},(e,t)=>(t-e)/SS,e=>e.getMinutes())),RS=(MS.range,TS(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*SS)},(e,t)=>(t-e)/SS,e=>e.getUTCMinutes())),LS=(RS.range,TS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*NS-e.getMinutes()*SS)},(e,t)=>{e.setTime(+e+t*kS)},(e,t)=>(t-e)/kS,e=>e.getHours())),zS=(LS.range,TS(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kS)},(e,t)=>(t-e)/kS,e=>e.getUTCHours())),FS=(zS.range,TS(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SS)/OS,e=>e.getDate()-1)),BS=(FS.range,TS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OS,e=>e.getUTCDate()-1)),US=(BS.range,TS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OS,e=>Math.floor(e/OS)));US.range;function WS(e){return TS(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SS)/_S)}const HS=WS(0),qS=WS(1),VS=WS(2),KS=WS(3),$S=WS(4),GS=WS(5),YS=WS(6);HS.range,qS.range,VS.range,KS.range,$S.range,GS.range,YS.range;function XS(e){return TS(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/_S)}const JS=XS(0),QS=XS(1),ZS=XS(2),ek=XS(3),tk=XS(4),nk=XS(5),rk=XS(6),ak=(JS.range,QS.range,ZS.range,ek.range,tk.range,nk.range,rk.range,TS(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),ik=(ak.range,TS(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),ok=(ik.range,TS(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));ok.every=e=>isFinite(e=Math.floor(e))&&e>0?TS(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;ok.range;const sk=TS(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sk.every=e=>isFinite(e=Math.floor(e))&&e>0?TS(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;sk.range;function lk(e,t,n,r,a,i){const o=[[DS,1,NS],[DS,5,5e3],[DS,15,15e3],[DS,30,3e4],[i,1,SS],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,kS],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,OS],[r,2,1728e5],[n,1,_S],[t,1,CS],[t,3,7776e6],[e,1,ES]];function s(t,n,r){const a=Math.abs(n-t)/r,i=pj(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(dj(t/ES,n/ES,r));if(0===i)return IS.every(Math.max(dj(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[ck,uk]=lk(sk,ik,JS,US,zS,RS),[dk,fk]=lk(ok,ak,HS,FS,LS,MS);function hk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var gk,yk,vk,xk={"-":"",_:" ",0:"0"},bk=/^\s*\d+/,wk=/^%/,jk=/[\\^$*+?|[\]().{}]/g;function Nk(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Sk(e){return e.replace(jk,"\\$&")}function kk(e){return new RegExp("^(?:"+e.map(Sk).join("|")+")","i")}function Ok(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function _k(e,t,n){var r=bk.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ck(e,t,n){var r=bk.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ek(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ak(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Tk(e,t,n){var r=bk.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ik(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dk(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mk(e,t,n){var r=bk.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Rk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Lk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zk(e,t,n){var r=bk.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Fk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Uk(e,t,n){var r=bk.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Wk(e,t,n){var r=bk.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hk(e,t,n){var r=bk.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qk(e,t,n){var r=wk.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Vk(e,t,n){var r=bk.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Kk(e,t,n){var r=bk.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $k(e,t){return Nk(e.getDate(),t,2)}function Gk(e,t){return Nk(e.getHours(),t,2)}function Yk(e,t){return Nk(e.getHours()%12||12,t,2)}function Xk(e,t){return Nk(1+FS.count(ok(e),e),t,3)}function Jk(e,t){return Nk(e.getMilliseconds(),t,3)}function Qk(e,t){return Jk(e,t)+"000"}function Zk(e,t){return Nk(e.getMonth()+1,t,2)}function eO(e,t){return Nk(e.getMinutes(),t,2)}function tO(e,t){return Nk(e.getSeconds(),t,2)}function nO(e){var t=e.getDay();return 0===t?7:t}function rO(e,t){return Nk(HS.count(ok(e)-1,e),t,2)}function aO(e){var t=e.getDay();return t>=4||0===t?$S(e):$S.ceil(e)}function iO(e,t){return e=aO(e),Nk($S.count(ok(e),e)+(4===ok(e).getDay()),t,2)}function oO(e){return e.getDay()}function sO(e,t){return Nk(qS.count(ok(e)-1,e),t,2)}function lO(e,t){return Nk(e.getFullYear()%100,t,2)}function cO(e,t){return Nk((e=aO(e)).getFullYear()%100,t,2)}function uO(e,t){return Nk(e.getFullYear()%1e4,t,4)}function dO(e,t){var n=e.getDay();return Nk((e=n>=4||0===n?$S(e):$S.ceil(e)).getFullYear()%1e4,t,4)}function fO(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nk(t/60|0,"0",2)+Nk(t%60,"0",2)}function hO(e,t){return Nk(e.getUTCDate(),t,2)}function pO(e,t){return Nk(e.getUTCHours(),t,2)}function mO(e,t){return Nk(e.getUTCHours()%12||12,t,2)}function gO(e,t){return Nk(1+BS.count(sk(e),e),t,3)}function yO(e,t){return Nk(e.getUTCMilliseconds(),t,3)}function vO(e,t){return yO(e,t)+"000"}function xO(e,t){return Nk(e.getUTCMonth()+1,t,2)}function bO(e,t){return Nk(e.getUTCMinutes(),t,2)}function wO(e,t){return Nk(e.getUTCSeconds(),t,2)}function jO(e){var t=e.getUTCDay();return 0===t?7:t}function NO(e,t){return Nk(JS.count(sk(e)-1,e),t,2)}function SO(e){var t=e.getUTCDay();return t>=4||0===t?tk(e):tk.ceil(e)}function kO(e,t){return e=SO(e),Nk(tk.count(sk(e),e)+(4===sk(e).getUTCDay()),t,2)}function OO(e){return e.getUTCDay()}function _O(e,t){return Nk(QS.count(sk(e)-1,e),t,2)}function CO(e,t){return Nk(e.getUTCFullYear()%100,t,2)}function EO(e,t){return Nk((e=SO(e)).getUTCFullYear()%100,t,2)}function AO(e,t){return Nk(e.getUTCFullYear()%1e4,t,4)}function PO(e,t){var n=e.getUTCDay();return Nk((e=n>=4||0===n?tk(e):tk.ceil(e)).getUTCFullYear()%1e4,t,4)}function TO(){return"+0000"}function IO(){return"%"}function DO(e){return+e}function MO(e){return Math.floor(+e/1e3)}function RO(e){return new Date(e)}function LO(e){return e instanceof Date?+e:+new Date(+e)}function zO(e,t,n,r,a,i,o,s,l,c){var u=kN(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,LO)):f().map(RO)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=f();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(VN(n,e)):u},u.copy=function(){return NN(u,zO(e,t,n,r,a,i,o,s,l,c))},u}function FO(){return uw.apply(zO(dk,fk,ok,ak,HS,FS,LS,MS,DS,yk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BO(){return uw.apply(zO(ck,uk,sk,ik,JS,BS,zS,RS,DS,vk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UO(){var e,t,n,r,a,i=0,o=1,s=xN,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(mN),c.rangeRound=u(gN),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function WO(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HO(){var e=WN(UO()(xN));return e.copy=function(){return WO(e,HO())},dw.apply(e,arguments)}function qO(){var e=QN(UO()).domain([1,10]);return e.copy=function(){return WO(e,qO()).base(e.base())},dw.apply(e,arguments)}function VO(){var e=nS(UO());return e.copy=function(){return WO(e,VO()).constant(e.constant())},dw.apply(e,arguments)}function KO(){var e=sS(UO());return e.copy=function(){return WO(e,KO()).exponent(e.exponent())},dw.apply(e,arguments)}function $O(){return KO.apply(null,arguments).exponent(.5)}function GO(){var e=[],t=xN;function n(n){if(null!=n&&!isNaN(n=+n))return t((xj(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(fj),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>vS(e,r/t))},n.copy=function(){return GO(t).domain(e)},dw.apply(n,arguments)}function YO(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=xN,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=mN);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(mN),h.rangeRound=p(gN),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function XO(){var e=WN(YO()(xN));return e.copy=function(){return WO(e,XO())},dw.apply(e,arguments)}function JO(){var e=QN(YO()).domain([.1,1,10]);return e.copy=function(){return WO(e,JO()).base(e.base())},dw.apply(e,arguments)}function QO(){var e=nS(YO());return e.copy=function(){return WO(e,QO()).constant(e.constant())},dw.apply(e,arguments)}function ZO(){var e=sS(YO());return e.copy=function(){return WO(e,ZO()).exponent(e.exponent())},dw.apply(e,arguments)}function e_(){return ZO.apply(null,arguments).exponent(.5)}function t_(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){gk=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=kk(a),u=Ok(a),d=kk(i),f=Ok(i),h=kk(o),p=Ok(o),m=kk(s),g=Ok(s),y=kk(l),v=Ok(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:$k,e:$k,f:Qk,g:cO,G:dO,H:Gk,I:Yk,j:Xk,L:Jk,m:Zk,M:eO,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:DO,s:MO,S:tO,u:nO,U:rO,V:iO,w:oO,W:sO,x:null,X:null,y:lO,Y:uO,Z:fO,"%":IO},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:hO,e:hO,f:vO,g:EO,G:PO,H:pO,I:mO,j:gO,L:yO,m:xO,M:bO,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:DO,s:MO,S:wO,u:jO,U:NO,V:kO,w:OO,W:_O,x:null,X:null,y:CO,Y:AO,Z:TO,"%":IO},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Lk,e:Lk,f:Hk,g:Ik,G:Tk,H:Fk,I:Fk,j:zk,L:Wk,m:Rk,M:Bk,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Mk,Q:Vk,s:Kk,S:Uk,u:Ck,U:Ek,V:Ak,w:_k,W:Pk,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Ik,Y:Tk,Z:Dk,"%":qk};function j(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=xk[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,a,i=mk(1900,void 0,1);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=pk(mk(i.y,0,1))).getUTCDay(),r=a>4||0===a?QS.ceil(r):QS(r),r=BS.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=hk(mk(i.y,0,1))).getDay(),r=a>4||0===a?qS.ceil(r):qS(r),r=FS.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?pk(mk(i.y,0,1)).getUTCDay():hk(mk(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,pk(i)):hk(i)}}function S(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in xk?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),yk=gk.format,gk.parse,vk=gk.utcFormat,gk.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function n_(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function r_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a_(e,t){return e[t]}function i_(e){const t=[];return t.key=e,t}var o_=n(539),s_=n.n(o_),l_=n(6745),c_=n.n(l_),u_=n(3538),d_=n.n(u_),f_=n(9853),h_=n.n(f_),p_=n(8210),m_=n.n(p_);function g_(e){return function(e){if(Array.isArray(e))return y_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v_=function(e){return e},x_={"@@functional/placeholder":!0},b_=function(e){return e===x_},w_=function(e){return function t(){return 0===arguments.length||1===arguments.length&&b_(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},j_=function e(t,n){return 1===t?n:w_(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==x_}).length;return o>=t?n.apply(void 0,a):e(t-o,w_(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map(function(e){return b_(e)?t.shift():e});return n.apply(void 0,g_(i).concat(t))}))})},N_=function(e){return j_(e.length,e)},S_=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},k_=N_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),O_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return v_;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},__=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C_=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var E_=N_(function(e,t,n){var r=+e;return r+n*(+t-r)}),A_=N_(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),P_=N_(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const T_={rangeStep:function(e,t,n){for(var r=new(m_())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(m_())(e).abs().log(10).toNumber())+1},interpolateNumber:E_,uninterpolateNumber:A_,uninterpolateTruncation:P_};function I_(e){return function(e){if(Array.isArray(e))return R_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(KR){a=!0,i=KR}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||M_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M_(e,t){if(e){if("string"===typeof e)return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R_(e,t):void 0}}function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_(e){var t=D_(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function z_(e,t,n){if(e.lte(0))return new(m_())(0);var r=T_.getDigitCount(e.toNumber()),a=new(m_())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(m_())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?s:new(m_())(Math.ceil(s))}function F_(e,t,n){var r=1,a=new(m_())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(m_())(10).pow(T_.getDigitCount(e)-1),a=new(m_())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(m_())(Math.floor(e)))}else 0===e?a=new(m_())(Math.floor((t-1)/2)):n||(a=new(m_())(Math.floor(e)));var o=Math.floor((t-1)/2);return O_(k_(function(e){return a.add(new(m_())(e-o).mul(r)).toNumber()}),S_)(0,t)}function B_(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(m_())(0),tickMin:new(m_())(0),tickMax:new(m_())(0)};var i,o=z_(new(m_())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(m_())(0):(i=new(m_())(e).add(t).div(2)).sub(new(m_())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(m_())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?B_(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(m_())(s).mul(o)),tickMax:i.add(new(m_())(l).mul(o))})}var U_=C_(function(e){var t=D_(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=D_(L_([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(I_(S_(0,a-1).map(function(){return 1/0}))):[].concat(I_(S_(0,a-1).map(function(){return-1/0})),[c]);return n>r?__(u):u}if(l===c)return F_(l,a,i);var d=B_(l,c,o,i),f=d.step,h=d.tickMin,p=d.tickMax,m=T_.rangeStep(h,p.add(new(m_())(.1).mul(f)),f);return n>r?__(m):m}),W_=(C_(function(e){var t=D_(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=D_(L_([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return F_(l,a,i);var u=z_(new(m_())(c).sub(l).div(o-1),i,0),d=O_(k_(function(e){return new(m_())(l).add(new(m_())(e).mul(u)).toNumber()}),S_)(0,o).filter(function(e){return e>=l&&e<=c});return n>r?__(d):d}),C_(function(e,t){var n=D_(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=D_(L_([r,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=z_(new(m_())(l).sub(s).div(c-1),i,0),d=[].concat(I_(T_.rangeStep(new(m_())(s),new(m_())(l).sub(new(m_())(.99).mul(u)),u)),[l]);return r>a?__(d):d})),H_=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function q_(e){return q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q_(e)}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V_.apply(this,arguments)}function K_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tC(r.key),r)}}function X_(e,t,n){return t=Q_(t),function(e,t){if(t&&("object"===q_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J_()?Reflect.construct(t,n||[],Q_(e).constructor):t.apply(e,n))}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J_=function(){return!!e})()}function Q_(e){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q_(e)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z_(e,t)}function eC(e,t,n){return(t=tC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tC(e){var t=function(e,t){if("object"!=q_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q_(t)?t:t+""}var nC=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),X_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=G_(e,H_),d=Dg(u,!1);"x"===this.props.direction&&"number"!==l.type&&Xg(!1);var f=o.map(function(e){var o=s(e,i),u=o.x,f=o.y,h=o.value,p=o.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=K_(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===r){var x=l.scale,b=f+n,w=b+a,j=b-a,N=x(h-m),S=x(h+g);y.push({x1:S,y1:w,x2:S,y2:j}),y.push({x1:N,y1:b,x2:S,y2:b}),y.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===r){var k=c.scale,O=u+n,_=O-a,C=O+a,E=k(h-m),A=k(h+g);y.push({x1:_,y1:A,x2:C,y2:A}),y.push({x1:O,y1:E,x2:O,y2:A}),y.push({x1:_,y1:E,x2:C,y2:E})}return t.createElement(ay,V_({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",V_({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(ay,{className:"recharts-errorBars"},f)}}],a&&Y_(r.prototype,a),i&&Y_(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function rC(e){return rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rC(e)}function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(t){oC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eC(nC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),eC(nC,"displayName","ErrorBar");var sC=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=Eg(t,wx);if(!i)return null;var o,s=wx.defaultProps,l=void 0!==s?iC(iC({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?iC(iC({},n),t.props):{},a=r.dataKey,i=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:gC(t),value:i||a,payload:r}}),iC(iC(iC({},l),wx.getWithHeight(i,r)),{},{payload:o,item:i})};function lC(e){return lC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lC(e)}function cC(e){return function(e){if(Array.isArray(e))return uC(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(t){hC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pC(e,t,n){return $m()(e)||$m()(t)?n:Jm(t)?Hm()(e,t,n):sg()(t)?t(e):n}function mC(e,t,n,r){var a=d_()(e,function(e){return pC(e,t)});if("number"===n){var i=a.filter(function(e){return Xm(e)||parseFloat(e)});return i.length?[c_()(i),s_()(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!$m()(e)}):a).map(function(e){return Jm(e)||e instanceof Date?e:""})}var gC=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?fC(fC({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:o;break;default:n=o}return n},yC=function(e,t,n,r,a){var i=Cg(t.props.children,nC).filter(function(e){return function(e,t,n){return!!$m()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=pC(t,n);if($m()(r))return e;var a=Array.isArray(r)?[c_()(r),s_()(r)]:[r,r],i=o.reduce(function(e,n){var r=pC(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},vC=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&yC(e,t,i,r)||mC(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},xC=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},bC=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(n),o},wC=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Gm(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!Um()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},jC=new WeakMap,NC=function(e,t){if("function"!==typeof t)return e;jC.has(e)||jC.set(e,new WeakMap);var n=jC.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},SC=1e-4,kC={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Um()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}t_(e,t)}},none:t_,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}t_(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=f*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,t_(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Um()(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},OC=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=kC[n],i=function(){var e=yv([]),t=r_,n=t_,r=a_;function a(a){var i,o,s=Array.from(e.apply(this,arguments),i_),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=n_(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:yv(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:yv(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?r_:"function"===typeof e?e:yv(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?t_:e,a):n},a}().keys(r).value(function(e,t){return+pC(e,t,0)}).order(r_).offset(a);return i(e)};function _C(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!$m()(a[t.dataKey])){var s=rg(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=pC(a,$m()(o)?t.dataKey:o);return $m()(l)?null:t.scale(l)}var CC=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=pC(i,t.dataKey,t.domain[o]);return $m()(s)?null:t.scale(s)-a/2+r},EC=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[c_()(t.concat([e[0]]).filter(Xm)),s_()(t.concat([e[1]]).filter(Xm))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},AC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TC=function(e,t,n){if(sg()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Xm(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(AC.test(e[0])){var a=+AC.exec(e[0])[1];r[0]=t[0]-a}else sg()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Xm(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(PC.test(e[1])){var i=+PC.exec(e[1])[1];r[1]=t[1]+i}else sg()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},IC=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Gg()(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},DC=function(e,t,n){return e&&e.length?h_()(e,Hm()(n,"type.defaultProps.domain"))?t:e:t},MC=function(e,t){var n=e.type.defaultProps?fC(fC({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return fC(fC({},Dg(e,!1)),{},{dataKey:r,unit:i,formatter:o,name:a||r,color:gC(e),value:pC(t,r),type:s,payload:t,chartType:l,hide:c})};function RC(e){return RC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RC(e)}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(t){FC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BC=["Webkit","Moz","O","ms"];function UC(e){return UC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UC(e)}function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(this,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(t){XC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JC(r.key),r)}}function KC(e,t,n){return t=GC(t),function(e,t){if(t&&("object"===UC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$C()?Reflect.construct(t,n||[],GC(e).constructor):t.apply(e,n))}function $C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($C=function(){return!!e})()}function GC(e){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GC(e)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YC(e,t)}function XC(e,t,n){return(t=JC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JC(e){var t=function(e,t){if("object"!=UC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UC(t)?t:t+""}var QC=function(e){return e.changedTouches&&!!e.changedTouches.length},ZC=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),XC(t=KC(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),XC(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),XC(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),XC(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),XC(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),XC(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),XC(t,"handleSlideDragStart",function(e){var n=QC(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=pC(n[e],a,e);return sg()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-n;f>0?f=Math.min(f,o+s-l-a,o+s-l-r):f<0&&(f=Math.max(f,o-r,o-a));var h=this.getIndex({startX:r+f,endX:a+f});h.startIndex===c&&h.endIndex===u||!d||d(h),this.setState({startX:r+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=QC(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,h=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(XC(XC({},r,o+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=h.length-1;return"startX"===r&&(a>i?y%f===0:v%f===0)||a<i&&v===e||"endX"===r&&(a>i?v%f===0:y%f===0)||a>i&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,o=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(XC({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:o,x:n,y:r,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,i,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,f=s.ariaLabel,h=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=qC(qC({},Dg(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=f||"Min value: ".concat(null===(a=h[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=h[m])||void 0===i?void 0:i.name);return t.createElement(ay,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,i=r.height,o=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(ay,{className:"recharts-brush-texts"},t.createElement(aj,WC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(n)),t.createElement(aj,WC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+i/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,h=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!Xm(i)||!Xm(o)||!Xm(s)||!Xm(l)||s<=0||l<=0)return null;var y=k("recharts-brush",r),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=BC.reduce(function(e,r){return zC(zC({},e),{},FC({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(ay,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(h||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(r+i/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:i,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+a-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):sg()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return qC({prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=ww().domain(Kg()(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&VC(r.prototype,a),i&&VC(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function eE(e){return eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eE(e)}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(t){rE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}XC(ZC,"displayName","Brush"),XC(ZC,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aE=Math.PI/180,iE=function(e){return 180*e/Math.PI},oE=function(e,t,n,r){return{x:e+Math.cos(-aE*r)*n,y:t+Math.sin(-aE*r)*n}},sE=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:iE(l),angleInRadian:l}},lE=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},cE=function(e,t){var n=e.x,r=e.y,a=sE({x:n,y:r},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,f=u.endAngle,h=o;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=d}return c?nE(nE({},t),{},{radius:i,angle:lE(h,t)}):null};function uE(e){return uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uE(e)}var dE=["offset"];function fE(e){return function(e){if(Array.isArray(e))return hE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return hE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(t){yE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(this,arguments)}var xE=function(e,n,r){var a,i,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(h+p)/2,x=function(e,t){return Gm(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===o?(a=m+b*l,i=y):"insideEnd"===o?(a=g-b*l,i=!y):"end"===o&&(a=g+b*l,i=y),i=x<=0?i:!i;var w=oE(d,f,v,a),j=oE(d,f,v,a+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),S=$m()(e.id)?Zm("recharts-radial-line-"):e.id;return t.createElement("text",vE({},r,{dominantBaseline:"central",className:k("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function bE(e){var n,r=e.offset,a=gE({offset:void 0===r?5:r},pE(e,dE)),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,f=a.textBreakAll;if(!i||$m()(s)&&$m()(l)&&!(0,t.isValidElement)(c)&&!sg()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(sg()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=$m()(e.children)?t:e.children;return sg()(n)?n(r):r}(a);var h=function(e){return"cx"in e&&Xm(e.cx)}(i),p=Dg(a,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return xE(a,n,p);var m=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=oE(i,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=oE(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return gE(gE({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return gE(gE({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return gE(gE({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return gE(gE({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?gE({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?gE({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?gE({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?gE({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===a?gE({x:o+m,y:s+d,textAnchor:y,verticalAnchor:h},b):"insideTopRight"===a?gE({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:h},b):"insideBottomLeft"===a?gE({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:f},b):"insideBottomRight"===a?gE({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:f},b):cg()(a)&&(Xm(a.x)||Ym(a.x))&&(Xm(a.y)||Ym(a.y))?gE({x:o+eg(a.x,l),y:s+eg(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):gE({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(aj,vE({className:k("recharts-label",d)},p,m,{breakAll:f}),n)}bE.displayName="Label";var wE=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Xm(p)&&Xm(m)){if(Xm(u)&&Xm(d))return{x:u,y:d,width:p,height:m};if(Xm(f)&&Xm(h))return{x:f,y:h,width:p,height:m}}return Xm(u)&&Xm(d)?{x:u,y:d,width:0,height:0}:Xm(t)&&Xm(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};bE.parseViewBox=wE,bE.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=wE(e),o=Cg(a,bE).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||i,key:"label-".concat(r)})});if(!r)return o;var s=function(e,n){return e?!0===e?t.createElement(bE,{key:"label-implicit",viewBox:n}):Jm(e)?t.createElement(bE,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===bE?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(bE,{key:"label-implicit",content:e,viewBox:n}):sg()(e)?t.createElement(bE,{key:"label-implicit",content:e,viewBox:n}):cg()(e)?t.createElement(bE,vE({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||i);return[s].concat(fE(o))};var jE=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},NE=n(1733),SE=n.n(NE),kE=n(7002),OE=n.n(kE),_E=function(e){return null};_E.displayName="Cell";var CE=n(4065),EE=n.n(CE);function AE(e){return AE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(e)}var PE=["valueAccessor"],TE=["data","dataKey","clockWise","id","textBreakAll"];function IE(e){return function(e){if(Array.isArray(e))return DE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return DE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(this,arguments)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(t){zE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var BE=function(e){return Array.isArray(e.value)?EE()(e.value):e.value};function UE(e){var n=e.valueAccessor,r=void 0===n?BE:n,a=FE(e,PE),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=FE(a,TE);return i&&i.length?t.createElement(ay,{className:"recharts-label-list"},i.map(function(e,n){var a=$m()(o)?r(e,n):pC(e&&e.payload,o),i=$m()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(bE,ME({},Dg(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:bE.parseViewBox($m()(s)?e:LE(LE({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}UE.displayName="LabelList",UE.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=Cg(e.children,UE).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(UE,{key:"labelList-implicit",data:n}):t.isValidElement(e)||sg()(e)?t.createElement(UE,{key:"labelList-implicit",data:n,content:e}):cg()(e)?t.createElement(UE,ME({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(IE(a)):a};var WE=n(2322),HE=n.n(WE),qE=n(6361),VE=n.n(qE);function KE(e){return KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE(e)}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(this,arguments)}function GE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return YE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(t){QE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=KE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZE=function(e,t,n,r,a){var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},eA={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tA=function(e){var n=JE(JE({},eA),e),r=(0,t.useRef)(),a=GE((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(KR){}},[]);var s=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,f=n.className,h=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=k("recharts-trapezoid",f);return g?t.createElement(Qb,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:h,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(Qb,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:h},t.createElement("path",$E({},Dg(n,!0),{className:y,d:ZE(l,c,a,o,s),ref:r})))}):t.createElement("g",null,t.createElement("path",$E({},Dg(n,!0),{className:y,d:ZE(s,l,c,u,d)})))};function nA(e){return nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(e)}function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rA.apply(this,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(t){oA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sA=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/aE,d=l?a:a+i*u,f=l?a-i*u:a;return{center:oE(t,n,c,d),circleTangency:oE(t,n,r,d),lineTangency:oE(t,n,c*Math.cos(u*aE),f),theta:u}},lA=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Gm(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=oE(t,n,a,i),c=oE(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=oE(t,n,r,i),f=oE(t,n,r,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},cA={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uA=function(e){var n=iA(iA({},cA),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(o<i||u===d)return null;var h,p=k("recharts-sector",f),m=o-i,g=eg(s,m,0,!0);return h=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Gm(c-l),d=sA({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=sA({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):lA({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=sA({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=w.circleTangency,N=w.lineTangency,S=w.theta,k=sA({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),O=k.circleTangency,_=k.lineTangency,C=k.theta,E=s?Math.abs(l-c):Math.abs(l-c)-S-C;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(_.x,",").concat(_.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):lA({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",rA({},Dg(n,!0),{className:p,d:h,role:"img"}))},dA=["option","shapeType","propTransformer","activeClassName","isActive"];function fA(e){return fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(e)}function hA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(t){gA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yA(e,t){return mA(mA({},t),e)}function vA(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(cw,r);case"trapezoid":return t.createElement(tA,r);case"sector":return t.createElement(uA,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(Yv,r);break;default:return null}}function xA(e){var n,r=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?yA:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=hA(e,dA);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,mA(mA({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(sg()(r))n=r(u);else if(HE()(r)&&!VE()(r)){var d=o(r,u);n=t.createElement(vA,{shapeType:a,elementProps:d})}else{var f=u;n=t.createElement(vA,{shapeType:a,elementProps:f})}return c?t.createElement(ay,{className:l},n):n}function bA(e,t){return null!=t&&"trapezoids"in e.props}function wA(e,t){return null!=t&&"sectors"in e.props}function jA(e,t){return null!=t&&"points"in e.props}function NA(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function SA(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function kA(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function OA(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return bA(e,t)?n="trapezoids":wA(e,t)?n="sectors":jA(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return bA(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:wA(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:jA(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=h_()(i,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return bA(e,t)?n=NA:wA(e,t)?n=SA:jA(e,t)&&(n=kA),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var _A=["x","y"];function CA(e){return CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CA(e)}function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EA.apply(this,arguments)}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(t){TA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DA(e,t){var n=e.x,r=e.y,a=IA(e,_A),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return PA(PA(PA(PA(PA({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function MA(e){return t.createElement(xA,EA({shapeType:"rectangle",propTransformer:DA,activeClassName:"recharts-active-bar"},e))}var RA,LA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=Xm(n)||function(e){return $m()(e)}(n);return a?e(n,r):(a||Xg(!1),t)}},zA=["value","background"];function FA(e){return FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(e)}function BA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UA.apply(this,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(t){YA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XA(r.key),r)}}function VA(e,t,n){return t=$A(t),function(e,t){if(t&&("object"===FA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KA()?Reflect.construct(t,n||[],$A(e).constructor):t.apply(e,n))}function KA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(KA=function(){return!!e})()}function $A(e){return $A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$A(e)}function GA(e,t){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GA(e,t)}function YA(e,t,n){return(t=XA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XA(e){var t=function(e,t){if("object"!=FA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FA(t)?t:t+""}var JA=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return YA(e=VA(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),YA(e,"id",Zm("recharts-bar-")),YA(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),YA(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GA(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,i=r.dataKey,o=r.activeIndex,s=r.activeBar,l=Dg(this.props,!1);return e&&e.map(function(e,r){var c=r===o,u=c?s:a,d=HA(HA(HA({},l),e),{},{isActive:c,option:u,index:r,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(ay,UA({className:"recharts-bar-rectangle"},vg(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(MA,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,i=n.isAnimationActive,o=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(Qb,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t,o=r.map(function(e,t){var n=u&&u[t];if(n){var r=ng(n.x,e.x),o=ng(n.y,e.y),s=ng(n.width,e.width),l=ng(n.height,e.height);return HA(HA({},e),{},{x:r(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var c=ng(0,e.height)(i);return HA(HA({},e),{},{y:e.y+e.height-c,height:c})}var d=ng(0,e.width)(i);return HA(HA({},e),{},{width:d})});return t.createElement(ay,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&h_()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,i=n.activeIndex,o=Dg(this.props.background,!1);return r.map(function(n,r){n.value;var s=n.background,l=BA(n,zA);if(!s)return null;var c=HA(HA(HA(HA(HA({},l),{},{fill:"#eee"},s),o),vg(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(MA,UA({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,i=r.xAxis,o=r.yAxis,s=r.layout,l=Cg(r.children,nC);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:pC(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ay,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=k("recharts-bar",a),g=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,x=$m()(h)?this.id:h;return t.createElement(ay,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(ay,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||p)&&UE.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&qA(r.prototype,a),i&&qA(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function QA(e){return QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QA(e)}function ZA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rP(r.key),r)}}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(t){nP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nP(e,t,n){return(t=rP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rP(e){var t=function(e,t){if("object"!=QA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QA(t)?t:t+""}RA=JA,YA(JA,"displayName","Bar"),YA(JA,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Py.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),YA(JA,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!h)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?HA(HA({},m),n.props):n.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===p?o:i,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),N=Cg(v,_E),S=d.map(function(e,t){var r,d,f,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!Xm(t[0])||!Xm(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Xm(e[0])||e[0]<n)&&(a[0]=n),(!Xm(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=pC(e,y),Array.isArray(r)||(r=[j,r]));var b=LA(x,RA.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var S,k=[o.scale(r[0]),o.scale(r[1])],O=k[0],_=k[1];d=CC({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(S=null!==_&&void 0!==_?_:O)&&void 0!==S?S:void 0,m=h.size;var C=O-_;if(g=Number.isNaN(C)?0:C,v={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=Gm(g||b)*(Math.abs(b)-Math.abs(g));f-=E,g+=E}}else{var A=[i.scale(r[0]),i.scale(r[1])],P=A[0],T=A[1];if(d=P,f=CC({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),m=T-P,g=h.size,v={x:i.x,y:f,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Gm(m||b)*(Math.abs(b)-Math.abs(m))}return HA(HA(HA({},e),{},{x:d,y:f,width:m,height:g,value:c?r:r[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[MC(n,e)],tooltipPosition:{x:d+m/2,y:f+g/2}})});return HA({data:S,layout:p},f)});var aP=function(t,n,r,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!Eg(c,JA);return u.reduce(function(o,s){var c,u,h,p,m,g=n[s],y=g.orientation,v=g.domain,x=g.padding,b=void 0===x?{}:x,w=g.mirror,j=g.reversed,N="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var S=v[1]-v[0],k=1/0,O=g.categoricalDomain.sort(ag);if(O.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(O[t-1]||0),k))}),Number.isFinite(k)){var _=k/S,C="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=_*C/2),"no-gap"===g.padding){var E=eg(t.barCategoryGap,_*C),A=_*C/2;c=A-E-(A-E)/C*E}}}u="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var P=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:xw(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:HN(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ww(),realScaleType:"point"}:"category"===i?{scale:xw(),realScaleType:"band"}:{scale:HN(),realScaleType:"linear"};if(Fm()(a)){var l="scale".concat(Gy()(a));return{scale:(e[l]||ww)(),realScaleType:e[l]?l:"point"}}return sg()(a)?{scale:a}:{scale:ww(),realScaleType:"point"}}(g,i,f),T=P.scale,I=P.realScaleType;T.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-SC,i=Math.max(r[0],r[1])+SC,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}}(T);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=U_(l,a,o);return e.domain([c_()(c),s_()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:W_(u,a,o)}}return null}(T,tP(tP({},g),{},{realScaleType:I}));"xAxis"===a?(m="top"===y&&!w||"bottom"===y&&w,h=r.left,p=d[N]-m*g.height):"yAxis"===a&&(m="left"===y&&!w||"right"===y&&w,h=d[N]-m*g.width,p=r.top);var M=tP(tP(tP({},g),D),{},{realScaleType:I,x:h,y:p,scale:T,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=IC(M,D),g.hide||"xAxis"!==a?g.hide||(d[N]+=(m?-1:1)*M.width):d[N]+=(m?-1:1)*M.height,tP(tP({},o),{},nP({},s,M))},{})},iP=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},oP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&ZA(t.prototype,n),r&&ZA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();nP(oP,"EPS",1e-4);var sP=function(e){var t=Object.keys(e).reduce(function(t,n){return tP(tP({},t),{},nP({},n,oP.create(e[n])))},{});return tP(tP({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return SE()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return OE()(e,function(e,n){return t[n].isInRange(e)})}})};function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(this,arguments)}function cP(e){return cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cP(e)}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(t){yP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vP(r.key),r)}}function hP(e,t,n){return t=mP(t),function(e,t){if(t&&("object"===cP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pP()?Reflect.construct(t,n||[],mP(e).constructor):t.apply(e,n))}function pP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pP=function(){return!!e})()}function mP(e){return mP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mP(e)}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gP(e,t)}function yP(e,t,n){return(t=vP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vP(e){var t=function(e,t){if("object"!=cP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cP(t)?t:t+""}var xP=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),hP(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=Jm(r),c=Jm(a);if(ig(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=sP({x:r.scale,y:a.scale}),o=i.apply({x:t,y:n},{bandAware:!0});return jE(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,f=u.y,h=this.props,p=h.shape,m=h.className,g=dP(dP({clipPath:jE(this.props,"hidden")?"url(#".concat(s,")"):void 0},Dg(this.props,!0)),{},{cx:d,cy:f});return t.createElement(ay,{className:k("recharts-reference-dot",m)},n.renderDot(p,g),bE.renderCallByParent(this.props,{x:d-i,y:f-i,width:2*i,height:2*i}))}}],a&&fP(r.prototype,a),i&&fP(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);yP(xP,"displayName","ReferenceDot"),yP(xP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),yP(xP,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):sg()(e)?e(n):t.createElement(Nx,lP({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var bP=n(4597),wP=n.n(bP),jP=n(8990),NP=n.n(jP),SP=n(5797),kP=n.n(SP)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var OP=(0,t.createContext)(void 0),_P=(0,t.createContext)(void 0),CP=(0,t.createContext)(void 0),EP=(0,t.createContext)({}),AP=(0,t.createContext)(void 0),PP=(0,t.createContext)(0),TP=(0,t.createContext)(0),IP=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=kP(i);return t.createElement(OP.Provider,{value:r},t.createElement(_P.Provider,{value:a},t.createElement(EP.Provider,{value:i},t.createElement(CP.Provider,{value:u},t.createElement(AP.Provider,{value:o},t.createElement(PP.Provider,{value:c},t.createElement(TP.Provider,{value:l},s)))))))};var DP=function(e){var n=(0,t.useContext)(OP);null==n&&Xg(!1);var r=n[e];return null==r&&Xg(!1),r},MP=function(e){var n=(0,t.useContext)(_P);null==n&&Xg(!1);var r=n[e];return null==r&&Xg(!1),r},RP=function(){return(0,t.useContext)(TP)},LP=function(){return(0,t.useContext)(PP)};function zP(e){return zP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zP(e)}function FP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$P(r.key),r)}}function BP(e,t,n){return t=WP(t),function(e,t){if(t&&("object"===zP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UP()?Reflect.construct(t,n||[],WP(e).constructor):t.apply(e,n))}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(UP=function(){return!!e})()}function WP(e){return WP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WP(e)}function HP(e,t){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HP(e,t)}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(t){KP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KP(e,t,n){return(t=$P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $P(e){var t=function(e,t){if("object"!=zP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zP(t)?t:t+""}function GP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return YP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XP.apply(this,arguments)}function JP(e){var n=e.x,r=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(AP),d=DP(i),f=MP(o),h=(0,t.useContext)(CP);if(!u||!h)return null;ig(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(n){var h=l.y,p=e.y.apply(h,{position:i});if(jE(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(jE(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+f},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return jE(l,"discard")&&wP()(x,function(t){return!e.isInRange(t)})?null:x}return null}(sP({x:d.scale,y:f.scale}),Jm(n),Jm(r),a&&2===a.length,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var m=GP(p,2),g=m[0],y=g.x,v=g.y,x=m[1],b=x.x,w=x.y,j=VP(VP({clipPath:jE(e,"hidden")?"url(#".concat(u,")"):void 0},Dg(e,!0)),{},{x1:y,y1:v,x2:b,y2:w});return t.createElement(ay,{className:k("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):sg()(e)?e(n):t.createElement("line",XP({},n,{className:"recharts-reference-line-line"}))}(s,j),bE.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return iP({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:b,y2:w})))}var QP=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),BP(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HP(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(JP,this.props)}}])&&FP(r.prototype,a),i&&FP(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZP.apply(this,arguments)}function eT(e){return eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eT(e)}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(t){lT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cT(r.key),r)}}function aT(e,t,n){return t=oT(t),function(e,t){if(t&&("object"===eT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iT()?Reflect.construct(t,n||[],oT(e).constructor):t.apply(e,n))}function iT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iT=function(){return!!e})()}function oT(e){return oT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oT(e)}function sT(e,t){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sT(e,t)}function lT(e,t,n){return(t=cT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cT(e){var t=function(e,t){if("object"!=eT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eT(t)?t:t+""}KP(QP,"displayName","ReferenceLine"),KP(QP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var uT=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),aT(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sT(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;ig(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Jm(r),d=Jm(a),f=Jm(i),h=Jm(o),p=this.props.shape;if(!u&&!d&&!f&&!h&&!p)return null;var m=function(e,t,n,r,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=sP({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!jE(a,"discard")||d.isInRange(f)&&d.isInRange(h)?iP(f,h):null}(u,d,f,h,this.props);if(!m&&!p)return null;var g=jE(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(ay,{className:k("recharts-reference-area",s)},n.renderRect(p,nT(nT({clipPath:g},Dg(this.props,!0)),m)),bE.renderCallByParent(this.props,m))}}])&&rT(r.prototype,a),i&&rT(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function dT(e){return function(e){if(Array.isArray(e))return fT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}lT(uT,"displayName","ReferenceArea"),lT(uT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),lT(uT,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):sg()(e)?e(n):t.createElement(cw,ZP({},n,{className:"recharts-reference-area-rect"}))});var hT=function(e,t,n,r,a){var i=Cg(e,QP),o=Cg(e,xP),s=[].concat(dT(i),dT(o)),l=Cg(e,uT),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&jE(t.props,"extendDomain")&&Xm(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var f="".concat(u,"1"),h="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&jE(t.props,"extendDomain")&&Xm(t.props[f])&&Xm(t.props[h])){var r=t.props[f],a=t.props[h];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Xm(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},pT=n(7283),mT=new(n.n(pT)()),gT="recharts.syncMouseEvents";function yT(e){return yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yT(e)}function vT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bT(r.key),r)}}function xT(e,t,n){return(t=bT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bT(e){var t=function(e,t){if("object"!=yT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yT(t)?t:t+""}var wT=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xT(this,"activeIndex",0),xT(this,"coordinateList",[]),xT(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&vT(e.prototype,t),n&&vT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function jT(){}function NT(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ST(e){this._context=e}function kT(e){this._context=e}function OT(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:NT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:NT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kT.prototype={areaStart:jT,areaEnd:jT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:NT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:NT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class _T{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function CT(e){this._context=e}function ET(e){this._context=e}function AT(e){return new ET(e)}function PT(e){return e<0?-1:1}function TT(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(PT(i)+PT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function IT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function DT(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function MT(e){this._context=e}function RT(e){this._context=new LT(e)}function LT(e){this._context=e}function zT(e){this._context=e}function FT(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function BT(e,t){this._context=e,this._t=t}function UT(e){return e[0]}function WT(e){return e[1]}function HT(e,t){var n=yv(!0),r=null,a=AT,i=null,o=Fv(s);function s(s){var l,c,u,d=(s=n_(s)).length,f=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?UT:yv(e),t="function"===typeof t?t:void 0===t?WT:yv(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:yv(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:yv(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:yv(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function qT(e,t,n){var r=null,a=yv(!0),i=null,o=AT,s=null,l=Fv(c);function c(c){var u,d,f,h,p,m=(c=n_(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(h=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(h,u,c),v[u]=+t(h,u,c),s.point(r?+r(h,u,c):y[u],n?+n(h,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return HT().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?UT:yv(+e),t="function"===typeof t?t:yv(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?WT:yv(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:yv(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:yv(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:yv(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:yv(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:yv(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:yv(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:yv(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function VT(e){return VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VT(e)}function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KT.apply(this,arguments)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(t){YT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}CT.prototype={areaStart:jT,areaEnd:jT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},MT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DT(this,this._t0,IT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,DT(this,IT(this,n=TT(this,e,t)),n);break;default:DT(this,this._t0,n=TT(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(RT.prototype=Object.create(MT.prototype)).point=function(e,t){MT.prototype.point.call(this,t,e)},LT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},zT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=FT(e),a=FT(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},BT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var XT={curveBasisClosed:function(e){return new kT(e)},curveBasisOpen:function(e){return new OT(e)},curveBasis:function(e){return new ST(e)},curveBumpX:function(e){return new _T(e,!0)},curveBumpY:function(e){return new _T(e,!1)},curveLinearClosed:function(e){return new CT(e)},curveLinear:AT,curveMonotoneX:function(e){return new MT(e)},curveMonotoneY:function(e){return new RT(e)},curveNatural:function(e){return new zT(e)},curveStep:function(e){return new BT(e,.5)},curveStepAfter:function(e){return new BT(e,1)},curveStepBefore:function(e){return new BT(e,0)}},JT=function(e){return e.x===+e.x&&e.y===+e.y},QT=function(e){return e.x},ZT=function(e){return e.y},eI=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(sg()(e))return e;var n="curve".concat(Gy()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?XT[n]||AT:XT["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?i.filter(function(e){return JT(e)}):i;if(Array.isArray(o)){var f=c?o.filter(function(e){return JT(e)}):o,h=d.map(function(e,t){return GT(GT({},e),{},{base:f[t]})});return(t="vertical"===s?qT().y(ZT).x1(QT).x0(function(e){return e.base.x}):qT().x(QT).y1(ZT).y0(function(e){return e.base.y})).defined(JT).curve(u),t(h)}return(t="vertical"===s&&Xm(o)?qT().y(ZT).x1(QT).x0(o):Xm(o)?qT().x(QT).y1(ZT).y0(o):HT().x(QT).y(ZT)).defined(JT).curve(u),t(d)},tI=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?eI(e):a;return t.createElement("path",KT({},Dg(e,!1),yg(e),{className:k("recharts-curve",n),d:o,ref:i}))};function nI(e){return nI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nI(e)}var rI=["x","y","top","left","width","height","className"];function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aI.apply(this,arguments)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var lI=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},cI=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,f=e.height,h=void 0===f?0:f,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(t){oI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:i,top:s,left:c,width:d,height:h},sI(e,rI));return Xm(r)&&Xm(i)&&Xm(d)&&Xm(h)&&Xm(s)&&Xm(c)?t.createElement("path",aI({},Dg(m,!0),{className:k("recharts-cross",p),d:lI(r,i,d,h,s,c)})):null};function uI(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[oE(t,n,r,a),oE(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function dI(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return uI(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=oE(s,l,c,d),h=oE(s,l,u,d);r=f.x,a=f.y,i=h.x,o=h.y}return[{x:r,y:a},{x:i,y:o}]}function fI(e){return fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fI(e)}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(t){mI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gI(e){var n,r,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(n=i.props.cursor)&&void 0!==n?n:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var g=tI;if("ScatterChart"===p)a=l,g=cI;else if("BarChart"===p)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,l,u,f),g=cw;else if("radial"===h){var y=uI(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=uA}else a={points:dI(h,l,u)},g=tI;var w=pI(pI(pI(pI({stroke:"#ccc",pointerEvents:"none"},u),a),Dg(m,!1)),{},{payload:c,payloadIndex:d,className:k("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,w):(0,t.createElement)(g,w)}var yI=["item"],vI=["children","className","width","height","style","compact","title","desc"];function xI(e){return xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xI(e)}function bI(){return bI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bI.apply(this,arguments)}function wI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||EI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DI(r.key),r)}}function SI(e,t,n){return t=OI(t),function(e,t){if(t&&("object"===xI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kI()?Reflect.construct(t,n||[],OI(e).constructor):t.apply(e,n))}function kI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kI=function(){return!!e})()}function OI(e){return OI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OI(e)}function _I(e,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_I(e,t)}function CI(e){return function(e){if(Array.isArray(e))return AI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||EI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EI(e,t){if(e){if("string"===typeof e)return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AI(e,t):void 0}}function AI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(t){II(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function II(e,t,n){return(t=DI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DI(e){var t=function(e,t){if("object"!=xI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xI(t)?t:t+""}var MI={xAxis:["bottom","top"],yAxis:["left","right"]},RI={width:"100%",height:"100%"},LI={x:0,y:0};function zI(e){return e}var FI=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(CI(e),CI(n)):e},[]);return i.length>0?i:e&&e.length&&Xm(r)&&Xm(a)?e.slice(r,a+1):[]};function BI(e){return"number"===e?[0,"auto"]:void 0}var UI,WI=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,o=FI(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=rg(void 0===u?o:u,i.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(CI(a),[MC(s,c)]):a},[])},HI=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(Gm(u-c)!==Gm(d-u)){var h=[];if(Gm(d-u)===Gm(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){i=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){i=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){i=n[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=WI(e,t,c,u),f=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=r.radius;return TI(TI(TI({},r),oE(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=r.angle;return TI(TI(TI({},r),oE(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return LI}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},qI=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=xC(c,a);return n.reduce(function(t,n){var h,p=void 0!==n.type.defaultProps?TI(TI({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var N,S,k,O=FI(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j}),dataStartIndex:s,dataEndIndex:l}),_=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&Xm(r)&&Xm(a))return!0}return!1})(p.domain,y,m)&&(N=TC(p.domain,null,y),!f||"number"!==m&&"auto"===x||(k=mC(O,g,"category")));var C=BI(m);if(!N||0===N.length){var E,A=null!==(E=p.domain)&&void 0!==E?E:C;if(g){if(N=mC(O,g,m),"category"===m&&f){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);v&&P?(S=N,N=Kg()(0,_)):v||(N=DC(A,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(CI(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!$m()(e)}):DC(A,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||$m()(t)?e:[].concat(CI(e),[t])},[]);else if("number"===m){var T=function(e,t,n,r,a){var i=t.map(function(t){return yC(e,t,n,a,r)}).filter(function(e){return!$m()(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(O,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)}),g,a,c);T&&(N=T)}!f||"number"!==m&&"auto"===x||(k=mC(O,g,"category"))}else N=f?Kg()(0,_):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:EC(o[j].stackGroups,s,l):vC(O,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)N=hT(u,N,j,a,b),A&&(N=TC(A,N,y));else if("category"===m&&A){var I=A;N.every(function(e){return I.indexOf(e)>=0})&&(N=I)}}return TI(TI({},t),{},II({},j,TI(TI({},p),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:S,originalDomain:null!==(h=p.domain)&&void 0!==h?h:C,isCategorical:f,layout:c})))},{})},VI=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Cg(c,a),f={};return d&&d.length?f=qI(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=FI(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),f=d.length,h=xC(c,a),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?TI(TI({},t.type.defaultProps),t.props):t.props)[i],y=BI("number");return e[g]?e:(p++,h?m=Kg()(0,f):o&&o[g]&&o[g].hasStack?(m=EC(o[g].stackGroups,s,l),m=hT(u,m,g,a)):(m=TC(y,vC(d,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=hT(u,m,g,a)),TI(TI({},e),{},II({},g,TI(TI({axisType:a},r.defaultProps),{},{hide:!0,orientation:Hm()(MI,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:h,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},KI=function(e){var t=e.children,n=e.defaultShowTooltip,r=Eg(t,ZC),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},$I=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},GI=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,o=void 0===i?{}:i,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Eg(c,ZC),f=Eg(c,wx),h=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:TI(TI({},e),{},II({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:TI(TI({},e),{},II({},r,Hm()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=TI(TI({},p),h),g=m.bottom;d&&(m.bottom+=d.props.height||ZC.defaultProps.height),f&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,o=n.margin,s=i-(o.left||0)-(o.right||0),l=sC({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,f=l.align,h=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===h)&&"center"!==f&&Xm(e[f]))return fC(fC({},e),{},hC({},f,e[f]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==h&&Xm(e[h]))return fC(fC({},e),{},hC({},h,e[h]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return TI(TI({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},YI=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},XI=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=$I(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Sg(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var x=FI(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),b=void 0!==n.type.defaultProps?TI(TI({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(m,"Id")],S=b["".concat(g,"Id")],k=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||Xg(!1);var i=r[a];return TI(TI({},e),{},II(II({},n.axisType,i),"".concat(n.axisType,"Ticks"),wC(i)))},{}),O=k[g],_=k["".concat(g,"Ticks")],C=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?fC(fC({},e.type.defaultProps),e.props):e.props).stackId;if(Jm(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),E=Sg(n.type).indexOf("Bar")>=0,A=IC(O,_),P=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var h=c[u[d]],p=h.items,m=h.cateAxisId,g=p.filter(function(e){return Sg(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?fC(fC({},y),g[0].props):g[0].props,x=v.barSize,b=v[m];i[b]||(i[b]=[]);var w=$m()(x)?t:x;i[b].push({item:g[0],stackList:g.slice(1),barSize:$m()(w)?void 0:eg(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:YI(k,g)});if(E){var I,D,M=$m()(j)?h:j,R=null!==(I=null!==(D=IC(O,_,!0))&&void 0!==D?D:M)&&void 0!==I?I:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=eg(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=r/s,h=i.reduce(function(e,t){return e+t.barSize||0},0);(h+=(s-1)*c)>=r&&(h-=(s-1)*c,c=0),h>=r&&f>0&&(d=!0,h=s*(f*=.9));var p={offset:((r-h)/2|0)-c,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?f:t.barSize}},r=[].concat(cC(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=eg(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,n){var r=[].concat(cC(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:f,bandSize:R!==A?R:A,sizeList:T[S],maxBarSize:M}),R!==A&&(P=P.map(function(e){return TI(TI({},e),{},{position:TI(TI({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,z,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:TI(TI({},F(TI(TI({},k),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:A,barPosition:P,offset:a,stackedData:C,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},II(II(II({key:n.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",i)),childIndex:(L=n,z=e.children,_g(z).indexOf(L)),item:n})}),v},h=function(e,t){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Ag({props:a}))return null;var c=a.children,d=a.layout,h=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=$I(d),y=g.numericAxisName,v=g.cateAxisName,x=Cg(c,r),b=function(e,t,n,r,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?fC(fC({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Jm(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Zm("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return fC(fC({},e),{},hC({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return fC(fC({},t),{},hC({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:OC(e,o.items,a)}))},{})),fC(fC({},t),{},hC({},i,s))},{})}(p,x,"".concat(y,"Id"),"".concat(v,"Id"),h,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return TI(TI({},e),{},II({},n,VI(a,TI(TI({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),j=GI(TI(TI({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],j,e.replace("Map",""),n)});var N=function(e){var t=tg(e),n=wC(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gg()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:IC(t,n)}}(w["".concat(v,"Map")]),S=f(a,TI(TI({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:j}));return TI(TI({formattedGraphicalItems:S,graphicalItems:x,offset:j,stackGroups:b},N),w)},p=function(e){function r(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),II(o=SI(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),II(o,"accessibilityManager",new wT),II(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(TI({legendBBox:e},h({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},TI(TI({},o.state),{},{legendBBox:e}))))}}),II(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),II(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return TI({dataStartIndex:t,dataEndIndex:n},h({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),II(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=TI(TI({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;sg()(r)&&r(n,e)}}),II(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?TI(TI({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;sg()(r)&&r(n,e)}),II(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),II(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),II(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),II(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;sg()(n)&&n(t,e)}),II(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&Ng[t]?Ng[t]:null}(e),r=Hm()(o.props,"".concat(n));n&&sg()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),II(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=TI(TI({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;sg()(r)&&r(n,e)}}),II(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;sg()(t)&&t(o.getMouseInfo(e),e)}),II(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;sg()(t)&&t(o.getMouseInfo(e),e)}),II(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),II(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),II(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),II(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;sg()(t)&&t(o.getMouseInfo(e),e)}),II(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;sg()(t)&&t(o.getMouseInfo(e),e)}),II(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&mT.emit(gT,o.props.syncId,e,o.eventEmitterSymbol)}),II(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(TI({dataStartIndex:i,dataEndIndex:s},h({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=TI(TI({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=p[u]&&p[u].value,b=WI(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:LI;o.setState(TI(TI({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),II(o,"renderCursor",function(e){var r,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,f=o.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:i,p=o.props.layout,m=e.key||"_recharts-cursor";return t.createElement(gI,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:h,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:f})}),II(o,"renderPolarAxis",function(e,n,r){var a=Hm()(e,"type.axisType"),i=Hm()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?TI(TI({},s),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,TI(TI({},c),{},{className:k(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:wC(c,!0)}))}),II(o,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,i=n.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=tg(l),d=tg(c),f=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:wC(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:wC(u,!0).map(function(e){return e.coordinate}),cx:f,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),II(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,n=o.props,r=n.children,a=n.width,i=n.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),u=sC({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,f=jI(u,yI);return(0,t.cloneElement)(d,TI(TI({},f),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),II(o,"renderTooltip",function(){var e,n=o.props,r=n.children,a=n.accessibilityLayer,i=Eg(r,Ky);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,h=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(i,{viewBox:TI(TI({},f),{},{x:f.left,y:f.top}),active:h,label:d,payload:h?u:[],coordinate:c,accessibilityLayer:a})}),II(o,"renderBrush",function(e){var n=o.props,r=n.margin,a=n.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:NC(o.handleBrushChange,e.props.onChange),data:a,x:Xm(e.props.x)?e.props.x:s.left,y:Xm(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Xm(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),II(o,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,h=void 0===f?u.xAxisId:f,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[h],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),II(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?TI(TI({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=TI(TI({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:gC(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Dg(u,!1)),yg(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(r.renderActiveDot(u,TI(TI({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),II(o,"renderGraphicChild",function(e,n,r){var a=o.filterFormatItem(e,n,r);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=Eg(o.props.children,Ky),h=a.props,p=h.points,m=h.isRange,g=h.baseLine,y=void 0!==a.item.type.defaultProps?TI(TI({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,j=Boolean(!x&&l&&f&&(v||b||w)),N={};"axis"!==i&&f&&"click"===f.props.trigger?N={onClick:NC(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:NC(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:NC(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,t.cloneElement)(e,TI(TI({},a.props),N));if(j){if(!(u>=0)){var k,O=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:S}).graphicalItem,_=O.item,C=void 0===_?e:_,E=O.childIndex,A=TI(TI(TI({},a.props),N),{},{activeIndex:E});return[(0,t.cloneElement)(C,A),null,null]}var P,T;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());P=rg(p,I,d),T=m&&g&&rg(g,I,d)}else P=null===p||void 0===p?void 0:p[u],T=m&&g&&g[u];if(w||b){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,TI(TI(TI({},a.props),N),{},{activeIndex:D})),null,null]}if(!$m()(P))return[S].concat(CI(o.renderActivePoints({item:a,activePoint:P,basePoint:T,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]}),II(o,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,TI(TI({key:"recharts-customized-".concat(r)},o.props),o.state))}),II(o,"renderMap",{CartesianGrid:{handler:zI,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:zI},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:zI},YAxis:{handler:zI},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Zm("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Lm()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_I(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=Eg(t,Ky);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=WI(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});f&&(d=TI(TI({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var h={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Mg([Eg(e.children,Ky)],[Eg(this.props.children,Ky)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Eg(this.props.children,Ky);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=HI(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var h=tg(c).scale,p=tg(u).scale,m=h&&h.invert?h.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return TI(TI({},i),{},{xValue:m,yValue:g},f)}return f?TI(TI({},i),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=tg(l);return cE({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Eg(e,Ky),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),TI(TI({},yg(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){mT.on(gT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mT.removeListener(gT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===Sg(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,i=n.height,o=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=wI(t,2),r=n[0],a=n[1];return TI(TI({},e),{},II({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=wI(t,2),r=n[0],a=n[1];return TI(TI({},e),{},II({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var o=n[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?TI(TI({},l.type.defaultProps),l.props):l.props,u=Sg(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return sw(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find(function(t){return cE(e,t)});if(f)return{graphicalItem:o,payload:f}}else if(bA(o,r)||wA(o,r)||jA(o,r)){var h=OA({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:TI(TI({},o),{},{childIndex:p}),payload:jA(o,r)?c.data[h]:o.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!Ag(this))return null;var n,r,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,f=a.desc,h=jI(a,vI),p=Dg(h,!1);if(u)return t.createElement(IP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(ey,bI({},p,{width:s,height:l,title:d,desc:f}),this.renderClipPath(),Lg(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(IP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",bI({className:k("recharts-wrapper",o),style:TI({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(ey,bI({},p,{width:s,height:l,title:d,desc:f,style:RI}),this.renderClipPath(),Lg(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&NI(a.prototype,o),l&&NI(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);II(p,"displayName",n),II(p,"defaultProps",TI({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),II(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=KI(e);return TI(TI(TI({},f),{},{updateId:0},h(TI(TI({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!dg(c,t.prevMargin)){var p=KI(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=TI(TI({},HI(t,r,s)),{},{updateId:t.updateId+1}),y=TI(TI(TI({},p),m),g);return TI(TI(TI({},y),h(TI({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Mg(a,t.prevChildren)){var v,x,b,w,j=Eg(a,ZC),N=j&&null!==(v=null===(x=j.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,S=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,k=N!==u||S!==d,O=!$m()(r)&&!k?t.updateId:t.updateId+1;return TI(TI({updateId:O},h(TI(TI({props:e},t),{},{updateId:O,dataStartIndex:N,dataEndIndex:S}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:S})}return null}),II(p,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):sg()(e)?e(n):t.createElement(Nx,n),t.createElement(ay,{className:"recharts-active-dot",key:r},a)});var m=(0,t.forwardRef)(function(e,n){return t.createElement(p,bI({},e,{ref:n}))});return m.displayName=p.displayName,m},JI=["layout","type","stroke","connectNulls","isRange","ref"],QI=["key"];function ZI(e){return ZI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZI(e)}function eD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tD.apply(this,arguments)}function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(t){cD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uD(r.key),r)}}function iD(e,t,n){return t=sD(t),function(e,t){if(t&&("object"===ZI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oD()?Reflect.construct(t,n||[],sD(e).constructor):t.apply(e,n))}function oD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oD=function(){return!!e})()}function sD(e){return sD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sD(e)}function lD(e,t){return lD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lD(e,t)}function cD(e,t,n){return(t=uD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uD(e){var t=function(e,t){if("object"!=ZI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZI(t)?t:t+""}var dD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return cD(e=iD(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),cD(e,"id",Zm("recharts-area-")),cD(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),sg()(t)&&t()}),cD(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),sg()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lD(e,t)}(n,e),r=n,a=[{key:"renderDots",value:function(e,r,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=Dg(this.props,!1),f=Dg(l,!0),h=c.map(function(e,t){var r=rD(rD(rD({key:"dot-".concat(t),r:3},d),f),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)}),p={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(ay,tD({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,i=n.strokeWidth,o=a[0].x,s=a[a.length-1].x,l=e*Math.abs(o-s),c=s_()(a.map(function(e){return e.y||0}));return Xm(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(s_()(r.map(function(e){return e.y||0})),c)),Xm(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,i=n.strokeWidth,o=a[0].y,s=a[a.length-1].y,l=e*Math.abs(o-s),c=s_()(a.map(function(e){return e.x||0}));return Xm(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(s_()(r.map(function(e){return e.x||0})),c)),Xm(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,r,a){var i=this.props,o=i.layout,s=i.type,l=i.stroke,c=i.connectNulls,u=i.isRange,d=(i.ref,eD(i,JI));return t.createElement(ay,{clipPath:r?"url(#clipPath-".concat(a,")"):null},t.createElement(tI,tD({},Dg(d,!0),{points:e,connectNulls:c,type:s,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(tI,tD({},Dg(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&t.createElement(tI,tD({},Dg(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var r=this,a=this.props,i=a.points,o=a.baseLine,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevPoints,p=f.prevBaseLine;return t.createElement(Qb,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var s=a.t;if(h){var l,c=h.length/i.length,u=i.map(function(e,t){var n=Math.floor(t*c);if(h[n]){var r=h[n],a=ng(r.x,e.x),i=ng(r.y,e.y);return rD(rD({},e),{},{x:a(s),y:i(s)})}return e});return l=Xm(o)&&"number"===typeof o?ng(p,o)(s):$m()(o)||Um()(o)?ng(p,0)(s):o.map(function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],a=ng(r.x,e.x),i=ng(r.y,e.y);return rD(rD({},e),{},{x:a(s),y:i(s)})}return e}),r.renderAreaStatically(u,l,e,n)}return t.createElement(ay,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(s))),t.createElement(ay,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(i,o,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&r&&r.length&&(!s&&c>0||!h_()(s,r)||!h_()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,i=n.points,o=n.className,s=n.top,l=n.left,c=n.xAxis,u=n.yAxis,d=n.width,f=n.height,h=n.isAnimationActive,p=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=k("recharts-area",o),v=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,w=$m()(p)?this.id:p,j=null!==(e=Dg(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,O=j.strokeWidth,_=void 0===O?2:O,C=(Ig(a)?a:{}).clipDot,E=void 0===C||C,A=2*S+_;return t.createElement(ay,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?l:l-d/2,y:x?s:s-f/2,width:v?d:2*d,height:x?f:2*f})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:l-A/2,y:s-A/2,width:d+A,height:f+A}))):null,g?null:this.renderArea(b,w),(a||g)&&this.renderDots(b,E,w),(!h||m)&&UE.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&aD(r.prototype,a),i&&aD(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);UI=dD,cD(dD,"displayName","Area"),cD(dD,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Py.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),cD(dD,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!==o&&void 0!==o?o:i;if(Xm(s)&&"number"===typeof s)return s;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),cD(dD,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=n.layout,m=u&&u.length,g=UI.getBaseValue(n,r,a,i),y="horizontal"===p,v=!1,x=f.map(function(e,t){var n;m?n=u[d+t]:(n=pC(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||m&&null==pC(e,c);return y?{x:_C({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:_C({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=m||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),rD({points:x,baseLine:t,layout:p,isRange:v},h)}),cD(dD,"renderDotItem",function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(sg()(e))r=e(n);else{var a=k("recharts-area-dot","boolean"!==typeof e?e.className:""),i=n.key,o=eD(n,QI);r=t.createElement(Nx,tD({},o,{key:i,className:a}))}return r});var fD=["type","layout","connectNulls","ref"],hD=["key"];function pD(e){return pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pD(e)}function mD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gD(){return gD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gD.apply(this,arguments)}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(t){OD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xD(e){return function(e){if(Array.isArray(e))return bD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function jD(e,t,n){return t=SD(t),function(e,t){if(t&&("object"===pD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ND()?Reflect.construct(t,n||[],SD(e).constructor):t.apply(e,n))}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ND=function(){return!!e})()}function SD(e){return SD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SD(e)}function kD(e,t){return kD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kD(e,t)}function OD(e,t,n){return(t=_D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=function(e,t){if("object"!=pD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pD(t)?t:t+""}var CD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return OD(e=jD(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),OD(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),OD(e,"getStrokeDasharray",function(t,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var o=Math.floor(t/i),s=t%i,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(xD(a.slice(0,u)),[s-d]);break}var f=c.length%2===0?[0,l]:[l];return[].concat(xD(n.repeat(a,o)),xD(c),f).map(function(e){return"".concat(e,"px")}).join(", ")}),OD(e,"id",Zm("recharts-line-")),OD(e,"pathRef",function(t){e.mainCurve=t}),OD(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),OD(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kD(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(KR){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,i=r.xAxis,o=r.yAxis,s=r.layout,l=Cg(r.children,nC);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:pC(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ay,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,c=Dg(this.props,!1),u=Dg(o,!0),d=s.map(function(e,t){var r=vD(vD(vD({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(o,r)}),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(ay,gD({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,mD(i,fD)),u=vD(vD(vD({},Dg(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return t.createElement(tI,gD({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=a.animateNewValues,h=a.width,p=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return t.createElement(Qb,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var s=g.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=ng(r.x,e.x),o=ng(r.y,e.y);return vD(vD({},e),{},{x:i(a),y:o(a)})}if(f){var l=ng(2*h,e.x),c=ng(p/2,e.y);return vD(vD({},e),{},{x:l(a),y:c(a)})}return vD(vD({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=ng(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(i,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&r&&r.length&&(!o&&s>0||!h_()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,i=n.points,o=n.className,s=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,f=n.height,h=n.isAnimationActive,p=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=k("recharts-line",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=$m()(p)?this.id:p,j=null!==(e=Dg(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,O=j.strokeWidth,_=void 0===O?2:O,C=(Ig(a)?a:{}).clipDot,E=void 0===C||C,A=2*S+_;return t.createElement(ay,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-f/2,width:v?d:2*d,height:x?f:2*f})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-A/2,y:c-A/2,width:d+A,height:f+A}))):null,!g&&this.renderCurve(b,w),this.renderErrorBar(b,w),(g||a)&&this.renderDots(b,E,w),(!h||m)&&UE.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(xD(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(xD(r),xD(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(sg()(e))r=e(n);else{var a=n.key,i=mD(n,hD),o=k("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Nx,gD({key:a},i,{className:o}))}return r}}],a&&wD(r.prototype,a),i&&wD(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function ED(e){return ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ED(e)}function AD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RD(r.key),r)}}function PD(e,t,n){return t=ID(t),function(e,t){if(t&&("object"===ED(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TD()?Reflect.construct(t,n||[],ID(e).constructor):t.apply(e,n))}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TD=function(){return!!e})()}function ID(e){return ID=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ID(e)}function DD(e,t){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DD(e,t)}function MD(e,t,n){return(t=RD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RD(e){var t=function(e,t){if("object"!=ED(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ED(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ED(t)?t:t+""}OD(CD,"displayName","Line"),OD(CD,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Py.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),OD(CD,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=pC(e,o);return"horizontal"===u?{x:_C({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:$m()(l)?null:r.scale(l),value:l,payload:e}:{x:$m()(l)?null:n.scale(l),y:_C({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}});return vD({points:d,layout:u},c)});var LD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PD(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DD(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&AD(n.prototype,r),a&&AD(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(t.Component);MD(LD,"displayName","ZAxis"),MD(LD,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var zD=["option","isActive"];function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FD.apply(this,arguments)}function BD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UD(e){var n=e.option,r=e.isActive,a=BD(e,zD);return"string"===typeof n?t.createElement(xA,FD({option:t.createElement(Yv,FD({type:n},a)),isActive:r,shapeType:"symbols"},a)):t.createElement(xA,FD({option:n,isActive:r,shapeType:"symbols"},a))}function WD(e){return WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WD(e)}function HD(){return HD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HD.apply(this,arguments)}function qD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qD(Object(n),!0).forEach(function(t){JD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QD(r.key),r)}}function $D(e,t,n){return t=YD(t),function(e,t){if(t&&("object"===WD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GD()?Reflect.construct(t,n||[],YD(e).constructor):t.apply(e,n))}function GD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(GD=function(){return!!e})()}function YD(e){return YD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YD(e)}function XD(e,t){return XD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XD(e,t)}function JD(e,t,n){return(t=QD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QD(e){var t=function(e,t){if("object"!=WD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WD(t)?t:t+""}var ZD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return JD(e=$D(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),JD(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),JD(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),JD(e,"id",Zm("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XD(e,t)}(n,e),r=n,a=[{key:"renderSymbolsStatically",value:function(e){var n=this,r=this.props,a=r.shape,i=r.activeShape,o=r.activeIndex,s=Dg(this.props,!1);return e.map(function(e,r){var l=o===r,c=l?i:a,u=VD(VD({},s),e);return t.createElement(ay,HD({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},vg(n.props,e,r),{role:"img"}),t.createElement(UD,HD({option:c,isActive:l,key:"symbol-".concat(r)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,n=this.props,r=n.points,a=n.isAnimationActive,i=n.animationBegin,o=n.animationDuration,s=n.animationEasing,l=n.animationId,c=this.state.prevPoints;return t.createElement(Qb,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t,i=r.map(function(e,t){var n=c&&c[t];if(n){var r=ng(n.cx,e.cx),i=ng(n.cy,e.cy),o=ng(n.size,e.size);return VD(VD({},e),{},{cx:r(a),cy:i(a),size:o(a)})}var s=ng(0,e.size);return VD(VD({},e),{},{size:s(a)})});return t.createElement(ay,null,e.renderSymbolsStatically(i))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&h_()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,n=e.points,r=e.xAxis,a=e.yAxis,i=Cg(e.children,nC);return i?i.map(function(e,i){var o=e.props,s=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(s,"-").concat(l,"-").concat(n[i]),data:n,xAxis:r,yAxis:a,layout:"x"===s?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===s?+e.node.x:+e.node.y,errorVal:pC(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,n,r=this.props,a=r.points,i=r.line,o=r.lineType,s=r.lineJointType,l=Dg(this.props,!1),c=Dg(i,!1);if("joint"===o)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,i=0,o=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,i+=l*l,o=Math.min(o,l),s=Math.max(s,l);var d=t*i!==n*n?(t*a-n*r)/(t*i-n*n):0;return{xmin:o,xmax:s,a:d,b:(r-d*n)/t}}(a),d=u.xmin,f=u.xmax,h=u.a,p=u.b,m=function(e){return h*e+p};e=[{x:d,y:m(d)},{x:f,y:m(f)}]}var g=VD(VD(VD({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return n=t.isValidElement(i)?t.cloneElement(i,g):sg()(i)?i(g):t.createElement(tI,HD({},g,{type:s})),t.createElement(ay,{className:"recharts-scatter-line",key:"recharts-scatter-line"},n)}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.points,a=e.line,i=e.className,o=e.xAxis,s=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,f=e.id,h=e.isAnimationActive;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=k("recharts-scatter",i),g=o&&o.allowDataOverflow,y=s&&s.allowDataOverflow,v=g||y,x=$m()(f)?this.id:f;return t.createElement(ay,{className:m,clipPath:v?"url(#clipPath-".concat(x,")"):null},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,a&&this.renderLine(),this.renderErrorBar(),t.createElement(ay,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!h||p)&&UE.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&KD(r.prototype,a),i&&KD(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function eM(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function tM(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function nM(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function rM(e){return rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rM(e)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(t){oM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sM(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(Xm(l)||Py.isSsr)return function(e,t){return eM(e,t+1)}(a,"number"===typeof l&&Xm(l)?l:0);var f=[],h="top"===s||"bottom"===s?"width":"height",p=u&&"width"===h?Ew(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=sg()(c)?c(e.value,r):e.value;return"width"===h?tM(Ew(a,{fontSize:t,letterSpacing:n}),p,d):Ew(a,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?Gm(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(i,g,h);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:eM(r,u)};var i,o=c,f=function(){return void 0===i&&(i=n(t,o)),i},h=t.coordinate,p=0===c||nM(e,h,f,d,l);p||(c=0,d=s,u+=1),p&&(d=h+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(g,y,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=iM(iM({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),nM(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=iM(iM({},u),{},{isShow:!0}))}for(var h=i?s-1:s,p=function(t){var r,i=o[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=iM(iM({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=iM(iM({},i),{},{tickCoord:i.coordinate});nM(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=iM(iM({},i),{},{isShow:!0}))},m=0;m<h;m++)p(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=iM(iM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=iM(iM({},c),{},{tickCoord:c.coordinate});nM(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=iM(iM({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),f.filter(function(e){return e.isShow}))}JD(ZD,"displayName","Scatter"),JD(ZD,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Py.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),JD(ZD,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=Cg(a.props.children,_E),d=$m()(t.dataKey)?a.props.dataKey:t.dataKey,f=$m()(n.dataKey)?a.props.dataKey:n.dataKey,h=r&&r.dataKey,p=r?r.range:LD.defaultProps.range,m=p&&p[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=i.map(function(e,i){var l=pC(e,d),p=pC(e,f),v=!$m()(h)&&pC(e,h)||"-",x=[{name:$m()(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:$m()(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:p,payload:e,dataKey:f,type:c}];"-"!==v&&x.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:h,type:c});var b=_C({axis:t,ticks:o,bandSize:g,entry:e,index:i,dataKey:d}),w=_C({axis:n,ticks:s,bandSize:y,entry:e,index:i,dataKey:f}),j="-"!==v?r.scale(v):m,N=Math.sqrt(Math.max(j,0)/Math.PI);return VD(VD({},e),{},{cx:b,cy:w,x:b-N,y:w-N,xAxis:t,yAxis:n,zAxis:r,width:2*N,height:2*N,size:j,node:{x:l,y:p,z:v},tooltipPayload:x,tooltipPosition:{x:b,y:w},payload:e},u&&u[i]&&u[i].props)});return VD({points:v},l)});var lM=["viewBox"],cM=["viewBox"],uM=["ticks"];function dM(e){return dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dM(e)}function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fM.apply(this,arguments)}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(t){wM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jM(r.key),r)}}function yM(e,t,n){return t=xM(t),function(e,t){if(t&&("object"===dM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vM()?Reflect.construct(t,n||[],xM(e).constructor):t.apply(e,n))}function vM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vM=function(){return!!e})()}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xM(e)}function bM(e,t){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bM(e,t)}function wM(e,t,n){return(t=jM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jM(e){var t=function(e,t){if("object"!=dM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dM(t)?t:t+""}var NM=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=yM(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bM(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=mM(e,lM),a=this.props,i=a.viewBox,o=mM(a,cM);return!dg(n,i)||!dg(r,o)||!dg(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||h,v=Xm(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,o=(r=(a=c+ +!p*d)-g*y)-g*m,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!p*u)-g*y)-g*m,o=v;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +p*u)+g*y)+g*m,o=v;break;default:t=n=e.coordinate,o=(r=(a=c+ +p*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=pM(pM(pM({},Dg(this.props,!1)),Dg(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=pM(pM({},c),{},{x1:n,y1:r+u*i,x2:n+a,y2:r+u*i})}else{var d=+("left"===o&&!s||"right"===o&&s);c=pM(pM({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+i})}return t.createElement("line",fM({},c,{className:k("recharts-cartesian-axis-line",Hm()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,f=sM(pM(pM({},this.props),{},{ticks:e}),r,a),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Dg(this.props,!1),g=Dg(c,!1),y=pM(pM({},m),{},{fill:"none"},Dg(s,!1)),v=f.map(function(e,r){var a=i.getTickLineCoord(e),o=a.line,v=a.tick,x=pM(pM(pM(pM({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:f.length,tickFormatter:u});return t.createElement(ay,fM({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},vg(i.props,e,r)),s&&t.createElement("line",fM({},y,o,{className:k("recharts-cartesian-axis-tick-line",Hm()(s,"className"))})),c&&n.renderTickItem(c,x,"".concat(sg()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,i=n.height,o=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=mM(l,uM),d=c;return sg()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||i<=0||!d||!d.length?null:t.createElement(ay,{className:k("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),bE.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,n,r){var a=k(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,pM(pM({},n),{},{className:a})):sg()(e)?e(pM(pM({},n),{},{className:a})):t.createElement(aj,fM({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&gM(r.prototype,a),i&&gM(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}function kM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PM(r.key),r)}}function OM(e,t,n){return t=CM(t),function(e,t){if(t&&("object"===SM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_M()?Reflect.construct(t,n||[],CM(e).constructor):t.apply(e,n))}function _M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_M=function(){return!!e})()}function CM(e){return CM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CM(e)}function EM(e,t){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EM(e,t)}function AM(e,t,n){return(t=PM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PM(e){var t=function(e,t){if("object"!=SM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SM(t)?t:t+""}function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TM.apply(this,arguments)}function IM(e){var n=e.xAxisId,r=RP(),a=LP(),i=DP(n);return null==i?null:t.createElement(NM,TM({},i,{className:k("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return wC(e,!0)}}))}wM(NM,"displayName","CartesianAxis"),wM(NM,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DM=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),OM(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EM(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(IM,this.props)}}])&&kM(r.prototype,a),i&&kM(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function MM(e){return MM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MM(e)}function RM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WM(r.key),r)}}function LM(e,t,n){return t=FM(t),function(e,t){if(t&&("object"===MM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zM()?Reflect.construct(t,n||[],FM(e).constructor):t.apply(e,n))}function zM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zM=function(){return!!e})()}function FM(e){return FM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FM(e)}function BM(e,t){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BM(e,t)}function UM(e,t,n){return(t=WM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WM(e){var t=function(e,t){if("object"!=MM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MM(t)?t:t+""}function HM(){return HM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HM.apply(this,arguments)}AM(DM,"displayName","XAxis"),AM(DM,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var qM=function(e){var n=e.yAxisId,r=RP(),a=LP(),i=MP(n);return null==i?null:t.createElement(NM,HM({},i,{className:k("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return wC(e,!0)}}))},VM=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),LM(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BM(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(qM,this.props)}}])&&RM(r.prototype,a),i&&RM(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);UM(VM,"displayName","YAxis"),UM(VM,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var KM=XI({chartName:"ComposedChart",GraphicalChild:[CD,dD,JA,ZD],axisComponents:[{axisType:"xAxis",AxisComp:DM},{axisType:"yAxis",AxisComp:VM},{axisType:"zAxis",AxisComp:LD}],formatAxisMap:aP}),$M=["x1","y1","x2","y2","key"],GM=["offset"];function YM(e){return YM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YM(e)}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(t){QM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZM.apply(this,arguments)}function eR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var tR=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nR(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(sg()(e))r=e(n);else{var a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.key,c=eR(n,$M),u=Dg(c,!1),d=(u.offset,eR(u,GM));r=t.createElement("line",ZM({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function rR(e){var n=e.x,r=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=JM(JM({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return nR(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function aR(e){var n=e.y,r=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=JM(JM({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return nR(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function iR(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oR(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var f=d.map(function(e,n){var r=!d[n+1]?o+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sR=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return bC(sM(JM(JM(JM({},NM.defaultProps),n),{},{ticks:wC(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},lR=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return bC(sM(JM(JM(JM({},NM.defaultProps),n),{},{ticks:wC(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},cR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uR(e){var n,r,a,i,o,s,l=RP(),c=LP(),u=(0,t.useContext)(EP),d=JM(JM({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:cR.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:cR.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:cR.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:cR.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:cR.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:cR.verticalFill,x:Xm(e.x)?e.x:u.left,y:Xm(e.y)?e.y:u.top,width:Xm(e.width)?e.width:u.width,height:Xm(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(OP);return tg(e)}(),b=function(){var e=(0,t.useContext)(_P);return NP()(e,function(e){return OE()(e.domain,Number.isFinite)})||tg(e)}();if(!Xm(p)||p<=0||!Xm(m)||m<=0||!Xm(f)||f!==+f||!Xm(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||sR,j=d.horizontalCoordinatesGenerator||lR,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&sg()(j)){var k=y&&y.length,O=j({yAxis:b?JM(JM({},b),{},{ticks:k?y:b.ticks}):void 0,width:l,height:c,offset:u},!!k||g);ig(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(YM(O),"]")),Array.isArray(O)&&(N=O)}if((!S||!S.length)&&sg()(w)){var _=v&&v.length,C=w({xAxis:x?JM(JM({},x),{},{ticks:_?v:x.ticks}):void 0,width:l,height:c,offset:u},!!_||g);ig(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(YM(C),"]")),Array.isArray(C)&&(S=C)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(tR,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(rR,ZM({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),t.createElement(aR,ZM({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),t.createElement(iR,ZM({},d,{horizontalPoints:N})),t.createElement(oR,ZM({},d,{verticalPoints:S})))}uR.displayName="CartesianGrid";var dR=XI({chartName:"AreaChart",GraphicalChild:dD,axisComponents:[{axisType:"xAxis",AxisComp:DM},{axisType:"yAxis",AxisComp:VM}],formatAxisMap:aP}),fR=XI({chartName:"BarChart",GraphicalChild:JA,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:DM},{axisType:"yAxis",AxisComp:VM}],formatAxisMap:aP});const hR=sa("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),pR=sa("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function mR(e){let{user:n}=e;const[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[f,h]=(0,t.useState)([]),[m,g]=(0,t.useState)("30"),[y,v]=(0,t.useState)("all"),[x,b]=(0,t.useState)("overview"),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(!1),[k,O]=(0,t.useState)(null),[_,C]=(0,t.useState)("connected"),[E,A]=(0,t.useState)(""),[P,T]=(0,t.useState)(!0),I=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),D=e=>void 0===e||null===e||isNaN(e)?0:e,M=(0,t.useCallback)(async()=>{try{S(!0),A(""),console.log("\ud83d\udcca Loading real-time reports data from Supabase...");const[e,t,n,r,i]=await Promise.all([Zr.get("agents",[]),Zr.get("customers",[]),Zr.get("trips",[]),Zr.get("rolling_records",[]),Zr.get("buy_in_out_records",[])]),s=t.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=i.filter(t=>t.customerId===e.id),a=t.reduce((e,t)=>e+(t.rollingAmount||0),0),o=t.reduce((e,t)=>e+(t.winLoss||0),0),s=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),l=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return c(c({},e),{},{totalRolling:a,totalWinLoss:o,totalBuyIn:s,totalBuyOut:l,attachments:e.attachments||[],isAgent:e.isAgent||!1,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),u=n.map(e=>{var t;const n=(null===(t=e.customers)||void 0===t?void 0:t.map(e=>e.customerId))||[],a=r.filter(e=>n.includes(e.customerId)),o=i.filter(e=>n.includes(e.customerId)),s=a.reduce((e,t)=>e+(t.rollingAmount||0),0),l=a.reduce((e,t)=>e+(t.winLoss||0),0),u=o.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),d=o.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),f=.014*s;return c(c({},e),{},{totalRolling:s,totalWinLoss:l,totalBuyIn:u,totalBuyOut:d,calculatedTotalRolling:f,attachments:e.attachments||[],sharing:e.sharing||{totalWinLoss:l,totalExpenses:0,totalRollingCommission:f,totalBuyIn:u,totalBuyOut:d,netCashFlow:d-u,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]}})});a(e),o(s),l(u),d(r),h(i),O(new Date),C("connected"),console.log("\u2705 Real-time reports data loaded: ".concat(s.length," customers, ").concat(e.length," agents, ").concat(u.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time reports data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";A("Failed to load reports data: ".concat(t)),C("error")}finally{j(!1),S(!1)}},[]);(0,t.useEffect)(()=>{let e;return M(),P&&(e=setInterval(()=>{console.log("\ud83d\udcca Real-time reports refresh triggered"),M()},3e4)),()=>{e&&clearInterval(e)}},[M,P]);const{filteredCustomers:R,filteredTrips:L,filteredRollingRecords:z,filteredBuyInOutRecords:F}=(()=>{let e=i,t=s,r=u,a=f;if("agent"===n.role&&n.agentId)e=i.filter(e=>e.agentId===n.agentId),t=s.filter(e=>e.agents&&e.agents.some(e=>e.agentId===n.agentId)||e.agentId===n.agentId),r=u.filter(e=>e.agentId===n.agentId),a=f.filter(e=>{const t=i.find(t=>t.id===e.customerId);return(null===t||void 0===t?void 0:t.agentId)===n.agentId});else if("staff"===n.role&&n.staffId){r=u.filter(e=>e.staffId===n.staffId),a=f.filter(e=>e.staffId===n.staffId);const o=Array.from(new Set([...r.map(e=>e.customerId),...a.map(e=>e.customerId)]));e=i.filter(e=>o.includes(e.id)),t=s.filter(e=>{var t;return null===(t=e.customers)||void 0===t?void 0:t.some(e=>o.includes(e.customerId))})}"admin"===n.role&&"all"!==y&&(e=e.filter(e=>e.agentId===y),t=t.filter(e=>e.agents&&e.agents.some(e=>e.agentId===y)||e.agentId===y),r=r.filter(e=>e.agentId===y),a=a.filter(e=>{const t=i.find(t=>t.id===e.customerId);return(null===t||void 0===t?void 0:t.agentId)===y}));const o=new Date;return o.setDate(o.getDate()-parseInt(m)),t=t.filter(e=>new Date(e.date)>=o),r=r.filter(e=>new Date(e.recordedAt)>=o),a=a.filter(e=>new Date(e.timestamp)>=o),{filteredCustomers:e,filteredTrips:t,filteredRollingRecords:r,filteredBuyInOutRecords:a}})(),B=(()=>{const e=z.reduce((e,t)=>e+D(t.rollingAmount),0),t=z.reduce((e,t)=>e+D(t.winLoss),0),n=F.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),a=F.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),i=L.reduce((e,t)=>e+D(t.totalRolling),0),o=L.reduce((e,t)=>e+D(t.totalWinLoss),0),s=L.reduce((e,t)=>e+D(t.calculatedTotalRolling),0),l=L.reduce((e,t)=>e+(t.expenses||[]).reduce((e,t)=>e+D(t.amount),0),0),c=-t,u=c-s,d=u-l,f=R.length,h=R.filter(e=>e.isActive).length,p=r.length,m=r.filter(e=>e.isActive).length,g=L.length,y=L.filter(e=>"completed"===e.status).length,v=L.filter(e=>"ongoing"===e.status).length,x=e>0?d/e*100:0,b=z.length>0?R.reduce((e,t)=>e+t.rollingPercentage,0)/R.length:1.4;return{customerTotalRolling:e,customerTotalWinLoss:t,customerTotalBuyIn:n,customerTotalBuyOut:a,tripTotalRolling:i,tripTotalWinLoss:o,totalRollingCommission:s,totalExpenses:l,houseGrossWin:c,houseNetWin:u,houseFinalProfit:d,totalCustomers:f,activeCustomers:h,totalAgents:p,activeAgents:m,totalTrips:g,completedTrips:y,ongoingTrips:v,profitMargin:x,averageRollingPercentage:b,totalRollingRecords:z.length,totalBuyInOutRecords:F.length}})(),U=(()=>{const e={};return z.forEach(t=>{const n=t.recordedAt.split("T")[0];e[n]||(e[n]={date:n,rolling:0,winLoss:0,commission:0,buyIn:0,buyOut:0,netCashFlow:0,recordCount:0,transactions:0}),e[n].rolling+=D(t.rollingAmount),e[n].winLoss+=D(t.winLoss),e[n].commission+=.014*D(t.rollingAmount),e[n].recordCount+=1}),F.forEach(t=>{const n=t.timestamp.split("T")[0];e[n]||(e[n]={date:n,rolling:0,winLoss:0,commission:0,buyIn:0,buyOut:0,netCashFlow:0,recordCount:0,transactions:0}),"buy-in"===t.transactionType?e[n].buyIn+=t.amount:e[n].buyOut+=t.amount,e[n].transactions+=1}),Object.values(e).forEach(e=>{e.netCashFlow=e.buyOut-e.buyIn}),Object.values(e).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})(),W="admin"!==n.role?[]:r.map(e=>{const t=R.filter(t=>t.agentId===e.id),n=z.filter(t=>t.agentId===e.id),r=F.filter(t=>{const n=i.find(e=>e.id===t.customerId);return(null===n||void 0===n?void 0:n.agentId)===e.id}),a=L.filter(t=>t.agents&&t.agents.some(t=>t.agentId===e.id)||t.agentId===e.id),o=n.reduce((e,t)=>e+D(t.rollingAmount),0),s=n.reduce((e,t)=>e+D(t.winLoss),0),l=r.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),c=r.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return{name:e.name,customers:t.length,activeCustomers:t.filter(e=>e.isActive).length,rolling:o,winLoss:s,buyIn:l,buyOut:c,netCashFlow:c-l,commission:.014*o,trips:a.length,rollingRecords:n.length,buyInOutRecords:r.length,averageRollingPercentage:t.length>0?t.reduce((e,t)=>e+t.rollingPercentage,0)/t.length:0}}).filter(e=>e.rolling>0||e.customers>0),H=R.map(e=>{const t=z.filter(t=>t.customerId===e.id),n=F.filter(t=>t.customerId===e.id),r=t.reduce((e,t)=>e+D(t.rollingAmount),0),a=t.reduce((e,t)=>e+D(t.winLoss),0),i=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),o=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return c(c({},e),{},{periodRolling:r,periodWinLoss:a,periodBuyIn:i,periodBuyOut:o,periodNetCashFlow:o-i,periodCommission:r*(e.rollingPercentage/100),recordCount:t.length,transactionCount:n.length})}).filter(e=>e.periodRolling>0).sort((e,t)=>t.periodRolling-e.periodRolling).slice(0,10);return w?(0,p.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,p.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading real-time reports data from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(om,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"\ud83d\udcca Real-time Reports & Analytics - Live Data from Supabase"}),(0,p.jsxs)("p",{className:"text-xs text-purple-600",children:["All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.",k&&" \u2022 Last sync: ".concat(k.toLocaleTimeString())]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[N&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:M,disabled:N,className:"text-xs",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>{T(!P),P||M()},className:"text-xs",children:[(0,p.jsx)(ja,{className:"w-3 h-3 mr-1 ".concat(P?"text-green-500":"text-gray-500")}),P?"Live":"Manual"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs ".concat("connected"===_?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,p.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat("connected"===_?"bg-green-500 animate-pulse":"bg-red-500")}),"connected"===_?"Live Data":"Error"]})]})]})}),E&&(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-4 h-4 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Reports Error:"})," ",E,(0,p.jsxs)(Oe,{onClick:M,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,p.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Real-time Reports & Analytics"}),(0,p.jsxs)("p",{className:"text-gray-600",children:["agent"===n.role?"Performance overview for your customers":"staff"===n.role?"Reports for your recorded transactions":"Comprehensive business analytics"," \u2022 Live data from Supabase"]}),(0,p.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Showing data for last ",m," days \u2022 ",B.totalRollingRecords," rolling records \u2022 ",B.totalBuyInOutRecords," buy-in/out transactions"]})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(Jf,{value:m,onValueChange:g,children:[(0,p.jsx)(Zf,{className:"w-32",children:(0,p.jsx)(Qf,{placeholder:"Date range"})}),(0,p.jsxs)(eh,{children:[(0,p.jsx)(th,{value:"7",children:"Last 7 days"}),(0,p.jsx)(th,{value:"30",children:"Last 30 days"}),(0,p.jsx)(th,{value:"90",children:"Last 90 days"}),(0,p.jsx)(th,{value:"365",children:"Last year"})]})]}),"admin"===n.role&&(0,p.jsxs)(Jf,{value:y,onValueChange:v,children:[(0,p.jsx)(Zf,{className:"w-40",children:(0,p.jsx)(Qf,{placeholder:"All agents"})}),(0,p.jsxs)(eh,{children:[(0,p.jsx)(th,{value:"all",children:"All Agents"}),r.map(e=>(0,p.jsx)(th,{value:e.id,children:e.name},e.id))]})]}),(0,p.jsxs)(Jf,{value:x,onValueChange:b,children:[(0,p.jsx)(Zf,{className:"w-36",children:(0,p.jsx)(Qf,{placeholder:"Report type"})}),(0,p.jsxs)(eh,{children:[(0,p.jsx)(th,{value:"overview",children:"Overview"}),(0,p.jsx)(th,{value:"financial",children:"Financial"}),(0,p.jsx)(th,{value:"customer",children:"Customer"}),(0,p.jsx)(th,{value:"operational",children:"Operational"})]})]}),(0,p.jsxs)(Oe,{variant:"outline",onClick:()=>{const e={generatedAt:(new Date).toISOString(),dateRange:m,selectedAgent:y,userRole:n.role,summary:B,dailyData:U,topCustomers:H,agentPerformance:W,rawData:{customers:R.length,trips:L.length,rollingRecords:z.length,buyInOutRecords:F.length}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="casino-reports-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},children:[(0,p.jsx)(Sp,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Key Performance Metrics"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,p.jsxs)(He,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-blue-800",children:"Total Rolling"}),(0,p.jsx)(Na,{className:"h-4 w-4 text-blue-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["HK$",I(B.customerTotalRolling)]}),(0,p.jsxs)("p",{className:"text-xs text-blue-600",children:[B.totalRollingRecords," rolling records \u2022 Last ",m," days"]})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-purple-800",children:"Commission"}),(0,p.jsx)(hR,{className:"h-4 w-4 text-purple-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-purple-700",children:["HK$",I(.014*B.customerTotalRolling)]}),(0,p.jsxs)("p",{className:"text-xs text-purple-600",children:[B.averageRollingPercentage.toFixed(1),"% avg rolling rate"]})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-green-800",children:"House P&L"}),B.houseGrossWin>=0?(0,p.jsx)(ba,{className:"h-4 w-4 text-green-600"}):(0,p.jsx)(Ep,{className:"h-4 w-4 text-red-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold ".concat(B.houseGrossWin>=0?"text-green-600":"text-red-600"),children:["HK$",I(Math.abs(B.houseGrossWin))]}),(0,p.jsx)("p",{className:"text-xs text-green-600",children:B.houseGrossWin>=0?"House Win":"Customer Win"})]})]}),(0,p.jsxs)(He,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium text-orange-800",children:"Cash Flow"}),(0,p.jsx)(Sa,{className:"h-4 w-4 text-orange-600"})]}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:["HK$",I(B.customerTotalBuyOut-B.customerTotalBuyIn)]}),(0,p.jsx)("p",{className:"text-xs text-orange-600",children:"Net: Buy-out - Buy-in"})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,p.jsx)(Ve,{className:"text-sm font-medium",children:"Active Customers"}),(0,p.jsx)(ma,{className:"h-4 w-4 text-muted-foreground"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"text-2xl font-bold",children:B.activeCustomers}),(0,p.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",B.totalCustomers," total customers"]})]})]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Daily Rolling Volume & Commission"}),(0,p.jsx)(Ke,{children:"Real-time rolling amounts and calculated commission over time"})]}),(0,p.jsx)($e,{children:(0,p.jsx)(qg,{width:"100%",height:300,children:(0,p.jsxs)(KM,{data:U,children:[(0,p.jsx)(uR,{strokeDasharray:"3 3"}),(0,p.jsx)(DM,{dataKey:"date"}),(0,p.jsx)(VM,{}),(0,p.jsx)(Ky,{formatter:(e,t)=>["HK$".concat(Number(e).toLocaleString()),"rolling"===t?"Rolling":"commission"===t?"Commission":"Win/Loss"]}),(0,p.jsx)(JA,{dataKey:"rolling",fill:"#8884d8",name:"rolling"}),(0,p.jsx)(JA,{dataKey:"commission",fill:"#82ca9d",name:"commission"}),(0,p.jsx)(CD,{type:"monotone",dataKey:"winLoss",stroke:"#ff7c7c",strokeWidth:2,name:"winLoss"})]})})})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Daily Cash Flow Analysis"}),(0,p.jsx)(Ke,{children:"Buy-in vs Buy-out amounts and net cash flow"})]}),(0,p.jsx)($e,{children:(0,p.jsx)(qg,{width:"100%",height:300,children:(0,p.jsxs)(dR,{data:U,children:[(0,p.jsx)(uR,{strokeDasharray:"3 3"}),(0,p.jsx)(DM,{dataKey:"date"}),(0,p.jsx)(VM,{}),(0,p.jsx)(Ky,{formatter:(e,t)=>["HK$".concat(Number(e).toLocaleString()),"buyIn"===t?"Buy-in":"buyOut"===t?"Buy-out":"Net Flow"]}),(0,p.jsx)(dD,{type:"monotone",dataKey:"buyIn",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"buyIn"}),(0,p.jsx)(dD,{type:"monotone",dataKey:"buyOut",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"buyOut"}),(0,p.jsx)(CD,{type:"monotone",dataKey:"netCashFlow",stroke:"#ff7c7c",strokeWidth:2,name:"netCashFlow"})]})})})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Transaction Volume"}),(0,p.jsx)(Ke,{children:"Daily activity levels"})]}),(0,p.jsx)($e,{children:(0,p.jsx)(qg,{width:"100%",height:200,children:(0,p.jsxs)(fR,{data:U,children:[(0,p.jsx)(uR,{strokeDasharray:"3 3"}),(0,p.jsx)(DM,{dataKey:"date"}),(0,p.jsx)(VM,{}),(0,p.jsx)(Ky,{}),(0,p.jsx)(JA,{dataKey:"recordCount",fill:"#8884d8",name:"Rolling Records"}),(0,p.jsx)(JA,{dataKey:"transactions",fill:"#82ca9d",name:"Buy-in/out"})]})})})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Performance Summary"}),(0,p.jsx)(Ke,{children:"Key operational metrics"})]}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-blue-800",children:"Total Trips"}),(0,p.jsx)("span",{className:"font-bold text-blue-700",children:B.totalTrips})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-green-800",children:"Completed"}),(0,p.jsx)("span",{className:"font-bold text-green-700",children:B.completedTrips})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-orange-800",children:"Ongoing"}),(0,p.jsx)("span",{className:"font-bold text-orange-700",children:B.ongoingTrips})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[(0,p.jsx)("span",{className:"text-sm text-purple-800",children:"Profit Margin"}),(0,p.jsxs)("span",{className:"font-bold text-purple-700",children:[B.profitMargin.toFixed(1),"%"]})]})]})})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Activity Overview"}),(0,p.jsx)(Ke,{children:"Recent period summary"})]}),(0,p.jsx)($e,{children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(wa,{className:"w-5 h-5 text-blue-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Rolling Records"}),(0,p.jsx)("p",{className:"text-xl font-bold text-blue-600",children:B.totalRollingRecords})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(pR,{className:"w-5 h-5 text-green-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Buy-in/out Records"}),(0,p.jsx)("p",{className:"text-xl font-bold text-green-600",children:B.totalBuyInOutRecords})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(ma,{className:"w-5 h-5 text-purple-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Active Users"}),(0,p.jsx)("p",{className:"text-xl font-bold text-purple-600",children:B.activeCustomers})]})]})]})})]})]}),H.length>0&&(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Top Performing Customers"}),(0,p.jsx)(Ke,{children:"Highest rolling volume customers for the selected period \u2022 Sorted by rolling amount"})]}),(0,p.jsx)($e,{children:(0,p.jsx)("div",{className:"space-y-4",children:H.map((e,t)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium",children:e.name}),(0,p.jsxs)("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentName," \u2022 ",e.rollingPercentage,"% rolling rate"]}),(0,p.jsxs)("p",{className:"text-xs text-gray-400",children:[e.recordCount," records \u2022 ",e.transactionCount," transactions"]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-right text-xs",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Rolling"}),(0,p.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",I(e.periodRolling)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Win/Loss"}),(0,p.jsxs)("div",{className:"font-medium ".concat(e.periodWinLoss>=0?"text-red-600":"text-green-600"),children:[e.periodWinLoss>=0?"+":"","HK$",I(e.periodWinLoss)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Commission"}),(0,p.jsxs)("div",{className:"font-medium text-purple-600",children:["HK$",I(e.periodCommission)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-gray-500",children:"Cash Flow"}),(0,p.jsxs)("div",{className:"font-medium ".concat(e.periodNetCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",I(e.periodNetCashFlow)]})]})]})]},e.id))})})]}),"admin"===n.role&&W.length>0&&(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ve,{children:"Agent Performance Analysis"}),(0,p.jsx)(Ke,{children:"Comprehensive performance metrics by agent for the selected period"})]}),(0,p.jsx)($e,{children:(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,p.jsx)("thead",{className:"bg-gray-50",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customers"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolling Volume"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win/Loss"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Flow"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"})]})}),(0,p.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(e=>(0,p.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,p.jsxs)("div",{className:"text-xs text-gray-500",children:[e.averageRollingPercentage.toFixed(1),"% avg rate"]})]})}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,p.jsxs)("div",{children:[e.activeCustomers,"/",e.customers]}),(0,p.jsx)("div",{className:"text-xs text-gray-400",children:"active/total"})]}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,p.jsxs)("div",{className:"font-medium",children:["HK$",I(e.rolling)]}),(0,p.jsxs)("div",{className:"text-xs text-blue-600",children:[e.trips," trips"]})]}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium",children:["HK$",I(e.commission)]}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,p.jsxs)("span",{className:e.winLoss>=0?"text-red-600":"text-green-600",children:[e.winLoss>=0?"+":"","HK$",I(e.winLoss)]})}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,p.jsxs)("div",{className:"font-medium ".concat(e.netCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",I(e.netCashFlow)]}),(0,p.jsxs)("div",{className:"text-xs text-gray-400",children:["In: HK$",I(e.buyIn)," \u2022 Out: HK$",I(e.buyOut)]})]}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,p.jsxs)("div",{children:[e.rollingRecords," rolling"]}),(0,p.jsxs)("div",{className:"text-xs text-gray-400",children:[e.buyInOutRecords," buy-in/out"]})]})]},e.name))})]})})})]})]})}const gR=["__scopeProgress","value","max","getValueLabel"],yR=["__scopeProgress"];var vR="Progress",xR=100,[bR,wR]=Ta(vR),[jR,NR]=bR(vR),SR=t.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=_R}=e,o=u(e,gR);var s,l;!a&&0!==a||AR(a)||console.error((s="".concat(a),l="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(l,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(xR,"`.")));const d=AR(a)?a:xR;null===r||PR(r,d)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(xR," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(r),"Progress"));const f=PR(r,d)?r:null,h=ER(f)?i(f,d):void 0;return(0,p.jsx)(jR,{scope:n,value:f,max:d,children:(0,p.jsx)(Pe.div,c(c({"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":ER(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":CR(f,d),"data-value":null!==f&&void 0!==f?f:void 0,"data-max":d},o),{},{ref:t}))})});SR.displayName=vR;var kR="ProgressIndicator",OR=t.forwardRef((e,t)=>{var n;const{__scopeProgress:r}=e,a=u(e,yR),i=NR(kR,r);return(0,p.jsx)(Pe.div,c(c({"data-state":CR(i.value,i.max),"data-value":null!==(n=i.value)&&void 0!==n?n:void 0,"data-max":i.max},a),{},{ref:t}))});function _R(e,t){return"".concat(Math.round(e/t*100),"%")}function CR(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function ER(e){return"number"===typeof e}function AR(e){return ER(e)&&!isNaN(e)&&e>0}function PR(e,t){return ER(e)&&!isNaN(e)&&e<=t&&e>=0}OR.displayName=kR;var TR=SR,IR=OR;const DR=["className","value"];function MR(e){let{className:t,value:n}=e,r=u(e,DR);return(0,p.jsx)(TR,c(c({"data-slot":"progress",className:Ne("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t)},r),{},{children:(0,p.jsx)(IR,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))}const RR=sa("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),LR=sa("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const zR=Cp(function(e){let{user:n,showError:r,clearError:a}=e;const[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[f,h]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)({username:"",password:"",confirmPassword:""});(0,t.useEffect)(()=>{N()},[]);const N=async()=>{try{g(!0),a(),console.log("\ud83d\udd04 Loading admin accounts from Supabase...");const e=await Zr.get("users",[]),t=e.filter(e=>"admin"===e.role).map(e=>({id:e.id,username:e.username,password:e.password||"",role:"admin",isActive:!1!==e.isActive,createdAt:e.createdAt||(new Date).toISOString().split("T")[0],lastLogin:e.lastLogin,createdBy:e.createdBy}));o(t),console.log("\u2705 Loaded ".concat(t.length," admin accounts from Supabase"))}catch(e){console.error("\u274c Error loading admin data:",e),r("Failed to load admin data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{g(!1)}},S=async e=>{try{v(!0),a(),console.log("\ud83d\udcbe Saving admin accounts to Supabase...");const t=(await Zr.get("users",[])).filter(e=>"admin"!==e.role),n=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,isActive:e.isActive,createdAt:e.createdAt,lastLogin:e.lastLogin,createdBy:e.createdBy})),r=[...t,...n];await Zr.save("users",r),o(e),console.log("\u2705 Successfully saved admin accounts to Supabase")}catch(t){throw console.error("\u274c Error saving admin accounts:",t),r("Failed to save admin data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}finally{v(!1)}},k=e=>{d(e),j({username:e.username,password:e.password,confirmPassword:e.password}),l(!0)},O=async e=>{try{const t=i.find(t=>t.id===e);if((null===t||void 0===t?void 0:t.username)===n.username)return void r("Cannot deactivate your own admin account!");const a=i.filter(t=>t.isActive&&t.id!==e);if(0===a.length)return void r("Cannot deactivate the last active admin account!");console.log("\ud83d\udd04 Toggling admin status: ".concat(null===t||void 0===t?void 0:t.username));const o=i.map(t=>t.id===e?c(c({},t),{},{isActive:!t.isActive}):t);await S(o)}catch(t){}},_=()=>{j({username:"",password:"",confirmPassword:""}),d(null),l(!1),b(!1)};return m?(0,p.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Loading admin accounts from Supabase..."})]})}):(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-green-600 mr-2"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Admin Login CRUD - Supabase Connected"}),(0,p.jsx)("p",{className:"text-xs text-green-600",children:"All admin login changes are immediately saved to Supabase database. These credentials control system access."})]}),y&&(0,p.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,p.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),(0,p.jsxs)(Je,{className:"border-blue-200 bg-blue-50",children:[(0,p.jsx)(ga,{className:"w-4 h-4 text-blue-600"}),(0,p.jsxs)(Qe,{className:"text-blue-800",children:[(0,p.jsx)("strong",{children:"Admin Login Management:"})," This section controls the login credentials for admin access. The system starts with ",(0,p.jsx)("code",{className:"bg-blue-100 px-1 rounded text-blue-900",children:"admin / admin@8888"})," as the default credentials. You can Create, Read, Update, and Delete admin accounts here. All changes are stored in Supabase.",(0,p.jsxs)(Oe,{onClick:N,size:"sm",variant:"outline",className:"ml-3 text-blue-800 border-blue-300 hover:bg-blue-100",children:[(0,p.jsx)(fa,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]}),(0,p.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start",children:[(0,p.jsx)(RR,{className:"w-5 h-5 text-amber-600 mr-2 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),(0,p.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Admin accounts have full system access including customer data, financial records, and system settings. Ensure passwords are strong and only share credentials with authorized administrators."})]})]})}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Admin Login Credentials (CRUD)"}),(0,p.jsx)("p",{className:"text-gray-600",children:"Create, Read, Update, and Delete admin login credentials stored in Supabase"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default admin credentials: admin / admin@8888 (can be modified)"})]}),(0,p.jsxs)(ys,{open:s,onOpenChange:l,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{onClick:()=>l(!0),disabled:y,children:[(0,p.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Create Admin"]})}),(0,p.jsxs)(ws,{className:"max-w-lg",children:[(0,p.jsxs)(js,{children:[(0,p.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,p.jsx)(ga,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:u?"Update Admin Credentials":"Create New Admin Account"})]}),(0,p.jsx)(Ss,{children:u?"Update administrator login credentials in Supabase":"Create a new administrator account with login credentials"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!w.username.trim())return void r("Username is required!");if(!w.password.trim())return void r("Password is required!");if(w.password!==w.confirmPassword)return void r("Passwords do not match!");if(i.find(e=>e.username===w.username&&e.id!==(null===u||void 0===u?void 0:u.id)))return void r("Username already exists! Please choose a different username.");let e;if(u)e=i.map(e=>e.id===u.id?c(c({},e),{},{username:w.username,password:w.password}):e),console.log("\ud83d\udd04 Updating admin account: ".concat(u.username," -> ").concat(w.username));else{const t={id:"admin_".concat(Date.now()),username:w.username,password:w.password,role:"admin",isActive:!0,createdAt:(new Date).toISOString().split("T")[0],createdBy:n.username};e=[...i,t],console.log("\u2795 Creating new admin account: ".concat(w.username))}await S(e),_()}catch(t){}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"username",children:"Username *"}),(0,p.jsx)(Ce,{id:"username",value:w.username,onChange:e=>j(c(c({},w),{},{username:e.target.value})),placeholder:"Enter admin username",required:!0,disabled:y}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This username will be used to login to the admin portal"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"password",children:"Password *"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(Ce,{id:"password",type:x?"text":"password",value:w.password,onChange:e=>j(c(c({},w),{},{password:e.target.value})),placeholder:"Enter secure password",required:!0,disabled:y}),(0,p.jsx)(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),disabled:y,children:x?(0,p.jsx)(Yp,{className:"w-4 h-4"}):(0,p.jsx)(Np,{className:"w-4 h-4"})})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let t="";for(let n=0;n<12;n++)t+=e.charAt(Math.floor(70*Math.random()));j(c(c({},w),{},{password:t,confirmPassword:t}))},className:"text-xs",disabled:y,children:"Generate Password"}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"Minimum 8 characters recommended"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,p.jsx)(Ce,{id:"confirmPassword",type:x?"text":"password",value:w.confirmPassword,onChange:e=>j(c(c({},w),{},{confirmPassword:e.target.value})),placeholder:"Confirm password",required:!0,disabled:y})]}),(0,p.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-red-700",children:[(0,p.jsx)("strong",{children:"Security Warning:"})," Admin credentials provide full system access. Changes are immediately saved to Supabase and will affect login access."]})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)(Oe,{type:"button",variant:"outline",onClick:_,disabled:y,children:"Cancel"}),(0,p.jsx)(Oe,{type:"submit",disabled:y,children:y?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ga,{className:"w-4 h-4 mr-2"}),u?"Update":"Create"," Admin"]})})]})]})]})]})]}),(0,p.jsx)("div",{className:"grid gap-6",children:0===i.length?(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"text-center py-12",children:[(0,p.jsx)(ga,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Admin Accounts Found"}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:"The default admin account (admin/admin@8888) should be present. Try refreshing the data."}),(0,p.jsxs)(Oe,{onClick:N,disabled:m,children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}):i.map(e=>{const t=f===e.id,a=e.username===n.username,o="admin"===e.username&&"admin@8888"===e.password;return(0,p.jsx)(vp,{open:t,onOpenChange:()=>{return t=e.id,void h(f===t?null:t);var t},children:(0,p.jsxs)(He,{className:"overflow-hidden",children:[(0,p.jsx)(xp,{asChild:!0,children:(0,p.jsx)(qe,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{children:e.username}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,p.jsx)(RR,{className:"w-3 h-3 mr-1"}),"Admin"]}),a&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,p.jsx)(Zp,{className:"w-3 h-3 mr-1"}),"You"]}),o&&(0,p.jsxs)(tt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,p.jsx)(LR,{className:"w-3 h-3 mr-1"}),"Default"]})]}),(0,p.jsxs)(Ke,{children:["Created ",e.createdAt,e.createdBy&&" \u2022 Created by ".concat(e.createdBy),o&&" \u2022 Default admin credentials (editable)"]})]}),(0,p.jsx)("div",{className:"flex items-center space-x-2",children:t?(0,p.jsx)(Vf,{className:"w-5 h-5 text-gray-400"}):(0,p.jsx)(Hf,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,p.jsxs)($e,{children:[(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>k(e),disabled:y,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Update Credentials"]}),!a&&e.isActive?(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsx)(Oe,{variant:"outline",size:"sm",disabled:y,children:"Deactivate"})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Deactivate Admin Account"}),(0,p.jsxs)(kl,{children:['Are you sure you want to deactivate the admin account for "',e.username,'"? Deactivated administrators will not be able to login to the system.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>O(e.id),className:"bg-yellow-600 text-white hover:bg-yellow-700",disabled:y,children:y?"Saving...":"Deactivate Account"})]})]})]}):a||e.isActive?null:(0,p.jsx)(Oe,{variant:"default",size:"sm",onClick:()=>O(e.id),disabled:y,children:y?"Saving...":"Activate"}),!a&&i.length>1&&(0,p.jsxs)(yl,{children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsxs)(Oe,{variant:"destructive",size:"sm",disabled:y,children:[(0,p.jsx)(kp,{className:"w-4 h-4 mr-2"}),"Delete"]})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"Delete Admin Account"}),(0,p.jsxs)(kl,{children:['Are you sure you want to permanently delete the admin account for "',e.username,'"? This action cannot be undone and will immediately revoke all system access.']})]}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{children:"Cancel"}),(0,p.jsx)(Ol,{onClick:()=>(async e=>{try{if(i.length<=1)return void r("Cannot delete the last admin account!");const t=i.find(t=>t.id===e);if((null===t||void 0===t?void 0:t.username)===n.username)return void r("Cannot delete your own admin account!");console.log("\ud83d\uddd1\ufe0f Deleting admin account: ".concat(null===t||void 0===t?void 0:t.username));const a=i.filter(t=>t.id!==e);await S(a)}catch(t){}})(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:y,children:y?"Deleting...":"Delete Account"})]})]})]})]}),a&&(0,p.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:(0,p.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,p.jsx)("strong",{children:"Current Account:"})," This is your active admin account. You cannot deactivate or delete your own account for security reasons, but you can update the credentials."]})}),o&&(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-4",children:(0,p.jsxs)("p",{className:"text-xs text-green-700",children:[(0,p.jsx)("strong",{children:"Default Admin:"}),' This is the system default admin account with preset credentials. You can update both the username and password using the "Update Credentials" button above. Changes are saved to Supabase immediately.']})}),(0,p.jsx)(bp,{className:"mt-6",children:(0,p.jsxs)(Jh,{defaultValue:"info",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"info",className:"flex items-center space-x-2",children:[(0,p.jsx)(ga,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Account Information"})]}),(0,p.jsxs)(Zh,{value:"security",className:"flex items-center space-x-2",children:[(0,p.jsx)(ca,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Security & CRUD"})]})]}),(0,p.jsx)(ep,{value:"info",className:"space-y-4 mt-6",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Username"}),(0,p.jsx)("p",{className:"text-lg font-mono",children:e.username})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,p.jsxs)(tt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,p.jsx)(RR,{className:"w-3 h-3 mr-1"}),"Administrator"]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Account Status"}),(0,p.jsx)(tt,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Created Date"}),(0,p.jsx)("p",{children:e.createdAt})]}),e.createdBy&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Created By"}),(0,p.jsx)("p",{children:e.createdBy})]}),e.lastLogin&&(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Last Login"}),(0,p.jsx)("p",{children:new Date(e.lastLogin).toLocaleString()})]})]})]})}),(0,p.jsx)(ep,{value:"security",className:"space-y-4 mt-6",children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{className:"text-sm font-medium text-gray-500",children:"Login Credentials (CRUD)"}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded flex-1",children:[e.username," / \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>k(e),disabled:y,children:[(0,p.jsx)(zp,{className:"w-4 h-4 mr-2"}),"Update"]})]}),(0,p.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,p.jsx)(pa,{className:"w-3 h-3 inline mr-1 text-green-600"}),"Full CRUD operations available - Create, Read, Update, Delete admin credentials stored in Supabase"]})]}),(0,p.jsx)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,p.jsx)(la,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Admin Permissions"}),(0,p.jsxs)("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[(0,p.jsx)("li",{children:"\u2022 Full CRUD access to admin login credentials"}),(0,p.jsx)("li",{children:"\u2022 Complete system administration access"}),(0,p.jsx)("li",{children:"\u2022 Customer and agent management"}),(0,p.jsx)("li",{children:"\u2022 Staff administration and monitoring"}),(0,p.jsx)("li",{children:"\u2022 Financial reports and analytics"}),(0,p.jsx)("li",{children:"\u2022 Database management and backups"}),(0,p.jsx)("li",{children:"\u2022 System configuration and settings"})]})]})]})}),(0,p.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("p",{className:"text-xs text-green-700",children:[(0,p.jsx)("strong",{children:"Supabase Integration:"})," All admin credentials are stored securely in Supabase with real-time synchronization. Changes to login credentials take effect immediately and are reflected across all system components."]})})]})})]})})]})]})},e.id)})})]})}),FR=sa("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),BR=sa("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),UR=sa("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function WR(e){let{user:n}=e;const[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,f]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(""),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),[S,k]=(0,t.useState)({});(0,t.useEffect)(()=>{O(),_(),C()},[]);const O=()=>{try{const e=Zr.getStats();a(e)}catch(e){console.error("Error loading stats:",e)}},_=()=>{try{const e=Zr.getAvailableBackups();o(e)}catch(e){console.error("Error loading backups:",e)}},C=async()=>{try{const t=["users","customers","agents","staff","trips","rollingRecords"],n={};for(const r of t)try{const e=await Zr.get(r,[]);n[r]=e.length}catch(e){console.warn("Could not load ".concat(r,":"),e),n[r]=0}k(n)}catch(e){console.error("Error loading data overview:",e)}},E=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]};return(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Data Management"}),(0,p.jsx)("p",{className:"text-gray-600",children:"System administration, database monitoring, and security management"})]}),(0,p.jsxs)(Je,{className:"border-green-200 bg-green-50",children:[(0,p.jsx)(ga,{className:"w-4 h-4 text-green-600"}),(0,p.jsxs)(Qe,{className:"text-green-800",children:[(0,p.jsx)("strong",{children:"Data Protection Active:"})," Your keyed-in data is automatically preserved across system refreshes and upgrades. The system will never clear your data without explicit admin confirmation."]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(FR,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Current Data Overview"})]}),(0,p.jsx)(Ke,{children:"Overview of your stored data in Supabase"})]}),(0,p.jsxs)($e,{children:[(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(S).map(e=>{let[t,n]=e;return(0,p.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n}),(0,p.jsx)("div",{className:"text-xs text-gray-600 capitalize",children:t})]},t)})}),(0,p.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,p.jsxs)("p",{className:"text-sm text-gray-600",children:["Total records: ",Object.values(S).reduce((e,t)=>e+t,0)]}),(0,p.jsxs)(Oe,{onClick:C,size:"sm",variant:"outline",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})]}),(0,p.jsxs)(Jh,{defaultValue:"database",className:"w-full",children:[(0,p.jsxs)(Qh,{className:"grid w-full grid-cols-2",children:[(0,p.jsxs)(Zh,{value:"database",className:"flex items-center space-x-2",children:[(0,p.jsx)(da,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Database Management"})]}),(0,p.jsxs)(Zh,{value:"admins",className:"flex items-center space-x-2",children:[(0,p.jsx)(RR,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Admin Accounts"})]})]}),(0,p.jsxs)(ep,{value:"database",className:"space-y-6 mt-6",children:[(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(wa,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Supabase Database Status"})]}),(0,p.jsx)(Ke,{children:"System operates exclusively with Supabase cloud database"})]}),(0,p.jsxs)($e,{className:"space-y-4",children:[r&&(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-blue-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Database Mode"}),(0,p.jsx)(tt,{variant:"default",className:"bg-blue-600",children:"Supabase Cloud"})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[r.healthy?(0,p.jsx)(pa,{className:"w-4 h-4 text-green-500"}):(0,p.jsx)(la,{className:"w-4 h-4 text-red-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Health Status"}),(0,p.jsx)(tt,{variant:r.healthy?"default":"destructive",children:r.healthy?"Healthy":"Issues"})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(Qp,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Last Check"}),(0,p.jsx)("p",{className:"text-sm",children:r.lastHealthCheck})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(BR,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Backups"}),(0,p.jsxs)("p",{className:"text-sm",children:[r.backupCount," available"]})]})]})]}),(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsxs)(Oe,{onClick:async()=>{l(!0),u("");try{const e=await Zr.isHealthy();u(e?"\u2705 Database connection is healthy":"\u26a0\ufe0f Database connection issues detected"),O()}catch(e){console.error("Health check error:",e);const t=e instanceof Error?e.message:"Unknown error occurred";u("\u274c Health check failed: ".concat(t))}finally{l(!1)}},disabled:s,variant:"default",children:[(0,p.jsx)(wa,{className:"w-4 h-4 mr-2"}),"Check Connection"]}),(0,p.jsxs)(Oe,{onClick:O,disabled:s,variant:"outline",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Refresh Status"]})]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(ga,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Data Backup & Recovery"})]}),(0,p.jsx)(Ke,{children:"Export your data for safekeeping or import from previous backups"})]}),(0,p.jsx)($e,{className:"space-y-4",children:(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(ys,{open:d,onOpenChange:f,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{children:[(0,p.jsx)(Sp,{className:"w-4 h-4 mr-2"}),"Export Data"]})}),(0,p.jsxs)(ws,{className:"max-w-2xl",children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Export All Data"}),(0,p.jsx)(Ss,{children:"This will create a complete backup of all your casino data"})]}),(0,p.jsx)("div",{className:"space-y-4",children:v?(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)(Me,{children:"Export Data (automatically downloaded)"}),(0,p.jsx)(Gp,{value:v,readOnly:!0,rows:10,className:"font-mono text-xs",placeholder:"Export data will appear here..."}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"The export file has been automatically downloaded. You can also copy the data above if needed."})]}):(0,p.jsx)(Oe,{onClick:async()=>{l(!0),u("");try{const e=await Zr.exportAllData();x(e);const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="casino-data-backup-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),u("\u2705 Data exported and downloaded successfully")}catch(e){console.error("Export error:",e),u("\u274c Failed to export data")}finally{l(!1)}},disabled:s,className:"w-full",children:s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Sp,{className:"w-4 h-4 mr-2"}),"Generate & Download Export"]})})})]})]}),(0,p.jsxs)(ys,{open:h,onOpenChange:m,children:[(0,p.jsx)(vs,{asChild:!0,children:(0,p.jsxs)(Oe,{variant:"outline",children:[(0,p.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Import Data"]})}),(0,p.jsxs)(ws,{className:"max-w-2xl",children:[(0,p.jsxs)(js,{children:[(0,p.jsx)(Ns,{children:"Import Data"}),(0,p.jsx)(Ss,{children:"Import data from a previous backup. This will overwrite current data."})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"fileImport",children:"Upload Backup File"}),(0,p.jsx)("input",{id:"fileImport",type:"file",accept:".json",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=new FileReader;r.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;y(n)},r.readAsText(n)},className:"w-full mt-1 p-2 border border-gray-300 rounded-md"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Me,{htmlFor:"importTextarea",children:"Or Paste Backup Data"}),(0,p.jsx)(Gp,{id:"importTextarea",value:g,onChange:e=>y(e.target.value),rows:10,className:"font-mono text-xs",placeholder:"Paste your backup JSON data here..."})]}),(0,p.jsxs)(Je,{children:[(0,p.jsx)(la,{className:"w-4 h-4"}),(0,p.jsxs)(Qe,{children:[(0,p.jsx)("strong",{children:"Warning:"})," Importing data will overwrite all current data. Make sure to export your current data first if you want to keep it."]})]}),(0,p.jsx)(Oe,{onClick:async()=>{if(g.trim()){l(!0),u("");try{await Zr.importAllData(g)?(u("\u2705 Data imported successfully"),y(""),m(!1),_(),C()):u("\u274c Failed to import data - invalid format")}catch(e){console.error("Import error:",e),u("\u274c Failed to import data")}finally{l(!1)}}else u("\u274c Please paste the backup data")},disabled:s||!g.trim(),className:"w-full",children:s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Import Data"]})})]})]})]})]})})]}),(0,p.jsxs)(He,{className:"border-red-200",children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2 text-red-800",children:[(0,p.jsx)(kp,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Fresh Start (Danger Zone)"})]}),(0,p.jsx)(Ke,{children:"Clear all data and start fresh (Admin only - requires confirmation)"})]}),(0,p.jsxs)($e,{className:"space-y-4",children:[(0,p.jsxs)(Je,{className:"border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-4 h-4"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Warning:"})," This action will permanently delete all your data including customers, agents, trips, and records. Only the admin account will remain. This action cannot be undone."]})]}),(0,p.jsxs)(yl,{open:b,onOpenChange:w,children:[(0,p.jsx)(vl,{asChild:!0,children:(0,p.jsxs)(Oe,{variant:"destructive",children:[(0,p.jsx)(kp,{className:"w-4 h-4 mr-2"}),"Request Fresh Start"]})}),(0,p.jsxs)(wl,{children:[(0,p.jsxs)(jl,{children:[(0,p.jsx)(Sl,{children:"\u26a0\ufe0f Confirm Fresh Start"}),(0,p.jsxs)(kl,{children:["This will permanently delete ALL your data including:",(0,p.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,p.jsx)("li",{children:"All customer records and rolling data"}),(0,p.jsx)("li",{children:"All agent information and assignments"}),(0,p.jsx)("li",{children:"All trips and project data"}),(0,p.jsx)("li",{children:"All staff accounts and check-in records"}),(0,p.jsx)("li",{children:"All financial records and reports"})]}),(0,p.jsx)("br",{}),"Only the admin account will be recreated with default credentials.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),"Type ",(0,p.jsx)("strong",{children:'"FRESH START"'})," below to confirm:"]})]}),(0,p.jsx)("div",{className:"py-4",children:(0,p.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Type FRESH START to confirm",className:"w-full p-2 border border-gray-300 rounded-md"})}),(0,p.jsxs)(Nl,{children:[(0,p.jsx)(_l,{onClick:()=>N(""),children:"Cancel"}),(0,p.jsx)(Ol,{onClick:async()=>{if("fresh start"===j.toLowerCase()){l(!0),u("");try{console.log("\ud83e\uddf9 Admin requested fresh start - clearing all data..."),await Zr.clearAllDataForFreshStart(),u("\u2705 Fresh start completed successfully - all data cleared and admin account recreated"),w(!1),N(""),C(),O()}catch(e){console.error("Fresh start error:",e);const t=e instanceof Error?e.message:"Unknown error occurred";u("\u274c Fresh start failed: ".concat(t))}finally{l(!1)}}else u('\u274c Please type "FRESH START" exactly to confirm')},disabled:"fresh start"!==j.toLowerCase()||s,className:"bg-red-600 hover:bg-red-700",children:s?"Clearing Data...":"Confirm Fresh Start"})]})]})]})]})]}),(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsxs)(Ve,{className:"flex items-center space-x-2",children:[(0,p.jsx)(BR,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Automatic Backups"})]}),(0,p.jsx)(Ke,{children:"Recent automatic backups created by the system"})]}),(0,p.jsx)($e,{children:0===i.length?(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(BR,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,p.jsx)("p",{children:"No automatic backups found"}),(0,p.jsx)("p",{className:"text-sm",children:"Backups are created automatically when data is saved"})]}):(0,p.jsxs)("div",{className:"space-y-2",children:[i.slice(0,10).map((e,t)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(BR,{className:"w-4 h-4 text-gray-400"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:e.key}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.timestamp).toLocaleString()," \u2022 ",E(e.size)]})]})]}),(0,p.jsxs)(Oe,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{l(!0),u("");try{await Zr.restoreFromBackup(e,t)?(u("\u2705 Restored ".concat(e," from backup ").concat(new Date(t).toLocaleString())),C()):u("\u274c Failed to restore ".concat(e," from backup"))}catch(n){console.error("Restore error:",n),u("\u274c Failed to restore from backup")}finally{l(!1)}})(e.key,e.timestamp),disabled:s,children:[(0,p.jsx)(UR,{className:"w-3 h-3 mr-1"}),"Restore"]})]},"".concat(e.key,"-").concat(e.timestamp))),i.length>10&&(0,p.jsxs)("p",{className:"text-xs text-gray-500 text-center pt-2",children:["Showing 10 most recent backups out of ",i.length," total"]})]})})]}),c&&(0,p.jsx)(Je,{className:c.includes("\u2705")?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:(0,p.jsx)(Qe,{children:c})}),s&&(0,p.jsx)(He,{children:(0,p.jsxs)($e,{className:"pt-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(fa,{className:"w-4 h-4 animate-spin"}),(0,p.jsx)("span",{className:"text-sm",children:"Processing..."})]}),(0,p.jsx)(MR,{value:void 0,className:"mt-2"})]})})]}),(0,p.jsx)(ep,{value:"admins",className:"mt-6",children:(0,p.jsx)(zR,{user:n,showError:()=>{},clearError:()=>{}})})]})]})}const HR=sa("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),qR=sa("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const VR=function(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)("dashboard"),[i,o]=(0,t.useState)(!0),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!0),[d,f]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)("");(0,t.useEffect)(()=>{v()},[]);const v=async()=>{u(!0),l(""),y("");try{console.log("\ud83d\ude80 Initializing Casino Management System with data preservation...");const t=await Zr.testConnection();if(f(t),!t.success)throw o(!1),new Error("Database connection failed: ".concat(t.message,". ").concat(t.details||""));const r=await Zr.isHealthy();if(o(r),!r)throw new Error("Supabase database health check failed. The server may be temporarily unavailable.");console.log("\ud83d\udee1\ufe0f Performing safe database initialization (preserving existing data)..."),await Zr.initializeSampleDataIfNeeded();try{const e=(await Zr.get("users",[])).length,t=(await Zr.get("customers",[])).length,n=(await Zr.get("agents",[])).length,r=(await Zr.get("trips",[])).length;e+t+n+r>1&&y("\u2705 Data preserved: ".concat(e," users, ").concat(t," customers, ").concat(n," agents, ").concat(r," trips"))}catch(e){console.warn("Could not get data counts:",e)}const i=localStorage.getItem("casinoUser");if(i)try{const e=JSON.parse(i);n(e),console.log("\ud83d\udc64 Restored user session:",e.username),"staff"===e.role?a("checkinout"):a("dashboard")}catch(e){console.error("Error parsing saved user session:",e),localStorage.removeItem("casinoUser")}console.log("\u2705 Application initialization completed with data preservation")}catch(e){console.error("\u274c Application initialization failed:",e),l("Initialization failed: ".concat(e instanceof Error?e.message:"Unknown error occurred")),o(!1)}finally{u(!1)}},x=async e=>{try{if(!await Zr.isHealthy())throw new Error("Database is not available. Please try again later.");n(e),localStorage.setItem("casinoUser",JSON.stringify(e)),"staff"===e.role?a("checkinout"):a("dashboard"),l(""),console.log("\ud83d\udc64 User logged in:",e.username,"Role:",e.role)}catch(t){console.error("\u274c Login error:",t),l("Login failed: ".concat(t instanceof Error?t.message:"Unknown error occurred"))}},b=async()=>{try{u(!0);const e=await Zr.testConnection();f(e);const t=await Zr.isHealthy();o(t),t?(l(""),console.log("\u2705 Database health check passed")):(l("Database connection issues detected. Some features may not work properly."),console.warn("\u26a0\ufe0f Database health check failed"))}catch(e){console.error("\u274c Database health check error:",e),o(!1),l("Database error: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{u(!1)}};if(c)return(0,p.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,p.jsxs)("div",{className:"text-center max-w-md",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,p.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Initializing Casino Management System"}),(0,p.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Connecting to Supabase database with data preservation..."}),d&&(0,p.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-left",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,p.jsx)(da,{className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Connection Status"})]}),(0,p.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,p.jsxs)("div",{children:["Status: ",d.success?"\u2705 Connected":"\u274c Failed"]}),(0,p.jsxs)("div",{children:["Message: ",d.message]}),d.details&&(0,p.jsxs)("div",{children:["Details: ",d.details]})]})]}),(0,p.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,p.jsx)(ga,{className:"w-4 h-4 text-green-600"}),(0,p.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Data Protection"})]}),(0,p.jsx)("p",{className:"text-xs text-green-700",children:"Your existing data is safe. The system will not clear any entered information during initialization."})]})]})});if(!e)return(0,p.jsxs)("div",{children:[s&&(0,p.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,p.jsxs)("div",{className:"flex",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)(la,{className:"h-5 w-5 text-red-400"})}),(0,p.jsxs)("div",{className:"ml-3",children:[(0,p.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Database Connection Error"}),(0,p.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,p.jsx)("p",{children:s})}),(0,p.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,p.jsxs)(Oe,{onClick:b,size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Retry Connection"]}),(0,p.jsxs)(Oe,{onClick:()=>m(!h),size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(ua,{className:"w-4 h-4 mr-2"}),h?"Hide":"Show"," Debug Info"]})]}),h&&d&&(0,p.jsx)("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs",children:(0,p.jsx)("pre",{className:"text-red-800",children:JSON.stringify(d,null,2)})})]})]})}),(0,p.jsx)(ya,{onLogin:x})]});const w="admin"===e.role,j="agent"===e.role,N="staff"===e.role;return(0,p.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,p.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,p.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,p.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Casino Management System"}),(0,p.jsx)(tt,{variant:"secondary",className:"text-xs",children:e.role.toUpperCase()}),(0,p.jsxs)(tt,{variant:"default",className:"text-xs flex items-center gap-1",children:[(0,p.jsx)(da,{className:"w-3 h-3"}),"Supabase"]}),(0,p.jsx)(tt,{variant:"outline",className:"text-xs flex items-center gap-1 ".concat(i?"border-green-200 text-green-700":"border-red-200 text-red-700"),children:i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(pa,{className:"w-3 h-3"}),"Connected"]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(la,{className:"w-3 h-3"}),"Issues"]})}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs flex items-center gap-1 border-blue-200 text-blue-700",children:[(0,p.jsx)(ga,{className:"w-3 h-3"}),"Data Protected"]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[!i&&(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:b,className:"text-xs",children:[(0,p.jsx)(HR,{className:"w-4 h-4 mr-2"}),"Reconnect"]}),(0,p.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",e.username]}),(0,p.jsxs)(Oe,{variant:"outline",size:"sm",onClick:()=>{n(null),localStorage.removeItem("casinoUser"),a("dashboard"),l(""),console.log("\ud83d\udc64 User logged out")},children:[(0,p.jsx)(Jp,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,p.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&(0,p.jsxs)(Je,{className:"mb-6 border-red-200 bg-red-50",children:[(0,p.jsx)(la,{className:"w-5 h-5 text-red-600"}),(0,p.jsxs)(Qe,{className:"text-red-800",children:[(0,p.jsx)("strong",{children:"Database Error:"})," ",s,(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsxs)(Oe,{onClick:b,size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,p.jsx)(fa,{className:"w-4 h-4 mr-2"}),"Try Again"]})})]})]}),g&&(0,p.jsxs)(Je,{className:"mb-6 border-green-200 bg-green-50",children:[(0,p.jsx)(ga,{className:"w-5 h-5 text-green-600"}),(0,p.jsxs)(Qe,{className:"text-green-800",children:[(0,p.jsx)("strong",{children:"Data Preserved:"})," ",g,(0,p.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Your keyed-in data is safe and will persist across system refreshes and upgrades."})]})]}),i&&(0,p.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(da,{className:"w-5 h-5 text-green-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Supabase Database Connected with Data Protection"}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:["All data is securely stored and synced with cloud database. Your entered data is preserved across refreshes.",(null===d||void 0===d?void 0:d.details)&&" ".concat(d.details)]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)(tt,{variant:"outline",className:"text-xs bg-green-100 text-green-700",children:[(0,p.jsx)(pa,{className:"w-3 h-3 mr-1"}),"Live"]}),(0,p.jsxs)(tt,{variant:"outline",className:"text-xs bg-blue-100 text-blue-700",children:[(0,p.jsx)(ga,{className:"w-3 h-3 mr-1"}),"Protected"]})]})]})}),N&&(0,p.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(Qp,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Welcome to the Staff Portal"}),(0,p.jsx)("p",{className:"text-xs text-blue-600",children:"You have access to customer information, agent details, check-in/out functions, and reports."})]})]})}),(0,p.jsxs)("div",{className:"flex flex-wrap space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[(w||j)&&(0,p.jsxs)("button",{onClick:()=>a("dashboard"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("dashboard"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(om,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),N&&(0,p.jsxs)("button",{onClick:()=>a("checkinout"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("checkinout"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(Qp,{className:"w-4 h-4 mr-2"}),"Check-in/Out"]}),(w||j||N)&&(0,p.jsxs)("button",{onClick:()=>a("customers"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("customers"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(ma,{className:"w-4 h-4 mr-2"}),"Customers ",N&&(0,p.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(View)"})]}),(w||N)&&(0,p.jsxs)("button",{onClick:()=>a("agents"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("agents"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(ka,{className:"w-4 h-4 mr-2"}),"Agents ",N&&(0,p.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(View)"})]}),w&&(0,p.jsxs)("button",{onClick:()=>a("staff"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("staff"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(sm,{className:"w-4 h-4 mr-2"}),"Staff"]}),(w||j)&&(0,p.jsxs)("button",{onClick:()=>a("projects"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("projects"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(Oa,{className:"w-4 h-4 mr-2"}),"Projects"]}),w&&(0,p.jsxs)("button",{onClick:()=>a("data"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("data"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(qR,{className:"w-4 h-4 mr-2"}),"Data"]}),(0,p.jsxs)("button",{onClick:()=>a("reports"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("reports"===r?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,p.jsx)(om,{className:"w-4 h-4 mr-2"}),"Reports"]})]}),"dashboard"===r&&(w||j)&&(0,p.jsx)(_a,{user:e}),"customers"===r&&(w||j||N)&&(0,p.jsx)(qp,{user:e,showError:()=>{},clearError:()=>{}}),"agents"===r&&(w||N)&&(0,p.jsx)(Kp,{user:e,showError:()=>{},clearError:()=>{}}),"staff"===r&&w&&(0,p.jsx)(rm,{user:e,showError:()=>{},clearError:()=>{}}),"checkinout"===r&&N&&(0,p.jsx)(xm,{user:e,showError:()=>{},clearError:()=>{}}),"projects"===r&&(w||j)&&(0,p.jsx)(Mm,{user:e,showError:()=>{},clearError:()=>{}}),"data"===r&&w&&(0,p.jsx)(WR,{user:e}),"reports"===r&&(0,p.jsx)(mR,{user:e})]})]})};a.createRoot(document.getElementById("root")).render((0,p.jsx)(t.StrictMode,{children:(0,p.jsx)(VR,{})}))})()})();
//# sourceMappingURL=main.4a99b7bc.js.map