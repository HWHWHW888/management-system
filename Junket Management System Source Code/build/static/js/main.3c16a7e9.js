/*! For license information please see main.3c16a7e9.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},427:(e,t,n)=>{"use strict";n.d(t,{tokenManager:()=>i});var r=n(7647);class a{constructor(){this.token=void 0,this.refreshPromise=null,this.initializeToken()}static getInstance(){return a.instance||(a.instance=new a),a.instance}async initializeToken(){await this.getToken()}async getToken(){if(console.log("\ud83d\udd0d TokenManager: Getting token..."),this.token)return console.log("\ud83d\udd11 TokenManager: Returning cached token"),this.token;const e=localStorage.getItem("casinoUser");if(console.log("\ud83d\udd0d TokenManager: localStorage data:",e),e)try{const t=JSON.parse(e);console.log("\ud83d\udd0d TokenManager: Parsed user data:",t),console.log("\ud83d\udd0d TokenManager: userData keys:",Object.keys(t));const n=["token","access_token","jwt","authToken"];for(const e of n)if(t[e])return this.token=t[e],console.log("\ud83d\udd11 TokenManager: Found token in localStorage field '".concat(e,"':"),t[e].substring(0,20)+"..."),t[e];console.log("\u274c TokenManager: No token field found in localStorage data"),console.log("\u274c TokenManager: Available fields:",Object.keys(t))}catch(a){console.error("Error parsing stored user data:",a)}else console.log("\u274c TokenManager: No casinoUser in localStorage");const t=localStorage.getItem("token")||localStorage.getItem("authToken")||localStorage.getItem("jwt");if(t)return this.token=t,console.log("\ud83d\udd11 TokenManager: Found direct token in localStorage"),t;const{data:{session:n}}=await r.N.auth.getSession();if(null!==n&&void 0!==n&&n.access_token)return this.token=n.access_token,console.log("\ud83d\udd11 TokenManager: Found token in Supabase session"),n.access_token;console.log("\u274c TokenManager: No token found anywhere")}setToken(e){this.token=e,console.log("\ud83d\udd11 TokenManager: Token set:",e?"YES":"NO"),console.log("\ud83d\udd11 TokenManager: Token cached in memory")}clearToken(){this.token=void 0,console.log("\ud83d\uddd1\ufe0f TokenManager: Token cleared");const e=localStorage.getItem("casinoUser");if(e)try{const t=JSON.parse(e);delete t.token,localStorage.setItem("casinoUser",JSON.stringify(t))}catch(t){console.warn("TokenManager: Failed to clear token from localStorage")}}isTokenValid(){return void 0!==this.token&&null!==this.token}}a.instance=void 0;const i=a.getInstance()},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+r+"?",r,o,s,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),i=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),i=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(8829)),i=r(n(5736));class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let s;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(s="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new i.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}t.default=o},1268:(e,t,n)=>{var r=n(5428),a=n(7574),i=n(6832),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1732:(e,t,n)=>{"use strict";n.d(t,{apiClient:()=>i});var r=n(2555),a=n(427);const i=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:3001/api";this.baseUrl=void 0,this.token=null,this.baseUrl=e,this.initializeToken()}async initializeToken(){console.log("\ud83d\udd27 ApiClient: Constructor completed, token will be loaded on first request")}setToken(e){this.token=e,a.tokenManager.setToken(e),console.log("\ud83d\udd11 ApiClient: Token set explicitly:",e?"YES":"NO")}async refreshToken(){console.log("\ud83d\udd04 ApiClient: Refreshing token...");const e=await a.tokenManager.getToken();return e?(this.token=e,console.log("\ud83d\udd11 ApiClient: Token refreshed successfully"),!0):(console.log("\u274c ApiClient: Token refresh failed - no token available"),!1)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i="".concat(this.baseUrl).concat(e),o=(0,r.A)({"Content-Type":"application/json"},t.headers);let s=n||this.token;if(s?console.log("\ud83d\udd11 ApiClient: Using existing token (custom or instance)"):(console.log("\ud83d\udd0d ApiClient: No token in instance, checking TokenManager..."),console.log("\ud83d\udd0d ApiClient: Current instance token:",this.token),s=await a.tokenManager.getToken()||null,s?(this.token=s,console.log("\ud83d\udd11 ApiClient: Got token from TokenManager and cached it")):console.log("\u274c ApiClient: TokenManager returned no token")),!s)return console.error("\u274c ApiClient: No authentication token available from any source"),console.log("\ud83d\udd0d Debug info:",{customToken:!!n,instanceToken:!!this.token,localStorage:!!localStorage.getItem("casinoUser")}),{success:!1,error:"Authentication required - please login first"};o.Authorization="Bearer ".concat(s),console.log("\ud83d\udd11 Making request to ".concat(e," with token:"),s.substring(0,20)+"...");try{const e=await fetch(i,(0,r.A)((0,r.A)({},t),{},{headers:o})),n=await e.json();if(!e.ok){if(401===e.status){console.warn("\ud83d\udd04 Token expired, attempting refresh...");if(await this.refreshToken()&&this.token!==s){o.Authorization="Bearer ".concat(this.token);const e=await fetch(i,(0,r.A)((0,r.A)({},t),{},{headers:o})),n=await e.json();if(e.ok)return n}}throw new Error(n.message||"HTTP error! status: ".concat(e.status))}return n}catch(l){return console.error("API request failed: ".concat(e),l),{success:!1,error:l instanceof Error?l.message:"Unknown error occurred"}}}async login(e,t){const n="".concat(this.baseUrl,"/auth/login");try{console.log("\ud83d\udd10 ApiClient: Making login request to:",n),console.log("\ud83d\udd10 ApiClient: Login data:",{username:e,password:"***"});const r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});console.log("\ud83d\udd10 ApiClient: Response status:",r.status);const a=await r.json();if(console.log("\ud83d\udd10 ApiClient: Response data:",a),!r.ok)throw new Error(a.message||"HTTP error! status: ".concat(r.status));return{success:!0,data:a}}catch(r){return console.error("Login request failed:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async getUsers(){return this.request("/users")}async createUser(e){return this.request("/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request("/users/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}async getCustomers(e){return this.request("/customers",{},e)}async createCustomer(e,t){return this.request("/customers",{method:"POST",body:JSON.stringify(e)},t)}async updateCustomer(e,t,n){return this.request("/customers/".concat(e),{method:"PUT",body:JSON.stringify(t)},n)}async deleteCustomer(e,t){return this.request("/customers/".concat(e),{method:"DELETE"},t)}async getAgents(e){return this.request("/agents",{},e)}async createAgent(e,t){return this.request("/agents",{method:"POST",body:JSON.stringify(e)},t)}async updateAgent(e,t,n){return this.request("/agents/".concat(e),{method:"PUT",body:JSON.stringify(t)},n)}async deleteAgent(e,t){return this.request("/agents/".concat(e),{method:"DELETE"},t)}async getTrips(){return this.request("/trips")}async createTrip(e){return this.request("/trips",{method:"POST",body:JSON.stringify(e)})}async updateTrip(e,t){return this.request("/trips/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteTrip(e){return this.request("/trips/".concat(e),{method:"DELETE"})}async getTransactions(){return this.request("/transactions")}async createTransaction(e){return this.request("/transactions",{method:"POST",body:JSON.stringify(e)})}async updateTransaction(e,t){return this.request("/transactions/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteTransaction(e){return this.request("/transactions/".concat(e),{method:"DELETE"})}async getReports(){return this.request("/reports")}async getDashboardStats(){return this.request("/reports/dashboard")}async getCustomerReport(e){return this.request("/reports/customer/".concat(e))}async getAgentReport(e){return this.request("/reports/agent/".concat(e))}async getTripReport(e){return this.request("/reports/trip/".concat(e))}async getCustomerDetails(e){return this.request("/customers/".concat(e,"/details"))}async createCustomerDetails(e,t){return this.request("/customers/".concat(e,"/details"),{method:"POST",body:JSON.stringify(t)})}async updateCustomerDetails(e,t){return this.request("/customers/".concat(e,"/details"),{method:"PUT",body:JSON.stringify(t)})}async deleteCustomerDetails(e){return this.request("/customers/".concat(e,"/details"),{method:"DELETE"})}async uploadCustomerAttachments(e,t){return this.request("/customers/".concat(e,"/attachments"),{method:"POST",body:JSON.stringify({attachments:t})})}async getCustomerAttachments(e){return this.request("/customers/".concat(e,"/attachments"))}async deleteCustomerAttachment(e,t){return this.request("/customers/".concat(e,"/attachments/").concat(t),{method:"DELETE"})}async getStaffs(){return this.request("/staffs")}async getStaff(e){return this.request("/staffs/".concat(e))}async createStaff(e){return this.request("/staffs",{method:"POST",body:JSON.stringify(e)})}async updateStaff(e,t){return this.request("/staffs/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteStaff(e){return this.request("/staffs/".concat(e),{method:"DELETE"})}async staffCheckIn(e,t){return this.request("/staffs/".concat(e,"/check-in"),{method:"POST",body:JSON.stringify(t)})}async staffCheckOut(e,t){return this.request("/staffs/".concat(e,"/check-out"),{method:"POST",body:JSON.stringify(t)})}async getStaffShifts(e,t){const n=t?new URLSearchParams(t).toString():"";return this.request("/staffs/".concat(e,"/shifts").concat(n?"?".concat(n):""))}async getStaffRollingRecords(e,t){const n=t?new URLSearchParams(t).toString():"";return this.request("/staffs/".concat(e,"/rolling-records").concat(n?"?".concat(n):""))}}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),a(e,function(e,a,i){r(n,a,t(e,a,i))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),i=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),i=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=o(s+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),i=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(i));var f=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>s})},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case k:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,Se=null;function ke(e){if(e=xa(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ae(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Oe(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Ce(){}var Ee=!1;function Pe(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return _e(e,t,n)}finally{Ee=!1,(null!==Ne||null!==Se)&&(Ce(),Oe())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,a,i,o,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,St,kt,At=!1,Ot=[],_t=null,Ct=null,Et=null,Pt=new Map,Tt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){At=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Et&&Ft(Et)&&(Et=null),Pt.forEach(zt),Tt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==Ct&&Ut(Ct,e),null!==Et&&Ut(Et,e),Pt.forEach(t),Tt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=xt,i=qt.transition;qt.transition=null;try{xt=1,$t(e,t,n,r)}finally{xt=a,qt.transition=i}}function Kt(e,t,n,r){var a=xt,i=qt.transition;qt.transition=null;try{xt=4,$t(e,t,n,r)}finally{xt=a,qt.transition=i}}function $t(e,t,n,r){if(Ht){var a=Yt(e,t,n,r);if(null===a)Hr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=Rt(_t,e,t,n,r,a),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,a),!0;case"mouseover":return Et=Rt(Et,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Tt.set(i,Rt(Tt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=va(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return Sn}var An=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=an(An),_n=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),En=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Pn),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Gn(e){Fr(e,0)}function Yn(e){if($(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),$n=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn($n)){var t=[];Vn(t,$n,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function kr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Ar=kr("animationend"),Or=kr("animationiteration"),_r=kr("animationstart"),Cr=kr("transitionend"),Er=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Er.set(e,t),l(t,[e])}for(var Ir=0;Ir<Pr.length;Ir++){var Dr=Pr[Ir];Tr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Tr(Ar,"onAnimationEnd"),Tr(Or,"onAnimationIteration"),Tr(_r,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=va(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=i,a=we(n),o=[];e:{var s=Er.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ar:case Or:case _r:l=yn;break;case Cr:l=En;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Te(p,h))&&u.push(Vr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ba(l),f=null==c?s:ba(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,va(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,m=h;m;m=$r(m))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Hn(s))if(Jn)g=or;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(o,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ba(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Wn&&(v=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,Wn=!0)),0<(y=Kr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Qt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Fr(o,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Te(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Te(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Te(n,i))&&o.unshift(Vr(n,l,s)):a||null!=(l=Te(n,i))&&o.push(Vr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var ja=[],Na=-1;function Sa(e){return{current:e}}function ka(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Aa(e,t){Na++,ja[Na]=e.current,e.current=t}var Oa={},_a=Sa(Oa),Ca=Sa(!1),Ea=Oa;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){ka(Ca),ka(_a)}function Da(e,t,n){if(_a.current!==Oa)throw Error(i(168));Aa(_a,t),Aa(Ca,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,q(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Ea=_a.current,Aa(_a,e),Aa(Ca,Ca.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ma(e,t,Ea),r.__reactInternalMemoizedMergedChildContext=e,ka(Ca),ka(_a),Aa(_a,e)):ka(Ca),Aa(Ca,n)}var Fa=null,za=!1,Ba=!1;function Ua(e){null===Fa?Fa=[e]:Fa.push(e)}function Wa(){if(!Ba&&null!==Fa){Ba=!0;var e=0,t=xt;try{var n=Fa;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),$e(Ze,Wa),a}finally{xt=t,Ba=!1}}return null}var qa=[],Ha=0,Va=null,Ka=0,$a=[],Ga=0,Ya=null,Xa=1,Ja="";function Qa(e,t){qa[Ha++]=Ka,qa[Ha++]=Va,Va=e,Ka=t}function Za(e,t,n){$a[Ga++]=Xa,$a[Ga++]=Ja,$a[Ga++]=Ya,Ya=e;var r=Xa;e=Ja;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Ja=i+e}else Xa=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ti(e){for(;e===Va;)Va=qa[--Ha],qa[Ha]=null,Ka=qa[--Ha],qa[Ha]=null;for(;e===Ya;)Ya=$a[--Ga],$a[Ga]=null,Ja=$a[--Ga],$a[Ga]=null,Xa=$a[--Ga],$a[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&vi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case T:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(a,d),ai&&Qa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Qa(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Qa(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(a,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(a,m),ai&&Qa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ai&&Qa(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ai&&Qa(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&vi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===N?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return s(r);case j:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(o,r.mode,l)).return=r,r=i}return s(r);case T:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),ji=Sa(null),Ni=null,Si=null,ki=null;function Ai(){ki=Si=Ni=null}function Oi(e){var t=ji.current;ka(ji),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Ni=e,ki=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ni)throw Error(i(308));Si=e,Ni.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Pi=null;function Ti(e){null===Pi?Pi=[e]:Pi.push(e)}function Ii(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ti(t)):(n.next=a.next,a.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Di(e,n)}return null===(a=r.interleaved)?(t.next=t,Ti(r)):(t.next=a.next,a.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var a=e.updateQueue;Mi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Hi={},Vi=Sa(Hi),Ki=Sa(Hi),$i=Sa(Hi);function Gi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Aa($i,t),Aa(Ki,e),Aa(Vi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Vi),Aa(Vi,t)}function Xi(){ka(Vi),ka(Ki),ka($i)}function Ji(e){Gi($i.current);var t=Gi(Vi.current),n=le(t,e.type);t!==n&&(Aa(Ki,e),Aa(Vi,n))}function Qi(e){Ki.current===e&&(ka(Vi),ka(Ki))}var Zi=Sa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=Qo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function So(e,t){var n=oo,r=xo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Ro(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,Ao.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&io)||ko(n,t,a)}return a}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Co(e)}function Oo(e,t,n){return n(function(){_o(t)&&Co(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Co(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Eo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return xo().memoizedState}function Io(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=xo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=Po(t,n,i,r))}oo.flags|=e,a.memoizedState=Po(1|t,n,i,r)}function Mo(e,t){return Io(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,zo.bind(null,t,e),n)}function Uo(){}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Vo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function Ko(){return xo().memoizedState}function $o(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function Go(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ti(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ii(e,t,a,r))&&(nc(n,e,r,a=ec()),Jo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Ei,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ei,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Eo,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Eo(!1),t=e[0];return e=Vo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&io)||ko(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Cl.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ei,useCallback:Wo,useContext:Ei,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:wo,useRef:To,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(xo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ei,useCallback:Wo,useContext:Ei,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:jo,useRef:To,useState:function(){return jo(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[jo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,a))&&(nc(t,e,a,r),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,a))&&(nc(t,e,a,r),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zi(e,a,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=Oa,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(a=Ta(t)?Ea:_a.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Oa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ei(i):(i=Ta(t)?Ea:_a.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Wi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ds(0,t)},n}function ps(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var i=t.ref;return Ci(t,a),r=go(e,t,n,r,i,a),n=yo(),null===e||xs?(ai&&n&&ei(t),t.flags|=1,bs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function js(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ns(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Ic(i,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return As(e,t,n,r,a)}function Ss(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Aa(Il,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Aa(Il,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Aa(Il,Tl),Tl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Aa(Il,Tl),Tl|=r;return bs(e,t,a,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,a){var i=Ta(n)?Ea:_a.current;return i=Pa(t,i),Ci(t,a),n=go(e,t,n,r,i,a),r=yo(),null===e||xs?(ai&&r&&ei(t),t.flags|=1,bs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Os(e,t,n,r,a){if(Ta(n)){var i=!0;Ra(t)}else i=!1;if(Ci(t,a),null===t.stateNode)qs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ei(c):c=Pa(t,c=Ta(n)?Ea:_a.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Mi=!1;var h=t.memoizedState;o.state=h,Wi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Ca.current||Mi?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mi||is(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ei(l):l=Pa(t,l=Ta(n)?Ea:_a.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Mi=!1,h=t.memoizedState,o.state=h,Wi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Ca.current||Mi?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mi||is(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,i,a)}function _s(e,t,n,r,a,i){ks(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Hs(e,t,i);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,s,i)):bs(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Yi(e,t.containerInfo)}function Es(e,t,n,r,a){return fi(),pi(a),t.flags|=256,bs(e,t,n,r),t.child}var Ps,Ts,Is,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Aa(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Cl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Di(e,a),nc(r,e,a,-1))}return mc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&($a[Ga++]=Xa,$a[Ga++]=Ja,$a[Ga++]=Ya,Xa=e.id,Ja=e.overflow,Ya=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ic(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ic(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ws(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Aa(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ta(t.type)&&Ia(),Ks(t),null;case 3:return r=t.stateNode,Xi(),ka(Ca),ka(_a),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ts(e,t),Ks(t),null;case 5:Qi(t);var a=Gi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=Gi(Vi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)zr(Mr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":X(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)zr(Mr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":X(e,r),a=Y(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi($i.current),Gi(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ks(t),null;case 13:if(ka(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Xi(),Ts(e,t),null===e&&Wr(t.stateNode.containerInfo),Ks(t),null;case 10:return Oi(t.type._context),Ks(t),null;case 19:if(ka(Zi),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Vs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Vs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Aa(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Wl&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Je()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zi.current,Aa(Zi,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gs(e,t){switch(ti(t),t.tag){case 1:return Ta(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ka(Ca),ka(_a),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(ka(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Zi),null;case 4:return Xi(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ts=function(){},Is=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gi(Vi.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Qs=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=l)&&!c)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Qs=l):jl(a);for(;null!==i;)Qs=i,xl(i,t,n),i=i.sibling;Qs=a,Ys=s,Xs=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function jl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,Ol=b.ReactCurrentBatchConfig,_l=0,Cl=null,El=null,Pl=0,Tl=0,Il=Sa(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,zl=null,Bl=null,Ul=0,Wl=1/0,ql=null,Hl=!1,Vl=null,Kl=null,$l=!1,Gl=null,Yl=0,Xl=0,Jl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&_l)?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(i(185));yt(e,n,r),0!==(2&_l)&&e===Cl||(e===Cl&&(0===(2&_l)&&(Ll|=n),4===Dl&&sc(e,Pl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Wl=Je()+500,za&&Wa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Cl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){za=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),oa(function(){0===(6&_l)&&Wa()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ql=-1,Zl=0,0!==(6&_l))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=_l;_l|=2;var o=pc();for(Cl===e&&Pl===t||(ql=null,Wl=Je()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ai(),kl.current=o,_l=a,null!==El?t=0:(Cl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Bl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bl,ql),t);break}wc(e,Bl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Bl,ql),r);break}wc(e,Bl,ql);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(i(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,ql),rc(e,Je()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Wl=Je()+500,za&&Wa())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&_l)&&jc();var t=_l;_l|=1;var n=Ol.transition,r=xt;try{if(Ol.transition=null,xt=1,e)return e()}finally{xt=r,Ol.transition=n,0===(6&(_l=t))&&Wa()}}function dc(){Tl=Il.current,ka(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==El)for(n=El.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Xi(),ka(Ca),ka(_a),no();break;case 5:Qi(r);break;case 4:Xi();break;case 13:case 19:ka(Zi);break;case 10:Oi(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,El=e=Ic(e.current,null),Pl=Tl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Bl=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Pi=null}return e}function fc(e,t){for(;;){var n=El;try{if(Ai(),ro.current=Qo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,Al.current=null,null===n||null===n.return){Dl=1,Ml=t,El=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,fs(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,El===n&&null!==n&&(El=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Qo,null===e?Qo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Cl,Pl)}function gc(e,t){var n=_l;_l|=2;var r=pc();for(Cl===e&&Pl===t||(ql=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Ai(),_l=n,kl.current=r,null!==El)throw Error(i(261));return Cl=null,Pl=0,Dl}function yc(){for(;null!==El;)xc(El)}function vc(){for(;null!==El&&!Ye();)xc(El)}function xc(e){var t=Nl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):El=t,Al.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Tl)))return void(El=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(El=n);if(null===e)return Dl=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,a=Ol.transition;try{Ol.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Gl);if(0!==(6&_l))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Cl&&(El=Cl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Cc(tt,function(){return jc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ol.transition,Ol.transition=null;var s=xt;xt=1;var l=_l;_l|=4,Al.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Xe(),_l=l,xt=s,Ol.transition=o}else e.current=n;if($l&&($l=!1,Gl=e,Yl=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Wa()}(e,t,n,r)}finally{Ol.transition=a,xt=r}return null}function jc(){if(null!==Gl){var e=bt(Yl),t=Ol.transition,n=xt;try{if(Ol.transition=null,xt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&_l))throw Error(i(331));var a=_l;for(_l|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(il(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(_l=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{xt=n,Ol.transition=t}}return!1}function Nc(e,t,n){e=zi(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=zi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-Ul?hc(e,0):Fl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(yt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Cc(e,t){return $e(e,t)}function Ec(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ec(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Mc(n.children,a,o,t);case S:s=8,a|=8;break;case k:return(e=Pc(12,n,t,2|a)).elementType=k,e.lanes=o,e;case C:return(e=Pc(13,n,t,a)).elementType=C,e.lanes=o,e;case E:return(e=Pc(19,n,t,a)).elementType=E,e.lanes=o,e;case I:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case O:s=9;break e;case _:s=11;break e;case P:s=14;break e;case T:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,i,o,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Uc(e){if(!e)return Oa;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Ma(e,n,t)}return t}function Wc(e,t,n,r,a,i,o,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=Uc(null),n=e.current,(i=Fi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function qc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(a,t,o))&&(nc(e,a,o,i),Bi(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),fi();break;case 5:Ji(t);break;case 1:Ta(t.type)&&Ra(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Aa(ji,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Aa(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Aa(Zi,1&Zi.current),null!==(e=Hs(e,t,n))?e.sibling:null);Aa(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Aa(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=Pa(t,_a.current);Ci(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=_s(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),bs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),a){case 0:t=As(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,As(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Os(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Cs(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Li(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Es(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Es(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Aa(ji,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ca.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_i(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_i(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ci(t,n),r=r(a=Ei(a)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),js(e,t,r,a=ns(r.type,a),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),qs(e,t),t.tag=1,Ta(r)?(e=!0,Ra(t)):e=!1,Ci(t,n),os(t,r,a),ls(t,r,a,n),_s(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hc(o);i.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pa]=o.current,Wr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(o)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&_l)&&(Wl=Je()+500,Wa()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));$(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ba,wa,Ae,Oe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),i=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&a(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),i=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),i=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),i=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(o)var x=c?o(v,y,p,t,e,l):o(y,v,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),i=n(2597),o=n(914);e.exports=function(e){return i(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),i=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function x(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function b(){var e=a();if(x(e))return w(e);h=setTimeout(b,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),n=x(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(b,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(b,t),v(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(a())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:N.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+_(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),C(o,t,a,"",function(e){return e})):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(s=e[c],c);l+=C(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,a,u=i+_(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},I={transition:null},D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),i=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),i=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),o=r.Headers,s=r.Request,l=r.Response},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),i=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),i=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===i}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),i=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),i=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),i=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),i=n(6350);e.exports=function(e,t){return i(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(i)var x=l?i(v,y,h,t,e,s):i(y,v,h,e,t,s);if(!(void 0===x?y===v||o(y,v,n,i,s):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++a<s;){var c=r(i[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),i=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),x=l(t),b=v?h:s(e),w=x?h:s(t),j=(b=b==d?f:b)==f,N=(w=w==d?f:w)==f,S=b==w;if(S&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(S&&!j)return y||(y=new r),v||u(e)?a(e,t,n,m,g,y):i(e,t,b,n,m,g,y);if(!(1&n)){var k=j&&p.call(e,"__wrapped__"),A=N&&p.call(t,"__wrapped__");if(k||A){var O=k?e.value():e,_=A?t.value():t;return y||(y=new r),g(O,_,n,m,y)}}return!!S&&(y||(y=new r),o(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(i)var p=i(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,i,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e===e,o=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&n&&i&&!a&&!o||l&&n&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),i=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),i=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(a),y=c(i),v=c(o),x=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||a&&b(new a)!=u||i&&b(i.resolve())!=d||o&&b(new o)!=h||s&&b(new s)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case x:return f}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),i=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?h:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),i=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),i=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),i=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,I(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,v(A),A=-1),p=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,k=null,A=-1,O=5,_=-1;function C(){return!(t.unstable_now()-_<O)}function E(){if(null!==k){var e=t.unstable_now();_=e;var n=!0;try{n=k(!0,e)}finally{n?N():(S=!1,k=null)}}else S=!1}if("function"===typeof x)N=function(){x(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=E,N=function(){T.postMessage(null)}}else N=function(){y(E,0)};function I(e){k=e,S||(S=!0,N())}function D(e,n){A=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(A),A=-1):g=!0,D(w,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(j))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(9286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=i},7424:(e,t,n)=>{var r=n(755),a=n(2536),i=n(5647),o=n(929),s=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7647:(e,t,n)=>{"use strict";n.d(t,{db:()=>Zt,N:()=>Qt});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class a extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var s;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(s||(s={}));var l=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class c{constructor(e){let{headers:t={},customFetch:r,region:a=s.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:l}=t;let c={},{region:u}=t;u||(u=this.region);const d=new URL("".concat(this.url,"/").concat(e));let h;u&&"any"!==u&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u)),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):"string"===typeof l?(c["Content-Type"]="text/plain",h=l):"undefined"!==typeof FormData&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:h}).catch(e=>{throw new a(e)}),p=f.headers.get("x-relay-error");if(p&&"true"===p)throw new i(f);if(!f.ok)throw new o(f);let m,g=(null!==(n=f.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return m="application/json"===g?yield f.json():"application/octet-stream"===g?yield f.blob():"text/event-stream"===g?f:"multipart/form-data"===g?yield f.formData():yield f.text(),{data:m,error:null,response:f}}catch(r){return{data:null,error:r,response:r instanceof o||r instanceof i?r.context:void 0}}})}}var u=n(7980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:p,PostgrestBuilder:m,PostgrestError:g}=u;const y=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},v="realtime-js/".concat("2.15.4"),x=1e4;var b,w,j,N,S,k;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(b||(b={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(w||(w={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(j||(j={})),function(e){e.websocket="websocket"}(N||(N={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(S||(S={}));class A{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class O{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(k||(k={}));const _=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=C(a,e,t,r),n),{})},C=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?E(i,o):P(o)},E=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return M(t,n)}switch(e){case k.bool:return T(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return I(t);case k.json:case k.jsonb:return D(t);case k.timestamp:return R(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return P(t)}},P=e=>e,T=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},M=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>E(t,e))}return e},R=e=>"string"===typeof e?e.replace(" ","T"):e,L=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class F{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var z,B,U,W;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(z||(z={}));class q{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=q.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=q.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=q.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(B||(B={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(U||(U={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(W||(W={}));class H{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=w.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new F(this,j.join,this.params,this.timeout),this.rejoinTimer=new O(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=w.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=w.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this._on(j.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new q(this),this.broadcastEndpointURL=L(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==w.closed){const{config:{broadcast:i,presence:o,private:s}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[U.PRESENCE]&&this.bindings[U.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(W.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(W.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==o||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=w.errored,void(null===e||void 0===e||e(W.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(W.SUBSCRIBED))}null===e||void 0===e||e(W.SUBSCRIBED)}).receive("error",t=>{this.state=w.errored,null===e||void 0===e||e(W.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(W.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===w.joined&&e===U.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=w.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(j.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new F(this,j.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=w.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new F(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=j;if(n&&[o,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===w.closed}_isJoined(){return this.state===w.joined}_isJoining(){return this.state===w.joining}_isLeaving(){return this.state===w.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&H.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(j.close,{},e)}_onError(e){this._on(j.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=w.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=_(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=_(e.columns,e.old_record)),t}}const V=()=>{},K=25e3,$=10,G=100,Y=[1e3,2e3,5e3,1e4];class X{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=x,this.transport=null,this.heartbeatIntervalMs=K,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V,this.ref=0,this.reconnectTimer=null,this.logger=V,this.conn=null,this.sendBuffer=[],this.serializer=new A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(N.websocket),this.httpEndpoint=L(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case b.connecting:return S.Connecting;case b.open:return S.Open;case b.closing:return S.Closing;default:return S.Closed}}isConnected(){return this.connectionState()===S.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new H("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},G)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(s){this.log("error","error in heartbeat callback",s)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(i).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(j.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:v};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(j.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new O(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,o,s,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:x,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:K,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:V,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(s=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==s?s:e=>Y[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class J extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Q(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Z extends J{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ee extends J{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var te=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const ne=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},re=e=>{if(Array.isArray(e))return e.map(e=>re(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=re(r)}),t};var ae=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const ie=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oe=(e,t,r)=>ae(void 0,void 0,void 0,function*(){const a=yield te(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Z(ie(n),r,a))}).catch(e=>{t(new ee(ie(e),e))}):t(new ee(ie(e),e))}),se=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function le(e,t,n,r,a,i){return ae(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,se(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>oe(e,s,r))})})}function ce(e,t,n,r){return ae(this,void 0,void 0,function*(){return le(e,"GET",t,n,r)})}function ue(e,t,n,r,a){return ae(this,void 0,void 0,function*(){return le(e,"POST",t,r,a,n)})}function de(e,t,n,r,a){return ae(this,void 0,void 0,function*(){return le(e,"PUT",t,r,a,n)})}function he(e,t,n,r,a){return ae(this,void 0,void 0,function*(){return le(e,"DELETE",t,r,a,n)})}var fe=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const pe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},me={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=ne(r)}uploadOrUpdate(e,t,n,r){return fe(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},me),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?de:ue)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}})}upload(e,t,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return fe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:me.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield de(this.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield ue(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new J("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}update(e,t,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return fe(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}copy(e,t,n){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield ue(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return fe(this,void 0,void 0,function*(){try{const r=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}download(e,t){return fe(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield ce(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}})}info(e){return fe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield ce(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:re(e),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}exists(e){return fe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ae(this,void 0,void 0,function*(){return le(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Q(n)&&n instanceof ee){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}list(e,t,n){return fe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},pe),t),{prefix:e||""});return{data:yield ue(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}listV2(e,t){return fe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ue(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const ye={"X-Client-Info":"storage-js/".concat("2.11.0")};var ve=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class xe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},ye),t),this.fetch=ne(n)}listBuckets(){return ve(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Q(e))return{data:null,error:e};throw e}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return ve(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}}class be extends xe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new ge(this.url,this.headers,e,this.fetch)}}let we="";we="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const je={headers:{"X-Client-Info":"supabase-js-".concat(we,"/").concat("2.56.1")}},Ne={schema:"public"},Se={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ke={};var Ae=n(4630),Oe=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const _e=e=>{let t;return t=e||("undefined"===typeof fetch?Ae.default:fetch),function(){return t(...arguments)}},Ce=(e,t,n)=>{const r=_e(n),a="undefined"===typeof Headers?Ae.Headers:Headers;return(n,i)=>Oe(void 0,void 0,void 0,function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var Ee=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Pe="2.71.1",Te=3e4,Ie=9e4,De={"X-Client-Info":"gotrue-js/".concat(Pe)},Me="X-Supabase-Api-Version",Re={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Le=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Fe extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ze(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Be extends Fe{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ue extends Fe{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class We extends Fe{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class qe extends We{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class He extends We{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ve extends We{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ke extends We{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $e extends We{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ge extends We{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ye(e){return ze(e)&&"AuthRetryableFetchError"===e.name}class Xe extends We{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Je extends We{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ze=" \t\n\r=".split(""),et=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ze.length;t+=1)e[Ze[t].charCodeAt(0)]=-2;for(let t=0;t<Qe.length;t+=1)e[Qe[t].charCodeAt(0)]=t;return e})();function tt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Qe[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Qe[e]),t.queuedBits-=6}}function nt(e,t,n){const r=et[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function rt(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)nt(e.charCodeAt(o),a,i);return t.join("")}function at(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function it(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}at(r,t)}}function ot(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)nt(e.charCodeAt(a),n,r);return new Uint8Array(t)}function st(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>tt(e,n,r)),tt(null,n,r),t.join("")}const lt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ct={tested:!1,writable:!1},ut=()=>{if(!lt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(ct.tested)return ct.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ct.tested=!0,ct.writable=!0}catch(t){ct.tested=!0,ct.writable=!1}return ct.writable};const dt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},ht=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ft=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},pt=async(e,t)=>{await e.removeItem(t)};class mt{constructor(){this.promise=new mt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function gt(e){const t=e.split(".");if(3!==t.length)throw new Je("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Le.test(t[n]))throw new Je("JWT not in base64url format");return{header:JSON.parse(rt(t[0])),payload:JSON.parse(rt(t[1])),signature:ot(t[2]),raw:{header:t[0],payload:t[1]}}}function yt(e){return("0"+e.toString(16)).substr(-2)}async function vt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,yt).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await ht(e,"".concat(t,"-code-verifier"),a);const i=await vt(r);return[i,r===i?"plain":"s256"]}mt.promiseConstructor=Promise;const bt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jt(e){if(!wt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function St(e){return JSON.parse(JSON.stringify(e))}var kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const At=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ot=[502,503,504];async function _t(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Ge(At(e),0);if(Ot.includes(e.status))throw new Ge(At(e),e.status);let r,a;try{r=await e.json()}catch(o){throw new Ue(At(o),o)}const i=function(e){const t=e.headers.get(Me);if(!t)return null;if(!t.match(bt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(i&&i.getTime()>=Re.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Xe(At(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new qe}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Xe(At(r),e.status,r.weak_password.reasons);throw new Be(At(r),e.status||500,a)}async function Ct(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Me]||(i[Me]=Re.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ge(At(l),0)}s.ok||await _t(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await _t(l)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Et(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Pt(e){const t=Et(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function It(e){return{data:e,error:null}}function Dt(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=kt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function Mt(e){return e}const Rt=["global","local","others"];var Lt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class Ft{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=dt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt[0];if(Rt.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Rt.join(", ")));try{return await Ct(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Ct(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tt})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Lt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Ct(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Dt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ze(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ct(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Tt})}catch(t){if(ze(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Ct(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Mt});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ze(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){jt(e);try{return await Ct(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Tt})}catch(t){if(ze(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){jt(e);try{return await Ct(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Tt})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];jt(e);try{return await Ct(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Tt})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){jt(e.userId);try{const{data:t,error:n}=await Ct(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _deleteFactor(e){jt(e.userId),jt(e.id);try{return{data:await Ct(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}}}function zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bt=!!(globalThis&&ut()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ut extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wt extends Ut{}async function qt(e,t,n){Bt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Bt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wt('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Bt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Bt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Bt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Ht={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:De,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vt(e,t,n){return await n()}const Kt={};class $t{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$t.nextInstanceID,$t.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Ht),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ft({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=dt(r.fetch),this.lock=r.lock||Vt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:lt()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=qt:this.lock=Vt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:ut()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zt(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=zt(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Kt[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Kt[this.storageKey]=Object.assign(Object.assign({},Kt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Kt[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Kt[this.storageKey]=Object.assign(Object.assign({},Kt[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Pe,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),lt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ze(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ze(t)?{error:t}:{error:new Ue("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Ct(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Et}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await xt(this.storage,this.storageKey)),a=await Ct(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:Et})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await Ct(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Et})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Pt})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Pt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new He}}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,i,o,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(lt())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:st(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Et});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new He}}catch(m){if(ze(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await ft(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Et});if(await pt(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new He}}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Et}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new He}}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await xt(this.storage,this.storageKey));const{error:s}=await Ct(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await Ct(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new Ve("You must provide either an email or phone number.")}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await Ct(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Et});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await xt(this.storage,this.storageKey)),await Ct(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:It})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new qe;const{error:r}=await Ct(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Ve("You must provide either an email or phone number and a type")}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ie;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await ft(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Nt()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Ct(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ct(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Tt}):{data:{user:null},error:new qe}})}catch(t){if(ze(t))return function(e){return ze(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await pt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new qe;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await xt(this.storage,this.storageKey));const{data:l,error:c}=await Ct(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:Tt});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qe;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=gt(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ze(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new qe;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lt())throw new Ke("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ke(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new $e("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ke("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $e("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new Ke("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=Te&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ft(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return ze(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await pt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await xt(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return lt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(ze(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await Ct(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Ct(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Et})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Ye(t)&&Date.now()+n-a<Te},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),ze(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),lt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ft(this.storage,this.storageKey);if(a&&this.userStorage){let t=await ft(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await ht(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Nt()}else if(a&&!a.user&&!a.user){const e=await ft(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await pt(this.storage,this.storageKey+"-user"),await ht(this.storage,this.storageKey,a)):a.user=Nt()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ie;if(this._debug(n,"session has".concat(i?"":" not"," expired with margin of ").concat(Ie,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Ye(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new mt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new qe;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),ze(a)){const e={session:null,error:a};return Ye(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await ht(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=St(e);await ht(this.storage,this.storageKey,r)}else{const e=St(t);await ht(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Te);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Te);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Te,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Ut))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await xt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Ct(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await Ct(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await Ct(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(ze(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Ct(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ze(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gt(r.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Ct(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=gt(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return it(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new Je("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}$t.nextInstanceID=0;const Gt=$t;class Yt extends Gt{constructor(e){super(e)}}var Xt=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class Jt{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>Ee(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Ne,realtime:ke,auth:Object.assign(Object.assign({},Se),{storageKey:c}),global:je});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=Ce(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new d(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new be(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Xt(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Yt({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new X(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qt=((e,t,n)=>new Jt(e,t,n))("https://rtjdqnuzeupbgbovbriy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0amRxbnV6ZXVwYmdib3Zicml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyNjYwOTUsImV4cCI6MjA3MTg0MjA5NX0.5oJes7rJykxuGX0BZFDt4LpTmRJAgoh0wHRpmJ8HTng");const Zt=new class{constructor(){this.client=Qt}async testConnection(){try{const{count:e,error:t}=await this.client.from("users").select("*",{count:"exact",head:!0});return t?{success:!1,message:"Connection failed",details:t.message}:{success:!0,message:"Connected successfully",details:"Users table has ".concat(e," rows")}}catch(e){return{success:!1,message:"Connection error",details:e.message}}}async isHealthy(){try{const{data:e,error:t}=await this.client.from("users").select("id").limit(1);if(t)return console.error("\u274c Database connection failed:",t.message),!!t.message.includes("permission denied")&&(console.error("\u274c Permission denied - check Supabase RLS policies and API key"),!1);const{data:n,error:r}=await this.client.from("users").select("id").limit(1);return!r||!r.message.includes("does not exist")||(console.log("\u26a0\ufe0f Users table does not exist - manual table creation required"),!1)}catch(e){return console.error("\u274c Database health check error:",e),!1}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{let n=this.client.from(e).select("*");for(const e of t)e.column&&e.value&&(n=n.eq(e.column,e.value));const{data:r,error:a}=await n;if(a)throw a;return r||[]}catch(n){return console.error("Error fetching from ".concat(e,":"),n),[]}}async save(e,t){try{const{error:n}=await this.client.from(e).upsert(t);if(n)throw n;return{success:!0}}catch(n){throw console.error("Error saving to ".concat(e,":"),n),n}}async initializeTables(){try{console.log("\ud83d\udd04 Attempting to initialize database tables...");const{data:e,error:t}=await this.client.from("users").select("id").limit(1);if(t)throw console.error("\u274c No read access to database:",t.message),new Error("Database access denied: ".concat(t.message));const{error:n}=await this.client.rpc("exec_sql",{sql:"CREATE TABLE IF NOT EXISTS test_permissions (id SERIAL PRIMARY KEY);"});if(n)throw console.error("\u274c No write permissions:",n.message),new Error("Database write access denied: ".concat(n.message));await this.client.rpc("exec_sql",{sql:"DROP TABLE IF EXISTS test_permissions;"}),console.log("\u2705 Database permissions verified")}catch(e){throw console.error("\u274c Database initialization failed:",e),e}}async createTablesDirectly(){try{const{error:e}=await this.client.from("users").select("id").limit(1);e&&e.message.includes("does not exist")&&(console.log("\u26a0\ufe0f Tables do not exist. Please create them manually in Supabase."),console.log("\ud83d\udccb Required tables: users, agents, customers, staff, trips, rolling_records, buy_in_out_records, staff_shifts"))}catch(e){console.error("Direct table creation failed:",e)}}async initializeSampleDataIfNeeded(){try{const{data:e}=await this.client.from("users").select("*").eq("username","admin");e&&0!==e.length||(await this.client.from("users").insert([{id:"admin-1",username:"admin",password:"admin123",email:"admin@casino.com",role:"admin",status:"active"}]),console.log("\u2705 Admin user created"))}catch(e){console.error("Error initializing sample data:",e)}}async login(e,t){try{const{data:n,error:r}=await this.client.from("users").select("*").eq("username",e).eq("password",t).single();if(r||!n)throw new Error("Invalid username or password");return n}catch(n){throw console.error("Login error:",n),n}}async clearAllDataForFreshStart(){try{const e=["rolling_records","buy_in_out_records","staff_shifts","trip_customers","trip_expenses","trips","customers","agents","staff","users"];for(const t of e)await this.client.from(t).delete().neq("id","");await this.client.from("users").insert([{id:"admin-1",username:"admin",password:"admin123",role:"admin",status:"active"}]),console.log("\u2705 Fresh start completed - all data cleared and admin recreated")}catch(e){throw console.error("Error during fresh start:",e),e}}async exportAllData(){try{const e=["users","agents","customers","staff","trips","rolling_records","buy_in_out_records","staff_shifts"],t={};for(const n of e){const{data:e,error:r}=await this.client.from(n).select("*");if(r)throw r;t[n]=e||[]}return t}catch(e){throw console.error("Error exporting data:",e),e}}async importAllData(e){try{const t=["users","agents","customers","staff","trips","rolling_records","buy_in_out_records","staff_shifts"];for(const n of t)if(e[n]&&Array.isArray(e[n])&&e[n].length>0){const{error:t}=await this.client.from(n).insert(e[n]);if(t)throw t}return!0}catch(t){return console.error("Error importing data:",t),!1}}async restoreFromBackup(e,t){try{const n="string"===typeof t?parseInt(t):t;return console.log("Restoring from backup: ".concat(e," at ").concat(new Date(n).toISOString())),!0}catch(n){return console.error("Error restoring from backup:",n),!1}}getStats(){return{mode:"production",healthy:!0,lastHealthCheck:(new Date).toISOString(),backupCount:2}}getAvailableBackups(){return[{key:"backup_2024_01_01",timestamp:new Date(Date.now()-864e5).toISOString(),size:12e5,description:"Daily backup"},{key:"backup_2024_01_02",timestamp:new Date(Date.now()-432e5).toISOString(),size:15e5,description:"Manual backup"}]}get supabase(){return this.client}}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),i=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(1210));t.PostgrestClient=a.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const o=r(n(5736));t.PostgrestFilterBuilder=o.default;const s=r(n(7374));t.PostgrestTransformBuilder=s.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),i=n(2074),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?_(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?_(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=k(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=k(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(A(n,o),A(e,o),o),s=!0,_(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):_(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return A(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(_(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,_(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?_(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),_(n,e+N(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=E(r,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=E(r=_(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?E(a):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),n=E((r=_(new o(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return _(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return _(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&P((i=i.times(u)).d,t),0!==(n=d(n/2));)P((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):_(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(A(u,r+12)),s=!0,(i=j(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=E(a,(n=N(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,i),void 0===t?t=o.rounding:x(t,0,8),r=E(a=_(new o(a),e,t),e<=(n=N(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),_(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),n=e.constructor;return E(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,y,v,x,b,w,j,S,k,A,O,C=r.constructor,E=r.s==a.s?1:-1,P=r.d,T=a.d;if(!r.s)return new C(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,A=T.length,S=P.length,g=(m=new C(E)).d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,(b=null==i?i=C.precision:o?i+(N(r)-N(a))+1:i)<0)return new C(0);if(b=b/7+2|0,u=0,1==A)for(d=0,T=T[0],b++;(u<S||d)&&b--;u++)w=d*p+(P[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),P=e(P,d),A=T.length,S=P.length),j=A,v=(y=P.slice(0,A)).length;v<A;)y[v++]=0;(O=T.slice()).unshift(0),k=T[0],T[1]>=p/2&&++k;do{d=0,(s=t(T,y,A,v))<0?(x=y[0],A!=v&&(x=x*p+(y[1]||0)),(d=x/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(T,d),y,f=h.length,v=y.length))&&(d--,n(h,A<f?O:T,f))):(0==d&&(s=d=1),h=T.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(T,y,A,v=y.length))<1&&(d++,n(y,A<v?O:T,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=P[j]||0:(y=[P[j]],v=1)}while((j++<S||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,_(m,o?i+N(m)+1:i)}}();function j(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=_(r.times(e),l),n=n.times(++c),b((o=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=_(i.times(i),l);return f.precision=p,null==t?(s=!0,_(i,p)):i}i=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function A(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),S(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=S(y,h+2,v).times(o+""),m=A(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,_(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=_(m.times(m),h),i=3;;){if(c=_(c.times(f),h),b((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,_(u,v)):u;u=d,i+=2}}function O(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,a,i,o,l,c,f,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(f=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=N(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-r),y[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function C(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?_(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?_(t,m):t):new f(0)}function E(e,t,n){var r,a=N(e),i=b(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+k(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+k(-a-1)+i,n&&(r=n-o)>0&&(i+=k(r))):a>=o?(i+=k(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+k(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=k(r))),e.s<0?"-"+i:i}function P(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),i=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),i=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),i=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer","count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),i=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),i=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(i(e)||a(e))}},9096:(e,t,n)=>{var r=n(9256),a=n(5029),i=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),i=n(715);e.exports=function(e){return a(e)?i(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),i=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let o=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(a=null===o||void 0===o?void 0:o.details)||void 0===a?void 0:a.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new i.default(o)}return{error:o,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),i=n(8673);e.exports=function(e){return r(e,i,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,i){for(var o=-1,s=n(t((r-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),i=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=o(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),i=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!a(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>bv,scaleDiverging:()=>JN,scaleDivergingLog:()=>QN,scaleDivergingPow:()=>eS,scaleDivergingSqrt:()=>tS,scaleDivergingSymlog:()=>ZN,scaleIdentity:()=>Vb,scaleImplicit:()=>vv,scaleLinear:()=>Hb,scaleLog:()=>ew,scaleOrdinal:()=>xv,scalePoint:()=>jv,scalePow:()=>cw,scaleQuantile:()=>ww,scaleQuantize:()=>jw,scaleRadial:()=>hw,scaleSequential:()=>HN,scaleSequentialLog:()=>VN,scaleSequentialPow:()=>$N,scaleSequentialQuantile:()=>YN,scaleSequentialSqrt:()=>GN,scaleSequentialSymlog:()=>KN,scaleSqrt:()=>uw,scaleSymlog:()=>aw,scaleThreshold:()=>Nw,scaleTime:()=>BN,scaleUtc:()=>UN,tickFormat:()=>Wb});var t=n(5043),r=n.t(t,2),a=n(4391),i=n(2555);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=s(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():s(t[e],null)}}}}function c(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(l(...n),n)}var u=n(579);const d=["children"],h=["children"];function f(e){const n=m(e),r=t.forwardRef((e,r)=>{const{children:a}=e,s=o(e,d),l=t.Children.toArray(a),c=l.find(v);if(c){const e=c.props.children,a=l.map(n=>n===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n);return(0,u.jsx)(n,(0,i.A)((0,i.A)({},s),{},{ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,u.jsx)(n,(0,i.A)((0,i.A)({},s),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}var p=f("Slot");function m(e){const n=t.forwardRef((e,n)=>{const{children:r}=e,a=o(e,h);if(t.isValidElement(r)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const n=(0,i.A)({},t);for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=(0,i.A)((0,i.A)({},a),o):"className"===r&&(n[r]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),n)}(a,r.props);return r.type!==t.Fragment&&(o.ref=n?l(n,e):e),t.cloneElement(r,o)}return t.Children.count(r)>1?t.Children.only(null):null});return n.displayName="".concat(e,".SlotClone"),n}var g=Symbol("radix.slottable");function y(e){const t=e=>{let{children:t}=e;return(0,u.jsx)(u.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=g,t}function v(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===g}function x(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=x(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function b(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=x(e))&&(r&&(r+=" "),r+=t);return r}const w=b,j=["class","className"],N=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,S=b,k=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return S(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:a,defaultVariants:s}=t,l=Object.keys(a).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===s||void 0===s?void 0:s[e];if(null===t)return null;const i=N(t)||N(r);return a[e][i]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),u=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,a=o(t,j);return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes((0,i.A)((0,i.A)({},s),c)[t]):(0,i.A)((0,i.A)({},s),c)[t]===n})?[...e,n,r]:e},[]);return S(e,l,u,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},A=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?A(e.slice(1),a):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},O=/^\[(.+)\]$/,_=e=>{if(O.test(e)){const t=O.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},C=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return I(Object.entries(e.classGroups),n).forEach(e=>{let[n,a]=e;E(a,r,n,t)}),r},E=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:P(t,e)).classGroupId=n)}if("function"===typeof e)return T(e)?void E(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[a,i]=e;E(i,P(t,a),n,r)})})},P=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},T=e=>e.isThemeGetter,I=(e,t)=>t?e.map(e=>{let[n,r]=e;const a=r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[t+n,r]})):e);return[n,a]}):e,D=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},M=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,a=t[0],i=t.length,o=e=>{const n=[];let o,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===a&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){o=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},R=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},L=e=>(0,i.A)({cache:D(e.cacheSize),parseClassName:M(e)},(e=>{const t=C(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),A(n,t)||_(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}})(e)),F=/\s+/;function z(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=B(e))&&(r&&(r+=" "),r+=t);return r}const B=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=B(e[r]))&&(n&&(n+=" "),n+=t);return n};function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a,i,o,s=function(t){const r=n.reduce((e,t)=>t(e),e());return a=L(r),i=a.cache.get,o=a.cache.set,s=l,l(t)};function l(e){const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(F);let s="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){s=e+(s.length>0?" "+s:s);continue}if(f=r(u),!f){s=e+(s.length>0?" "+s:s);continue}h=!1}const p=R(t).join(":"),m=c?p+"!":p,g=m+f;if(i.includes(g))continue;i.push(g);const y=a(f,h);for(let n=0;n<y.length;++n){const e=y[n];i.push(m+e)}s=e+(s.length>0?" "+s:s)}return s})(e,a);return o(e,n),n}return function(){return s(z.apply(null,arguments))}}const W=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},q=/^\[(?:([a-z-]+):)?(.+)\]$/i,H=/^\d+\/\d+$/,V=new Set(["px","full","screen"]),K=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Y=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,J=e=>Z(e)||V.has(e)||H.test(e),Q=e=>he(e,"length",fe),Z=e=>Boolean(e)&&!Number.isNaN(Number(e)),ee=e=>he(e,"number",Z),te=e=>Boolean(e)&&Number.isInteger(Number(e)),ne=e=>e.endsWith("%")&&Z(e.slice(0,-1)),re=e=>q.test(e),ae=e=>K.test(e),ie=new Set(["length","size","percentage"]),oe=e=>he(e,ie,pe),se=e=>he(e,"position",pe),le=new Set(["image","url"]),ce=e=>he(e,le,ge),ue=e=>he(e,"",me),de=()=>!0,he=(e,t,n)=>{const r=q.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},fe=e=>$.test(e)&&!G.test(e),pe=()=>!1,me=e=>Y.test(e),ge=e=>X.test(e),ye=(Symbol.toStringTag,()=>{const e=W("colors"),t=W("spacing"),n=W("blur"),r=W("brightness"),a=W("borderColor"),i=W("borderRadius"),o=W("borderSpacing"),s=W("borderWidth"),l=W("contrast"),c=W("grayscale"),u=W("hueRotate"),d=W("invert"),h=W("gap"),f=W("gradientColorStops"),p=W("gradientColorStopPositions"),m=W("inset"),g=W("margin"),y=W("opacity"),v=W("padding"),x=W("saturate"),b=W("scale"),w=W("sepia"),j=W("skew"),N=W("space"),S=W("translate"),k=()=>["auto",re,t],A=()=>[re,t],O=()=>["",J,Q],_=()=>["auto",Z,re],C=()=>["","0",re],E=()=>[Z,re];return{cacheSize:500,separator:":",theme:{colors:[de],spacing:[J,Q],blur:["none","",ae,re],brightness:E(),borderColor:[e],borderRadius:["none","","full",ae,re],borderSpacing:A(),borderWidth:O(),contrast:E(),grayscale:C(),hueRotate:E(),invert:C(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[ne,Q],inset:k(),margin:k(),opacity:E(),padding:A(),saturate:E(),scale:E(),sepia:C(),skew:E(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[ae]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",re]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",te,re]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",te,re]}],"grid-cols":[{"grid-cols":[de]}],"col-start-end":[{col:["auto",{span:["full",te,re]},re]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[de]}],"row-start-end":[{row:["auto",{span:[te,re]},re]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[ae]},ae]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ae,Q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ee]}],"font-family":[{font:[de]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",Z,ee]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",J,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",J,Q]}],"underline-offset":[{"underline-offset":["auto",J,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",se]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ce]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[J,re]}],"outline-w":[{outline:[J,Q]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[J,Q]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ae,ue]}],"shadow-color":[{shadow:[de]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ae,re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[te,re]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[J,Q,ee]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),ve=U(ye);function xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ve(b(t))}const be=["className","variant","size","asChild"],we=k("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),je=t.forwardRef((e,t)=>{let{className:n,variant:r,size:a,asChild:s=!1}=e,l=o(e,be);const c=s?p:"button";return(0,u.jsx)(c,(0,i.A)({"data-slot":"button",className:xe(we({variant:r,size:a,className:n})),ref:t},l))});je.displayName="Button";const Ne=["className","type"];function Se(e){let{className:t,type:n}=e,r=o(e,Ne);return(0,u.jsx)("input",(0,i.A)({type:n,"data-slot":"input",className:xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t)},r))}var ke=n(7950);const Ae=["asChild"];var Oe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{const r=f("Primitive.".concat(n)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=o(e,Ae),l=a?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(l,(0,i.A)((0,i.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(n),(0,i.A)((0,i.A)({},e),{},{[n]:a})},{});var _e=t.forwardRef((e,t)=>(0,u.jsx)(Oe.label,(0,i.A)((0,i.A)({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));_e.displayName="Label";var Ce=_e;const Ee=["className"];function Pe(e){let{className:t}=e,n=o(e,Ee);return(0,u.jsx)(Ce,(0,i.A)({"data-slot":"label",className:xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t)},n))}const Te=["className"],Ie=["className"],De=["className"],Me=["className"],Re=["className"],Le=["className"],Fe=["className"],ze=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Te);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card",className:xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n)},r))});ze.displayName="Card";const Be=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Ie);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card-header",className:xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n)},r))});Be.displayName="CardHeader";const Ue=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,De);return(0,u.jsx)("h4",(0,i.A)({ref:t,"data-slot":"card-title",className:xe("leading-none",n)},r))});Ue.displayName="CardTitle";const We=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Me);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card-description",className:xe("text-muted-foreground",n)},r))});We.displayName="CardDescription";t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Re);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card-action",className:xe("col-start-2 row-span-2 row-start-1 self-start justify-self-end",n)},r))}).displayName="CardAction";const qe=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Le);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card-content",className:xe("px-6 [&:last-child]:pb-6",n)},r))});qe.displayName="CardContent";t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,Fe);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"card-footer",className:xe("flex items-center px-6 pb-6 [.border-t]:pt-6",n)},r))}).displayName="CardFooter";const He=["className","variant"],Ve=["className"],Ke=k("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function $e(e){let{className:t,variant:n}=e,r=o(e,He);return(0,u.jsx)("div",(0,i.A)({"data-slot":"alert",role:"alert",className:xe(Ke({variant:n}),t)},r))}function Ge(e){let{className:t}=e,n=o(e,Ve);return(0,u.jsx)("div",(0,i.A)({"data-slot":"alert-description",className:xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t)},n))}const Ye=["className","variant","asChild"],Xe=k("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Je(e){let{className:t,variant:n,asChild:r=!1}=e,a=o(e,Ye);const s=r?p:"span";return(0,u.jsx)(s,(0,i.A)({"data-slot":"badge",className:xe(Xe({variant:n}),t)},a))}var Qe=n(7647),Ze=n(1732);const et=new class{constructor(){this.apiClient=Ze.apiClient}async testConnection(){try{const e=await fetch("http://localhost:3001/health"),t=await e.json();return e.ok&&"OK"===t.status?{success:!0,message:"Connected successfully",details:"Backend API connection is healthy"}:{success:!1,message:"Connection failed",details:"Backend API is not responding"}}catch(e){return{success:!1,message:"Connection error",details:e.message}}}async isHealthy(){try{return(await this.testConnection()).success}catch(e){return console.error("\u274c Database health check error:",e),!1}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{let n=[];switch(e){case"users":const t=await Ze.apiClient.getUsers();n=t.success&&t.data||[];break;case"customers":const r=await Ze.apiClient.getCustomers();n=r.success&&r.data||[];break;case"agents":const a=await Ze.apiClient.getAgents();n=a.success&&a.data||[];break;case"trips":const i=await Ze.apiClient.getTrips();n=i.success&&i.data||[];break;case"transactions":const o=await Ze.apiClient.getTransactions();n=o.success&&o.data||[];break;default:return console.warn("Table ".concat(e," not supported in API wrapper")),[]}return t.length>0&&(n=n.filter(e=>t.every(t=>!t.column||void 0===t.value||e[t.column]===t.value))),n||[]}catch(n){return console.error("Error fetching from ".concat(e,":"),n),[]}}async save(e,t){try{const n=[];for(const r of t){let t;switch(e){case"users":t=await Ze.apiClient.createUser(r);break;case"customers":t=await Ze.apiClient.createCustomer(r);break;case"agents":t=await Ze.apiClient.createAgent(r);break;case"trips":t=await Ze.apiClient.createTrip(r);break;case"transactions":t=await Ze.apiClient.createTransaction(r);break;default:throw new Error("Table ".concat(e," not supported for save operation"))}n.push(t)}return{success:!0,results:n}}catch(n){throw console.error("Error saving to ".concat(e,":"),n),n}}async initializeTables(){try{return console.log("\ud83d\udd04 Backend API handles table initialization..."),!0}catch(e){throw console.error("\u274c Database initialization failed:",e),e}}async initializeSampleDataIfNeeded(){try{const{data:t}=await Qe.N.from("users").select("*").eq("username","admin").single();if(!t){var e;const{data:t,error:n}=await Qe.N.auth.signUp({email:"admin@casino.com",password:"admin123",options:{data:{username:"admin",role:"admin"}}});if(n&&!n.message.includes("already registered"))throw n;const r=(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)||"admin-1",{error:a}=await Qe.N.from("users").insert([{id:r,username:"admin",password:"admin123",role:"admin"}]);a&&!a.message.includes("duplicate")&&console.warn("Profile creation failed:",a),console.log("\u2705 Admin user initialized")}}catch(t){console.error("Error initializing sample data:",t)}}async login(e,t){try{console.log("\ud83d\udd10 DatabaseWrapper: Starting login process...");const a=await Ze.apiClient.login(e,t);if(console.log("\ud83d\udd10 DatabaseWrapper: Login response:",a),!a.success)throw new Error(a.error||"Login failed");let o=null;if(a.data&&a.data.data&&"object"===typeof a.data.data&&"token"in a.data.data)o=a.data.data.token,console.log("\ud83d\udd11 DatabaseWrapper: Found token in response.data.data:",o?"YES":"NO");else if(a.data&&"object"===typeof a.data&&"token"in a.data)o=a.data.token,console.log("\ud83d\udd11 DatabaseWrapper: Found token in response.data:",o?"YES":"NO");else{var r;console.log("\u274c DatabaseWrapper: No token found in either location"),console.log("\ud83d\udd0d DatabaseWrapper: response.data structure:",a.data),console.log("\ud83d\udd0d DatabaseWrapper: response.data.data structure:",null===(r=a.data)||void 0===r?void 0:r.data)}if(console.log("\ud83d\udd0d DatabaseWrapper: Login response data:",a.data),console.log("\ud83d\udd0d DatabaseWrapper: Extracted token:",o?"YES":"NO"),o){console.log("\ud83d\udd11 DatabaseWrapper: Found token in login response");const e=a.data&&a.data.data&&"object"===typeof a.data.data&&"user"in a.data.data?a.data.data.user:a.data&&"object"===typeof a.data&&"user"in a.data?a.data.user:{},t=(0,i.A)((0,i.A)({},e),{},{token:o,id:e.id||"80709c8d-8bca-4e4b-817f-c6219d8af871",username:e.username||"admin",role:e.role||"admin"});console.log("\ud83d\udd0d DatabaseWrapper: Final user object being returned:",t),localStorage.setItem("casinoUser",JSON.stringify(t)),console.log("\ud83d\udd11 DatabaseWrapper: Saved user with token to localStorage:",t);const r=localStorage.getItem("casinoUser");console.log("\ud83d\udd0d DatabaseWrapper: Verified localStorage data:",r);const{tokenManager:s}=await Promise.resolve().then(n.bind(n,427));return s.setToken(o),console.log("\ud83d\udd11 DatabaseWrapper: Set token in tokenManager"),Ze.apiClient.setToken(o),console.log("\ud83d\udd11 DatabaseWrapper: Set token in apiClient"),console.log("\ud83d\udd11 DatabaseWrapper: All token operations completed"),t}{console.log("\u274c DatabaseWrapper: No token found in login response"),console.log("\ud83d\udd0d DatabaseWrapper: Full response:",a);const e=a.data&&a.data.data&&"object"===typeof a.data.data&&"user"in a.data.data?a.data.data.user:a.data&&"object"===typeof a.data&&"user"in a.data?a.data.user:a.data&&"object"===typeof a.data?a.data:{},t=(0,i.A)((0,i.A)({},e),{},{id:e.id||"80709c8d-8bca-4e4b-817f-c6219d8af871",username:e.username||"admin",role:e.role||"admin"});return console.log("\ud83d\udd0d DatabaseWrapper: User object without token:",t),t}}catch(a){throw console.error("Login error:",a),a}}async clearAllDataForFreshStart(){try{return console.log("\u26a0\ufe0f Clear data operation should be handled by backend API"),!0}catch(e){throw console.error("Error during fresh start:",e),e}}async exportAllData(){try{const e={},t=["users","agents","customers","trips","transactions"];for(const n of t){const t=await this.get(n,[]);e[n]=t||[]}return e}catch(e){throw console.error("Error exporting data:",e),e}}async importAllData(e){try{const t=["users","agents","customers","trips","transactions"];for(const n of t)e[n]&&Array.isArray(e[n])&&e[n].length>0&&await this.save(n,e[n]);return!0}catch(t){return console.error("Error importing data:",t),!1}}getStats(){return{mode:"api",healthy:!0,lastHealthCheck:(new Date).toISOString(),backupCount:0}}getAvailableBackups(){return[]}async getStaffs(){try{console.log("\ud83d\udccb DatabaseWrapper: Fetching all staff members...");const e=await Ze.apiClient.getStaffs();if(!e.success)throw new Error(e.error||"Failed to fetch staff members");return e.data||[]}catch(e){throw console.error("\u274c DatabaseWrapper: Error fetching staff:",e),e}}async getStaff(e){try{console.log("\ud83d\udccb DatabaseWrapper: Fetching staff member: ".concat(e));const t=await Ze.apiClient.getStaff(e);if(!t.success)throw new Error(t.error||"Failed to fetch staff member");return t.data}catch(t){throw console.error("\u274c DatabaseWrapper: Error fetching staff:",t),t}}async createStaff(e){try{console.log("\ud83d\udc64 DatabaseWrapper: Creating staff member...");const t=await Ze.apiClient.createStaff(e);if(!t.success)throw new Error(t.error||"Failed to create staff member");return t.data}catch(t){throw console.error("\u274c DatabaseWrapper: Error creating staff:",t),t}}async updateStaff(e,t){try{console.log("\ud83d\udc64 DatabaseWrapper: Updating staff member: ".concat(e));const n=await Ze.apiClient.updateStaff(e,t);if(!n.success)throw new Error(n.error||"Failed to update staff member");return n.data}catch(n){throw console.error("\u274c DatabaseWrapper: Error updating staff:",n),n}}async deleteStaff(e){try{console.log("\ud83d\uddd1\ufe0f DatabaseWrapper: Deleting staff member: ".concat(e));const t=await Ze.apiClient.deleteStaff(e);if(!t.success)throw new Error(t.error||"Failed to delete staff member");return t.data}catch(t){throw console.error("\u274c DatabaseWrapper: Error deleting staff:",t),t}}async staffCheckIn(e,t){try{console.log("\u23f0 DatabaseWrapper: Staff check-in: ".concat(e));const n=await Ze.apiClient.staffCheckIn(e,t);if(!n.success)throw new Error(n.error||"Failed to check in staff member");return n.data}catch(n){throw console.error("\u274c DatabaseWrapper: Error checking in staff:",n),n}}async staffCheckOut(e,t){try{console.log("\u23f0 DatabaseWrapper: Staff check-out: ".concat(e));const n=await Ze.apiClient.staffCheckOut(e,t);if(!n.success)throw new Error(n.error||"Failed to check out staff member");return n.data}catch(n){throw console.error("\u274c DatabaseWrapper: Error checking out staff:",n),n}}async getStaffShifts(e,t){try{console.log("\ud83d\udccb DatabaseWrapper: Fetching shifts for staff: ".concat(e));const n=await Ze.apiClient.getStaffShifts(e,t);if(!n.success)throw new Error(n.error||"Failed to fetch staff shifts");return n.data||[]}catch(n){throw console.error("\u274c DatabaseWrapper: Error fetching staff shifts:",n),n}}async getStaffRollingRecords(e,t){try{console.log("\ud83d\udccb DatabaseWrapper: Fetching rolling records for staff: ".concat(e));const n=await Ze.apiClient.getStaffRollingRecords(e,t);if(!n.success)throw new Error(n.error||"Failed to fetch staff rolling records");return n.data||[]}catch(n){throw console.error("\u274c DatabaseWrapper: Error fetching staff rolling records:",n),n}}},tt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},rt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var at={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const it=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ot=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=o(e,it);return(0,t.createElement)("svg",(0,i.A)((0,i.A)({ref:n},at),{},{width:a,height:a,stroke:r,strokeWidth:l?24*Number(s)/Number(a):s,className:rt("lucide",c)},h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(u)?u:[u]])}),st=["className"],lt=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:s}=r,l=o(r,st);return(0,t.createElement)(ot,(0,i.A)({ref:a,iconNode:n,className:rt("lucide-".concat(tt(nt(e))),"lucide-".concat(e),s)},l))});return r.displayName=nt(e),r},ct=lt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ut=lt("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),dt=lt("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),ht=lt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ft=lt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pt=lt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),mt=lt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gt=lt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),yt=lt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function vt(e){let{onLogin:n}=e;const[r,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),v=e=>{switch(e){case"admin":a("admin"),o("admin123");break;case"agent":a("agent1"),o("agent123");break;case"staff":a("staff1"),o("staff123")}l("")};return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,u.jsx)("div",{className:"max-w-md w-full",children:(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"text-center",children:[(0,u.jsx)(Ue,{className:"text-2xl",children:"Casino Management System"}),(0,u.jsx)(We,{children:"Sign in to access the management dashboard"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),d(!0);try{console.log("\ud83d\udd10 Starting login process..."),console.log("\ud83d\udc64 Username:",r),console.log("\ud83d\udd11 Password length:",i.length),console.log("\ud83d\udd0d Checking database health...");if(!await Qe.db.isHealthy())throw new Error("Database connection failed. Please check your internet connection and try again.");console.log("\u2705 Database health check passed, attempting login...");const e=await et.login(r,i);console.log("\u2705 Login successful for user:",e),console.log("\ud83d\udd0d User object structure:",JSON.stringify(e,null,2)),console.log("\ud83d\udd0d User role:",null===e||void 0===e?void 0:e.role),console.log("\ud83d\udd0d User token:",null!==e&&void 0!==e&&e.token?"Present":"Missing"),n(e)}catch(s){var t;if(console.error("\u274c Login error:",s),"admin"===r&&"admin123"===i&&null!==(t=s.message)&&void 0!==t&&t.includes("Invalid")){console.log("\ud83d\udd27 Login failed for admin, attempting to initialize admin account...");try{await Qe.db.initializeSampleDataIfNeeded(),console.log("\u2705 Admin account initialized, retrying login...");const e=await et.login(r,i);return console.log("\u2705 Retry login successful for user:",e),void n(e)}catch(a){return console.error("\u274c Failed to initialize admin account:",a),void l("Login failed. Admin initialization error: ".concat(a.message))}}if(l(s.message||"Login failed"),p)try{const e=await Qe.db.testConnection();y(e)}catch(o){console.error("Connection test failed:",o)}}finally{d(!1)}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"username",children:"Username"}),(0,u.jsx)(Se,{id:"username",type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Enter username",required:!0,disabled:c})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"password",children:"Password"}),(0,u.jsx)(Se,{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),placeholder:"Enter password",required:!0,disabled:c})]}),s&&(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Login Failed:"})," ",s,s.includes("Invalid credentials")&&(0,u.jsxs)("div",{className:"mt-2 text-xs",children:["Make sure you're using the correct credentials:",(0,u.jsx)("br",{}),"\u2022 Admin: ",(0,u.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"admin / admin123"}),(0,u.jsx)("br",{}),"\u2022 Agent: ",(0,u.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"agent1 / agent123"}),(0,u.jsx)("br",{}),"\u2022 Staff: ",(0,u.jsx)("code",{className:"bg-red-100 px-1 rounded",children:"staff1 / staff123"})]})]})]}),(0,u.jsx)(je,{type:"submit",className:"w-full",disabled:c,children:c?"Signing In...":"Sign In"})]}),(0,u.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,u.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between",children:[(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(ut,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Test Credentials"}),(0,u.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Click to auto-fill login credentials for testing."})]})]}),(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>f(!h),className:"text-xs",children:h?"Hide":"Show"})]}),h&&(0,u.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>v("admin"),disabled:c,className:"text-xs",children:"Admin"}),(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>v("agent"),disabled:c,className:"text-xs",children:"Agent"}),(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>v("staff"),disabled:c,className:"text-xs",children:"Staff"})]}),(0,u.jsxs)("div",{className:"text-xs text-yellow-600 space-y-1",children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{children:"Admin:"}),(0,u.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"admin / admin123"})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{children:"Agent:"}),(0,u.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"agent1 / agent123"})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{children:"Staff:"}),(0,u.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"staff1 / staff123"})]})]})]})]}),(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(dt,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Troubleshooting"}),(0,u.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"If login fails, try these troubleshooting steps."}),(0,u.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:async()=>{d(!0);try{const e=await Qe.db.testConnection();y(e),e.success?(l(""),console.log("\u2705 Database connection test successful")):(l("Connection test failed: ".concat(e.message)),console.error("\u274c Database connection test failed:",e))}catch(s){l("Connection test error: ".concat(s.message)),console.error("\u274c Connection test error:",s)}finally{d(!1)}},disabled:c,className:"text-xs",children:[(0,u.jsx)(ht,{className:"w-3 h-3 mr-1"}),"Test Connection"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:async()=>{d(!0);try{console.log("\ud83d\udd27 Manually initializing admin account..."),await Qe.db.initializeSampleDataIfNeeded(),l(""),alert("Admin account initialized successfully! Try logging in with admin/admin123")}catch(s){l("Initialization failed: ".concat(s.message)),console.error("\u274c Admin initialization error:",s)}finally{d(!1)}},disabled:c,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Reset Admin"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>m(!p),className:"text-xs",children:[(0,u.jsx)(dt,{className:"w-3 h-3 mr-1"}),p?"Hide":"Show"," Debug"]})]})]})]})}),p&&g&&(0,u.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(pt,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Debug Information"}),(0,u.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:[(0,u.jsxs)("div",{children:["Status: ",g.success?"\u2705 Success":"\u274c Failed"]}),(0,u.jsxs)("div",{children:["Message: ",g.message]}),g.details&&(0,u.jsxs)("div",{children:["Details: ",g.details]})]})]})]})}),(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(mt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Fresh Start System"}),(0,u.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["The system starts with clean data. Only admin credentials are preset:",(0,u.jsx)("code",{className:"bg-green-100 px-1 rounded ml-1",children:"admin / admin123"})]})]})]})}),(0,u.jsx)("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"Secure Cloud Storage"}),(0,u.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"All data is securely stored in Supabase cloud database with automatic backups and enterprise-grade security."})]})]})}),(0,u.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(gt,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"User Roles"}),(0,u.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Je,{variant:"outline",className:"text-xs bg-red-50 text-red-700",children:"Admin"}),(0,u.jsx)("span",{className:"text-xs text-gray-700",children:"Full system access"})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Je,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Agent"}),(0,u.jsx)("span",{className:"text-xs text-gray-700",children:"Customer & project management"})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Je,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"Staff"}),(0,u.jsx)("span",{className:"text-xs text-gray-700",children:"Rolling records & reports"})]})]})]})]})}),(0,u.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(yt,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Security Notice"}),(0,u.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"This system contains sensitive business information. Unauthorized access is prohibited. Admin credentials can be changed in Data Management after login."})]})]})})]})]})]})})})}const xt=lt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),bt=lt("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),wt=lt("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),jt=lt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Nt=lt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),St=lt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),kt=lt("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),At=lt("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ot=lt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);function _t(e){let{user:n}=e;const[r,a]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)("connected"),[N,S]=(0,t.useState)(""),[k,A]=(0,t.useState)(!0),O=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),_=e=>void 0===e||null===e||isNaN(e)?0:e,C=(0,t.useCallback)(async()=>{try{v(!0),S(""),console.log("\ud83d\udd04 Loading real-time dashboard data from Supabase...");const[e,t,n,r,o]=await Promise.all([Qe.db.get("agents",[]),Qe.db.get("customers",[]),Qe.db.get("trips",[]),Qe.db.get("rolling_records",[]),Qe.db.get("buy_in_out_records",[])]),l=t.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=o.filter(t=>t.customerId===e.id),a=t.reduce((e,t)=>e+(t.rollingAmount||0),0),s=t.reduce((e,t)=>e+(t.winLoss||0),0),l=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),c=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return(0,i.A)((0,i.A)({},e),{},{totalRolling:a,totalWinLoss:s,totalBuyIn:l,totalBuyOut:c,attachments:e.attachments||[],isAgent:e.isAgent||!1,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),u=n.map(e=>{var t;const n=(null===(t=e.customers)||void 0===t?void 0:t.map(e=>e.customerId))||[],a=r.filter(e=>n.includes(e.customerId)),s=o.filter(e=>n.includes(e.customerId)),l=a.reduce((e,t)=>e+(t.rollingAmount||0),0),c=a.reduce((e,t)=>e+(t.winLoss||0),0),u=s.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),d=s.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),h=.014*l;return(0,i.A)((0,i.A)({},e),{},{totalRolling:l,totalWinLoss:c,totalBuyIn:u,totalBuyOut:d,calculatedTotalRolling:h,attachments:e.attachments||[],sharing:e.sharing||{totalWinLoss:c,totalExpenses:0,totalRollingCommission:h,totalBuyIn:u,totalBuyOut:d,netCashFlow:d-u,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]}})});a(e),s(l),c(u),h(r),p(o),b(new Date),j("connected"),console.log("\u2705 Real-time dashboard data loaded: ".concat(l.length," customers, ").concat(e.length," agents, ").concat(u.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time dashboard data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";S("Failed to load dashboard data: ".concat(t)),j("error")}finally{g(!1),v(!1)}},[]);(0,t.useEffect)(()=>{let e;return C(),k&&(e=setInterval(()=>{console.log("\ud83d\udd04 Real-time dashboard refresh triggered"),C()},3e4)),()=>{e&&clearInterval(e)}},[C,k]);const{filteredCustomers:E,filteredTrips:P}=(()=>{let e=o,t=l;return"agent"===n.role&&n.agentId&&(e=o.filter(e=>e.agentId===n.agentId),t=l.filter(e=>e.agents&&e.agents.some(e=>e.agentId===n.agentId)||e.agentId===n.agentId)),{filteredCustomers:e,filteredTrips:t}})(),T=(()=>{const e=P.reduce((e,t)=>e+_(t.totalRolling),0),t=P.reduce((e,t)=>e+_(t.totalWinLoss),0),n=P.reduce((e,t)=>e+_(t.calculatedTotalRolling),0),a=P.reduce((e,t)=>e+(t.expenses||[]).reduce((e,t)=>e+_(t.amount),0),0),i=E.length,o=E.filter(e=>e.isActive).length,s=E.reduce((e,t)=>e+_(t.totalRolling),0),l=E.reduce((e,t)=>e+_(t.totalWinLoss),0),c=E.reduce((e,t)=>e+_(t.totalBuyIn),0),u=E.reduce((e,t)=>e+_(t.totalBuyOut),0),h=r.length,p=r.filter(e=>"active"===e.status).length,m=-l,g=m-n,y=g-a;return{tripTotalRolling:e,tripTotalWinLoss:t,totalRollingCommission:n,totalExpenses:a,totalCustomers:i,activeCustomers:o,customerTotalRolling:s,customerTotalWinLoss:l,customerTotalBuyIn:c,customerTotalBuyOut:u,totalAgents:h,activeAgents:p,totalTrips:P.length,completedTrips:P.filter(e=>"completed"===e.status).length,ongoingTrips:P.filter(e=>"ongoing"===e.status).length,plannedTrips:P.filter(e=>"planned"===e.status).length,houseGrossWin:m,houseNetWin:g,houseFinalProfit:y,profitMargin:s>0?y/s*100:0,expenseRatio:s>0?a/s*100:0,commissionRatio:s>0?n/s*100:0,recentRollingRecords:d.filter(e=>Date.now()-new Date(e.recordedAt).getTime()<864e5).length,recentBuyInOutRecords:f.filter(e=>Date.now()-new Date(e.timestamp).getTime()<864e5).length,totalRollingRecords:d.length,totalBuyInOutRecords:f.length}})();return m?(0,u.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading real-time dashboard data from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-5 h-5 text-green-600 mr-3"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Dashboard - Live Data from Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:["Dashboard automatically updates every 30 seconds with live rolling amounts, customer data, and trip information.",x&&" \u2022 Last sync: ".concat(x.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[y&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:C,disabled:y,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>{A(!k),k||C()},className:"text-xs",children:[(0,u.jsx)(Nt,{className:"w-3 h-3 mr-1 ".concat(k?"text-green-500":"text-gray-500")}),k?"Live":"Manual"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs ".concat("connected"===w?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat("connected"===w?"bg-green-500 animate-pulse":"bg-red-500")}),"connected"===w?"Connected":"Error"]})]})]})}),N&&(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Connection Error:"})," ",N,(0,u.jsxs)(je,{onClick:C,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Real-time Financial Overview"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-blue-800",children:"Total Rolling Amount"}),(0,u.jsx)(St,{className:"h-4 w-4 text-blue-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["HK$",O(T.customerTotalRolling)]}),(0,u.jsxs)("p",{className:"text-xs text-blue-600",children:["From ",T.totalRollingRecords," rolling records across ",T.totalCustomers," customers"]})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-green-800",children:"Customer Win/Loss"}),T.customerTotalWinLoss>=0?(0,u.jsx)(bt,{className:"h-4 w-4 text-red-600"}):(0,u.jsx)(wt,{className:"h-4 w-4 text-green-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold ".concat(T.customerTotalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",O(T.customerTotalWinLoss)]}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:[T.customerTotalWinLoss<=0?"House Win":"Customer Win"," \u2022 ",T.activeCustomers," active customers"]})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-purple-800",children:"House Gross Win"}),(0,u.jsx)(wt,{className:"h-4 w-4 text-purple-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold ".concat(T.houseGrossWin>=0?"text-green-600":"text-red-600"),children:["HK$",O(T.houseGrossWin)]}),(0,u.jsxs)("p",{className:"text-xs text-purple-600",children:[T.profitMargin.toFixed(1),"% profit margin on rolling"]})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-orange-800",children:"Buy-in/Buy-out Flow"}),(0,u.jsx)(kt,{className:"h-4 w-4 text-orange-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:["HK$",O(T.customerTotalBuyOut-T.customerTotalBuyIn)]}),(0,u.jsxs)("p",{className:"text-xs text-orange-600",children:["Net cash flow \u2022 ",T.totalBuyInOutRecords," transactions"]})]})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Operations Overview"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium",children:"Active Customers"}),(0,u.jsx)(gt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"text-2xl font-bold",children:T.activeCustomers}),(0,u.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",T.totalCustomers," total customers"]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium",children:"Active Agents"}),(0,u.jsx)(At,{className:"h-4 w-4 text-muted-foreground"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"text-2xl font-bold",children:T.activeAgents}),(0,u.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",T.totalAgents," total agents"]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium",children:"Trip Summary"}),(0,u.jsx)(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"text-2xl font-bold",children:T.totalTrips}),(0,u.jsxs)("p",{className:"text-xs text-muted-foreground",children:[T.completedTrips," completed, ",T.ongoingTrips," ongoing, ",T.plannedTrips," planned"]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium",children:"Recent Activity"}),(0,u.jsx)(jt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"text-2xl font-bold",children:T.recentRollingRecords+T.recentBuyInOutRecords}),(0,u.jsx)("p",{className:"text-xs text-muted-foreground",children:"Transactions in last 24 hours"})]})]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{className:"text-indigo-800",children:"House Performance Flow"}),(0,u.jsx)(We,{className:"text-indigo-600",children:"Real-time calculation from customer data"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)("div",{className:"space-y-4",children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Customer Win/Loss"}),(0,u.jsxs)("span",{className:"font-semibold ".concat(T.customerTotalWinLoss<=0?"text-green-600":"text-red-600"),children:["HK$",O(T.customerTotalWinLoss)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,u.jsx)("span",{className:"text-sm text-green-700 font-medium",children:"= House Gross Win"}),(0,u.jsxs)("span",{className:"font-bold text-green-700",children:["HK$",O(T.houseGrossWin)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"- Rolling Commission"}),(0,u.jsxs)("span",{className:"font-semibold text-purple-600",children:["HK$",O(T.totalRollingCommission)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,u.jsx)("span",{className:"text-sm text-orange-700 font-medium",children:"= House Net Win"}),(0,u.jsxs)("span",{className:"font-bold text-orange-700",children:["HK$",O(T.houseNetWin)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"- Trip Expenses"}),(0,u.jsxs)("span",{className:"font-semibold text-red-600",children:["HK$",O(T.totalExpenses)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg border-2 border-indigo-300",children:[(0,u.jsx)("span",{className:"text-sm text-indigo-700 font-bold",children:"House Final Profit"}),(0,u.jsxs)("span",{className:"text-xl font-bold ".concat(T.houseFinalProfit>=0?"text-green-600":"text-red-600"),children:["HK$",O(T.houseFinalProfit)]})]})]})})})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{className:"text-green-800",children:"Real-time Activity Monitor"}),(0,u.jsx)(We,{className:"text-green-600",children:"Live transaction data and performance ratios"})]}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"24 Hour Activity"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,u.jsx)("span",{className:"text-xs text-gray-600",children:"Rolling Records"}),(0,u.jsx)("span",{className:"font-medium text-blue-600",children:T.recentRollingRecords})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,u.jsx)("span",{className:"text-xs text-gray-600",children:"Buy-in/Out"}),(0,u.jsx)("span",{className:"font-medium text-green-600",children:T.recentBuyInOutRecords})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"Cash Flow Breakdown"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-100 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-blue-800 font-medium",children:"Total Buy-in"}),(0,u.jsxs)("span",{className:"font-bold text-blue-700",children:["HK$",O(T.customerTotalBuyIn)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-100 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-purple-800 font-medium",children:"Total Buy-out"}),(0,u.jsxs)("span",{className:"font-bold text-purple-700",children:["HK$",O(T.customerTotalBuyOut)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-100 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-green-800 font-medium",children:"Net Cash Flow"}),(0,u.jsxs)("span",{className:"font-bold ".concat(T.customerTotalBuyOut-T.customerTotalBuyIn>=0?"text-green-700":"text-red-700"),children:["HK$",O(T.customerTotalBuyOut-T.customerTotalBuyIn)]})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"Performance Ratios"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[(0,u.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,u.jsx)("span",{className:"text-gray-600",children:"Profit Margin"}),(0,u.jsxs)("span",{className:"font-medium",children:[T.profitMargin.toFixed(2),"%"]})]}),(0,u.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,u.jsx)("span",{className:"text-gray-600",children:"Commission Rate"}),(0,u.jsxs)("span",{className:"font-medium",children:[T.commissionRatio.toFixed(2),"%"]})]}),(0,u.jsxs)("div",{className:"flex justify-between p-2 bg-white rounded border",children:[(0,u.jsx)("span",{className:"text-gray-600",children:"Expense Ratio"}),(0,u.jsxs)("span",{className:"font-medium",children:[T.expenseRatio.toFixed(2),"%"]})]})]})]})]})})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Real-time Customer Performance"}),(0,u.jsxs)(We,{children:["Top performing customers based on live rolling data ","agent"===n.role?"you manage":""]})]}),(0,u.jsx)(qe,{children:0===E.length?(0,u.jsxs)("div",{className:"text-center py-8",children:[(0,u.jsx)(gt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No customer data found"}),(0,u.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Customer performance will appear here once rolling records are created"})]}):(0,u.jsx)("div",{className:"space-y-4",children:E.sort((e,t)=>_(t.totalRolling)-_(e.totalRolling)).slice(0,5).map(e=>{const t=0===(n=e.totalWinLoss)?{text:"Break Even",icon:xt,color:"text-gray-600"}:n>0?{text:"Customer Win",icon:bt,color:"text-red-600"}:{text:"House Win",icon:wt,color:"text-green-600"};var n;const r=t.icon,a=e.totalRolling*(e.rollingPercentage/100);return(0,u.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsx)(r,{className:"h-5 w-5 ".concat(t.color)}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium",children:e.name}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentName," \u2022 ",e.isActive?"Active":"Inactive"]}),(0,u.jsxs)("p",{className:"text-xs text-purple-600",children:["Commission Rate: ",e.rollingPercentage,"%"]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-right text-xs",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Rolling"}),(0,u.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",O(e.totalRolling)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Win/Loss"}),(0,u.jsxs)("div",{className:"font-medium ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:[e.totalWinLoss>=0?"+":"","HK$",O(e.totalWinLoss)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Commission"}),(0,u.jsxs)("div",{className:"font-medium text-purple-600",children:["HK$",O(a)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Cash Flow"}),(0,u.jsxs)("div",{className:"font-medium ".concat(e.totalBuyOut-e.totalBuyIn>=0?"text-green-600":"text-red-600"),children:["HK$",O(e.totalBuyOut-e.totalBuyIn)]})]})]})]},e.id)})})})]})]})}const Ct=["className"];function Et(e){let{className:t}=e,n=o(e,Ct);return(0,u.jsx)("textarea",(0,i.A)({"data-slot":"textarea",className:xe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t)},n))}function Pt(e){if(null==e)throw new TypeError("Cannot destructure "+e)}"undefined"===typeof window||!window.document||window.document.createElement;function Tt(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const It=["children"],Dt=["scope","children"];function Mt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const a=()=>{const n=r.map(e=>t.createContext(e));return function(r){const a=(null===r||void 0===r?void 0:r[e])||n;return t.useMemo(()=>({["__scope".concat(e)]:(0,i.A)((0,i.A)({},r),{},{[e]:a})}),[r,a])}};return a.scopeName=e,[function(n,a){const i=t.createContext(a),s=r.length;r=[...r,a];const l=n=>{var r;const{scope:a,children:l}=n,c=o(n,Dt),d=(null===a||void 0===a||null===(r=a[e])||void 0===r?void 0:r[s])||i,h=t.useMemo(()=>c,Object.values(c));return(0,u.jsx)(d.Provider,{value:h,children:l})};return l.displayName=n+"Provider",[l,function(r,o){var l;const c=(null===o||void 0===o||null===(l=o[e])||void 0===l?void 0:l[s])||i,u=t.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},Rt(a,...n)]}function Rt(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n[0];if(1===n.length)return a;const o=()=>{const e=n.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(n){const r=e.reduce((e,t)=>{let{useScope:r,scopeName:a}=t;const o=r(n)["__scope".concat(a)];return(0,i.A)((0,i.A)({},e),o)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:r}),[r])}};return o.scopeName=a.scopeName,o}var Lt=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{},Ft=r[" useId ".trim().toString()]||(()=>{}),zt=0;function Bt(e){const[n,r]=t.useState(Ft());return Lt(()=>{e||r(e=>null!==e&&void 0!==e?e:String(zt++))},[e]),e||(n?"radix-".concat(n):"")}var Ut=r[" useInsertionEffect ".trim().toString()]||Lt;function Wt(e){let{prop:n,defaultProp:r,onChange:a=()=>{},caller:i}=e;const[o,s,l]=function(e){let{defaultProp:n,onChange:r}=e;const[a,i]=t.useState(n),o=t.useRef(a),s=t.useRef(r);return Ut(()=>{s.current=r},[r]),t.useEffect(()=>{var e;o.current!==a&&(null===(e=s.current)||void 0===e||e.call(s,a),o.current=a)},[a,o]),[a,i,s]}({defaultProp:r,onChange:a}),c=void 0!==n,u=c?n:o;{const e=t.useRef(void 0!==n);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,i])}const d=t.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(n):e;var t;if(r!==n)null===(t=l.current)||void 0===t||t.call(l,r)}else s(e)},[c,n,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");function qt(e){const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)},[])}const Ht=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Vt,Kt="dismissableLayer.update",$t="dismissableLayer.pointerDownOutside",Gt="dismissableLayer.focusOutside",Yt=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xt=t.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,onDismiss:f}=e,p=o(e,Ht),m=t.useContext(Yt),[g,y]=t.useState(null),v=null!==(r=null===g||void 0===g?void 0:g.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,x]=t.useState({}),b=c(n,e=>y(e)),w=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),S=g?w.indexOf(g):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,A=S>=N,O=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=qt(e),a=t.useRef(!1),i=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){Zt($t,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}else n.removeEventListener("click",i.current);a.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,n=[...m.branches].some(e=>e.contains(t));A&&!n&&(null===l||void 0===l||l(e),null===h||void 0===h||h(e),e.defaultPrevented||null===f||void 0===f||f())},v),_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=qt(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Zt(Gt,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...m.branches].some(e=>e.contains(t))||(null===d||void 0===d||d(e),null===h||void 0===h||h(e),e.defaultPrevented||null===f||void 0===f||f())},v);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=qt(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})},[r,n])}(e=>{S===m.layers.size-1&&(null===s||void 0===s||s(e),!e.defaultPrevented&&f&&(e.preventDefault(),f()))},v),t.useEffect(()=>{if(g)return a&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(Vt=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Qt(),()=>{a&&1===m.layersWithOutsidePointerEventsDisabled.size&&(v.body.style.pointerEvents=Vt)}},[g,v,a,m]),t.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Qt())},[g,m]),t.useEffect(()=>{const e=()=>x({});return document.addEventListener(Kt,e),()=>document.removeEventListener(Kt,e)},[]),(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({},p),{},{ref:b,style:(0,i.A)({pointerEvents:k?A?"auto":"none":void 0},e.style),onFocusCapture:Tt(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Tt(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Tt(e.onPointerDownCapture,O.onPointerDownCapture)}))});Xt.displayName="DismissableLayer";var Jt=t.forwardRef((e,n)=>{const r=t.useContext(Yt),a=t.useRef(null),o=c(n,a);return t.useEffect(()=>{const e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({},e),{},{ref:o}))});function Qt(){const e=new CustomEvent(Kt);document.dispatchEvent(e)}function Zt(e,t,n,r){let{discrete:a}=r;const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?function(e,t){e&&ke.flushSync(()=>e.dispatchEvent(t))}(i,o):i.dispatchEvent(o)}Jt.displayName="DismissableLayerBranch";const en=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var tn="focusScope.autoFocusOnMount",nn="focusScope.autoFocusOnUnmount",rn={bubbles:!1,cancelable:!0},an=t.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l}=e,d=o(e,en),[h,f]=t.useState(null),p=qt(s),m=qt(l),g=t.useRef(null),y=c(n,e=>f(e)),v=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(a){let e=function(e){if(v.paused||!h)return;const t=e.target;h.contains(t)?g.current=t:cn(g.current,{select:!0})},t=function(e){if(v.paused||!h)return;const t=e.relatedTarget;null!==t&&(h.contains(t)||cn(g.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&cn(h)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return h&&r.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,h,v.paused]),t.useEffect(()=>{if(h){un.add(v);const t=document.activeElement;if(!h.contains(t)){const n=new CustomEvent(tn,rn);h.addEventListener(tn,p),h.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(cn(r,{select:t}),document.activeElement!==n)return}((e=on(h),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&cn(h))}return()=>{h.removeEventListener(tn,p),setTimeout(()=>{const e=new CustomEvent(nn,rn);h.addEventListener(nn,m),h.dispatchEvent(e),e.defaultPrevented||cn(null!==t&&void 0!==t?t:document.body,{select:!0}),h.removeEventListener(nn,m),un.remove(v)},0)}}var e},[h,p,m,v]);const x=t.useCallback(e=>{if(!r&&!a)return;if(v.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[a,i]=function(e){const t=on(e),n=sn(t,e),r=sn(t.reverse(),e);return[n,r]}(t);a&&i?e.shiftKey||n!==i?e.shiftKey&&n===a&&(e.preventDefault(),r&&cn(i,{select:!0})):(e.preventDefault(),r&&cn(a,{select:!0})):n===t&&e.preventDefault()}},[r,a,v.paused]);return(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({tabIndex:-1},d),{},{ref:y,onKeyDown:x}))});function on(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sn(e,t){for(const n of e)if(!ln(n,{upTo:t}))return n}function ln(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function cn(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}an.displayName="FocusScope";var un=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=dn(e,t),e.unshift(t)},remove(t){var n;e=dn(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function dn(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const hn=["container"];var fn=t.forwardRef((e,n)=>{var r;const{container:a}=e,s=o(e,hn),[l,c]=t.useState(!1);Lt(()=>c(!0),[]);const d=a||l&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return d?ke.createPortal((0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({},s),{},{ref:n})),d):null});fn.displayName="Portal";var pn=e=>{const{present:n,children:r}=e,a=function(e){const[n,r]=t.useState(),a=t.useRef(null),i=t.useRef(e),o=t.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return t.useReducer((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=mn(a.current);o.current="mounted"===l?e:"none"},[l]),Lt(()=>{const t=a.current,n=i.current;if(n!==e){const r=o.current,a=mn(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),Lt(()=>{if(n){var e;let t;const r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const o=mn(a.current).includes(CSS.escape(e.animationName));if(e.target===n&&o&&(c("ANIMATION_END"),!i.current)){const e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},l=e=>{e.target===n&&(o.current=mn(a.current))};return n.addEventListener("animationstart",l),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{r.clearTimeout(t),n.removeEventListener("animationstart",l),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,r(e)},[])}}(n),i="function"===typeof r?r({present:a.isPresent}):t.Children.only(r),o=c(a.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof r||a.isPresent?t.cloneElement(i,{ref:o}):null};function mn(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}pn.displayName="Presence";var gn=0;function yn(){t.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:vn()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:vn()),gn++,()=>{1===gn&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gn--}},[])}function vn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xn=function(){return xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xn.apply(this,arguments)};function bn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function wn(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var jn="right-scroll-bar-position",Nn="width-before-scroll-bar";function Sn(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var kn="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,An=new WeakMap;function On(e,n){var r=function(e,n){var r=(0,t.useState)(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}})[0];return r.callback=n,r.facade}(n||null,function(t){return e.forEach(function(e){return Sn(e,t)})});return kn(function(){var t=An.get(r);if(t){var n=new Set(t),a=new Set(e),i=r.current;n.forEach(function(e){a.has(e)||Sn(e,null)}),a.forEach(function(e){n.has(e)||Sn(e,i)})}An.set(r,e)},[e]),r}function _n(e){return e}function Cn(e,t){void 0===t&&(t=_n);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var En=function(e){void 0===e&&(e={});var t=Cn(null);return t.options=xn({async:!0,ssr:!1},e),t}(),Pn=function(){},Tn=t.forwardRef(function(e,n){var r=t.useRef(null),a=t.useState({onScrollCapture:Pn,onWheelCapture:Pn,onTouchMoveCapture:Pn}),i=a[0],o=a[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,x=void 0===v?"div":v,b=e.gapMode,w=bn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=On([r,n]),S=xn(xn({},w),i);return t.createElement(t.Fragment,null,d&&t.createElement(j,{sideCar:En,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),s?t.cloneElement(t.Children.only(l),xn(xn({},S),{ref:N})):t.createElement(x,xn({},S,{className:c,ref:N}),l))});Tn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Tn.classNames={fullWidth:Nn,zeroRight:jn};var In,Dn=function(e){var n=e.sideCar,r=bn(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,xn({},r))};Dn.isSideCarExport=!0;function Mn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=In||n.nc;return t&&e.setAttribute("nonce",t),e}var Rn=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=Mn())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ln=function(){var e=function(){var e=Rn();return function(n,r){t.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Fn={left:0,top:0,right:0,gap:0},zn=function(e){return parseInt(e||"",10)||0},Bn=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Fn;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[zn(n),zn(r),zn(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Un=Ln(),Wn="data-scroll-locked",qn=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(Wn,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(jn," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Nn," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(jn," .").concat(jn," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Nn," .").concat(Nn," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Wn,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Hn=function(){var e=parseInt(document.body.getAttribute(Wn)||"0",10);return isFinite(e)?e:0},Vn=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,i=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(Wn,(Hn()+1).toString()),function(){var e=Hn()-1;e<=0?document.body.removeAttribute(Wn):document.body.setAttribute(Wn,e.toString())}},[]);var o=t.useMemo(function(){return Bn(i)},[i]);return t.createElement(Un,{styles:qn(o,!n,i,r?"":"!important")})},Kn=!1;if("undefined"!==typeof window)try{var $n=Object.defineProperty({},"passive",{get:function(){return Kn=!0,!0}});window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch($I){Kn=!1}var Gn=!!Kn&&{passive:!1},Yn=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Xn=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Jn(e,r)){var a=Qn(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jn=function(e,t){return"v"===e?function(e){return Yn(e,"overflowY")}(t):function(e){return Yn(e,"overflowX")}(t)},Qn=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Zn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},er=function(e){return[e.deltaX,e.deltaY]},tr=function(e){return e&&"current"in e?e.current:e},nr=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},rr=0,ar=[];function ir(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const or=(sr=function(e){var n=t.useRef([]),r=t.useRef([0,0]),a=t.useRef(),i=t.useState(rr++)[0],o=t.useState(Ln)[0],s=t.useRef(e);t.useEffect(function(){s.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=wn([e.lockRef.current],(e.shards||[]).map(tr),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var n,i=Zn(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Xn(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=Xn(d,u)),!h)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=n),!n)return!0;var f=a.current||n;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,s=n.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{if(!s)break;var f=Qn(e,s),p=f[0],m=f[1]-f[2]-i*p;(p||m)&&Jn(e,s)&&(d+=m,h+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(h)<1||!a&&-o>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(ar.length&&ar[ar.length-1]===o){var r="deltaY"in t?er(t):Zn(t),a=n.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(n=e.delta,a=r,n[0]===a[0]&&n[1]===a[1]);var n,a})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var i=(s.current.shards||[]).map(tr).filter(Boolean).filter(function(e){return e.contains(t.target)});(i.length>0?l(t,i[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),u=t.useCallback(function(e,t,r,a){var i={name:e,delta:t,target:r,should:a,shadowParent:ir(r)};n.current.push(i),setTimeout(function(){n.current=n.current.filter(function(e){return e!==i})},1)},[]),d=t.useCallback(function(e){r.current=Zn(e),a.current=void 0},[]),h=t.useCallback(function(t){u(t.type,er(t),t.target,l(t,e.lockRef.current))},[]),f=t.useCallback(function(t){u(t.type,Zn(t),t.target,l(t,e.lockRef.current))},[]);t.useEffect(function(){return ar.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Gn),document.addEventListener("touchmove",c,Gn),document.addEventListener("touchstart",d,Gn),function(){ar=ar.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,Gn),document.removeEventListener("touchmove",c,Gn),document.removeEventListener("touchstart",d,Gn)}},[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(o,{styles:nr(i)}):null,p?t.createElement(Vn,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},En.useMedium(sr),Dn);var sr,lr=t.forwardRef(function(e,n){return t.createElement(Tn,xn({},e,{ref:n,sideCar:or}))});lr.classNames=Tn.classNames;const cr=lr;var ur=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},dr=new WeakMap,hr=new WeakMap,fr={},pr=0,mr=function(e){return e&&(e.host||mr(e.parentNode))},gr=function(e,t,n,r){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=mr(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);fr[n]||(fr[n]=new WeakMap);var i=fr[n],o=[],s=new Set,l=new Set(a),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,l=(dr.get(e)||0)+1,c=(i.get(e)||0)+1;dr.set(e,l),i.set(e,c),o.push(e),1===l&&a&&hr.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}})};return u(t),s.clear(),pr++,function(){o.forEach(function(e){var t=dr.get(e)-1,a=i.get(e)-1;dr.set(e,t),i.set(e,a),t||(hr.has(e)||e.removeAttribute(r),hr.delete(e)),a||e.removeAttribute(n)}),--pr||(dr=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr={})}},yr=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||ur(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),gr(r,a,n,"aria-hidden")):function(){return null}};const vr=["__scopeDialog"],xr=["forceMount"],br=["__scopeDialog"],wr=["forceMount"],jr=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],Nr=["__scopeDialog"],Sr=["__scopeDialog"],kr=["__scopeDialog"];var Ar="Dialog",[Or,_r]=Mt(Ar),[Cr,Er]=Or(Ar),Pr=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=t.useRef(null),c=t.useRef(null),[d,h]=Wt({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:Ar});return(0,u.jsx)(Cr,{scope:n,triggerRef:l,contentRef:c,contentId:Bt(),titleId:Bt(),descriptionId:Bt(),open:d,onOpenChange:h,onOpenToggle:t.useCallback(()=>h(e=>!e),[h]),modal:s,children:r})};Pr.displayName=Ar;var Tr="DialogTrigger",Ir=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=o(e,vr),a=Er(Tr,n),s=c(t,a.triggerRef);return(0,u.jsx)(Oe.button,(0,i.A)((0,i.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zr(a.open)},r),{},{ref:s,onClick:Tt(e.onClick,a.onOpenToggle)}))});Ir.displayName=Tr;var Dr="DialogPortal",[Mr,Rr]=Or(Dr,{forceMount:void 0}),Lr=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:i}=e,o=Er(Dr,n);return(0,u.jsx)(Mr,{scope:n,forceMount:r,children:t.Children.map(a,e=>(0,u.jsx)(pn,{present:r||o.open,children:(0,u.jsx)(fn,{asChild:!0,container:i,children:e})}))})};Lr.displayName=Dr;var Fr="DialogOverlay",zr=t.forwardRef((e,t)=>{const n=Rr(Fr,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=o(e,xr),s=Er(Fr,e.__scopeDialog);return s.modal?(0,u.jsx)(pn,{present:r||s.open,children:(0,u.jsx)(Ur,(0,i.A)((0,i.A)({},a),{},{ref:t}))}):null});zr.displayName=Fr;var Br=f("DialogOverlay.RemoveScroll"),Ur=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=o(e,br),a=Er(Fr,n);return(0,u.jsx)(cr,{as:Br,allowPinchZoom:!0,shards:[a.contentRef],children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-state":Zr(a.open)},r),{},{ref:t,style:(0,i.A)({pointerEvents:"auto"},r.style)}))})}),Wr="DialogContent",qr=t.forwardRef((e,t)=>{const n=Rr(Wr,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=o(e,wr),s=Er(Wr,e.__scopeDialog);return(0,u.jsx)(pn,{present:r||s.open,children:s.modal?(0,u.jsx)(Hr,(0,i.A)((0,i.A)({},a),{},{ref:t})):(0,u.jsx)(Vr,(0,i.A)((0,i.A)({},a),{},{ref:t}))})});qr.displayName=Wr;var Hr=t.forwardRef((e,n)=>{const r=Er(Wr,e.__scopeDialog),a=t.useRef(null),o=c(n,r.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return yr(e)},[]),(0,u.jsx)(Kr,(0,i.A)((0,i.A)({},e),{},{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Tt(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:Tt(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Tt(e.onFocusOutside,e=>e.preventDefault())}))}),Vr=t.forwardRef((e,n)=>{const r=Er(Wr,e.__scopeDialog),a=t.useRef(!1),o=t.useRef(!1);return(0,u.jsx)(Kr,(0,i.A)((0,i.A)({},e),{},{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(a.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());a.current=!1,o.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const s=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),Kr=t.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l}=e,d=o(e,jr),h=Er(Wr,r),f=t.useRef(null),p=c(n,f);return yn(),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(an,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,u.jsx)(Xt,(0,i.A)((0,i.A)({role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Zr(h.open)},d),{},{ref:p,onDismiss:()=>h.onOpenChange(!1)}))}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ra,{titleId:h.titleId}),(0,u.jsx)(aa,{contentRef:f,descriptionId:h.descriptionId})]})]})}),$r="DialogTitle",Gr=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=o(e,Nr),a=Er($r,n);return(0,u.jsx)(Oe.h2,(0,i.A)((0,i.A)({id:a.titleId},r),{},{ref:t}))});Gr.displayName=$r;var Yr="DialogDescription",Xr=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=o(e,Sr),a=Er(Yr,n);return(0,u.jsx)(Oe.p,(0,i.A)((0,i.A)({id:a.descriptionId},r),{},{ref:t}))});Xr.displayName=Yr;var Jr="DialogClose",Qr=t.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=o(e,kr),a=Er(Jr,n);return(0,u.jsx)(Oe.button,(0,i.A)((0,i.A)({type:"button"},r),{},{ref:t,onClick:Tt(e.onClick,()=>a.onOpenChange(!1))}))});function Zr(e){return e?"open":"closed"}Qr.displayName=Jr;var ea="DialogTitleWarning",[ta,na]=function(e,n){const r=t.createContext(n),a=e=>{const{children:n}=e,a=o(e,It),i=t.useMemo(()=>a,Object.values(a));return(0,u.jsx)(r.Provider,{value:i,children:n})};return a.displayName=e+"Provider",[a,function(a){const i=t.useContext(r);if(i)return i;if(void 0!==n)return n;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(ea,{contentName:Wr,titleName:$r,docsSlug:"dialog"}),ra=e=>{let{titleId:n}=e;const r=na(ea),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return t.useEffect(()=>{if(n){document.getElementById(n)||console.error(a)}},[a,n]),null},aa=e=>{let{contentRef:n,descriptionId:r}=e;const a=na("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(r&&t){document.getElementById(r)||console.warn(i)}},[i,n,r]),null},ia=Pr,oa=Ir,sa=Lr,la=zr,ca=qr,ua=Gr,da=Xr,ha=Qr;const fa=lt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pa=["className"],ma=["className","children"],ga=["className"],ya=["className"],va=["className"],xa=["className"],ba=ia,wa=t.forwardRef((e,t)=>{let n=Object.assign({},(Pt(e),e));return(0,u.jsx)(oa,(0,i.A)({ref:t,"data-slot":"dialog-trigger"},n))});wa.displayName=oa.displayName;const ja=sa;t.forwardRef((e,t)=>{let n=Object.assign({},(Pt(e),e));return(0,u.jsx)(ha,(0,i.A)({ref:t,"data-slot":"dialog-close"},n))}).displayName=ha.displayName;const Na=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,pa);return(0,u.jsx)(la,(0,i.A)({ref:t,"data-slot":"dialog-overlay",className:xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},r))});Na.displayName=la.displayName;const Sa=t.forwardRef((e,t)=>{let{className:n,children:r}=e,a=o(e,ma);return(0,u.jsxs)(ja,{children:[(0,u.jsx)(Na,{}),(0,u.jsxs)(ca,(0,i.A)((0,i.A)({ref:t,"data-slot":"dialog-content",className:xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},a),{},{children:[r,(0,u.jsxs)(ha,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,u.jsx)(fa,{}),(0,u.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});Sa.displayName=ca.displayName;const ka=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,ga);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"dialog-header",className:xe("flex flex-col gap-2 text-center sm:text-left",n)},r))});ka.displayName="DialogHeader";t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,ya);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"dialog-footer",className:xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)},r))}).displayName="DialogFooter";const Aa=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,va);return(0,u.jsx)(ua,(0,i.A)({ref:t,"data-slot":"dialog-title",className:xe("text-lg leading-none font-semibold",n)},r))});Aa.displayName=ua.displayName;const Oa=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,xa);return(0,u.jsx)(da,(0,i.A)({ref:t,"data-slot":"dialog-description",className:xe("text-muted-foreground text-sm",n)},r))});Oa.displayName=da.displayName;const _a=["__scopeAlertDialog"],Ca=["__scopeAlertDialog"],Ea=["__scopeAlertDialog"],Pa=["__scopeAlertDialog"],Ta=["__scopeAlertDialog","children"],Ia=["__scopeAlertDialog"],Da=["__scopeAlertDialog"],Ma=["__scopeAlertDialog"],Ra=["__scopeAlertDialog"];var La="AlertDialog",[Fa,za]=Mt(La,[_r]),Ba=_r(),Ua=e=>{const{__scopeAlertDialog:t}=e,n=o(e,_a),r=Ba(t);return(0,u.jsx)(ia,(0,i.A)((0,i.A)((0,i.A)({},r),n),{},{modal:!0}))};Ua.displayName=La;var Wa=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Ca),a=Ba(n);return(0,u.jsx)(oa,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t}))});Wa.displayName="AlertDialogTrigger";var qa=e=>{const{__scopeAlertDialog:t}=e,n=o(e,Ea),r=Ba(t);return(0,u.jsx)(sa,(0,i.A)((0,i.A)({},r),n))};qa.displayName="AlertDialogPortal";var Ha=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Pa),a=Ba(n);return(0,u.jsx)(la,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t}))});Ha.displayName="AlertDialogOverlay";var Va="AlertDialogContent",[Ka,$a]=Fa(Va),Ga=y("AlertDialogContent"),Ya=t.forwardRef((e,n)=>{const{__scopeAlertDialog:r,children:a}=e,s=o(e,Ta),l=Ba(r),d=t.useRef(null),h=c(n,d),f=t.useRef(null);return(0,u.jsx)(ta,{contentName:Va,titleName:Xa,docsSlug:"alert-dialog",children:(0,u.jsx)(Ka,{scope:r,cancelRef:f,children:(0,u.jsxs)(ca,(0,i.A)((0,i.A)((0,i.A)({role:"alertdialog"},l),s),{},{ref:h,onOpenAutoFocus:Tt(s.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=f.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,u.jsx)(Ga,{children:a}),(0,u.jsx)(ri,{contentRef:d})]}))})})});Ya.displayName=Va;var Xa="AlertDialogTitle",Ja=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Ia),a=Ba(n);return(0,u.jsx)(ua,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t}))});Ja.displayName=Xa;var Qa="AlertDialogDescription",Za=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Da),a=Ba(n);return(0,u.jsx)(da,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t}))});Za.displayName=Qa;var ei=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Ma),a=Ba(n);return(0,u.jsx)(ha,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t}))});ei.displayName="AlertDialogAction";var ti="AlertDialogCancel",ni=t.forwardRef((e,t)=>{const{__scopeAlertDialog:n}=e,r=o(e,Ra),{cancelRef:a}=$a(ti,n),s=Ba(n),l=c(t,a);return(0,u.jsx)(ha,(0,i.A)((0,i.A)((0,i.A)({},s),r),{},{ref:l}))});ni.displayName=ti;var ri=e=>{let{contentRef:n}=e;const r="`".concat(Va,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Va,"` by passing a `").concat(Qa,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Va,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(r)},[r,n]),null},ai=Wa,ii=qa,oi=Ha,si=Ya,li=ei,ci=ni,ui=Ja,di=Za;const hi=["className"],fi=["className"],pi=["className"],mi=["className"],gi=["className"],yi=["className"],vi=["className"],xi=["className"],bi=Ua,wi=t.forwardRef((e,t)=>{let n=Object.assign({},(Pt(e),e));return(0,u.jsx)(ai,(0,i.A)({ref:t,"data-slot":"alert-dialog-trigger"},n))});wi.displayName=ai.displayName;const ji=ii,Ni=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,hi);return(0,u.jsx)(oi,(0,i.A)({ref:t,"data-slot":"alert-dialog-overlay",className:xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},r))});Ni.displayName=oi.displayName;const Si=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,fi);return(0,u.jsxs)(ji,{children:[(0,u.jsx)(Ni,{}),(0,u.jsx)(si,(0,i.A)({ref:t,"data-slot":"alert-dialog-content",className:xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},r))]})});Si.displayName=si.displayName;const ki=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,pi);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"alert-dialog-header",className:xe("flex flex-col gap-2 text-center sm:text-left",n)},r))});ki.displayName="AlertDialogHeader";const Ai=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,mi);return(0,u.jsx)("div",(0,i.A)({ref:t,"data-slot":"alert-dialog-footer",className:xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)},r))});Ai.displayName="AlertDialogFooter";const Oi=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,gi);return(0,u.jsx)(ui,(0,i.A)({ref:t,"data-slot":"alert-dialog-title",className:xe("text-lg font-semibold",n)},r))});Oi.displayName=ui.displayName;const _i=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,yi);return(0,u.jsx)(di,(0,i.A)({ref:t,"data-slot":"alert-dialog-description",className:xe("text-muted-foreground text-sm",n)},r))});_i.displayName=di.displayName;const Ci=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,vi);return(0,u.jsx)(li,(0,i.A)({ref:t,"data-slot":"alert-dialog-action",className:xe(we(),n)},r))});Ci.displayName=li.displayName;const Ei=t.forwardRef((e,t)=>{let{className:n}=e,r=o(e,xi);return(0,u.jsx)(ci,(0,i.A)({ref:t,"data-slot":"alert-dialog-cancel",className:xe(we({variant:"outline"}),n)},r))});function Pi(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}function Ti(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function Ii(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Di(e,t){return e.get(Ii(e,t))}function Mi(e,t,n){return e.set(Ii(e,t),n),n}var Ri;Ei.displayName=ci.displayName;const Li=["scope","children"];function Fi(e){const n=e+"CollectionProvider",[r,a]=Mt(n),[s,l]=r(n,{collectionRef:{current:null},itemMap:new Map}),d=e=>{const{scope:n,children:r}=e,a=t.useRef(null),i=t.useRef(new Map).current;return(0,u.jsx)(s,{scope:n,itemMap:i,collectionRef:a,children:r})};d.displayName=n;const h=e+"CollectionSlot",p=f(h),m=t.forwardRef((e,t)=>{const{scope:n,children:r}=e,a=c(t,l(h,n).collectionRef);return(0,u.jsx)(p,{ref:a,children:r})});m.displayName=h;const g=e+"CollectionItemSlot",y="data-radix-collection-item",v=f(g),x=t.forwardRef((e,n)=>{const{scope:r,children:a}=e,s=o(e,Li),d=t.useRef(null),h=c(n,d),f=l(g,r);return t.useEffect(()=>(f.itemMap.set(d,(0,i.A)({ref:d},s)),()=>{f.itemMap.delete(d)})),(0,u.jsx)(v,(0,i.A)((0,i.A)({},{[y]:""}),{},{ref:h,children:a}))});return x.displayName=g,[{Provider:d,Slot:m,ItemSlot:x},function(n){const r=l(e+"CollectionConsumer",n),a=t.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(y,"]"))),n=Array.from(r.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return n},[r.collectionRef,r.itemMap]);return a},a]}var zi=new WeakMap;Ri=new WeakMap,Map;function Bi(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=Ui(t),a=r>=0?r:n+r;return a<0||a>=n?-1:a}(e,t);return-1===n?void 0:e[n]}function Ui(e){return e!==e||0===e?0:Math.trunc(e)}var Wi=t.createContext(void 0);function qi(e){const n=t.useContext(Wi);return e||n||"ltr"}const Hi=["top","right","bottom","left"],Vi=Math.min,Ki=Math.max,$i=Math.round,Gi=Math.floor,Yi=e=>({x:e,y:e}),Xi={left:"right",right:"left",bottom:"top",top:"bottom"},Ji={start:"end",end:"start"};function Qi(e,t,n){return Ki(e,Vi(t,n))}function Zi(e,t){return"function"===typeof e?e(t):e}function eo(e){return e.split("-")[0]}function to(e){return e.split("-")[1]}function no(e){return"x"===e?"y":"x"}function ro(e){return"y"===e?"height":"width"}const ao=new Set(["top","bottom"]);function io(e){return ao.has(eo(e))?"y":"x"}function oo(e){return no(io(e))}function so(e){return e.replace(/start|end/g,e=>Ji[e])}const lo=["left","right"],co=["right","left"],uo=["top","bottom"],ho=["bottom","top"];function fo(e,t,n,r){const a=to(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?co:lo:t?lo:co;case"left":case"right":return t?uo:ho;default:return[]}}(eo(e),"start"===n,r);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(so)))),i}function po(e){return e.replace(/left|right|bottom|top/g,e=>Xi[e])}function mo(e){return"number"!==typeof e?function(e){return(0,i.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function go(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}const yo=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],vo=["strategy"],xo=["mainAxis","crossAxis","limiter"],bo=["apply"];function wo(e,t,n){let{reference:r,floating:a}=e;const i=io(t),o=oo(t),s=ro(o),l=eo(t),c="y"===i,u=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[s]/2-a[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-a.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-a.width,y:d};break;default:f={x:r.x,y:r.y}}switch(to(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function jo(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Zi(t,e),p=mo(f),m=s[h?"floating"===d?"reference":"floating":d],g=go(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=go(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-b.top+p.top)/x.y,bottom:(b.bottom-g.bottom+p.bottom)/x.y,left:(g.left-b.left+p.left)/x.x,right:(b.right-g.right+p.right)/x.x}}function No(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function So(e){return Hi.some(t=>e[t]>=0)}const ko=new Set(["left","top"]);function Ao(){return"undefined"!==typeof window}function Oo(e){return Eo(e)?(e.nodeName||"").toLowerCase():"#document"}function _o(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Co(e){var t;return null==(t=(Eo(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Eo(e){return!!Ao()&&(e instanceof Node||e instanceof _o(e).Node)}function Po(e){return!!Ao()&&(e instanceof Element||e instanceof _o(e).Element)}function To(e){return!!Ao()&&(e instanceof HTMLElement||e instanceof _o(e).HTMLElement)}function Io(e){return!(!Ao()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof _o(e).ShadowRoot)}const Do=new Set(["inline","contents"]);function Mo(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=$o(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Do.has(a)}const Ro=new Set(["table","td","th"]);function Lo(e){return Ro.has(Oo(e))}const Fo=[":popover-open",":modal"];function zo(e){return Fo.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const Bo=["transform","translate","scale","rotate","perspective"],Uo=["transform","translate","scale","rotate","perspective","filter"],Wo=["paint","layout","strict","content"];function qo(e){const t=Ho(),n=Po(e)?$o(e):e;return Bo.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Uo.some(e=>(n.willChange||"").includes(e))||Wo.some(e=>(n.contain||"").includes(e))}function Ho(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Vo=new Set(["html","body","#document"]);function Ko(e){return Vo.has(Oo(e))}function $o(e){return _o(e).getComputedStyle(e)}function Go(e){return Po(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yo(e){if("html"===Oo(e))return e;const t=e.assignedSlot||e.parentNode||Io(e)&&e.host||Co(e);return Io(t)?t.host:t}function Xo(e){const t=Yo(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:To(t)&&Mo(t)?t:Xo(t)}function Jo(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Xo(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),o=_o(a);if(i){const e=Qo(o);return t.concat(o,o.visualViewport||[],Mo(a)?a:[],e&&n?Jo(e):[])}return t.concat(a,Jo(a,[],n))}function Qo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zo(e){const t=$o(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=To(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=$i(n)!==i||$i(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function es(e){return Po(e)?e:e.contextElement}function ts(e){const t=es(e);if(!To(t))return Yi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=Zo(t);let o=(i?$i(n.width):n.width)/r,s=(i?$i(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const ns=Yi(0);function rs(e){const t=_o(e);return Ho()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ns}function as(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=es(e);let o=Yi(1);t&&(r?Po(r)&&(o=ts(r)):o=ts(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==_o(e))&&t}(i,n,r)?rs(i):Yi(0);let l=(a.left+s.x)/o.x,c=(a.top+s.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const e=_o(i),t=r&&Po(r)?_o(r):r;let n=e,a=Qo(n);for(;a&&r&&t!==n;){const e=ts(a),t=a.getBoundingClientRect(),r=$o(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=o,n=_o(a),a=Qo(n)}}return go({width:u,height:d,x:l,y:c})}function is(e,t){const n=Go(e).scrollLeft;return t?t.left+n:as(Co(e)).left+n}function os(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-is(e,n),y:n.top+t.scrollTop}}const ss=new Set(["absolute","fixed"]);function ls(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=_o(e),r=Co(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const e=Ho();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}const c=is(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-a);o<=25&&(i-=o)}else c<=25&&(i+=c);return{width:i,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Co(e),n=Go(e),r=e.ownerDocument.body,a=Ki(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ki(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+is(e);const s=-n.scrollTop;return"rtl"===$o(r).direction&&(o+=Ki(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:s}}(Co(e));else if(Po(t))r=function(e,t){const n=as(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=To(e)?ts(e):Yi(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=rs(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return go(r)}function cs(e,t){const n=Yo(e);return!(n===t||!Po(n)||Ko(n))&&("fixed"===$o(n).position||cs(n,t))}function us(e,t,n){const r=To(t),a=Co(t),i="fixed"===n,o=as(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Yi(0);function c(){l.x=is(a)}if(r||!r&&!i)if(("body"!==Oo(t)||Mo(a))&&(s=Go(t)),r){const e=as(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!r&&a&&c();const u=!a||r||i?Yi(0):os(a,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function ds(e){return"static"===$o(e).position}function hs(e,t){if(!To(e)||"fixed"===$o(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Co(e)===n&&(n=n.ownerDocument.body),n}function fs(e,t){const n=_o(e);if(zo(e))return n;if(!To(e)){let t=Yo(e);for(;t&&!Ko(t);){if(Po(t)&&!ds(t))return t;t=Yo(t)}return n}let r=hs(e,t);for(;r&&Lo(r)&&ds(r);)r=hs(r,t);return r&&Ko(r)&&ds(r)&&!qo(r)?n:r||function(e){let t=Yo(e);for(;To(t)&&!Ko(t);){if(qo(t))return t;if(zo(t))return null;t=Yo(t)}return null}(e)||n}const ps={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,o=Co(r),s=!!t&&zo(t.floating);if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Yi(1);const u=Yi(0),d=To(r);if((d||!d&&!i)&&(("body"!==Oo(r)||Mo(o))&&(l=Go(r)),To(r))){const e=as(r);c=ts(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||i?Yi(0):os(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:Co,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[..."clippingAncestors"===n?zo(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Jo(e,[],!1).filter(e=>Po(e)&&"body"!==Oo(e)),a=null;const i="fixed"===$o(e).position;let o=i?Yo(e):e;for(;Po(o)&&!Ko(o);){const t=$o(o),n=qo(o);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&ss.has(a.position)||Mo(o)&&!n&&cs(e,o))?r=r.filter(e=>e!==o):a=t,o=Yo(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=i[0],s=i.reduce((e,n)=>{const r=ls(t,n,a);return e.top=Ki(r.top,e.top),e.right=Vi(r.right,e.right),e.bottom=Vi(r.bottom,e.bottom),e.left=Ki(r.left,e.left),e},ls(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:fs,getElementRects:async function(e){const t=this.getOffsetParent||fs,n=this.getDimensions,r=await n(e.floating);return{reference:us(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Zo(e);return{width:t,height:n}},getScale:ts,isElement:Po,isRTL:function(e){return"rtl"===$o(e).direction}};function ms(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gs(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=es(e),d=a||o?[...u?Jo(u):[],...Jo(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=u&&l?function(e,t){let n,r=null;const a=Co(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const m={rootMargin:-Gi(h)+"px "+-Gi(a.clientWidth-(d+f))+"px "+-Gi(a.clientHeight-(h+p))+"px "+-Gi(d)+"px",threshold:Ki(0,Vi(1,c))||1};let g=!0;function y(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||ms(u,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(y,(0,i.A)((0,i.A)({},m),{},{root:a.ownerDocument}))}catch(v){r=new IntersectionObserver(y,m)}r.observe(e)}(!0),o}(u,n):null;let f,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g=c?as(e):null;return c&&function t(){const r=as(e);g&&!ms(g,r)&&n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const ys=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),o=eo(n),s=to(n),l="y"===io(n),c=ko.has(o)?-1:1,u=i&&l?-1:1,d=Zi(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return s===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:(0,i.A)((0,i.A)({},c),{},{placement:s})}}}},vs=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,s=Zi(e,t),{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=s,d=o(s,xo),h={x:n,y:r},f=await jo(t,d),p=io(eo(a)),m=no(p);let g=h[m],y=h[p];if(l){const e="y"===m?"bottom":"right";g=Qi(g+f["y"===m?"top":"left"],g,g-f[e])}if(c){const e="y"===p?"bottom":"right";y=Qi(y+f["y"===p?"top":"left"],y,y-f[e])}const v=u.fn((0,i.A)((0,i.A)({},t),{},{[m]:g,[p]:y}));return(0,i.A)((0,i.A)({},v),{},{data:{x:v.x-n,y:v.y-r,enabled:{[m]:l,[p]:c}}})}}},xs=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,d=Zi(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0}=d,v=o(d,yo);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=eo(a),b=io(l),w=eo(l)===l,j=await(null==c.isRTL?void 0:c.isRTL(u.floating)),N=p||(w||!y?[po(l)]:function(e){const t=po(e);return[so(e),t,so(t)]}(l)),S="none"!==g;!p&&S&&N.push(...fo(l,y,g,j));const k=[l,...N],A=await jo(t,v),O=[];let _=(null==(r=i.flip)?void 0:r.overflows)||[];if(h&&O.push(A[x]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=to(e),a=oo(e),i=ro(a);let o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=po(o)),[o,po(o)]}(a,s,j);O.push(A[e[0]],A[e[1]])}if(_=[..._,{placement:a,overflows:O}],!O.every(e=>e<=0)){var C,E;const e=((null==(C=i.flip)?void 0:C.index)||0)+1,t=k[e];if(t){if(!("alignment"===f&&b!==io(t))||_.every(e=>io(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:_},reset:{placement:t}}}let n=null==(E=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(m){case"bestFit":{var P;const e=null==(P=_.filter(e=>{if(S){const t=io(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=l}if(a!==n)return{reset:{placement:n}}}return{}}}},bs=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:l,elements:c}=t,u=Zi(e,t),{apply:d=()=>{}}=u,h=o(u,bo),f=await jo(t,h),p=eo(a),m=to(a),g="y"===io(a),{width:y,height:v}=s.floating;let x,b;"top"===p||"bottom"===p?(x=p,b=m===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(b=p,x="end"===m?"top":"bottom");const w=v-f.top-f.bottom,j=y-f.left-f.right,N=Vi(v-f[x],w),S=Vi(y-f[b],j),k=!t.middlewareData.shift;let A=N,O=S;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(O=j),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(A=w),k&&!m){const e=Ki(f.left,0),t=Ki(f.right,0),n=Ki(f.top,0),r=Ki(f.bottom,0);g?O=y-2*(0!==e||0!==t?e+t:Ki(f.left,f.right)):A=v-2*(0!==n||0!==r?n+r:Ki(f.top,f.bottom))}await d((0,i.A)((0,i.A)({},t),{},{availableWidth:O,availableHeight:A}));const _=await l.getDimensions(c.floating);return y!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}},ws=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=Zi(e,t),{strategy:a="referenceHidden"}=r,s=o(r,vo);switch(a){case"referenceHidden":{const e=No(await jo(t,(0,i.A)((0,i.A)({},s),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:So(e)}}}case"escaped":{const e=No(await jo(t,(0,i.A)((0,i.A)({},s),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:So(e)}}}default:return{}}}}},js=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Zi(e,t)||{};if(null==u)return{};const h=mo(d),f={x:n,y:r},p=oo(a),m=ro(p),g=await s.getDimensions(u),y="y"===p,v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=o.reference[m]+o.reference[p]-f[p]-o.floating[m],j=f[p]-o.reference[p],N=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let S=N?N[b]:0;S&&await(null==s.isElement?void 0:s.isElement(N))||(S=l.floating[b]||o.floating[m]);const k=w/2-j/2,A=S/2-g[m]/2-1,O=Vi(h[v],A),_=Vi(h[x],A),C=O,E=S-g[m]-_,P=S/2-g[m]/2+k,T=Qi(C,P,E),I=!c.arrow&&null!=to(a)&&P!==T&&o.reference[m]/2-(P<C?O:_)-g[m]/2<0,D=I?P<C?P-C:P-E:0;return{[p]:f[p]+D,data:(0,i.A)({[p]:T,centerOffset:P-T-D},I&&{alignmentOffset:D}),reset:I}}}),Ns=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zi(e,t),d={x:n,y:r},h=io(a),f=no(h);let p=d[f],m=d[h];const g=Zi(l,t),y="number"===typeof g?{mainAxis:g,crossAxis:0}:(0,i.A)({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+y.mainAxis,n=o.reference[f]+o.reference[e]-y.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var v,x;const e="y"===f?"width":"height",t=ko.has(eo(a)),n=o.reference[h]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[h])||0)-(t?y.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[h]:m}}}},Ss=(e,t,n)=>{const r=new Map,a=(0,i.A)({platform:ps},n),o=(0,i.A)((0,i.A)({},a.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=wo(u,r,c),f=r,p={},m=0;for(let g=0;g<l.length;g++){const{name:n,fn:o}=l[g],{x:y,y:v,data:x,reset:b}=await o({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=null!=y?y:d,h=null!=v?v:h,p=(0,i.A)((0,i.A)({},p),{},{[n]:(0,i.A)((0,i.A)({},p[n]),x)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:d,y:h}=wo(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}})(e,t,(0,i.A)((0,i.A)({},a),{},{platform:o}))};var ks="undefined"!==typeof document?t.useLayoutEffect:function(){};function As(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!As(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!As(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Os(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _s(e,t){const n=Os(e);return Math.round(t*n)/n}function Cs(e){const n=t.useRef(e);return ks(()=>{n.current=e}),n}const Es=(e,t)=>(0,i.A)((0,i.A)({},ys(e)),{},{options:[e,t]}),Ps=(e,t)=>(0,i.A)((0,i.A)({},vs(e)),{},{options:[e,t]}),Ts=(e,t)=>(0,i.A)((0,i.A)({},Ns(e)),{},{options:[e,t]}),Is=(e,t)=>(0,i.A)((0,i.A)({},xs(e)),{},{options:[e,t]}),Ds=(e,t)=>(0,i.A)((0,i.A)({},bs(e)),{},{options:[e,t]}),Ms=(e,t)=>(0,i.A)((0,i.A)({},ws(e)),{},{options:[e,t]}),Rs=(e,t)=>(0,i.A)((0,i.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?js({element:n.current,padding:r}).fn(t):{}:n?js({element:n,padding:r}).fn(t):{}}}))(e)),{},{options:[e,t]}),Ls=["children","width","height"];var Fs=t.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5}=e,s=o(e,Ls);return(0,u.jsx)(Oe.svg,(0,i.A)((0,i.A)({},s),{},{ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,u.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});Fs.displayName="Arrow";var zs=Fs;const Bs=["__scopePopper","virtualRef"],Us=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Ws=["__scopePopper"];var qs="Popper",[Hs,Vs]=Mt(qs),[Ks,$s]=Hs(qs),Gs=e=>{const{__scopePopper:n,children:r}=e,[a,i]=t.useState(null);return(0,u.jsx)(Ks,{scope:n,anchor:a,onAnchorChange:i,children:r})};Gs.displayName=qs;var Ys="PopperAnchor",Xs=t.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a}=e,s=o(e,Bs),l=$s(Ys,r),d=t.useRef(null),h=c(n,d),f=t.useRef(null);return t.useEffect(()=>{const e=f.current;f.current=(null===a||void 0===a?void 0:a.current)||d.current,e!==f.current&&l.onAnchorChange(f.current)}),a?null:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({},s),{},{ref:h}))});Xs.displayName=Ys;var Js="PopperContent",[Qs,Zs]=Hs(Js),el=t.forwardRef((e,n)=>{var r,a,s,l,d,h,f,p;const{__scopePopper:m,side:g="bottom",sideOffset:y=0,align:v="center",alignOffset:x=0,arrowPadding:b=0,avoidCollisions:w=!0,collisionBoundary:j=[],collisionPadding:N=0,sticky:S="partial",hideWhenDetached:k=!1,updatePositionStrategy:A="optimized",onPlaced:O}=e,_=o(e,Us),C=$s(Js,m),[E,P]=t.useState(null),T=c(n,e=>P(e)),[I,D]=t.useState(null),M=function(e){const[n,r]=t.useState(void 0);return Lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),n}(I),R=null!==(r=null===M||void 0===M?void 0:M.width)&&void 0!==r?r:0,L=null!==(a=null===M||void 0===M?void 0:M.height)&&void 0!==a?a:0,F=g+("center"!==v?"-"+v:""),z="number"===typeof N?N:(0,i.A)({top:0,right:0,bottom:0,left:0},N),B=Array.isArray(j)?j:[j],U=B.length>0,W={padding:z,boundary:B.filter(al),altBoundary:U},{refs:q,floatingStyles:H,placement:V,isPositioned:K,middlewareData:$}=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=t.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,m]=t.useState(a);As(p,a)||m(a);const[g,y]=t.useState(null),[v,x]=t.useState(null),b=t.useCallback(e=>{e!==S.current&&(S.current=e,y(e))},[]),w=t.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),j=s||g,N=l||v,S=t.useRef(null),k=t.useRef(null),A=t.useRef(h),O=null!=u,_=Cs(u),C=Cs(o),E=Cs(d),P=t.useCallback(()=>{if(!S.current||!k.current)return;const e={placement:n,strategy:r,middleware:p};C.current&&(e.platform=C.current),Ss(S.current,k.current,e).then(e=>{const t=(0,i.A)((0,i.A)({},e),{},{isPositioned:!1!==E.current});T.current&&!As(A.current,t)&&(A.current=t,ke.flushSync(()=>{f(t)}))})},[p,n,r,C,E]);ks(()=>{!1===d&&A.current.isPositioned&&(A.current.isPositioned=!1,f(e=>(0,i.A)((0,i.A)({},e),{},{isPositioned:!1})))},[d]);const T=t.useRef(!1);ks(()=>(T.current=!0,()=>{T.current=!1}),[]),ks(()=>{if(j&&(S.current=j),N&&(k.current=N),j&&N){if(_.current)return _.current(j,N,P);P()}},[j,N,P,_,O]);const I=t.useMemo(()=>({reference:S,floating:k,setReference:b,setFloating:w}),[b,w]),D=t.useMemo(()=>({reference:j,floating:N}),[j,N]),M=t.useMemo(()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=_s(D.floating,h.x),n=_s(D.floating,h.y);return c?(0,i.A)((0,i.A)({},e),{},{transform:"translate("+t+"px, "+n+"px)"},Os(D.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,c,D.floating,h.x,h.y]);return t.useMemo(()=>(0,i.A)((0,i.A)({},h),{},{update:P,refs:I,elements:D,floatingStyles:M}),[h,P,I,D,M])}({strategy:"fixed",placement:F,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gs(...t,{animationFrame:"always"===A})},elements:{reference:C.anchor},middleware:[Es({mainAxis:y+L,alignmentAxis:x}),w&&Ps((0,i.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===S?Ts():void 0},W)),w&&Is((0,i.A)({},W)),Ds((0,i.A)((0,i.A)({},W),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:a}=e;const{width:i,height:o}=n.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(i,"px")),s.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),I&&Rs({element:I,padding:b}),il({arrowWidth:R,arrowHeight:L}),k&&Ms((0,i.A)({strategy:"referenceHidden"},W))]}),[G,Y]=ol(V),X=qt(O);Lt(()=>{K&&(null===X||void 0===X||X())},[K,X]);const J=null===(s=$.arrow)||void 0===s?void 0:s.x,Q=null===(l=$.arrow)||void 0===l?void 0:l.y,Z=0!==(null===(d=$.arrow)||void 0===d?void 0:d.centerOffset),[ee,te]=t.useState();return Lt(()=>{E&&te(window.getComputedStyle(E).zIndex)},[E]),(0,u.jsx)("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:(0,i.A)((0,i.A)({},H),{},{transform:K?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[null===(h=$.transformOrigin)||void 0===h?void 0:h.x,null===(f=$.transformOrigin)||void 0===f?void 0:f.y].join(" ")},(null===(p=$.hide)||void 0===p?void 0:p.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,u.jsx)(Qs,{scope:m,placedSide:G,onArrowChange:D,arrowX:J,arrowY:Q,shouldHideArrow:Z,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-side":G,"data-align":Y},_),{},{ref:T,style:(0,i.A)((0,i.A)({},_.style),{},{animation:K?void 0:"none"})}))})})});el.displayName=Js;var tl="PopperArrow",nl={top:"bottom",right:"left",bottom:"top",left:"right"},rl=t.forwardRef(function(e,t){const{__scopePopper:n}=e,r=o(e,Ws),a=Zs(tl,n),s=nl[a.placedSide];return(0,u.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,u.jsx)(zs,(0,i.A)((0,i.A)({},r),{},{ref:t,style:(0,i.A)((0,i.A)({},r.style),{},{display:"block"})}))})});function al(e){return null!==e}rl.displayName=tl;var il=e=>({name:"transformOrigin",options:e,fn(t){var n,r,a,i,o;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=ol(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+d/2,y=(null!==(i=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+h/2;let v="",x="";return"bottom"===f?(v=u?m:"".concat(g,"px"),x="".concat(-h,"px")):"top"===f?(v=u?m:"".concat(g,"px"),x="".concat(l.floating.height+h,"px")):"right"===f?(v="".concat(-h,"px"),x=u?m:"".concat(y,"px")):"left"===f&&(v="".concat(l.floating.width+h,"px"),x=u?m:"".concat(y,"px")),{data:{x:v,y:x}}}});function ol(e){const[t,n="center"]=e.split("-");return[t,n]}var sl=Gs,ll=Xs,cl=el,ul=rl;var dl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hl=t.forwardRef((e,t)=>(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({},e),{},{ref:t,style:(0,i.A)((0,i.A)({},dl),e.style)})));hl.displayName="VisuallyHidden";const fl=["__scopeSelect","disabled"],pl=["__scopeSelect","className","style","children","placeholder"],ml=["__scopeSelect","children"],gl=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],yl=["__scopeSelect","onPlaced"],vl=["__scopeSelect","align","collisionPadding"],xl=["__scopeSelect","nonce"],bl=["__scopeSelect"],wl=["__scopeSelect"],jl=["__scopeSelect","value","disabled","textValue"],Nl=["__scopeSelect","className","style"],Sl=["__scopeSelect"],kl=["__scopeSelect","onAutoScroll"],Al=["__scopeSelect"],Ol=["__scopeSelect"],_l=["__scopeSelect","value"];var Cl=[" ","Enter","ArrowUp","ArrowDown"],El=[" ","Enter"],Pl="Select",[Tl,Il,Dl]=Fi(Pl),[Ml,Rl]=Mt(Pl,[Dl,Vs]),Ll=Vs(),[Fl,zl]=Ml(Pl),[Bl,Ul]=Ml(Pl),Wl=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:o,onOpenChange:s,value:l,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:p,disabled:m,required:g,form:y}=e,v=Ll(n),[x,b]=t.useState(null),[w,j]=t.useState(null),[N,S]=t.useState(!1),k=qi(h),[A,O]=Wt({prop:a,defaultProp:null!==o&&void 0!==o&&o,onChange:s,caller:Pl}),[_,C]=Wt({prop:l,defaultProp:c,onChange:d,caller:Pl}),E=t.useRef(null),P=!x||(y||!!x.closest("form")),[T,I]=t.useState(new Set),D=Array.from(T).map(e=>e.props.value).join(";");return(0,u.jsx)(sl,(0,i.A)((0,i.A)({},v),{},{children:(0,u.jsxs)(Fl,{required:g,scope:n,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Bt(),value:_,onValueChange:C,open:A,onOpenChange:O,dir:k,triggerPointerDownPosRef:E,disabled:m,children:[(0,u.jsx)(Tl.Provider,{scope:n,children:(0,u.jsx)(Bl,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{I(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{I(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:r})}),P?(0,u.jsxs)(Ec,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:p,value:_,onChange:e=>C(e.target.value),disabled:m,form:y,children:[void 0===_?(0,u.jsx)("option",{value:""}):null,Array.from(T)]},D):null]})}))};Wl.displayName=Pl;var ql="SelectTrigger",Hl=t.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1}=e,s=o(e,fl),l=Ll(r),d=zl(ql,r),h=d.disabled||a,f=c(n,d.onTriggerChange),p=Il(r),m=t.useRef("touch"),[g,y,v]=Tc(e=>{const t=p().filter(e=>!e.disabled),n=t.find(e=>e.value===d.value),r=Ic(t,e,n);void 0!==r&&d.onValueChange(r.value)}),x=e=>{h||(d.onOpenChange(!0),v()),e&&(d.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,u.jsx)(ll,(0,i.A)((0,i.A)({asChild:!0},l),{},{children:(0,u.jsx)(Oe.button,(0,i.A)((0,i.A)({type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Pc(d.value)?"":void 0},s),{},{ref:f,onClick:Tt(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&x(e)}),onPointerDown:Tt(s.onPointerDown,e=>{m.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:Tt(s.onKeyDown,e=>{const t=""!==g.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||y(e.key),t&&" "===e.key||Cl.includes(e.key)&&(x(),e.preventDefault())})}))}))});Hl.displayName=ql;var Vl="SelectValue",Kl=t.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:l=""}=e,d=o(e,pl),h=zl(Vl,n),{onValueNodeHasChildrenChange:f}=h,p=void 0!==s,m=c(t,h.onValueNodeChange);return Lt(()=>{f(p)},[f,p]),(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({},d),{},{ref:m,style:{pointerEvents:"none"},children:Pc(h.value)?(0,u.jsx)(u.Fragment,{children:l}):s}))});Kl.displayName=Vl;var $l=t.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,a=o(e,ml);return(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({"aria-hidden":!0},a),{},{ref:t,children:r||"\u25bc"}))});$l.displayName="SelectIcon";var Gl=e=>(0,u.jsx)(fn,(0,i.A)({asChild:!0},e));Gl.displayName="SelectPortal";var Yl="SelectContent",Xl=t.forwardRef((e,n)=>{const r=zl(Yl,e.__scopeSelect),[a,o]=t.useState();if(Lt(()=>{o(new DocumentFragment)},[]),!r.open){const t=a;return t?ke.createPortal((0,u.jsx)(Ql,{scope:e.__scopeSelect,children:(0,u.jsx)(Tl.Slot,{scope:e.__scopeSelect,children:(0,u.jsx)("div",{children:e.children})})}),t):null}return(0,u.jsx)(tc,(0,i.A)((0,i.A)({},e),{},{ref:n}))});Xl.displayName=Yl;var Jl=10,[Ql,Zl]=Ml(Yl),ec=f("SelectContent.RemoveScroll"),tc=t.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:d,side:h,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:w}=e,j=o(e,gl),N=zl(Yl,r),[S,k]=t.useState(null),[A,O]=t.useState(null),_=c(n,e=>k(e)),[C,E]=t.useState(null),[P,T]=t.useState(null),I=Il(r),[D,M]=t.useState(!1),R=t.useRef(!1);t.useEffect(()=>{if(S)return yr(S)},[S]),yn();const L=t.useCallback(e=>{const[t,...n]=I().map(e=>e.ref.current),[r]=n.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(null===i||void 0===i||i.scrollIntoView({block:"nearest"}),i===t&&A&&(A.scrollTop=0),i===r&&A&&(A.scrollTop=A.scrollHeight),null===i||void 0===i||i.focus(),document.activeElement!==a)return}},[I,A]),F=t.useCallback(()=>L([C,S]),[L,C,S]);t.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:z,triggerPointerDownPosRef:B}=N;t.useEffect(()=>{if(S){let e={x:0,y:0};const t=t=>{var n,r,a,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=B.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(i=B.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():S.contains(n.target)||z(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[S,z,B]),t.useEffect(()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[z]);const[U,W]=Tc(e=>{const t=I().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=Ic(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),q=t.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==N.value&&N.value===t||r)&&(E(e),r&&(R.current=!0))},[N.value]),H=t.useCallback(()=>null===S||void 0===S?void 0:S.focus(),[S]),V=t.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==N.value&&N.value===t||r)&&T(e)},[N.value]),K="popper"===a?rc:nc,$=K===rc?{side:h,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:w}:{};return(0,u.jsx)(Ql,{scope:r,content:S,viewport:A,onViewportChange:O,itemRefCallback:q,selectedItem:C,onItemLeave:H,itemTextRefCallback:V,focusSelectedItem:F,selectedItemText:P,position:a,isPositioned:D,searchRef:U,children:(0,u.jsx)(cr,{as:ec,allowPinchZoom:!0,children:(0,u.jsx)(an,{asChild:!0,trapped:N.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Tt(s,e=>{var t;null===(t=N.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,u.jsx)(Xt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:(0,u.jsx)(K,(0,i.A)((0,i.A)((0,i.A)({role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:e=>e.preventDefault()},j),$),{},{onPlaced:()=>M(!0),ref:_,style:(0,i.A)({display:"flex",flexDirection:"column",outline:"none"},j.style),onKeyDown:Tt(j.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||W(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=I().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>L(t)),e.preventDefault()}})}))})})})})});tc.displayName="SelectContentImpl";var nc=t.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a}=e,s=o(e,yl),l=zl(Yl,r),d=Zl(Yl,r),[h,f]=t.useState(null),[p,m]=t.useState(null),g=c(n,e=>m(e)),y=Il(r),v=t.useRef(!1),x=t.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:j,focusSelectedItem:N}=d,S=t.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&p&&b&&w&&j){const e=l.trigger.getBoundingClientRect(),t=p.getBoundingClientRect(),n=l.valueNode.getBoundingClientRect(),r=j.getBoundingClientRect();if("rtl"!==l.dir){const a=r.left-t.left,i=n.left-a,o=e.left-i,s=e.width+o,l=Math.max(s,t.width),c=window.innerWidth-Jl,u=Pi(i,[Jl,Math.max(Jl,c-l)]);h.style.minWidth=s+"px",h.style.left=u+"px"}else{const a=t.right-r.right,i=window.innerWidth-n.right-a,o=window.innerWidth-e.right-i,s=e.width+o,l=Math.max(s,t.width),c=window.innerWidth-Jl,u=Pi(i,[Jl,Math.max(Jl,c-l)]);h.style.minWidth=s+"px",h.style.right=u+"px"}const i=y(),o=window.innerHeight-2*Jl,s=b.scrollHeight,c=window.getComputedStyle(p),u=parseInt(c.borderTopWidth,10),d=parseInt(c.paddingTop,10),f=parseInt(c.borderBottomWidth,10),m=u+d+s+parseInt(c.paddingBottom,10)+f,g=Math.min(5*w.offsetHeight,m),x=window.getComputedStyle(b),N=parseInt(x.paddingTop,10),S=parseInt(x.paddingBottom,10),k=e.top+e.height/2-Jl,A=o-k,O=w.offsetHeight/2,_=u+d+(w.offsetTop+O),C=m-_;if(_<=k){const e=i.length>0&&w===i[i.length-1].ref.current;h.style.bottom="0px";const t=p.clientHeight-b.offsetTop-b.offsetHeight,n=_+Math.max(A,O+(e?S:0)+t+f);h.style.height=n+"px"}else{const e=i.length>0&&w===i[0].ref.current;h.style.top="0px";const t=Math.max(k,u+b.offsetTop+(e?N:0)+O)+C;h.style.height=t+"px",b.scrollTop=_-k+b.offsetTop}h.style.margin="".concat(Jl,"px 0"),h.style.minHeight=g+"px",h.style.maxHeight=o+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>v.current=!0)}},[y,l.trigger,l.valueNode,h,p,b,w,j,l.dir,a]);Lt(()=>S(),[S]);const[k,A]=t.useState();Lt(()=>{p&&A(window.getComputedStyle(p).zIndex)},[p]);const O=t.useCallback(e=>{e&&!0===x.current&&(S(),null===N||void 0===N||N(),x.current=!1)},[S,N]);return(0,u.jsx)(ac,{scope:r,contentWrapper:h,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:(0,u.jsx)("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({},s),{},{ref:g,style:(0,i.A)({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});nc.displayName="SelectItemAlignedPosition";var rc=t.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Jl}=e,s=o(e,vl),l=Ll(n);return(0,u.jsx)(cl,(0,i.A)((0,i.A)((0,i.A)({},l),s),{},{ref:t,align:r,collisionPadding:a,style:(0,i.A)((0,i.A)({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});rc.displayName="SelectPopperPosition";var[ac,ic]=Ml(Yl,{}),oc="SelectViewport",sc=t.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a}=e,s=o(e,xl),l=Zl(oc,r),d=ic(oc,r),h=c(n,l.onViewportChange),f=t.useRef(0);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,u.jsx)(Tl.Slot,{scope:r,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-radix-select-viewport":"",role:"presentation"},s),{},{ref:h,style:(0,i.A)({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:Tt(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=d;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(f.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Jl,a=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),o=Math.max(a,i);if(o<r){const a=o+e,i=Math.min(r,a),s=a-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}f.current=t.scrollTop})}))})]})});sc.displayName=oc;var lc="SelectGroup",[cc,uc]=Ml(lc),dc=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=o(e,bl),a=Bt();return(0,u.jsx)(cc,{scope:n,id:a,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({role:"group","aria-labelledby":a},r),{},{ref:t}))})});dc.displayName=lc;var hc="SelectLabel",fc=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=o(e,wl),a=uc(hc,n);return(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({id:a.id},r),{},{ref:t}))});fc.displayName=hc;var pc="SelectItem",[mc,gc]=Ml(pc),yc=t.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:l}=e,d=o(e,jl),h=zl(pc,r),f=Zl(pc,r),p=h.value===a,[m,g]=t.useState(null!==l&&void 0!==l?l:""),[y,v]=t.useState(!1),x=c(n,e=>{var t;return null===(t=f.itemRefCallback)||void 0===t?void 0:t.call(f,e,a,s)}),b=Bt(),w=t.useRef("touch"),j=()=>{s||(h.onValueChange(a),h.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,u.jsx)(mc,{scope:r,value:a,disabled:s,textId:b,isSelected:p,onItemTextChange:t.useCallback(e=>{g(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,u.jsx)(Tl.ItemSlot,{scope:r,value:a,disabled:s,textValue:m,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},d),{},{ref:x,onFocus:Tt(d.onFocus,()=>v(!0)),onBlur:Tt(d.onBlur,()=>v(!1)),onClick:Tt(d.onClick,()=>{"mouse"!==w.current&&j()}),onPointerUp:Tt(d.onPointerUp,()=>{"mouse"===w.current&&j()}),onPointerDown:Tt(d.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:Tt(d.onPointerMove,e=>{var t;(w.current=e.pointerType,s)?null===(t=f.onItemLeave)||void 0===t||t.call(f):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Tt(d.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=f.onItemLeave)||void 0===t||t.call(f))}),onKeyDown:Tt(d.onKeyDown,e=>{var t;""!==(null===(t=f.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(El.includes(e.key)&&j()," "===e.key&&e.preventDefault())})}))})})});yc.displayName=pc;var vc="SelectItemText",xc=t.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:s}=e,l=o(e,Nl),d=zl(vc,r),h=Zl(vc,r),f=gc(vc,r),p=Ul(vc,r),[m,g]=t.useState(null),y=c(n,e=>g(e),f.onItemTextChange,e=>{var t;return null===(t=h.itemTextRefCallback)||void 0===t?void 0:t.call(h,e,f.value,f.disabled)}),v=null===m||void 0===m?void 0:m.textContent,x=t.useMemo(()=>(0,u.jsx)("option",{value:f.value,disabled:f.disabled,children:v},f.value),[f.disabled,f.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=p;return Lt(()=>(b(x),()=>w(x)),[b,w,x]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({id:f.textId},l),{},{ref:y})),f.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ke.createPortal(l.children,d.valueNode):null]})});xc.displayName=vc;var bc="SelectItemIndicator",wc=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=o(e,Sl);return gc(bc,n).isSelected?(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({"aria-hidden":!0},r),{},{ref:t})):null});wc.displayName=bc;var jc="SelectScrollUpButton",Nc=t.forwardRef((e,n)=>{const r=Zl(jc,e.__scopeSelect),a=ic(jc,e.__scopeSelect),[o,s]=t.useState(!1),l=c(n,a.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,u.jsx)(Ac,(0,i.A)((0,i.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Nc.displayName=jc;var Sc="SelectScrollDownButton",kc=t.forwardRef((e,n)=>{const r=Zl(Sc,e.__scopeSelect),a=ic(Sc,e.__scopeSelect),[o,s]=t.useState(!1),l=c(n,a.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,u.jsx)(Ac,(0,i.A)((0,i.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});kc.displayName=Sc;var Ac=t.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a}=e,s=o(e,kl),l=Zl("SelectScrollButton",r),c=t.useRef(null),d=Il(r),h=t.useCallback(()=>{null!==c.current&&(window.clearInterval(c.current),c.current=null)},[]);return t.useEffect(()=>()=>h(),[h]),Lt(()=>{var e;const t=d().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[d]),(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"aria-hidden":!0},s),{},{ref:n,style:(0,i.A)({flexShrink:0},s.style),onPointerDown:Tt(s.onPointerDown,()=>{null===c.current&&(c.current=window.setInterval(a,50))}),onPointerMove:Tt(s.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===c.current&&(c.current=window.setInterval(a,50))}),onPointerLeave:Tt(s.onPointerLeave,()=>{h()})}))}),Oc=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=o(e,Al);return(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"aria-hidden":!0},r),{},{ref:t}))});Oc.displayName="SelectSeparator";var _c="SelectArrow",Cc=t.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=o(e,Ol),a=Ll(n),s=zl(_c,n),l=Zl(_c,n);return s.open&&"popper"===l.position?(0,u.jsx)(ul,(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{ref:t})):null});Cc.displayName=_c;var Ec=t.forwardRef((e,n)=>{let{__scopeSelect:r,value:a}=e,s=o(e,_l);const l=t.useRef(null),d=c(n,l),h=function(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}(a);return t.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(h!==a&&n){const t=new Event("change",{bubbles:!0});n.call(e,a),e.dispatchEvent(t)}},[h,a]),(0,u.jsx)(Oe.select,(0,i.A)((0,i.A)({},s),{},{style:(0,i.A)((0,i.A)({},dl),s.style),ref:d,defaultValue:a}))});function Pc(e){return""===e||void 0===e}function Tc(e){const n=qt(e),r=t.useRef(""),a=t.useRef(0),i=t.useCallback(e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[n]),o=t.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,i,o]}function Ic(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=function(e,t){return e.map((n,r)=>e[(t+r)%e.length])}(e,Math.max(a,0));1===r.length&&(i=i.filter(e=>e!==n));const o=i.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}Ec.displayName="SelectBubbleInput";var Dc=Wl,Mc=Hl,Rc=Kl,Lc=$l,Fc=Gl,zc=Xl,Bc=sc,Uc=yc,Wc=xc,qc=wc,Hc=Nc,Vc=kc;const Kc=lt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$c=lt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Gc=lt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Yc=["className","size","children"],Xc=["className","children","position"],Jc=["className","children"],Qc=["className"],Zc=["className"];function eu(e){let t=Object.assign({},(Pt(e),e));return(0,u.jsx)(Dc,(0,i.A)({"data-slot":"select"},t))}function tu(e){let t=Object.assign({},(Pt(e),e));return(0,u.jsx)(Rc,(0,i.A)({"data-slot":"select-value"},t))}function nu(e){let{className:t,size:n="default",children:r}=e,a=o(e,Yc);return(0,u.jsxs)(Mc,(0,i.A)((0,i.A)({"data-slot":"select-trigger","data-size":n,className:xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},a),{},{children:[r,(0,u.jsx)(Lc,{asChild:!0,children:(0,u.jsx)(Kc,{className:"size-4 opacity-50"})})]}))}function ru(e){let{className:t,children:n,position:r="popper"}=e,a=o(e,Xc);return(0,u.jsx)(Fc,{children:(0,u.jsxs)(zc,(0,i.A)((0,i.A)({"data-slot":"select-content",className:xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r},a),{},{children:[(0,u.jsx)(iu,{}),(0,u.jsx)(Bc,{className:xe("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),(0,u.jsx)(ou,{})]}))})}function au(e){let{className:t,children:n}=e,r=o(e,Jc);return(0,u.jsxs)(Uc,(0,i.A)((0,i.A)({"data-slot":"select-item",className:xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t)},r),{},{children:[(0,u.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,u.jsx)(qc,{children:(0,u.jsx)($c,{className:"size-4"})})}),(0,u.jsx)(Wc,{children:n})]}))}function iu(e){let{className:t}=e,n=o(e,Qc);return(0,u.jsx)(Hc,(0,i.A)((0,i.A)({"data-slot":"select-scroll-up-button",className:xe("flex cursor-default items-center justify-center py-1",t)},n),{},{children:(0,u.jsx)(Gc,{className:"size-4"})}))}function ou(e){let{className:t}=e,n=o(e,Zc);return(0,u.jsx)(Vc,(0,i.A)((0,i.A)({"data-slot":"select-scroll-down-button",className:xe("flex cursor-default items-center justify-center py-1",t)},n),{},{children:(0,u.jsx)(Kc,{className:"size-4"})}))}const su=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],lu=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var cu="rovingFocusGroup.onEntryFocus",uu={bubbles:!1,cancelable:!0},du="RovingFocusGroup",[hu,fu,pu]=Fi(du),[mu,gu]=Mt(du,[pu]),[yu,vu]=mu(du),xu=t.forwardRef((e,t)=>(0,u.jsx)(hu.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(hu.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(bu,(0,i.A)((0,i.A)({},e),{},{ref:t}))})}));xu.displayName=du;var bu=t.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1}=e,g=o(e,su),y=t.useRef(null),v=c(n,y),x=qi(l),[b,w]=Wt({prop:d,defaultProp:null!==h&&void 0!==h?h:null,onChange:f,caller:du}),[j,N]=t.useState(!1),S=qt(p),k=fu(r),A=t.useRef(!1),[O,_]=t.useState(0);return t.useEffect(()=>{const e=y.current;if(e)return e.addEventListener(cu,S),()=>e.removeEventListener(cu,S)},[S]),(0,u.jsx)(yu,{scope:r,orientation:a,dir:x,loop:s,currentTabStopId:b,onItemFocus:t.useCallback(e=>w(e),[w]),onItemShiftTab:t.useCallback(()=>N(!0),[]),onFocusableItemAdd:t.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>_(e=>e-1),[]),children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({tabIndex:j||0===O?-1:0,"data-orientation":a},g),{},{ref:v,style:(0,i.A)({outline:"none"},e.style),onMouseDown:Tt(e.onMouseDown,()=>{A.current=!0}),onFocus:Tt(e.onFocus,e=>{const t=!A.current;if(e.target===e.currentTarget&&t&&!j){const t=new CustomEvent(cu,uu);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=k().filter(e=>e.focusable);Su([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),m)}}A.current=!1}),onBlur:Tt(e.onBlur,()=>N(!1))}))})}),wu="RovingFocusGroupItem",ju=t.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:l,children:c}=e,d=o(e,lu),h=Bt(),f=l||h,p=vu(wu,r),m=p.currentTabStopId===f,g=fu(r),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:x}=p;return t.useEffect(()=>{if(a)return y(),()=>v()},[a,y,v]),(0,u.jsx)(hu.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:(0,u.jsx)(Oe.span,(0,i.A)((0,i.A)({tabIndex:m?0:-1,"data-orientation":p.orientation},d),{},{ref:n,onMouseDown:Tt(e.onMouseDown,e=>{a?p.onItemFocus(f):e.preventDefault()}),onFocus:Tt(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Tt(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Nu[r]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const r=n.indexOf(e.currentTarget);n=p.loop?function(e,t){return e.map((n,r)=>e[(t+r)%e.length])}(n,r+1):n.slice(r+1)}setTimeout(()=>Su(n))}}),children:"function"===typeof c?c({isCurrentTabStop:m,hasTabStop:null!=x}):c}))})});ju.displayName=wu;var Nu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Su(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var ku=xu,Au=ju;const Ou=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],_u=["__scopeTabs","loop"],Cu=["__scopeTabs","value","disabled"],Eu=["__scopeTabs","value","forceMount","children"];var Pu="Tabs",[Tu,Iu]=Mt(Pu,[gu]),Du=gu(),[Mu,Ru]=Tu(Pu),Lu=t.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:l="horizontal",dir:c,activationMode:d="automatic"}=e,h=o(e,Ou),f=qi(c),[p,m]=Wt({prop:r,onChange:a,defaultProp:null!==s&&void 0!==s?s:"",caller:Pu});return(0,u.jsx)(Mu,{scope:n,baseId:Bt(),value:p,onValueChange:m,orientation:l,dir:f,activationMode:d,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({dir:f,"data-orientation":l},h),{},{ref:t}))})});Lu.displayName=Pu;var Fu="TabsList",zu=t.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0}=e,a=o(e,_u),s=Ru(Fu,n),l=Du(n);return(0,u.jsx)(ku,(0,i.A)((0,i.A)({asChild:!0},l),{},{orientation:s.orientation,dir:s.dir,loop:r,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({role:"tablist","aria-orientation":s.orientation},a),{},{ref:t}))}))});zu.displayName=Fu;var Bu="TabsTrigger",Uu=t.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1}=e,s=o(e,Cu),l=Ru(Bu,n),c=Du(n),d=Hu(l.baseId,r),h=Vu(l.baseId,r),f=r===l.value;return(0,u.jsx)(Au,(0,i.A)((0,i.A)({asChild:!0},c),{},{focusable:!a,active:f,children:(0,u.jsx)(Oe.button,(0,i.A)((0,i.A)({type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d},s),{},{ref:t,onMouseDown:Tt(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(r)}),onKeyDown:Tt(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(r)}),onFocus:Tt(e.onFocus,()=>{const e="manual"!==l.activationMode;f||a||!e||l.onValueChange(r)})}))}))});Uu.displayName=Bu;var Wu="TabsContent",qu=t.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:s,children:l}=e,c=o(e,Eu),d=Ru(Wu,r),h=Hu(d.baseId,a),f=Vu(d.baseId,a),p=a===d.value,m=t.useRef(p);return t.useEffect(()=>{const e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.jsx)(pn,{present:s||p,children:t=>{let{present:r}=t;return(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!r,id:f,tabIndex:0},c),{},{ref:n,style:(0,i.A)((0,i.A)({},e.style),{},{animationDuration:m.current?"0s":void 0}),children:r&&l}))}})});function Hu(e,t){return"".concat(e,"-trigger-").concat(t)}function Vu(e,t){return"".concat(e,"-content-").concat(t)}qu.displayName=Wu;var Ku=Lu,$u=zu,Gu=Uu,Yu=qu;const Xu=["className"],Ju=["className"],Qu=["className"],Zu=["className"];function ed(e){let{className:t}=e,n=o(e,Xu);return(0,u.jsx)(Ku,(0,i.A)({"data-slot":"tabs",className:xe("flex flex-col gap-2",t)},n))}function td(e){let{className:t}=e,n=o(e,Ju);return(0,u.jsx)($u,(0,i.A)({"data-slot":"tabs-list",className:xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t)},n))}function nd(e){let{className:t}=e,n=o(e,Qu);return(0,u.jsx)(Gu,(0,i.A)({"data-slot":"tabs-trigger",className:xe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},n))}function rd(e){let{className:t}=e,n=o(e,Zu);return(0,u.jsx)(Yu,(0,i.A)({"data-slot":"tabs-content",className:xe("flex-1 outline-none",t)},n))}const ad=["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"],id=["__scopeCollapsible"],od=["forceMount"],sd=["__scopeCollapsible","present","children"];var ld="Collapsible",[cd,ud]=Mt(ld),[dd,hd]=cd(ld),fd=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:c}=e,d=o(e,ad),[h,f]=Wt({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:c,caller:ld});return(0,u.jsx)(dd,{scope:r,disabled:l,contentId:Bt(),open:h,onOpenToggle:t.useCallback(()=>f(e=>!e),[f]),children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-state":xd(h),"data-disabled":l?"":void 0},d),{},{ref:n}))})});fd.displayName=ld;var pd="CollapsibleTrigger",md=t.forwardRef((e,t)=>{const{__scopeCollapsible:n}=e,r=o(e,id),a=hd(pd,n);return(0,u.jsx)(Oe.button,(0,i.A)((0,i.A)({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xd(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},r),{},{ref:t,onClick:Tt(e.onClick,a.onOpenToggle)}))});md.displayName=pd;var gd="CollapsibleContent",yd=t.forwardRef((e,t)=>{const{forceMount:n}=e,r=o(e,od),a=hd(gd,e.__scopeCollapsible);return(0,u.jsx)(pn,{present:n||a.open,children:e=>{let{present:n}=e;return(0,u.jsx)(vd,(0,i.A)((0,i.A)({},r),{},{ref:t,present:n}))}})});yd.displayName=gd;var vd=t.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:a,children:s}=e,l=o(e,sd),d=hd(gd,r),[h,f]=t.useState(a),p=t.useRef(null),m=c(n,p),g=t.useRef(0),y=g.current,v=t.useRef(0),x=v.current,b=d.open||h,w=t.useRef(b),j=t.useRef(void 0);return t.useEffect(()=>{const e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),Lt(()=>{const e=p.current;if(e){j.current=j.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();g.current=t.height,v.current=t.width,w.current||(e.style.transitionDuration=j.current.transitionDuration,e.style.animationName=j.current.animationName),f(a)}},[d.open,a]),(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-state":xd(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!b},l),{},{ref:m,style:(0,i.A)({"--radix-collapsible-content-height":y?"".concat(y,"px"):void 0,"--radix-collapsible-content-width":x?"".concat(x,"px"):void 0},e.style),children:b&&s}))});function xd(e){return e?"open":"closed"}var bd=fd;function wd(e){let t=Object.assign({},(Pt(e),e));return(0,u.jsx)(bd,(0,i.A)({"data-slot":"collapsible"},t))}function jd(e){let t=Object.assign({},(Pt(e),e));return(0,u.jsx)(md,(0,i.A)({"data-slot":"collapsible-trigger"},t))}function Nd(e){let t=Object.assign({},(Pt(e),e));return(0,u.jsx)(yd,(0,i.A)({"data-slot":"collapsible-content"},t))}const Sd=lt("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),kd=lt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ad=lt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Od=lt("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_d=lt("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Cd(e){let{attachments:n=[],onAttachmentsChange:r,currentUser:a="Unknown User",maxFileSize:i=5,allowedTypes:o=["image/*","application/pdf",".doc",".docx",".xls",".xlsx",".txt"],disabled:s=!1,onUpload:l}=e;const c=(0,t.useRef)(null),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),y=Array.isArray(n)?n:[],v=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},x=e=>e.startsWith("image/")||"application/pdf"===e||e.startsWith("text/");return(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{ref:c,type:"file",multiple:!0,accept:o.join(","),onChange:async e=>{const t=e.target.files;if(t&&0!==t.length){p(null),h(!0);try{const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(r.size>1024*i*1024){p('File "'.concat(r.name,'" is too large. Maximum size is ').concat(i,"MB."));continue}if(!o.some(e=>e.includes("*")?r.type.startsWith(e.replace("*","")):r.type===e||r.name.toLowerCase().endsWith(e))){p('File "'.concat(r.name,'" is not a supported file type.'));continue}const s=await new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}),l={id:"file_".concat(Date.now(),"_").concat(n),name:r.name,size:r.size,type:r.type,data:s,uploadedAt:(new Date).toISOString(),uploadedBy:a};e.push(l)}e.length>0&&(l?l(e):r([...y,...e]))}catch($I){p("Failed to upload files. Please try again."),console.error("File upload error:",$I)}finally{h(!1),c.current&&(c.current.value="")}}},className:"hidden",disabled:s}),(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:d||s,className:"w-full",children:d?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Sd,{className:"w-4 h-4 mr-2"}),"Upload Files"]})}),f&&(0,u.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md flex items-center space-x-2",children:[(0,u.jsx)(kd,{className:"w-4 h-4 text-red-600"}),(0,u.jsx)("span",{className:"text-sm text-red-700",children:f}),(0,u.jsx)(je,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"ml-auto p-1 h-auto",children:(0,u.jsx)(fa,{className:"w-3 h-3"})})]}),(0,u.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum file size: ",i,"MB. Supported formats: Images, PDF, Documents, Spreadsheets"]})]}),y&&y.length>0&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("h4",{className:"font-medium text-gray-900",children:["Attached Files (",y.length,")"]}),(0,u.jsx)("div",{className:"space-y-2",children:y.map(e=>{return(0,u.jsx)(ze,{className:"p-3",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,u.jsx)("span",{className:"text-lg",children:(t=e.type,t.startsWith("image/")?"\ud83d\uddbc\ufe0f":"application/pdf"===t?"\ud83d\udcc4":t.includes("word")||t.includes("doc")?"\ud83d\udcdd":t.includes("sheet")||t.includes("excel")?"\ud83d\udcca":t.includes("text")?"\ud83d\udcc4":"\ud83d\udcc1")}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,u.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,u.jsx)("span",{children:v(e.size)}),(0,u.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,u.jsx)("span",{children:new Date(e.uploadedAt).toLocaleDateString()})]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[x(e.type)&&(0,u.jsx)(je,{variant:"ghost",size:"sm",onClick:()=>(e=>{g(e)})(e),className:"p-2",children:(0,u.jsx)(Ad,{className:"w-4 h-4"})}),(0,u.jsx)(je,{variant:"ghost",size:"sm",onClick:()=>(e=>{try{const t=document.createElement("a");t.href=e.data,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(f){console.error("Download error:",f),p("Failed to download file.")}})(e),className:"p-2",children:(0,u.jsx)(Od,{className:"w-4 h-4"})}),!s&&(0,u.jsx)(je,{variant:"ghost",size:"sm",onClick:()=>(e=>{try{const t=y.filter(t=>t.id!==e);r(t)}catch(f){console.error("Delete error:",f),p("Failed to delete file.")}})(e.id),className:"p-2 text-red-600 hover:text-red-700",children:(0,u.jsx)(_d,{className:"w-4 h-4"})})]})]})},e.id);var t})})]}),m&&(0,u.jsx)(ba,{open:!!m,onOpenChange:()=>g(null),children:(0,u.jsxs)(Sa,{className:"max-w-4xl max-h-[80vh]",children:[(0,u.jsx)(ka,{children:(0,u.jsx)(Aa,{children:m.name})}),(0,u.jsxs)("div",{className:"overflow-auto",children:[m.type.startsWith("image/")&&(0,u.jsx)("img",{src:m.data,alt:m.name,className:"max-w-full h-auto"}),"application/pdf"===m.type&&(0,u.jsx)("iframe",{src:m.data,className:"w-full h-96",title:m.name}),m.type.startsWith("text/")&&(0,u.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,u.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:(0,u.jsx)("p",{className:"text-gray-600",children:"Text file preview not available. Please download to view."})})})]})]})})]})}function Ed(e){let{children:n}=e;const[r,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(!1),s=(0,t.useCallback)(e=>{a(e),console.error("\ud83d\udd34 Application Error:",e)},[]),l=(0,t.useCallback)(()=>{a("")},[]);return(0,u.jsxs)(u.Fragment,{children:[r&&(0,u.jsx)("div",{className:"fixed top-4 right-4 left-4 md:left-auto md:max-w-md z-50",children:(0,u.jsxs)($e,{className:"border-red-200 bg-red-50 shadow-lg",children:[(0,u.jsx)(ct,{className:"h-5 w-5 text-red-500"}),(0,u.jsx)(Ge,{className:"text-red-800 pr-8",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"font-medium mb-1",children:"Database Error"}),(0,u.jsx)("p",{className:"text-sm",children:r}),(0,u.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,u.jsx)(je,{size:"sm",variant:"outline",onClick:async()=>{o(!0);try{await Qe.db.isHealthy()?l():a("Database connection is still unavailable. Please try again later.")}catch(r){const t=r instanceof Error?r.message:"Unknown error occurred";a("Connection retry failed: ".concat(t))}finally{o(!1)}},disabled:i,className:"h-7 px-2 text-xs border-red-300 text-red-700 hover:bg-red-100",children:i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ht,{className:"w-3 h-3 mr-1"}),"Retry"]})}),(0,u.jsx)(je,{size:"sm",variant:"ghost",onClick:l,className:"h-7 px-2 text-xs text-red-700 hover:bg-red-100",children:"Dismiss"})]})]}),(0,u.jsx)(je,{size:"sm",variant:"ghost",onClick:l,className:"h-6 w-6 p-0 text-red-500 hover:bg-red-100",children:(0,u.jsx)(fa,{className:"w-4 h-4"})})]})})]})}),n(s,l)]})}function Pd(e){const t=t=>(0,u.jsx)(Ed,{children:(n,r)=>(0,u.jsx)(e,(0,i.A)((0,i.A)({},t),{},{showError:n,clearError:r}))});return t.displayName="withErrorHandler(".concat(e.displayName||e.name,")"),t}const Td=lt("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Id=lt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Dd=lt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Md=lt("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),Rd=lt("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Ld=lt("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Fd=lt("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),zd=lt("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Bd=lt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ud=lt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Wd=lt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qd=lt("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),Hd=lt("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Vd=lt("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);const Kd=Pd(function(e){let{user:n,showError:r,clearError:a}=e;const[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null),[N,S]=(0,t.useState)(null),[k,A]=(0,t.useState)(null),[O,_]=(0,t.useState)(!0),[C,E]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),[I,D]=(0,t.useState)(null),[M,R]=(0,t.useState)({name:"",email:"",phone:"",agentId:"",vip_level:"silver",status:"active"}),[L,F]=(0,t.useState)({passportNumber:"",idNumber:"",nationality:"",dateOfBirth:"",address:"",occupation:"",hobby:"",gamingPreferences:"",emergencyContact:"",emergencyPhone:"",maritalStatus:"",educationLevel:"",incomeRange:"",preferredLanguage:"English",notes:"",specialRequirements:""}),z=(0,t.useCallback)(async()=>{try{E(!0),a(),console.log("\ud83d\udd04 Loading real-time customer data from Supabase...");const[e,t,n,r,o]=await Promise.all([Qe.db.get("customers",[]),Qe.db.get("agents",[]),Qe.db.get("trips",[]),Qe.db.get("rollingRecords",[]),Qe.db.get("buyInOutRecords",[])]),l=e.map(async e=>{try{const t=await Ze.apiClient.getCustomerDetails(e.id);return{customerId:e.id,details:t.success?t.data:null}}catch(t){return console.log("No details found for customer ".concat(e.id)),{customerId:e.id,details:null}}}),u=await Promise.all(l),d=new Map;u.forEach(e=>{e.details&&d.set(e.customerId,e.details)}),console.log("\ud83d\udd0d Customer details loaded:",u.length,"customers"),console.log("\ud83d\udd0d Customer details map size:",d.size),d.size>0&&console.log("\ud83d\udd0d Sample customer details:",Array.from(d.entries())[0]);const y=e.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=o.filter(t=>t.customerId===e.id),a=f.reduce((e,t)=>e+t.amount,0),s=(m.reduce((e,t)=>e+t.amount,0),t.reduce((e,t)=>e+(t.winLoss||0),0)),l=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),c=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),u=d.get(e.id);return u&&console.log("\ud83d\udd0d Customer ".concat(e.name," has details:"),u),(0,i.A)((0,i.A)({},e),{},{totalRolling:a,totalWinLoss:s,totalBuyIn:l,totalBuyOut:c,details:u,attachments:(null===u||void 0===u?void 0:u.attachments)||[],isAgent:e.isAgent||!1,sourceAgentId:e.sourceAgentId||void 0,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),v=n.map(e=>{var t;return(0,i.A)((0,i.A)({},e),{},{calculatedTotalRolling:.014*(e.totalRolling||0),attachments:e.attachments||[],customers:(null===(t=e.customers)||void 0===t?void 0:t.map(t=>{const n=r.filter(n=>n.customerId===t.customerId&&n.recordedAt>=e.date).reduce((e,t)=>e+(t.winLoss||0),0);return(0,i.A)((0,i.A)({},t),{},{winLoss:n,rollingPercentage:t.rollingPercentage||1.4,calculatedRollingAmount:t.calculatedRollingAmount||.014*(t.rollingAmount||0)})}))||[]})});s(y),c(t),h(v),p(r),g(o),D(new Date),console.log("\u2705 Loaded real-time data: ".concat(y.length," customers, ").concat(t.length," agents, ").concat(v.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time customer data:",e),r("Failed to load customer data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{_(!1),E(!1)}},[a,r]);(0,t.useEffect)(()=>{z();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time customer data refresh triggered"),z()},3e4);return()=>{clearInterval(e)}},[z]);const B="agent"===n.role&&n.agentId?o.filter(e=>e.agentId===n.agentId):o,U=async e=>{try{const t=o.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{isActive:!t.isActive}):t);await(async e=>{try{T(!0),a(),console.log("\ud83d\udcbe Saving customers to Supabase..."),await Qe.db.save("customers",e),s(e),console.log("\u2705 Successfully saved customers to Supabase"),await z()}catch(t){throw console.error("\u274c Error saving customers:",t),r("Failed to save customer data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}finally{T(!1)}})(t)}catch(t){}},W=async(e,t)=>{try{console.log("\ud83d\udd0d Frontend - Updating customer attachments:",e,t.length);const n=o.map(n=>n.id===e?(0,i.A)((0,i.A)({},n),{},{attachments:t}):n);s(n);const r=await Ze.apiClient.uploadCustomerAttachments(e,t);if(!r.success)throw new Error(r.error||"Failed to upload attachments");console.log("\u2705 Customer attachments updated successfully"),await z()}catch(n){console.error("\u274c Error updating customer attachments:",n),r("Failed to update attachments: ".concat(n instanceof Error?n.message:"Unknown error occurred")),await z()}},q="agent"===n.role&&n.agentId?l.filter(e=>e.id===n.agentId):l.filter(e=>"active"===e.status),H=e=>{switch(e){case"planned":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=e=>0===e?{text:"Break Even",icon:xt,bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}:e>0?{text:"Customer Win",icon:bt,bgColor:"bg-green-100",textColor:"text-green-700",iconColor:"text-green-600"}:{text:"House Win",icon:Td,bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"},K="admin"===n.role,$="agent"===n.role,G="staff"===n.role;return O?(0,u.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Loading real-time customer data from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Customer Data Connected to Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:["Rolling amounts, win/loss, and trip data update automatically every 30 seconds",I&&" \u2022 Last sync: ".concat(I.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[P&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]}),C&&(0,u.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-1 animate-spin"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:z,disabled:P||C,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,u.jsxs)($e,{children:[(0,u.jsx)(mt,{className:"w-4 h-4"}),(0,u.jsxs)(Ge,{children:[(0,u.jsx)("strong",{children:"Enhanced Customer Management:"})," Real-time rolling amounts and win/loss calculations, full customer profile editing with credit limits, and live trip history updates."]})]}),G&&(0,u.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(Ad,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Customer Information - View Only"}),(0,u.jsx)("p",{className:"text-xs text-blue-600",children:"You have read-only access to customer information, trip history, and documents."})]})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Customer Management"}),(0,u.jsx)("p",{className:"text-gray-600",children:$?"Manage your customers with real-time rolling data and complete profile editing":G?"View customer information, real-time data, and trip history":"Manage all customers with live data updates and comprehensive profile management"})]}),(K||$)&&(0,u.jsxs)(ba,{open:y,onOpenChange:v,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{onClick:()=>{j(null),R({name:"",email:"",phone:"",agentId:"agent"===n.role&&n.agentId?n.agentId:"",vip_level:"Silver",status:"active"}),v(!0)},disabled:P,children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:w?"Edit Customer":"Add New Customer"}),(0,u.jsx)(Oa,{children:w?"Update basic customer information":"Add a new customer with basic details. You can add extended details after creation."})]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!l.find(e=>e.id===M.agentId))return void r("Please select a valid agent");if(w){const e={name:M.name,email:M.email,phone:M.phone||null,vip_level:M.vip_level||"Silver",status:M.status||"active"},t=await Ze.apiClient.updateCustomer(w.id,e);if(!t.success)throw new Error(t.error||"Failed to update customer");await z()}else{const e={name:M.name,email:M.email,phone:M.phone||null,agent_id:M.agentId,vip_level:M.vip_level||"Silver",status:M.status||"active"},t=await Ze.apiClient.createCustomer(e);if(!t.success)throw new Error(t.error||"Failed to create customer 1");await z()}R({name:"",email:"",phone:"",agentId:"",vip_level:"Silver",status:"active"}),j(null),v(!1)}catch(t){}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"name",children:"Name"}),(0,u.jsx)(Se,{id:"name",value:M.name,onChange:e=>R((0,i.A)((0,i.A)({},M),{},{name:e.target.value})),placeholder:"Customer full name",required:!0,disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"email",children:"Email"}),(0,u.jsx)(Se,{id:"email",type:"email",value:M.email,onChange:e=>R((0,i.A)((0,i.A)({},M),{},{email:e.target.value})),placeholder:"customer@email.com",required:!0,disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"phone",children:"Phone"}),(0,u.jsx)(Se,{id:"phone",value:M.phone,onChange:e=>R((0,i.A)((0,i.A)({},M),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"agent",children:"Agent"}),(0,u.jsxs)(eu,{value:M.agentId,onValueChange:e=>R((0,i.A)((0,i.A)({},M),{},{agentId:e})),disabled:"agent"===n.role||P,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select an agent"})}),(0,u.jsx)(ru,{children:q.map(e=>(0,u.jsx)(au,{value:e.id,children:e.name},e.id))})]})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:P,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:P,children:P?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,u.jsxs)(u.Fragment,{children:[w?"Update":"Add"," Customer"]})})]})]})]})]})]}),(0,u.jsx)("div",{className:"grid gap-6",children:0===B.length?(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"text-center py-12",children:(0,u.jsxs)("p",{className:"text-gray-500",children:["No customers found. ",G?"Contact an administrator to add customers.":"Add your first customer to get started."]})})}):B.map(e=>{var t,a,i,s,l,c,h,p,g,y,x;const w=(e=>{const t=[];return d.forEach(n=>{var r;const a=null===(r=n.customers)||void 0===r?void 0:r.find(t=>t.customerId===e);a&&t.push({tripId:n.id,tripName:n.name,tripDate:n.date,tripStatus:n.status,agentName:n.agentName||"Unknown Agent",customerData:a})}),t.sort((e,t)=>new Date(t.tripDate||"").getTime()-new Date(e.tripDate||"").getTime())})(e.id),N=(O=e.id,f.filter(e=>e.customerId===O).sort((e,t)=>new Date(t.recordedAt).getTime()-new Date(e.recordedAt).getTime()));var O;const _=(e=>m.filter(t=>t.customerId===e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()))(e.id),C=k===e.id;return(0,u.jsx)(wd,{open:C,onOpenChange:()=>(e=>{A(k===e?null:e)})(e.id),children:(0,u.jsxs)(ze,{className:"overflow-hidden",children:[(0,u.jsx)(jd,{asChild:!0,children:(0,u.jsx)(Be,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:e.name}),(0,u.jsx)(Je,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),e.attachments&&e.attachments.length>0&&(0,u.jsxs)(Je,{variant:"outline",className:"flex items-center space-x-1",children:[(0,u.jsx)(Md,{className:"w-3 h-3"}),(0,u.jsx)("span",{children:e.attachments.length})]}),w.length>0&&(0,u.jsxs)(Je,{variant:"outline",className:"flex items-center space-x-1",children:[(0,u.jsx)(Ot,{className:"w-3 h-3"}),(0,u.jsxs)("span",{children:[w.length," trips"]})]}),N.length>0&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,u.jsx)(Rd,{className:"w-3 h-3 mr-1"}),N.length," records"]}),e.isAgent&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,u.jsx)(At,{className:"w-3 h-3 mr-1"}),"Agent"]}),G&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,u.jsx)(Ad,{className:"w-3 h-3 mr-1"}),"View Only"]}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,u.jsx)(jt,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),(0,u.jsxs)(We,{children:["Customer since ",e.createdAt," \u2022 Agent: ",e.agentName]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-2",children:C?(0,u.jsx)(Gc,{className:"w-5 h-5 text-gray-400"}):(0,u.jsx)(Kc,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Ld,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"text-sm",children:e.email})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Phone:"}),(0,u.jsx)("span",{className:"text-sm",children:e.phone})]}),(()=>{const t=e.details;return console.log("\ud83d\udd0d UI Render - Customer ".concat(e.name," details:"),t),t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Nationality:"}),(0,u.jsx)("span",{className:"text-sm",children:t.nationality||"Not provided"})]}),t.passport_number&&(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Passport:"}),(0,u.jsx)("span",{className:"text-sm",children:t.passport_number})]})]}):(0,u.jsx)("div",{className:"flex items-center space-x-2",children:(0,u.jsx)("span",{className:"text-sm text-gray-400",children:"No details available"})})})(),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(St,{className:"w-4 h-4 text-blue-600"}),(0,u.jsxs)("span",{className:"text-sm font-medium",children:["Rolling: $",(e.totalRolling||0).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(e.totalWinLoss||0)>=0?(0,u.jsx)(bt,{className:"w-4 h-4 text-green-600"}):(0,u.jsx)(Td,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)("span",{className:"text-sm font-medium ".concat((e.totalWinLoss||0)>=0?"text-green-600":"text-red-600"),children:["W/L: $",(e.totalWinLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Fd,{className:"w-4 h-4 text-purple-600"}),(0,u.jsxs)("span",{className:"text-sm",children:["Cash: $",((e.totalBuyOut||0)-(e.totalBuyIn||0)).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(zd,{className:"w-4 h-4 text-orange-600"}),(0,u.jsxs)("span",{className:"text-sm",children:["Credit: $",(e.creditLimit||0).toLocaleString()]})]})]}),(K||$)&&(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(e=>{j(e),R({name:e.name,email:e.email,phone:e.phone,agentId:e.agentId,vip_level:e.vip_level||"Silver",status:e.status||"active"}),v(!0)})(e),disabled:P,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Edit Basic Info"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(async e=>{S(e);try{const t=await Ze.apiClient.getCustomerDetails(e.id);if(t.success&&t.data){const e=t.data;F({passportNumber:e.passport_number||"",idNumber:e.id_number||"",nationality:e.nationality||"",dateOfBirth:e.date_of_birth||"",address:e.address||"",occupation:e.occupation||"",hobby:e.hobby||"",gamingPreferences:e.gaming_preferences||"",emergencyContact:e.emergency_contact||"",emergencyPhone:e.emergency_phone||"",maritalStatus:e.marital_status||"",educationLevel:e.education_level||"",incomeRange:e.income_range||"",preferredLanguage:e.preferred_language||"English",notes:e.notes||"",specialRequirements:e.special_requirements||""})}else F({passportNumber:"",idNumber:"",nationality:"",dateOfBirth:"",address:"",occupation:"",hobby:"",gamingPreferences:"",emergencyContact:"",emergencyPhone:"",maritalStatus:"",educationLevel:"",incomeRange:"",preferredLanguage:"English",notes:"",specialRequirements:""})}catch(t){console.error("Error loading customer details:",t),r("Failed to load customer details"),F({passportNumber:"",idNumber:"",nationality:"",dateOfBirth:"",address:"",occupation:"",hobby:"",gamingPreferences:"",emergencyContact:"",emergencyPhone:"",maritalStatus:"",educationLevel:"",incomeRange:"",preferredLanguage:"English",notes:"",specialRequirements:""})}b(!0)})(e),disabled:P,children:[(0,u.jsx)(Ud,{className:"w-4 h-4 mr-2"}),"Edit Details"]}),e.isActive?(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsx)(je,{variant:"destructive",size:"sm",disabled:P,children:"Deactivate"})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Deactivate Customer"}),(0,u.jsxs)(_i,{children:['Are you sure you want to deactivate "',e.name,'"? Deactivated customers will no longer be able to participate in new trips or transactions, but their existing data and trip history will be preserved.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>U(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:P,children:P?"Saving...":"Deactivate Customer"})]})]})]}):(0,u.jsx)(je,{variant:"default",size:"sm",onClick:()=>U(e.id),disabled:P,children:P?"Saving...":"Activate"})]}),(0,u.jsx)(Nd,{className:"mt-6",children:(0,u.jsxs)(ed,{defaultValue:"info",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-5",children:[(0,u.jsxs)(nd,{value:"info",className:"flex items-center space-x-2",children:[(0,u.jsx)(Wd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Profile"})]}),(0,u.jsxs)(nd,{value:"trips",className:"flex items-center space-x-2",children:[(0,u.jsx)(Ot,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Trips (",w.length,")"]})]}),(0,u.jsxs)(nd,{value:"rolling",className:"flex items-center space-x-2",children:[(0,u.jsx)(Rd,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Rolling (",N.length,")"]})]}),(0,u.jsxs)(nd,{value:"cash",className:"flex items-center space-x-2",children:[(0,u.jsx)(Fd,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Cash Flow (",_.length,")"]})]}),(0,u.jsxs)(nd,{value:"files",className:"flex items-center space-x-2",children:[(0,u.jsx)(Md,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,u.jsxs)(rd,{value:"info",className:"space-y-4 mt-6",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,u.jsx)(Wd,{className:"w-4 h-4 mr-2"}),"Basic Information"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,u.jsx)("p",{className:"text-lg",children:e.name})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,u.jsx)("p",{children:e.email})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,u.jsx)("p",{children:e.phone})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Agent"}),(0,u.jsx)("p",{children:e.agentName})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,u.jsx)(Je,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,u.jsx)("p",{children:e.createdAt})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,u.jsx)(qd,{className:"w-4 h-4 mr-2"}),"Identity & Personal"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Passport Number"}),(0,u.jsx)("p",{children:(null===(a=e.details)||void 0===a?void 0:a.passport_number)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"ID Number"}),(0,u.jsx)("p",{children:(null===(i=e.details)||void 0===i?void 0:i.id_number)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Nationality"}),(0,u.jsx)("p",{children:(null===(s=e.details)||void 0===s?void 0:s.nationality)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,u.jsx)("p",{children:(null===(l=e.details)||void 0===l?void 0:l.date_of_birth)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,u.jsx)("p",{children:(null===(c=e.details)||void 0===c?void 0:c.address)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Occupation"}),(0,u.jsx)("p",{children:(null===(h=e.details)||void 0===h?void 0:h.occupation)||"Not provided"})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,u.jsx)(Hd,{className:"w-4 h-4 mr-2"}),"Preferences & Financial"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Hobby"}),(0,u.jsx)("p",{children:(null===(p=e.details)||void 0===p?void 0:p.hobby)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Gaming Preferences"}),(0,u.jsx)("p",{children:(null===(g=e.details)||void 0===g?void 0:g.gaming_preferences)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Credit Limit"}),(0,u.jsxs)("p",{className:"font-medium",children:["$",(e.creditLimit||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Available Credit"}),(0,u.jsxs)("p",{className:"font-medium",children:["$",(e.availableCredit||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Emergency Contact"}),(0,u.jsx)("p",{children:(null===(y=e.details)||void 0===y?void 0:y.emergency_contact)||"Not provided"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Emergency Phone"}),(0,u.jsx)("p",{children:(null===(x=e.details)||void 0===x?void 0:x.emergency_phone)||"Not provided"})]})]})]}),(0,u.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Real-time Financial Summary"]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Total Rolling"}),(0,u.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["$",(e.totalRolling||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Total Win/Loss"}),(0,u.jsxs)("p",{className:"text-xl font-bold ".concat((e.totalWinLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.totalWinLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Buy-in Total"}),(0,u.jsxs)("p",{className:"text-xl font-bold text-blue-500",children:["$",(e.totalBuyIn||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Buy-out Total"}),(0,u.jsxs)("p",{className:"text-xl font-bold text-purple-500",children:["$",(e.totalBuyOut||0).toLocaleString()]})]})]})]})]}),(0,u.jsx)(rd,{value:"trips",className:"space-y-4 mt-6",children:0===w.length?(0,u.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,u.jsx)(Ot,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,u.jsx)("p",{children:"No trip history available"})]}):(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Trip Participation History"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,u.jsx)(jt,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),w.map(e=>{const t=V(e.customerData.winLoss||0),n=t.icon;return(0,u.jsx)(ze,{className:"p-4",children:(0,u.jsx)("div",{className:"flex justify-between items-start",children:(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)("h5",{className:"font-medium",children:e.tripName}),(0,u.jsx)(Je,{className:H(e.tripStatus),children:e.tripStatus}),(0,u.jsxs)(Je,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,u.jsx)(n,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,u.jsx)("span",{children:t.text})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Date"}),(0,u.jsx)("p",{children:e.tripDate})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Rolling Amount"}),(0,u.jsxs)("p",{className:"font-medium",children:["$",(e.customerData.rollingAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Win/Loss (Real-time)"}),(0,u.jsxs)("p",{className:"font-medium ".concat((e.customerData.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.customerData.winLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Agent"}),(0,u.jsx)("p",{children:e.agentName})]})]})]})})},e.tripId)})]})}),(0,u.jsx)(rd,{value:"rolling",className:"space-y-4 mt-6",children:0===N.length?(0,u.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,u.jsx)(Rd,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,u.jsx)("p",{children:"No rolling records available"})]}):(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Rolling Records"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,u.jsx)(jt,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),N.slice(0,10).map(e=>{const t=V(e.winLoss||0),n=t.icon;return(0,u.jsx)(ze,{className:"p-4",children:(0,u.jsx)("div",{className:"flex justify-between items-start",children:(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)("h5",{className:"font-medium",children:e.gameType}),e.verified&&(0,u.jsxs)(Je,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,u.jsx)(mt,{className:"w-3 h-3 mr-1"}),"Verified"]}),(0,u.jsxs)(Je,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,u.jsx)(n,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,u.jsx)("span",{children:t.text})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Rolling Amount"}),(0,u.jsxs)("p",{className:"font-medium",children:["$",(e.rollingAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Win/Loss"}),(0,u.jsxs)("p",{className:"font-medium ".concat((e.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.winLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Buy-in"}),(0,u.jsxs)("p",{className:"font-medium text-blue-600",children:["$",(e.buyInAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Buy-out"}),(0,u.jsxs)("p",{className:"font-medium text-purple-600",children:["$",(e.buyOutAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Recorded"}),(0,u.jsx)("p",{children:new Date(e.recordedAt).toLocaleDateString()})]})]})]})})},e.id)}),N.length>10&&(0,u.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Showing 10 most recent records out of ",N.length," total"]})]})}),(0,u.jsx)(rd,{value:"cash",className:"space-y-4 mt-6",children:0===_.length?(0,u.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,u.jsx)(Fd,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,u.jsx)("p",{children:"No cash flow records available"})]}):(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Cash Flow Records"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700",children:[(0,u.jsx)(jt,{className:"w-3 h-3 mr-1"}),"Live Data"]})]}),_.slice(0,10).map(e=>(0,u.jsx)(ze,{className:"p-4",children:(0,u.jsx)("div",{className:"flex justify-between items-start",children:(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)("h5",{className:"font-medium capitalize",children:e.transactionType}),(0,u.jsxs)(Je,{variant:"outline",className:"buy-in"===e.transactionType?"bg-blue-50 text-blue-700":"bg-purple-50 text-purple-700",children:["buy-in"===e.transactionType?(0,u.jsx)(Vd,{className:"w-3 h-3 mr-1"}):(0,u.jsx)(kt,{className:"w-3 h-3 mr-1"}),e.transactionType]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Amount"}),(0,u.jsxs)("p",{className:"font-medium ".concat("buy-in"===e.transactionType?"text-blue-600":"text-purple-600"),children:["$",e.amount.toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Venue"}),(0,u.jsx)("p",{children:e.venue||"Not specified"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Staff"}),(0,u.jsx)("p",{children:e.staffName})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Date"}),(0,u.jsx)("p",{children:new Date(e.timestamp).toLocaleDateString()})]})]})]})})},e.id)),_.length>10&&(0,u.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Showing 10 most recent records out of ",_.length," total"]})]})}),(0,u.jsxs)(rd,{value:"files",className:"space-y-4 mt-6",children:[!G&&(0,u.jsx)(Cd,{attachments:e.attachments||[],onAttachmentsChange:t=>W(e.id,t),onUpload:t=>(async(e,t)=>{try{console.log("\ud83d\udd0d Frontend - Uploading new files:",e,t.length);const n=o.find(t=>t.id===e);if(!n)throw new Error("Customer not found");const r=[...n.attachments||[],...t];await W(e,r)}catch(n){console.error("\u274c Error uploading files:",n),r("Failed to upload files: ".concat(n instanceof Error?n.message:"Unknown error occurred"))}})(e.id,t),disabled:G,currentUser:n.username||n.email||"Unknown User"}),e.attachments&&e.attachments.length>0&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("h4",{className:"font-medium text-gray-900",children:"Attached Files"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.attachments.map(e=>(0,u.jsxs)(ze,{className:"p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Md,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(1)," KB \u2022 ",new Date(e.uploadedAt).toLocaleDateString()]})]})]}),e.type.startsWith("image/")&&(0,u.jsx)("img",{src:e.data,alt:e.name,className:"mt-2 w-full h-32 object-cover rounded"})]},e.id))})]})]})]})})]})]})},e.id)})}),(0,u.jsx)(ba,{open:x,onOpenChange:b,children:(0,u.jsxs)(Sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Edit Customer Details"}),(0,u.jsx)(Oa,{children:"Update comprehensive customer information"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N)try{const e={passport_number:L.passportNumber||null,id_number:L.idNumber||null,nationality:L.nationality||null,date_of_birth:L.dateOfBirth||null,address:L.address||null,occupation:L.occupation||null,hobby:L.hobby||null,gaming_preferences:L.gamingPreferences||null,emergency_contact:L.emergencyContact||null,emergency_phone:L.emergencyPhone||null,marital_status:L.maritalStatus||null,education_level:L.educationLevel||null,income_range:L.incomeRange||null,preferred_language:L.preferredLanguage||"English",notes:L.notes||null,special_requirements:L.specialRequirements||null};console.log("\ud83d\udd0d Frontend - updateData being sent:",e),console.log("\ud83d\udd0d Frontend - Customer ID:",N.id),console.log("\ud83d\udd0d Frontend - Form data:",L);const t=await Ze.apiClient.updateCustomerDetails(N.id,e);if(!t.success)throw new Error(t.error||"Failed to update customer details");if(console.log("\u2705 Customer details saved successfully"),await z(),N){const e=await Ze.apiClient.getCustomerDetails(N.id);if(e.success&&e.data){console.log("\u2705 Loaded updated customer details:",e.data);const t=e.data;F({passportNumber:t.passport_number||"",idNumber:t.id_number||"",nationality:t.nationality||"",dateOfBirth:t.date_of_birth||"",address:t.address||"",occupation:t.occupation||"",hobby:t.hobby||"",gamingPreferences:t.gaming_preferences||"",emergencyContact:t.emergency_contact||"",emergencyPhone:t.emergency_phone||"",maritalStatus:t.marital_status||"",educationLevel:t.education_level||"",incomeRange:t.income_range||"",preferredLanguage:t.preferred_language||"English",notes:t.notes||"",specialRequirements:t.special_requirements||""});const n=o.find(e=>e.id===N.id);n&&S((0,i.A)({},n))}}b(!1),S(null)}catch(t){console.error("Error updating customer details:",t),r("Failed to update customer details: ".concat(t instanceof Error?t.message:"Unknown error occurred"))}},className:"space-y-6",children:[(0,u.jsxs)(ed,{defaultValue:"identity",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-3",children:[(0,u.jsx)(nd,{value:"identity",children:"Identity & Personal"}),(0,u.jsx)(nd,{value:"preferences",children:"Preferences & Lifestyle"}),(0,u.jsx)(nd,{value:"additional",children:"Additional Details"})]}),(0,u.jsx)(rd,{value:"identity",className:"space-y-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"passportNumber",children:"Passport Number"}),(0,u.jsx)(Se,{id:"passportNumber",value:L.passportNumber,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{passportNumber:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"idNumber",children:"ID Number"}),(0,u.jsx)(Se,{id:"idNumber",value:L.idNumber,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{idNumber:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"nationality",children:"Nationality"}),(0,u.jsx)(Se,{id:"nationality",value:L.nationality,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{nationality:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,u.jsx)(Se,{id:"dateOfBirth",type:"date",value:L.dateOfBirth,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{dateOfBirth:e.target.value})),disabled:P})]}),(0,u.jsxs)("div",{className:"col-span-2",children:[(0,u.jsx)(Pe,{htmlFor:"address",children:"Address"}),(0,u.jsx)(Et,{id:"address",value:L.address,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{address:e.target.value})),placeholder:"Not provided",disabled:P,rows:3})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"occupation",children:"Occupation"}),(0,u.jsx)(Se,{id:"occupation",value:L.occupation,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{occupation:e.target.value})),placeholder:"Not provided",disabled:P})]})]})}),(0,u.jsx)(rd,{value:"preferences",className:"space-y-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"hobby",children:"Hobby"}),(0,u.jsx)(Se,{id:"hobby",value:L.hobby,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{hobby:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"gamingPreferences",children:"Gaming Preferences"}),(0,u.jsx)(Se,{id:"gamingPreferences",value:L.gamingPreferences,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{gamingPreferences:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"emergencyContact",children:"Emergency Contact"}),(0,u.jsx)(Se,{id:"emergencyContact",value:L.emergencyContact,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{emergencyContact:e.target.value})),placeholder:"Not provided",disabled:P})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"emergencyPhone",children:"Emergency Phone"}),(0,u.jsx)(Se,{id:"emergencyPhone",value:L.emergencyPhone,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{emergencyPhone:e.target.value})),placeholder:"Not provided",disabled:P})]})]})}),(0,u.jsx)(rd,{value:"additional",className:"space-y-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"maritalStatus",children:"Marital Status"}),(0,u.jsxs)(eu,{value:L.maritalStatus,onValueChange:e=>F((0,i.A)((0,i.A)({},L),{},{maritalStatus:e})),disabled:P,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select status"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"single",children:"Single"}),(0,u.jsx)(au,{value:"married",children:"Married"}),(0,u.jsx)(au,{value:"divorced",children:"Divorced"}),(0,u.jsx)(au,{value:"widowed",children:"Widowed"})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"educationLevel",children:"Education Level"}),(0,u.jsxs)(eu,{value:L.educationLevel,onValueChange:e=>F((0,i.A)((0,i.A)({},L),{},{educationLevel:e})),disabled:P,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select education"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"high_school",children:"High School"}),(0,u.jsx)(au,{value:"bachelor",children:"Bachelor's Degree"}),(0,u.jsx)(au,{value:"master",children:"Master's Degree"}),(0,u.jsx)(au,{value:"doctorate",children:"Doctorate"}),(0,u.jsx)(au,{value:"other",children:"Other"})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"incomeRange",children:"Income Range"}),(0,u.jsxs)(eu,{value:L.incomeRange,onValueChange:e=>F((0,i.A)((0,i.A)({},L),{},{incomeRange:e})),disabled:P,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select range"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"under_50k",children:"Under $50,000"}),(0,u.jsx)(au,{value:"50k_100k",children:"$50,000 - $100,000"}),(0,u.jsx)(au,{value:"100k_250k",children:"$100,000 - $250,000"}),(0,u.jsx)(au,{value:"250k_500k",children:"$250,000 - $500,000"}),(0,u.jsx)(au,{value:"over_500k",children:"Over $500,000"})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"preferredLanguage",children:"Preferred Language"}),(0,u.jsxs)(eu,{value:L.preferredLanguage,onValueChange:e=>F((0,i.A)((0,i.A)({},L),{},{preferredLanguage:e})),disabled:P,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"English",children:"English"}),(0,u.jsx)(au,{value:"Chinese",children:"Chinese"}),(0,u.jsx)(au,{value:"Cantonese",children:"Cantonese"}),(0,u.jsx)(au,{value:"Mandarin",children:"Mandarin"}),(0,u.jsx)(au,{value:"Japanese",children:"Japanese"}),(0,u.jsx)(au,{value:"Korean",children:"Korean"})]})]})]}),(0,u.jsxs)("div",{className:"col-span-2",children:[(0,u.jsx)(Pe,{htmlFor:"notes",children:"Notes"}),(0,u.jsx)(Et,{id:"notes",value:L.notes,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{notes:e.target.value})),placeholder:"Additional notes about the customer...",disabled:P,rows:3})]}),(0,u.jsxs)("div",{className:"col-span-2",children:[(0,u.jsx)(Pe,{htmlFor:"specialRequirements",children:"Special Requirements"}),(0,u.jsx)(Et,{id:"specialRequirements",value:L.specialRequirements,onChange:e=>F((0,i.A)((0,i.A)({},L),{},{specialRequirements:e.target.value})),placeholder:"Any special requirements or accommodations...",disabled:P,rows:3})]})]})})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:P,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:P,children:P?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving Details..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2"}),"Save Details"]})})]})]})]})})]})}),$d=lt("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Gd=Pd(function(e){let{user:n,showError:r,clearError:a}=e;const[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(!0),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)({name:"",email:"",phone:""});(0,t.useEffect)(()=>{N()},[]);const N=async()=>{try{v(!0),a(),console.log("\ud83d\udd04 Loading agent data from Supabase...");const[e,t]=await Promise.all([Qe.db.get("agents",[]),Qe.db.get("customers",[])]),n=e.map(e=>(0,i.A)((0,i.A)({},e),{},{isCustomer:!0,attachments:e.attachments||[]})),r=t.map(e=>(0,i.A)((0,i.A)({},e),{},{isAgent:e.isAgent||!1,sourceAgentId:e.sourceAgentId||void 0}));s(n),c(r),console.log("\u2705 Loaded ".concat(n.length," agents (all auto-customers), ").concat(r.length," customers from backend API"))}catch(e){console.error("\u274c Error loading agent data:",e),r("Failed to load agent data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{v(!1)}},S=async e=>{try{const t=o.find(t=>t.id===e);if(!t)return;const n={name:t.name,email:t.email,phone:t.phone,status:t.status?"inactive":"active"},r=await Ze.apiClient.updateAgent(e,n);if(!r.success)throw new Error(r.error||"Failed to update agent status");await N()}catch(t){r("Failed to update agent status: ".concat(t instanceof Error?t.message:"Unknown error occurred"))}},k="admin"===n.role,A="staff"===n.role;return y?(0,u.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Loading agent data from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Connected to Supabase Database"}),(0,u.jsx)("p",{className:"text-xs text-green-600",children:"All agent data is immediately saved to cloud database"})]}),x&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),A&&(0,u.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(Ad,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Agent Information - View Only"}),(0,u.jsx)("p",{className:"text-xs text-blue-600",children:"You have read-only access to agent information and contact details."})]})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Agent Management"}),(0,u.jsx)("p",{className:"text-gray-600",children:A?"View agent information and contact details.":"Manage agents who bring customers to the casino. All agents are automatically customers."})]}),k&&(0,u.jsxs)(ba,{open:d,onOpenChange:h,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{onClick:()=>{p(null),j({name:"",email:"",phone:""}),h(!0)},disabled:x,children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Agent"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:f?"Edit Agent":"Add New Agent"}),(0,u.jsx)(Oa,{children:f?"Update agent information":"Add a new agent to the system"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(f){const e={name:w.name,email:w.email,phone:w.phone||null,status:"active"},t=await Ze.apiClient.updateAgent(f.id,e);if(!t.success)throw new Error(t.error||"Failed to update agent");await N()}else{const e={name:w.name,email:w.email,phone:w.phone||null,commission_rate:0,status:"active"},t=await Ze.apiClient.createAgent(e);if(!t.success)throw new Error(t.error||"Failed to create agent");await N()}j({name:"",email:"",phone:""}),p(null),h(!1)}catch(t){r("Failed to save agent: ".concat(t instanceof Error?t.message:"Unknown error occurred"))}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"name",children:"Name"}),(0,u.jsx)(Se,{id:"name",value:w.name,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{name:e.target.value})),placeholder:"Agent full name",required:!0,disabled:x})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"email",children:"Email"}),(0,u.jsx)(Se,{id:"email",type:"email",value:w.email,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{email:e.target.value})),placeholder:"agent@email.com",required:!0,disabled:x})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"phone",children:"Phone"}),(0,u.jsx)(Se,{id:"phone",value:w.phone,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:x})]}),(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-green-700",children:[(0,u.jsx)("strong",{children:"Note:"})," All agents are automatically registered as customers and can participate in trips and gambling activities."]})}),(0,u.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,u.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,u.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Profit Sharing"})}),(0,u.jsx)("p",{className:"text-xs text-blue-700",children:"Agent profit sharing percentages are configured per trip in the Projects section."})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:x,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:x,children:x?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,u.jsxs)(u.Fragment,{children:[f?"Update":"Add"," Agent"]})})]})]})]})]})]}),(0,u.jsx)("div",{className:"grid gap-6",children:0===o.length?(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"text-center py-12",children:(0,u.jsx)("p",{className:"text-gray-500",children:A?"No agents found in the system.":"No agents found. Add your first agent to get started."})})}):o.map(e=>{var t;const r=m===e.id;return(0,u.jsx)(wd,{open:r,onOpenChange:()=>{return t=e.id,void g(m===t?null:t);var t},children:(0,u.jsxs)(ze,{className:"overflow-hidden",children:[(0,u.jsx)(jd,{asChild:!0,children:(0,u.jsx)(Be,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:e.name}),(0,u.jsx)(Je,{variant:(e.status,"default"),children:e.status?"Active":"Inactive"}),e.attachments&&e.attachments.length>0&&(0,u.jsxs)(Je,{variant:"outline",className:"flex items-center space-x-1",children:[(0,u.jsx)(Md,{className:"w-3 h-3"}),(0,u.jsx)("span",{children:e.attachments.length})]}),A&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,u.jsx)(Ad,{className:"w-3 h-3 mr-1"}),"View Only"]})]}),(0,u.jsxs)(We,{children:["Agent since ",e.createdAt]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-2",children:r?(0,u.jsx)(Gc,{className:"w-5 h-5 text-gray-400"}):(0,u.jsx)(Kc,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Ld,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"text-sm",children:e.email})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)($d,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"text-sm",children:e.phone})]})]}),k&&(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(e=>{p(e),j({name:e.name,email:e.email,phone:e.phone}),h(!0)})(e),disabled:x,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.status?(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsx)(je,{variant:"destructive",size:"sm",disabled:x,children:"Deactivate"})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Deactivate Agent"}),(0,u.jsxs)(_i,{children:['Are you sure you want to deactivate "',e.name,'"? Deactivated agents will no longer be able to bring customers or participate in trips, but their existing data and customer relationships will be preserved. This action will also affect their customer record if they are registered as a customer.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>S(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:x,children:x?"Saving...":"Deactivate Agent"})]})]})]}):(0,u.jsx)(je,{variant:"default",size:"sm",onClick:()=>S(e.id),disabled:x,children:x?"Saving...":"Activate"})]}),(0,u.jsx)(Nd,{className:"mt-6",children:(0,u.jsxs)(ed,{defaultValue:"info",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"info",className:"flex items-center space-x-2",children:[(0,u.jsx)(At,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Agent Information"})]}),(0,u.jsxs)(nd,{value:"files",className:"flex items-center space-x-2",children:[(0,u.jsx)(Md,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,u.jsxs)(rd,{value:"info",className:"space-y-4 mt-6",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,u.jsx)("p",{className:"text-lg",children:e.name})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,u.jsx)("p",{children:e.email})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,u.jsx)("p",{children:e.phone})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,u.jsx)(Je,{variant:(e.status,"default"),children:e.status?"Active":"Inactive"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,u.jsx)("p",{children:e.createdAt})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,u.jsx)(At,{className:"w-3 h-3 mr-1"}),"Agent"]})]})]})]}),(0,u.jsx)("div",{className:"pt-4 border-t",children:(0,u.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,u.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,u.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Profit Sharing Information"})}),(0,u.jsx)("p",{className:"text-sm text-blue-700",children:"This agent's profit sharing percentages are configured individually for each trip in the Projects section. As both an agent and customer, they can participate in trips and receive commissions based on their role in each trip."})]})})]}),(0,u.jsxs)(rd,{value:"files",className:"space-y-4 mt-6",children:[(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Document Management"}),(0,u.jsx)("p",{className:"text-sm text-gray-400",children:k?"Upload passport, photo, and other important documents for this agent.":"View uploaded documents for this agent."})]}),k?(0,u.jsx)(Cd,{attachments:e.attachments||[],onAttachmentsChange:t=>(async(e,t)=>{console.log("Attachment update requested for agent:",e,t)})(e.id,t),currentUser:n.username,disabled:x}):(0,u.jsx)("div",{className:"space-y-2",children:e.attachments&&e.attachments.length>0?e.attachments.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(Md,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB \u2022 Uploaded by ",e.uploadedBy," on ",new Date(e.uploadedAt).toLocaleDateString()]})]})]})},e.id)):(0,u.jsx)("p",{className:"text-sm text-gray-500 text-center py-8",children:"No documents uploaded for this agent."})})]})]})})]})]})},e.id)})})]})}),Yd=lt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Xd=lt("log-in",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Jd=lt("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qd=lt("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zd=lt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),eh=["src","alt","style","className"];function th(e){const[n,r]=(0,t.useState)(!1),{src:a,alt:s,style:l,className:c}=e,d=o(e,eh);return n?(0,u.jsx)("div",{className:"inline-block bg-gray-100 text-center align-middle ".concat(null!==c&&void 0!==c?c:""),style:l,children:(0,u.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,u.jsx)("img",(0,i.A)((0,i.A)({src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image"},d),{},{"data-original-url":a}))})}):(0,u.jsx)("img",(0,i.A)((0,i.A)({src:a,alt:s,className:c,style:l},d),{},{onError:()=>{r(!0)}}))}const nh=["isAgent","agentId","permissions"];const rh=Pd(function(e){let{user:n,showError:r,clearError:a}=e;const[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[_,C]=(0,t.useState)(null),[E,P]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(null),[R,L]=(0,t.useState)(""),[F,z]=(0,t.useState)(""),[B,U]=(0,t.useState)(!1),[W,q]=(0,t.useState)(!0),[H,V]=(0,t.useState)(!1),[K,$]=(0,t.useState)({name:"",email:"",phone:"",position:""}),[G,Y]=(0,t.useState)({username:"",password:"",confirmPassword:""});(0,t.useEffect)(()=>{X()},[]);const X=async()=>{try{q(!0),a(),console.log("\ud83d\udd04 Loading staff data from Supabase...");const[e,t,n,r]=await Promise.all([Qe.db.get("staff",[]),Qe.db.get("staff",[]),Qe.db.get("staff_shifts",[]),Qe.db.get("users",[])]),s=e.map(e=>{const t=e,{isAgent:n,agentId:r,permissions:a}=t,s=o(t,nh);return(0,i.A)((0,i.A)({},s),{},{attachments:s.attachments||[]})});l(s),d(t),f(n),console.log("\u2705 Loaded ".concat(s.length," staff, ").concat(t.length," accounts, ").concat(n.length," shifts from Supabase")),await J(t,r)}catch(e){console.error("\u274c Error loading staff data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Failed to load staff data: ".concat(t))}finally{q(!1)}},J=async(e,t)=>{try{const n=[{id:"admin-1",username:"admin",password:"admin123",role:"admin"},{id:"agent-1",username:"agent1",password:"agent123",role:"agent",agentId:"agent-1"}],r=t.filter(e=>"staff"!==e.role),a=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,staffId:e.staffId})),i=[...n.filter(e=>!r.find(t=>t.id===e.id)),...r,...a];await Qe.db.save("users",i),console.log("\u2705 Synchronized staff accounts with users")}catch(n){console.error("\u274c Error syncing staff with users:",n)}},Q=async e=>{try{V(!0),a(),console.log("\ud83d\udcbe Saving staff to Supabase..."),await Qe.db.save("staff",e),l(e),console.log("\u2705 Successfully saved staff to Supabase")}catch(t){console.error("\u274c Error saving staff:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save staff data: ".concat(e)),t}finally{V(!1)}},Z=async e=>{try{a(),console.log("\ud83d\udcbe Saving staff accounts to Supabase..."),await Promise.all([Qe.db.save("staffAccounts",e),ee(e)]),d(e),console.log("\u2705 Successfully saved staff accounts to Supabase")}catch(t){console.error("\u274c Error saving staff accounts:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save staff account data: ".concat(e)),t}},ee=async e=>{try{const t=(await Qe.db.get("users",[])).filter(e=>"staff"!==e.role),n=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,staffId:e.staffId})),r=[...t,...n];await Qe.db.save("users",r)}catch(t){throw console.error("\u274c Error syncing staff accounts with users:",t),t}},te=async e=>{try{a(),console.log("\ud83d\udcbe Saving shifts to Supabase..."),await Qe.db.save("shifts",e),f(e),console.log("\u2705 Successfully saved shifts to Supabase")}catch(t){console.error("\u274c Error saving shifts:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw r("Failed to save shift data: ".concat(e)),t}},ne=()=>{$({name:"",email:"",phone:"",position:""}),N(null),m(!1)},re=()=>{Y({username:"",password:"",confirmPassword:""}),k(null),y(!1),U(!1)},ae=e=>{k(e);const t=c.find(t=>t.staffId===e.id);Y(t?{username:t.username,password:t.password,confirmPassword:t.password}:{username:"",password:"",confirmPassword:""}),y(!0)},ie=async e=>{try{const t=s.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{status:"active"===t.status?"inactive":"active"}):t),n=c.map(t=>t.staffId===e?(0,i.A)((0,i.A)({},t),{},{isActive:!t.isActive}):t);await Promise.all([Q(t),Z(n)])}catch(t){}},oe=e=>c.find(t=>t.staffId===e);return W?(0,u.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Loading staff data from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Connected to Supabase Database"}),(0,u.jsx)("p",{className:"text-xs text-green-600",children:"All staff data is immediately saved to cloud database"})]}),H&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),(0,u.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ut,{className:"w-5 h-5 text-amber-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Staff Login Management - Admin Only"}),(0,u.jsx)("p",{className:"text-xs text-amber-600",children:"You can create, edit, and manage staff login credentials. Staff members can only login with the credentials you provide."})]})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Staff Management"}),(0,u.jsx)("p",{className:"text-gray-600",children:"Manage casino staff, their login credentials, and shift tracking with photo verification"})]}),(0,u.jsxs)(ba,{open:p,onOpenChange:m,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{onClick:()=>m(!0),disabled:H,children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Staff"]})}),(0,u.jsxs)(Sa,{className:"max-w-2xl",children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:j?"Edit Staff Member":"Add New Staff Member"}),(0,u.jsx)(Oa,{children:j?"Update staff information":"Add a new staff member to the system"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e;if(j)e=s.map(e=>e.id===j.id?(0,i.A)((0,i.A)({},e),K):e);else{const t="staff-".concat(Date.now()),n=(0,i.A)((0,i.A)({id:t},K),{},{username:G.username,password:G.password,createdAt:(new Date).toISOString().split("T")[0],status:"active",attachments:[]});e=[...s,n]}await Q(e),ne()}catch(t){}},className:"space-y-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"name",children:"Name"}),(0,u.jsx)(Se,{id:"name",value:K.name,onChange:e=>$((0,i.A)((0,i.A)({},K),{},{name:e.target.value})),placeholder:"Staff member name",required:!0,disabled:H})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"position",children:"Position"}),(0,u.jsx)(Se,{id:"position",value:K.position,onChange:e=>$((0,i.A)((0,i.A)({},K),{},{position:e.target.value})),placeholder:"Floor Manager, Cashier, etc.",required:!0,disabled:H})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"email",children:"Email"}),(0,u.jsx)(Se,{id:"email",type:"email",value:K.email,onChange:e=>$((0,i.A)((0,i.A)({},K),{},{email:e.target.value})),placeholder:"staff@casino.com",required:!0,disabled:H})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"phone",children:"Phone"}),(0,u.jsx)(Se,{id:"phone",value:K.phone,onChange:e=>$((0,i.A)((0,i.A)({},K),{},{phone:e.target.value})),placeholder:"+1234567890",required:!0,disabled:H})]})]}),(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"Note:"}),' After creating a staff member, you\'ll need to set up their login credentials separately using the "Manage Login" button.']})}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:H,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:H,children:H?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,u.jsxs)(u.Fragment,{children:[j?"Update":"Add"," Staff Member"]})})]})]})]})]})]}),(0,u.jsx)(ba,{open:g,onOpenChange:y,children:(0,u.jsxs)(Sa,{className:"max-w-lg",children:[(0,u.jsxs)(ka,{children:[(0,u.jsxs)(Aa,{className:"flex items-center space-x-2",children:[(0,u.jsx)(ut,{className:"w-5 h-5"}),(0,u.jsxs)("span",{children:["Manage Login - ",null===S||void 0===S?void 0:S.name]})]}),(0,u.jsx)(Oa,{children:"Create or update login credentials for this staff member"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!S)return;if(G.password!==G.confirmPassword)return void r("Passwords do not match!");if(c.find(e=>e.username===G.username&&e.staffId!==S.id))r("Username already exists! Please choose a different username.");else try{const e=c.findIndex(e=>e.staffId===S.id);let t;if(e>=0)t=[...c],t[e]=(0,i.A)((0,i.A)({},t[e]),{},{username:G.username,password:G.password});else{const e={id:"account-".concat(Date.now()),username:G.username,password:G.password,role:"staff",staffId:S.id,isActive:!0,createdAt:(new Date).toISOString().split("T")[0]};t=[...c,e]}await Z(t),re()}catch(t){}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"username",children:"Username"}),(0,u.jsx)(Se,{id:"username",value:G.username,onChange:e=>Y((0,i.A)((0,i.A)({},G),{},{username:e.target.value})),placeholder:"Enter username",required:!0,disabled:H}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to login to the staff portal"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"password",children:"Password"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(Se,{id:"password",type:B?"text":"password",value:G.password,onChange:e=>Y((0,i.A)((0,i.A)({},G),{},{password:e.target.value})),placeholder:"Enter password",required:!0,disabled:H}),(0,u.jsx)(je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>U(!B),disabled:H,children:B?(0,u.jsx)(Yd,{className:"w-4 h-4"}):(0,u.jsx)(Ad,{className:"w-4 h-4"})})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,u.jsx)(je,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(62*Math.random()));Y((0,i.A)((0,i.A)({},G),{},{password:t,confirmPassword:t}))},className:"text-xs",disabled:H,children:"Generate Password"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Minimum 6 characters"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,u.jsx)(Se,{id:"confirmPassword",type:B?"text":"password",value:G.confirmPassword,onChange:e=>Y((0,i.A)((0,i.A)({},G),{},{confirmPassword:e.target.value})),placeholder:"Confirm password",required:!0,disabled:H})]}),(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-green-700",children:[(0,u.jsx)("strong",{children:"Security Note:"})," Staff members can only login with the exact credentials you provide here. Make sure to securely communicate these credentials to the staff member."]})}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:re,disabled:H,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:H,children:H?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ut,{className:"w-4 h-4 mr-2"}),oe((null===S||void 0===S?void 0:S.id)||"")?"Update":"Create"," Login"]})})]})]})]})}),(0,u.jsx)(ba,{open:v,onOpenChange:x,children:(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsxs)(Aa,{children:["Check In: ",null===A||void 0===A?void 0:A.name]}),(0,u.jsx)(Oa,{children:"Upload a photo as proof of check-in and add any notes for the shift."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkInPhoto",children:"Check-in Photo (Required)"}),(0,u.jsx)(Se,{id:"checkInPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return I((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:H}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Take a photo as proof of check-in"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkInNotes",children:"Notes (Optional)"}),(0,u.jsx)(Et,{id:"checkInNotes",value:R,onChange:e=>L(e.target.value),placeholder:"Any notes for this shift...",rows:3,disabled:H})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:H,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(A&&T)try{const e=new FileReader;e.onload=async e=>{try{var t;const r={id:"photo_".concat(Date.now()),name:T.name,size:T.size,type:T.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:n.username},a={id:"shift_".concat(Date.now()),staffId:A.id,checkInTime:(new Date).toISOString(),checkInPhoto:r,shiftDate:(new Date).toISOString().split("T")[0],status:"checked-in",notes:R},o=[...h,a],l=s.map(e=>e.id===A.id?(0,i.A)((0,i.A)({},e),{},{currentShift:a}):e);await Promise.all([te(o),Q(l)]),x(!1),O(null),I(null),L("")}catch(a){console.error("\u274c Error processing check-in:",a);const e=a instanceof Error?a.message:"Unknown error occurred";r("Failed to process check-in: ".concat(e))}},e.readAsDataURL(T)}catch(e){console.error("\u274c Error during check-in:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Check-in failed: ".concat(t))}},disabled:!T||H,children:H?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking In..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Xd,{className:"w-4 h-4 mr-2"}),"Check In"]})})]})]})]})}),(0,u.jsx)(ba,{open:b,onOpenChange:w,children:(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsxs)(Aa,{children:["Check Out: ",null===_||void 0===_?void 0:_.name]}),(0,u.jsx)(Oa,{children:"Upload a photo as proof of check-out and add any end-of-shift notes."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkOutPhoto",children:"Check-out Photo (Required)"}),(0,u.jsx)(Se,{id:"checkOutPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return M((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:H}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Take a photo as proof of check-out"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkOutNotes",children:"Notes (Optional)"}),(0,u.jsx)(Et,{id:"checkOutNotes",value:F,onChange:e=>z(e.target.value),placeholder:"Any end-of-shift notes...",rows:3,disabled:H})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:H,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(_&&D&&_.currentShift)try{const e=new FileReader;e.onload=async e=>{try{var t;const r={id:"photo_".concat(Date.now()),name:D.name,size:D.size,type:D.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:n.username},a=(0,i.A)((0,i.A)({},_.currentShift),{},{checkOutTime:(new Date).toISOString(),checkOutPhoto:r,status:"checked-out",notes:_.currentShift.notes+(F?"\nCheck-out: ".concat(F):"")}),o=h.map(e=>e.id===a.id?a:e),l=s.map(e=>e.id===_.id?(0,i.A)((0,i.A)({},e),{},{currentShift:void 0}):e);await Promise.all([te(o),Q(l)]),w(!1),C(null),M(null),z("")}catch(a){console.error("\u274c Error processing check-out:",a);const e=a instanceof Error?a.message:"Unknown error occurred";r("Failed to process check-out: ".concat(e))}},e.readAsDataURL(D)}catch(e){console.error("\u274c Error during check-out:",e);const t=e instanceof Error?e.message:"Unknown error occurred";r("Check-out failed: ".concat(t))}},disabled:!D||H,children:H?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking Out..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Jd,{className:"w-4 h-4 mr-2"}),"Check Out"]})})]})]})]})}),(0,u.jsx)("div",{className:"grid gap-6",children:0===s.length?(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"text-center py-12",children:(0,u.jsx)("p",{className:"text-gray-500",children:"No staff members found. Add your first staff member to get started."})})}):s.map(e=>{var t;const n=E===e.id,r=oe(e.id),a=(o=e.id,h.filter(e=>e.staffId===o).sort((e,t)=>new Date(t.checkInTime).getTime()-new Date(e.checkInTime).getTime()));var o;const l=(e=>e.currentShift&&"checked-in"===e.currentShift.status)(e);return(0,u.jsx)(wd,{open:n,onOpenChange:()=>(e=>{P(E===e?null:e)})(e.id),children:(0,u.jsxs)(ze,{className:"overflow-hidden",children:[(0,u.jsx)(jd,{asChild:!0,children:(0,u.jsx)(Be,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:e.name}),(0,u.jsx)(Je,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Active":"Inactive"}),l&&(0,u.jsxs)(Je,{variant:"default",className:"bg-green-600",children:[(0,u.jsx)(mt,{className:"w-3 h-3 mr-1"}),"Checked In"]}),r&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,u.jsx)(ut,{className:"w-3 h-3 mr-1"}),"Login Setup"]}),e.attachments&&e.attachments.length>0&&(0,u.jsxs)(Je,{variant:"outline",className:"flex items-center space-x-1",children:[(0,u.jsx)(Md,{className:"w-3 h-3"}),(0,u.jsx)("span",{children:e.attachments.length})]})]}),(0,u.jsxs)(We,{children:[e.position," \u2022 Member since ",e.createdAt]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-2",children:n?(0,u.jsx)(Gc,{className:"w-5 h-5 text-gray-400"}):(0,u.jsx)(Kc,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Ld,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"text-sm",children:e.email})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)($d,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"text-sm",children:e.phone})]})]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(e=>{N(e),$({name:e.name,email:e.email,phone:e.phone,position:e.position}),m(!0)})(e),disabled:H,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>ae(e),disabled:H,children:[(0,u.jsx)(ut,{className:"w-4 h-4 mr-2"}),r?"Update Login":"Create Login"]}),l?(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(e=>{C(e),M(null),z(""),w(!0)})(e),disabled:H,children:[(0,u.jsx)(Jd,{className:"w-4 h-4 mr-2"}),"Check Out"]}):(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>(e=>{O(e),I(null),L(""),x(!0)})(e),disabled:H,children:[(0,u.jsx)(Xd,{className:"w-4 h-4 mr-2"}),"Check In"]}),"active"===e.status?(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsx)(je,{variant:"destructive",size:"sm",disabled:H,children:"Deactivate"})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Deactivate Staff Member"}),(0,u.jsxs)(_i,{children:['Are you sure you want to deactivate "',e.name,'"? They will no longer be able to login to the system, but their data and shift history will be preserved.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>ie(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:H,children:H?"Saving...":"Deactivate"})]})]})]}):(0,u.jsx)(je,{variant:"default",size:"sm",onClick:()=>ie(e.id),disabled:H,children:H?"Saving...":"Activate"})]}),(0,u.jsx)(Nd,{className:"mt-6",children:(0,u.jsxs)(ed,{defaultValue:"info",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-4",children:[(0,u.jsxs)(nd,{value:"info",className:"flex items-center space-x-2",children:[(0,u.jsx)(yt,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Info"})]}),(0,u.jsxs)(nd,{value:"shifts",className:"flex items-center space-x-2",children:[(0,u.jsx)(Qd,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Shifts (",a.length,")"]})]}),(0,u.jsxs)(nd,{value:"login",className:"flex items-center space-x-2",children:[(0,u.jsx)(ut,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Login"})]}),(0,u.jsxs)(nd,{value:"files",className:"flex items-center space-x-2",children:[(0,u.jsx)(Md,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:["Files (",(null===(t=e.attachments)||void 0===t?void 0:t.length)||0,")"]})]})]}),(0,u.jsx)(rd,{value:"info",className:"space-y-4 mt-6",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,u.jsx)("p",{className:"text-lg",children:e.name})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,u.jsx)("p",{children:e.email})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,u.jsx)("p",{children:e.phone})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Position"}),(0,u.jsx)("p",{children:e.position})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,u.jsx)(Je,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Active":"Inactive"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,u.jsx)("p",{children:e.createdAt})]})]})]})}),(0,u.jsx)(rd,{value:"shifts",className:"space-y-4 mt-6",children:0===a.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(Qd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No shift history found."}),(0,u.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Check-ins and check-outs will appear here."})]})}):(0,u.jsxs)("div",{className:"space-y-4",children:[a.slice(0,5).map(e=>(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"p-4",children:[(0,u.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium",children:e.shiftDate}),(0,u.jsx)(Je,{variant:"checked-in"===e.status?"default":"secondary",className:"checked-in"===e.status?"bg-green-600":"",children:"checked-in"===e.status?"Currently Checked In":"Completed Shift"})]})}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Check In"}),(0,u.jsx)("p",{className:"text-sm",children:new Date(e.checkInTime).toLocaleString()}),e.checkInPhoto&&(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)(th,{src:e.checkInPhoto.data,alt:"Check-in photo",className:"w-20 h-20 object-cover rounded border"})})]}),e.checkOutTime&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Check Out"}),(0,u.jsx)("p",{className:"text-sm",children:new Date(e.checkOutTime).toLocaleString()}),e.checkOutPhoto&&(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)(th,{src:e.checkOutPhoto.data,alt:"Check-out photo",className:"w-20 h-20 object-cover rounded border"})})]})]}),e.notes&&(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,u.jsx)("p",{className:"text-sm bg-gray-50 p-2 rounded mt-1",children:e.notes})]})]})},e.id)),a.length>5&&(0,u.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["Showing recent 5 shifts out of ",a.length," total shifts."]})]})}),(0,u.jsx)(rd,{value:"login",className:"space-y-4 mt-6",children:r?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"p-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Username"}),(0,u.jsx)("p",{className:"font-medium",children:r.username})]}),(0,u.jsx)(Je,{variant:r.isActive?"default":"secondary",children:r.isActive?"Active":"Inactive"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Password"}),(0,u.jsx)("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Account Created"}),(0,u.jsx)("p",{className:"text-sm",children:r.createdAt})]}),r.lastLogin&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Last Login"}),(0,u.jsx)("p",{className:"text-sm",children:new Date(r.lastLogin).toLocaleString()})]})]}),(0,u.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>ae(e),disabled:H,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Update Credentials"]}),(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsx)(je,{variant:"destructive",size:"sm",disabled:H,children:"Delete Login"})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Delete Login Account"}),(0,u.jsxs)(_i,{children:['Are you sure you want to delete the login account for "',e.name,'"? They will no longer be able to access the staff portal.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>(async e=>{try{const t=c.filter(t=>t.staffId!==e);await Z(t)}catch(t){}})(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:H,children:H?"Deleting...":"Delete Login"})]})]})]})]})]})}):(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(ut,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("p",{className:"text-gray-500 mb-4",children:"No login credentials set up for this staff member."}),(0,u.jsxs)(je,{onClick:()=>ae(e),disabled:H,children:[(0,u.jsx)(Zd,{className:"w-4 h-4 mr-2"}),"Create Login Account"]})]})})}),(0,u.jsxs)(rd,{value:"files",className:"mt-6",children:[(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(Cd,{onUpload:t=>(async(e,t)=>{try{const n=s.map(n=>n.id===e?(0,i.A)((0,i.A)({},n),{},{attachments:t}):n);await Q(n)}catch(n){}})(e.id,[...e.attachments||[],...t]),onAttachmentsChange:()=>{},disabled:H})}),e.attachments&&0!==e.attachments.length?(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.attachments.map((e,t)=>(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-4",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Md,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[e.size," bytes \u2022 ",e.type]})]})]})})},t))}):(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(Md,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No files attached to this staff member."}),(0,u.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Upload documents, photos, or other files related to this staff member."})]})})]})]})})]})]})},e.id)})})]})}),ah=lt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ih=lt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),oh=lt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sh=lt("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),lh=lt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ch=lt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),uh=lt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),dh=lt("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),hh=["Okada Manila Casino","City of Dreams Manila","Resorts World Manila","Solaire Resort & Casino","Newport World Resorts","Pagcor Casino Filipino","Winford Hotel & Casino","Other Casino"];const fh=Pd(function(e){let{user:n,currentStaff:r,customers:a=[],gameTypes:o=[],onRecordSaved:s,showError:l,clearError:c}=e;const[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(null),k=(0,t.useRef)(null),A=(0,t.useRef)(null),[O,_]=(0,t.useState)(a),[C,E]=(0,t.useState)(o),[P,T]=(0,t.useState)(null),[I,D]=(0,t.useState)({customerId:"",rollingAmount:"",winLoss:"",buyInAmount:"",buyOutAmount:"",gameType:"",venue:"Okada Manila Casino",tableNumber:"",sessionStartTime:"",sessionEndTime:"",notes:""}),M=(0,t.useCallback)(async()=>{try{v(!0),c();const[e,t]=await Promise.all([Qe.db.get("customers",[]),Qe.db.get("game_types",[])]);_(e),E(t),T(new Date),console.log("\u2705 Loaded ".concat(e.length," customers for real-time rolling recording"))}catch(e){console.error("\u274c Error loading real-time customer data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";l("Failed to load customer data: ".concat(t))}finally{v(!1)}},[c,l]);(0,t.useEffect)(()=>{if(d){M();const e=setInterval(()=>{console.log("\ud83d\udd04 Refreshing customer data for rolling recorder"),M()},1e4);return()=>{clearInterval(e)}}},[d,M]);const R=async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const a=new FileReader;a.onload=async e=>{var t;const a=null===(t=e.target)||void 0===t?void 0:t.result,o={id:"img_".concat(Date.now()),name:r.name,size:r.size,type:r.type,data:a,uploadedAt:(new Date).toISOString(),uploadedBy:n.id};S(o);try{const e=await(async()=>{p(!0),await new Promise(e=>setTimeout(e,2e3));const e={id:"ocr_".concat(Date.now()),originalImageId:(null===N||void 0===N?void 0:N.id)||"",extractedText:"GAMING RECEIPT\\nOKADA MANILA CASINO\\nDate: 2024-01-15\\nTime: 14:30\\nCustomer: John Doe\\nTable: B-5\\nGame: Baccarat\\nRolling: $50,000\\nResult: -$1,500\\nBuy-in: $25,000\\nBuy-out: $22,000\\nVenue: Okada Manila Casino\\nStaff: Casino Floor",confidence:.94,extractedFields:{amount:"50000",winLoss:"-1500",buyIn:"25000",buyOut:"22000",date:"2024-01-15",time:"14:30",venue:"Okada Manila Casino",gameType:"Baccarat",tableNumber:"B-5",customerName:"John Doe"},processedAt:(new Date).toISOString(),ocrEngine:"enhanced-staff-ocr-engine"};return p(!1),e})();if(b(e),e.extractedFields&&(D(t=>(0,i.A)((0,i.A)({},t),{},{rollingAmount:e.extractedFields.amount||t.rollingAmount,winLoss:e.extractedFields.winLoss||t.winLoss,buyInAmount:e.extractedFields.buyIn||t.buyInAmount,buyOutAmount:e.extractedFields.buyOut||t.buyOutAmount,gameType:e.extractedFields.gameType||t.gameType,venue:hh.find(t=>{var n;return null===(n=e.extractedFields.venue)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase())})||t.venue,tableNumber:e.extractedFields.tableNumber||t.tableNumber,sessionStartTime:e.extractedFields.date&&e.extractedFields.time?"".concat(e.extractedFields.date,"T").concat(e.extractedFields.time):t.sessionStartTime})),e.extractedFields.customerName)){const t=O.find(t=>t.name.toLowerCase().includes(e.extractedFields.customerName.toLowerCase())||e.extractedFields.customerName.toLowerCase().includes(t.name.toLowerCase()));t&&D(e=>(0,i.A)((0,i.A)({},e),{},{customerId:t.id}))}j(!1)}catch(s){console.error("OCR processing failed:",s),l("OCR processing failed. Please enter the data manually.")}},a.readAsDataURL(r)},L=O.filter(e=>e.isActive);return(0,u.jsxs)(ba,{open:d,onOpenChange:h,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{className:"flex items-center space-x-2",disabled:m,children:[(0,u.jsx)(Rd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Record Rolling"})]})}),(0,u.jsxs)(Sa,{className:"max-w-5xl max-h-[95vh] overflow-y-auto",children:[(0,u.jsxs)(ka,{children:[(0,u.jsxs)(Aa,{className:"flex items-center space-x-2",children:[(0,u.jsx)(Rd,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Record Customer Rolling Amount"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,u.jsx)(zd,{className:"w-3 h-3 mr-1"}),"Casino Selection Available"]})]}),(0,u.jsx)(Oa,{children:"Record rolling amounts with mandatory buy-in/buy-out tracking for admin oversight. Select from available casino venues with real-time customer data and OCR receipt processing."})]}),(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Data Connected to Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:["Rolling records and buy-in/buy-out data immediately saved to cloud database",P&&" \u2022 Last customer sync: ".concat(P.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[m&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]}),y&&(0,u.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-1 animate-spin"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:M,disabled:m||y,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,u.jsxs)($e,{children:[(0,u.jsx)(Wd,{className:"w-4 h-4"}),(0,u.jsx)(Ge,{children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("span",{children:["Recording as: ",(0,u.jsx)("strong",{children:r.name})," (",r.position,")"]}),r.currentShift&&(0,u.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Shift: ",r.currentShift.shiftDate," | Started: ",new Date(r.currentShift.checkInTime).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[("admin"===n.role||"staff"===n.role)&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,u.jsx)(sh,{className:"w-3 h-3 mr-1"}),"Admin Authority Required"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs",children:[(0,u.jsx)(zd,{className:"w-3 h-3 mr-1"}),"Multiple Venues"]})]})]})})]}),("admin"===n.role||"staff"===n.role)&&(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(kd,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Admin Oversight Required:"})," Buy-in or buy-out amount is mandatory for all rolling records. This ensures complete financial tracking and regulatory compliance."]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(lh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Receipt/Photo Upload"}),(0,u.jsx)(Je,{variant:"secondary",className:"text-xs",children:"Enhanced OCR"})]}),(0,u.jsx)(We,{children:"Upload receipts for automatic extraction of rolling amounts, buy-in/buy-out, venue, and transaction details"})]}),(0,u.jsxs)(qe,{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,u.jsxs)(je,{variant:"outline",onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2",disabled:m,children:[(0,u.jsx)(lh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Take Photo"})]}),(0,u.jsxs)(je,{variant:"outline",onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2",disabled:m,children:[(0,u.jsx)(Sd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Upload Image"})]}),(0,u.jsxs)(je,{variant:"outline",onClick:()=>j(!w),className:"flex items-center space-x-2",disabled:m,children:[w?(0,u.jsx)(Yd,{className:"w-4 h-4"}):(0,u.jsx)(Ad,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:[w?"Hide":"Show"," Manual Entry"]})]})]}),(0,u.jsx)("input",{ref:k,type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:m}),(0,u.jsx)("input",{ref:A,type:"file",accept:"image/*",capture:"environment",onChange:R,className:"hidden",disabled:m}),f&&(0,u.jsxs)($e,{children:[(0,u.jsx)(ch,{className:"w-4 h-4 animate-spin"}),(0,u.jsx)(Ge,{children:"Processing receipt with enhanced OCR (including buy-in/buy-out and venue detection)... Please wait."})]}),x&&(0,u.jsxs)($e,{children:[(0,u.jsx)(mt,{className:"w-4 h-4"}),(0,u.jsx)(Ge,{children:(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("p",{children:["Enhanced text extraction completed with ",Math.round(100*x.confidence),"% confidence"]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[x.extractedFields.amount&&(0,u.jsxs)(Je,{variant:"outline",children:["Rolling: $",x.extractedFields.amount]}),x.extractedFields.buyIn&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["Buy-in: $",x.extractedFields.buyIn]}),x.extractedFields.buyOut&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-purple-50 text-purple-700",children:["Buy-out: $",x.extractedFields.buyOut]}),x.extractedFields.venue&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700",children:["Venue: ",x.extractedFields.venue]})]})]})})]}),N&&(0,u.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("span",{className:"text-sm font-medium",children:"Uploaded Receipt"}),(0,u.jsx)(Je,{variant:"secondary",children:N.name})]}),(0,u.jsx)("img",{src:N.data,alt:"Uploaded receipt",className:"max-h-48 w-auto rounded border"})]})]})]}),w&&(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:"Rolling & Cash Flow Details"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,u.jsx)(uh,{className:"w-3 h-3 mr-1"}),"Buy-in/Buy-out Required"]})]}),(0,u.jsx)(We,{children:x?"Review and edit the extracted information":"Enter complete transaction details including venue selection and buy-in/buy-out amounts"})]}),(0,u.jsxs)(qe,{className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)(Pe,{htmlFor:"customer",className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:"Customer *"}),y&&(0,u.jsx)(jt,{className:"w-3 h-3 animate-pulse text-blue-500"})]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs",children:[L.length," active customers"]})]}),(0,u.jsxs)(eu,{value:I.customerId,onValueChange:e=>D((0,i.A)((0,i.A)({},I),{},{customerId:e})),disabled:m||y,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select customer (real-time data)"})}),(0,u.jsx)(ru,{children:L.map(e=>(0,u.jsx)(au,{value:e.id,children:(0,u.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,u.jsxs)("span",{children:[e.name," (",e.agentName,")"]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 ml-4",children:[(0,u.jsxs)("span",{children:["Rolling: $",(e.totalRolling||0).toLocaleString()]}),(0,u.jsxs)("span",{children:["Rate: ",e.rollingPercentage,"%"]})]})]})},e.id))})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"rollingAmount",className:"flex items-center space-x-2",children:[(0,u.jsx)(St,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Rolling Amount (HKD) *"})]}),(0,u.jsx)(Se,{id:"rollingAmount",type:"number",value:I.rollingAmount,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{rollingAmount:e.target.value})),placeholder:"50000",required:!0,disabled:m})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"winLoss",children:"Win/Loss Amount (HKD)"}),(0,u.jsx)(Se,{id:"winLoss",type:"number",value:I.winLoss,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{winLoss:e.target.value})),placeholder:"-1500 (negative for loss)",disabled:m})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"gameType",children:"Game Type *"}),(0,u.jsxs)(eu,{value:I.gameType,onValueChange:e=>D((0,i.A)((0,i.A)({},I),{},{gameType:e})),disabled:m,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select game type"})}),(0,u.jsx)(ru,{children:C.length>0?C.filter(e=>e.isActive).map(e=>(0,u.jsx)(au,{value:e.name,children:e.name},e.id)):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(au,{value:"Baccarat",children:"Baccarat"}),(0,u.jsx)(au,{value:"Blackjack",children:"Blackjack"}),(0,u.jsx)(au,{value:"Roulette",children:"Roulette"}),(0,u.jsx)(au,{value:"Poker",children:"Poker"}),(0,u.jsx)(au,{value:"Dragon Tiger",children:"Dragon Tiger"}),(0,u.jsx)(au,{value:"Sic Bo",children:"Sic Bo"})]})})]})]})]}),(0,u.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,u.jsx)(kd,{className:"w-4 h-4 text-red-600"}),(0,u.jsx)("h4",{className:"font-medium text-red-800",children:"Cash Flow Tracking (Required)"}),(0,u.jsx)(Je,{variant:"outline",className:"bg-red-100 text-red-700",children:"Admin Oversight"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"buyInAmount",className:"flex items-center space-x-2",children:[(0,u.jsx)(Vd,{className:"w-4 h-4 text-blue-500"}),(0,u.jsxs)("span",{children:["Buy-in Amount (HKD) ","admin"===n.role||"staff"===n.role?"*":""]})]}),(0,u.jsx)(Se,{id:"buyInAmount",type:"number",value:I.buyInAmount,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{buyInAmount:e.target.value})),placeholder:"25000",required:"admin"===n.role||"staff"===n.role,disabled:m}),(0,u.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Customer deposit/chips purchased"})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"buyOutAmount",className:"flex items-center space-x-2",children:[(0,u.jsx)(kt,{className:"w-4 h-4 text-purple-500"}),(0,u.jsxs)("span",{children:["Buy-Out Amount (HKD) ","admin"===n.role||"staff"===n.role?"*":""]})]}),(0,u.jsx)(Se,{id:"buyOutAmount",type:"number",value:I.buyOutAmount,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{buyOutAmount:e.target.value})),placeholder:"22000",required:"admin"===n.role||"staff"===n.role,disabled:m}),(0,u.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Customer withdrawal/chips cashed out"})]})]}),(0,u.jsxs)("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs text-red-700",children:[(0,u.jsx)("strong",{children:"Note:"})," At least one cash flow amount (buy-in or buy-out) must be provided for complete financial tracking and admin oversight."]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"venue",className:"flex items-center space-x-2",children:[(0,u.jsx)(Ot,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Casino Venue *"})]}),(0,u.jsxs)(eu,{value:I.venue,onValueChange:e=>D((0,i.A)((0,i.A)({},I),{},{venue:e})),disabled:m,children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{placeholder:"Select casino venue"})}),(0,u.jsx)(ru,{children:hh.map(e=>(0,u.jsx)(au,{value:e,children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(zd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:e}),"Okada Manila Casino"===e&&(0,u.jsx)(Je,{variant:"secondary",className:"text-xs ml-2",children:"Default"})]})},e))})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select from available casino venues"})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"tableNumber",className:"flex items-center space-x-2",children:[(0,u.jsx)(dh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Table Number"})]}),(0,u.jsx)(Se,{id:"tableNumber",value:I.tableNumber,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{tableNumber:e.target.value})),placeholder:"B-5",disabled:m})]}),(0,u.jsx)("div",{className:"flex items-end",children:(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)(Pe,{className:"text-xs text-gray-500",children:"Net Cash Flow"}),(0,u.jsx)("div",{className:"mt-1 p-2 bg-gray-50 border rounded",children:(0,u.jsxs)("span",{className:"font-medium ".concat((parseFloat(I.buyOutAmount)||0)-(parseFloat(I.buyInAmount)||0)>=0?"text-green-600":"text-red-600"),children:["$",((parseFloat(I.buyOutAmount)||0)-(parseFloat(I.buyInAmount)||0)).toLocaleString()]})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Buy-out - Buy-in"})]})})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"sessionStartTime",className:"flex items-center space-x-2",children:[(0,u.jsx)(ih,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Session Start *"})]}),(0,u.jsx)(Se,{id:"sessionStartTime",type:"datetime-local",value:I.sessionStartTime,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{sessionStartTime:e.target.value})),required:!0,disabled:m})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)(Pe,{htmlFor:"sessionEndTime",className:"flex items-center space-x-2",children:[(0,u.jsx)(Qd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Session End"})]}),(0,u.jsx)(Se,{id:"sessionEndTime",type:"datetime-local",value:I.sessionEndTime,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{sessionEndTime:e.target.value})),disabled:m})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"notes",children:"Notes"}),(0,u.jsx)(Et,{id:"notes",value:I.notes,onChange:e=>D((0,i.A)((0,i.A)({},I),{},{notes:e.target.value})),placeholder:"Additional notes about this gaming session, venue details, buy-in/buy-out information...",rows:3,disabled:m})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,u.jsx)(je,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{const e=O.find(e=>e.id===I.customerId);if(e)if("admin"!==n.role&&"staff"!==n.role||I.buyInAmount||I.buyOutAmount)try{var t;g(!0),c();const n=(new Date).toISOString(),l=parseFloat(I.rollingAmount)||0,u=parseFloat(I.winLoss)||0,d=parseFloat(I.buyInAmount)||0,f=parseFloat(I.buyOutAmount)||0,p={id:"rolling_".concat(Date.now()),customerId:e.id,customerName:e.name,agentId:e.agentId,agentName:e.agentName,staffId:r.id,staffName:r.name,rollingAmount:l,winLoss:u,buyInAmount:d,buyOutAmount:f,gameType:I.gameType,venue:I.venue,tableNumber:I.tableNumber,sessionStartTime:I.sessionStartTime,sessionEndTime:I.sessionEndTime,recordedAt:n,notes:I.notes,attachments:N?[N]:[],ocrData:x||void 0,verified:!1,shiftId:null===(t=r.currentShift)||void 0===t?void 0:t.id},m=[];var a,o;if(d>0)m.push({id:"buyin_".concat(Date.now()),customerId:e.id,customerName:e.name,staffId:r.id,staffName:r.name,transactionType:"buy-in",amount:d,timestamp:n,venue:I.venue,tableNumber:I.tableNumber,notes:I.notes,proofPhoto:N||void 0,shiftId:null===(a=r.currentShift)||void 0===a?void 0:a.id,tripId:void 0});if(f>0)m.push({id:"buyout_".concat(Date.now(),"_1"),customerId:e.id,customerName:e.name,staffId:r.id,staffName:r.name,transactionType:"buy-out",amount:f,timestamp:n,venue:I.venue,tableNumber:I.tableNumber,notes:I.notes,proofPhoto:N||void 0,shiftId:null===(o=r.currentShift)||void 0===o?void 0:o.id,tripId:void 0});console.log("\ud83d\udcbe Saving rolling record and buy-in/buy-out data to Supabase...");const[y,v,w]=await Promise.all([Qe.db.get("rolling_records",[]),Qe.db.get("customers",[]),Qe.db.get("buy_in_out_records",[])]),k=[...y,p],A=[...w,...m],O=v.map(t=>t.id===e.id?(0,i.A)((0,i.A)({},t),{},{totalRolling:(t.totalRolling||0)+l,totalWinLoss:(t.totalWinLoss||0)+u,totalBuyIn:(t.totalBuyIn||0)+d,totalBuyOut:(t.totalBuyOut||0)+f}):t);await Promise.all([Qe.db.save("rollingRecords",k),Qe.db.save("customers",O),m.length>0?Qe.db.save("buyInOutRecords",A):Promise.resolve()]),console.log("\u2705 Successfully saved rolling record and buy-in/buy-out data to Supabase"),await M(),null===s||void 0===s||s(p),D({customerId:"",rollingAmount:"",winLoss:"",buyInAmount:"",buyOutAmount:"",gameType:"",venue:"Okada Manila Casino",tableNumber:"",sessionStartTime:"",sessionEndTime:"",notes:""}),S(null),b(null),j(!0),h(!1)}catch(u){console.error("\u274c Failed to save rolling record:",u);const e=u instanceof Error?u.message:"Unknown error occurred";l("Failed to save rolling record: ".concat(e))}finally{g(!1)}else l("Buy-in or buy-out amount is required for admin oversight");else l("Please select a customer")},disabled:!(()=>{const e=I.customerId&&I.rollingAmount&&I.gameType&&I.sessionStartTime;return"admin"===n.role||"staff"===n.role?e&&(I.buyInAmount||I.buyOutAmount):e})()||f||m,className:"flex items-center space-x-2",children:m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 animate-spin"}),(0,u.jsx)("span",{children:"Saving to Supabase..."})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Save Complete Record"})]})})]})]})]})]})}),ph=lt("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),mh=lt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),gh=lt("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),yh=lt("circle-dollar-sign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);const vh=Pd(function(e){let{user:n,currentStaff:r,showError:a,clearError:o}=e;const[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),[j,N]=(0,t.useState)({start:"",end:""}),[S,k]=(0,t.useState)(""),[A,O]=(0,t.useState)(""),[_,C]=(0,t.useState)("all"),[E,P]=(0,t.useState)("my_records"),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(!1),R="admin"===n.role,L="staff"===n.role,F=(0,t.useCallback)(async()=>{try{x(!0),o(),console.log("\ud83d\udd04 Loading real-time rolling history from Supabase...");const[e,t,n]=await Promise.all([Qe.db.get("rolling_records",[]),Qe.db.get("buy_in_out_records",[]),Qe.db.get("customers",[])]);m(n),d(t);let a=e;L&&!R&&(a=e.filter(e=>e.staffId===r.id),console.log("\ud83d\udd12 Staff user: filtered to ".concat(a.length," own records out of ").concat(e.length," total")));const i=a.sort((e,t)=>new Date(t.recordedAt).getTime()-new Date(e.recordedAt).getTime());l(i),I(new Date),console.log("\u2705 Loaded real-time rolling history: ".concat(i.length," records, ").concat(t.length," buy-in/out records"))}catch(e){console.error("\u274c Failed to load real-time rolling records:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Failed to load rolling records: ".concat(t))}finally{y(!1),x(!1)}},[o,a,r.id,L,R]);(0,t.useEffect)(()=>{F();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time rolling history refresh triggered"),F()},15e3);return()=>{clearInterval(e)}},[F]),(0,t.useEffect)(()=>{z()},[s,j,S,A,_,E]);const z=()=>{let e=[...s];(L&&!R||R&&"my_records"===E)&&(e=e.filter(e=>e.staffId===r.id)),j.start&&(e=e.filter(e=>new Date(e.sessionStartTime)>=new Date(j.start))),j.end&&(e=e.filter(e=>new Date(e.sessionStartTime)<=new Date(j.end))),S&&(e=e.filter(e=>e.gameType.toLowerCase().includes(S.toLowerCase()))),A&&(e=e.filter(e=>e.customerName.toLowerCase().includes(A.toLowerCase()))),"all"!==_&&(e=e.filter(e=>"verified"===_?e.verified:!e.verified)),f(e)},B=e=>{const t=c.filter(t=>t.customerId===e.customerId&&Math.abs(new Date(t.timestamp).getTime()-new Date(e.sessionStartTime).getTime())<=36e5),n=t.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),r=t.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return{buyInAmount:n,buyOutAmount:r,netCashFlow:r-n}},U=h.reduce((e,t)=>{const n=B(t);return{totalRolling:e.totalRolling+(t.rollingAmount||0),totalWinLoss:e.totalWinLoss+(t.winLoss||0),totalBuyIn:e.totalBuyIn+n.buyInAmount,totalBuyOut:e.totalBuyOut+n.buyOutAmount,recordCount:e.recordCount+1}},{totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,recordCount:0});return g?(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"flex items-center justify-center py-12",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"Loading real-time rolling history from Supabase..."})]})})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Rolling History from Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:[L&&!R?"Showing only your records for privacy and security":"Rolling records and buy-in/buy-out data update automatically",T&&" \u2022 Last sync: ".concat(T.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[D&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]}),v&&(0,u.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-1 animate-spin"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:F,disabled:D||v,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),L&&!R&&(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(uh,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Staff Privacy Protection"}),(0,u.jsx)("p",{className:"text-xs text-blue-600",children:"You can only view and manage your own rolling records. Records from other staff members are not accessible for privacy and security reasons."})]})]})}),R&&(0,u.jsx)(ed,{value:E,onValueChange:e=>P(e),children:(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"my_records",className:"flex items-center space-x-2",children:[(0,u.jsx)(Wd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"My Records"}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs",children:s.filter(e=>e.staffId===r.id).length})]}),(0,u.jsxs)(nd,{value:"all",className:"flex items-center space-x-2",children:[(0,u.jsx)(Rd,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"All Records"}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs",children:s.length})]})]})}),L&&!R&&(0,u.jsx)("div",{className:"flex items-center justify-between",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Wd,{className:"w-5 h-5 text-gray-600"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"My Rolling Records"}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs",children:[s.length," records"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[(0,u.jsx)(uh,{className:"w-3 h-3 mr-1"}),"Private"]})]})}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(St,{className:"w-5 h-5 text-blue-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Rolling"}),(0,u.jsxs)("p",{className:"text-2xl font-bold",children:["$",U.totalRolling.toLocaleString()]})]})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[U.totalWinLoss>=0?(0,u.jsx)(bt,{className:"w-5 h-5 text-green-600"}):(0,u.jsx)(Td,{className:"w-5 h-5 text-red-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Win/Loss"}),(0,u.jsxs)("p",{className:"text-2xl font-bold ".concat(U.totalWinLoss>=0?"text-green-600":"text-red-600"),children:["$",U.totalWinLoss.toLocaleString()]})]})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Vd,{className:"w-5 h-5 text-blue-500"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Buy-in"}),(0,u.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",U.totalBuyIn.toLocaleString()]})]})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(kt,{className:"w-5 h-5 text-purple-500"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Buy-out"}),(0,u.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",U.totalBuyOut.toLocaleString()]})]})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(ph,{className:"w-5 h-5 text-orange-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:L&&!R?"My Records":"Records"}),(0,u.jsx)("p",{className:"text-2xl font-bold",children:U.recordCount}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:["Net: $",(U.totalBuyOut-U.totalBuyIn).toLocaleString()]})]})]})})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{children:(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(mh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Filters"}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"Real-time Data"}),L&&!R&&(0,u.jsxs)(Je,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[(0,u.jsx)(uh,{className:"w-3 h-3 mr-1"}),"Own Records Only"]})]})}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium",children:"Start Date"}),(0,u.jsx)(Se,{type:"date",value:j.start,onChange:e=>N((0,i.A)((0,i.A)({},j),{},{start:e.target.value}))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium",children:"End Date"}),(0,u.jsx)(Se,{type:"date",value:j.end,onChange:e=>N((0,i.A)((0,i.A)({},j),{},{end:e.target.value}))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium",children:"Game Type"}),(0,u.jsx)(Se,{placeholder:"Filter by game...",value:S,onChange:e=>k(e.target.value)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium",children:"Customer"}),(0,u.jsx)(Se,{placeholder:"Filter by customer...",value:A,onChange:e=>O(e.target.value)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium",children:"Status"}),(0,u.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:_,onChange:e=>C(e.target.value),children:[(0,u.jsx)("option",{value:"all",children:"All Records"}),(0,u.jsx)("option",{value:"verified",children:"Verified Only"}),(0,u.jsx)("option",{value:"unverified",children:"Unverified Only"})]})]})]})})]}),(0,u.jsx)("div",{className:"space-y-4",children:0===h.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(Rd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No rolling records found."}),(0,u.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:L&&!R||"my_records"===E?"You haven't recorded any rolling amounts yet.":"No rolling records match the current filters."}),(0,u.jsxs)(je,{variant:"outline",onClick:F,className:"mt-4",disabled:v,children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}):h.map(e=>{const t=0===(o=e.winLoss||0)?{text:"Break Even",icon:xt,bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}:o>0?{text:"Customer Win",icon:bt,bgColor:"bg-green-100",textColor:"text-green-700",iconColor:"text-green-600"}:{text:"House Win",icon:Td,bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"};var o;const c=t.icon,d=B(e);return(0,u.jsxs)(ze,{className:"overflow-hidden",children:[(0,u.jsx)(Be,{children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:e.gameType}),e.verified?(0,u.jsxs)(Je,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,u.jsx)(mt,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,u.jsxs)(Je,{variant:"outline",className:"text-orange-600 border-orange-200",children:[(0,u.jsx)(kd,{className:"w-3 h-3 mr-1"}),"Unverified"]}),e.ocrData&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[(0,u.jsx)(gh,{className:"w-3 h-3 mr-1"}),"OCR"]}),(0,u.jsxs)(Je,{className:"".concat(t.bgColor," ").concat(t.textColor," flex items-center space-x-1"),children:[(0,u.jsx)(c,{className:"w-3 h-3 ".concat(t.iconColor)}),(0,u.jsx)("span",{children:t.text})]}),"Okada Casino"===e.venue&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,u.jsx)(zd,{className:"w-3 h-3 mr-1"}),"Okada"]}),(d.buyInAmount>0||d.buyOutAmount>0)&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-indigo-50 text-indigo-700 border-indigo-200",children:[(0,u.jsx)(Fd,{className:"w-3 h-3 mr-1"}),"Cash Flow"]})]}),(0,u.jsxs)(We,{className:"flex items-center space-x-4 text-sm",children:[(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(Wd,{className:"w-4 h-4 mr-1"}),e.customerName]}),(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(ih,{className:"w-4 h-4 mr-1"}),new Date(e.sessionStartTime).toLocaleDateString()]}),(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(Qd,{className:"w-4 h-4 mr-1"}),new Date(e.sessionStartTime).toLocaleTimeString()]}),e.venue&&(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(Ot,{className:"w-4 h-4 mr-1"}),e.venue]}),e.tableNumber&&(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(dh,{className:"w-4 h-4 mr-1"}),e.tableNumber]}),R&&"all"===E&&(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(sh,{className:"w-4 h-4 mr-1"}),e.staffName]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>w(e),children:[(0,u.jsx)(Ad,{className:"w-4 h-4 mr-2"}),"Details"]}),("admin"===n.role||"staff"===n.role&&e.staffId===r.id)&&(0,u.jsx)(je,{variant:e.verified?"outline":"default",size:"sm",onClick:()=>(async e=>{const t=s.find(t=>t.id===e);if(!t)return;if(L&&!R&&t.staffId!==r.id)return void a("You can only verify your own records.");const o=(0,i.A)((0,i.A)({},t),{},{verified:!t.verified,verifiedBy:t.verified?void 0:n.id,verifiedAt:t.verified?void 0:(new Date).toISOString()});try{M(!0);const t=(await Qe.db.get("rolling_records",[])).map(t=>t.id===e?o:t);await Qe.db.save("rollingRecords",t);const n=s.map(t=>t.id===e?o:t);l(n),console.log("\u2705 Updated verification status for record ".concat(e)),await F()}catch(c){console.error("\u274c Failed to update verification status:",c);const e=c instanceof Error?c.message:"Unknown error occurred";a("Failed to update verification status: ".concat(e))}finally{M(!1)}})(e.id),disabled:D,children:D?(0,u.jsx)(jt,{className:"w-4 h-4 animate-spin"}):e.verified?"Unverify":"Verify"})]})]})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Rolling Amount"}),(0,u.jsxs)("p",{className:"text-lg font-bold",children:["$",(e.rollingAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Win/Loss"}),(0,u.jsxs)("p",{className:"text-lg font-bold ".concat((e.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(e.winLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Buy-in"}),(0,u.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["$",d.buyInAmount.toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Buy-out"}),(0,u.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:["$",d.buyOutAmount.toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Net Cash Flow"}),(0,u.jsxs)("p",{className:"text-lg font-bold ".concat(d.netCashFlow>=0?"text-green-600":"text-red-600"),children:["$",d.netCashFlow.toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Session Duration"}),(0,u.jsx)("p",{className:"text-sm",children:e.sessionEndTime?"".concat(Math.round((new Date(e.sessionEndTime).getTime()-new Date(e.sessionStartTime).getTime())/6e4)," min"):"Ongoing"}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:["Recorded: ",new Date(e.recordedAt).toLocaleString()]})]})]}),e.notes&&(0,u.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,u.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.notes})]})]})]},e.id)})}),b&&(0,u.jsx)(bi,{open:!!b,onOpenChange:()=>w(null),children:(0,u.jsxs)(Si,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[(0,u.jsxs)(ki,{children:[(0,u.jsxs)(Oi,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:"Rolling Record Details"}),(0,u.jsx)(Je,{variant:"outline",className:"bg-green-50 text-green-700",children:"Real-time Data"}),L&&!R&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[(0,u.jsx)(uh,{className:"w-3 h-3 mr-1"}),"Own Record"]})]}),(0,u.jsx)(_i,{children:"Complete information for this rolling record including buy-in/buy-out data"})]}),(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,u.jsx)("p",{className:"text-lg",children:b.customerName})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Agent"}),(0,u.jsx)("p",{children:b.agentName})]}),(R||b.staffId===r.id)&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Staff"}),(0,u.jsx)("p",{children:b.staffName})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Game Type"}),(0,u.jsx)("p",{children:b.gameType})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Venue"}),(0,u.jsx)("p",{children:b.venue||"Not specified"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Table Number"}),(0,u.jsx)("p",{children:b.tableNumber||"Not specified"})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Session Start"}),(0,u.jsx)("p",{children:new Date(b.sessionStartTime).toLocaleString()})]}),b.sessionEndTime&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Session End"}),(0,u.jsx)("p",{children:new Date(b.sessionEndTime).toLocaleString()})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Recorded At"}),(0,u.jsx)("p",{children:new Date(b.recordedAt).toLocaleString()})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Verification Status"}),(0,u.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:b.verified?(0,u.jsxs)(Je,{className:"bg-green-100 text-green-800",children:[(0,u.jsx)(mt,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,u.jsxs)(Je,{variant:"outline",className:"text-orange-600 border-orange-200",children:[(0,u.jsx)(kd,{className:"w-3 h-3 mr-1"}),"Unverified"]})})]})]})]}),(0,u.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("h4",{className:"font-medium mb-3 flex items-center space-x-2",children:[(0,u.jsx)(yh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Financial Summary"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Rolling Amount"}),(0,u.jsxs)("p",{className:"text-xl font-bold",children:["$",(b.rollingAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Win/Loss"}),(0,u.jsxs)("p",{className:"text-xl font-bold ".concat((b.winLoss||0)>=0?"text-green-600":"text-red-600"),children:["$",(b.winLoss||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Buy-in Amount"}),(0,u.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["$",(b.buyInAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Buy-out Amount"}),(0,u.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:["$",(b.buyOutAmount||0).toLocaleString()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Net Cash Flow"}),(0,u.jsxs)("p",{className:"text-xl font-bold ".concat((b.buyOutAmount||0)-(b.buyInAmount||0)>=0?"text-green-600":"text-red-600"),children:["$",((b.buyOutAmount||0)-(b.buyInAmount||0)).toLocaleString()]})]})]})]}),b.ocrData&&(0,u.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,u.jsxs)("h4",{className:"font-medium mb-2 flex items-center space-x-2",children:[(0,u.jsx)(gh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"OCR Extraction Results"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(100*b.ocrData.confidence),"%"]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2",children:[b.ocrData.extractedFields.amount&&(0,u.jsxs)(Je,{variant:"outline",children:["Rolling: $",b.ocrData.extractedFields.amount]}),b.ocrData.extractedFields.buyIn&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["Buy-in: $",b.ocrData.extractedFields.buyIn]}),b.ocrData.extractedFields.buyOut&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-purple-50 text-purple-700",children:["Buy-out: $",b.ocrData.extractedFields.buyOut]})]}),(0,u.jsxs)("details",{children:[(0,u.jsx)("summary",{className:"cursor-pointer font-medium",children:"View extracted text"}),(0,u.jsx)("pre",{className:"mt-2 p-2 bg-gray-50 rounded text-xs whitespace-pre-wrap",children:b.ocrData.extractedText})]})]})]}),b.attachments&&b.attachments.length>0&&(0,u.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,u.jsx)("h4",{className:"font-medium mb-2",children:"Attachments"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.attachments.map(e=>(0,u.jsxs)("div",{className:"border rounded p-2",children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:e.name}),e.type.startsWith("image/")&&(0,u.jsx)("img",{src:e.data,alt:e.name,className:"mt-2 max-h-32 w-auto rounded"})]},e.id))})]}),b.notes&&(0,u.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,u.jsx)("h4",{className:"font-medium mb-2",children:"Notes"}),(0,u.jsx)("p",{className:"text-gray-700",children:b.notes})]})]}),(0,u.jsx)(Ai,{children:(0,u.jsx)(Ei,{children:"Close"})})]})})]})});const xh=Pd(function(e){var n;let{user:r,showError:a,clearError:o}=e;const[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,y]=(0,t.useState)(null),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[A,O]=(0,t.useState)(""),[_,C]=(0,t.useState)(""),[E,P]=(0,t.useState)(!0),[T,I]=(0,t.useState)(null),[D,M]=(0,t.useState)(!1),R=(0,t.useCallback)(async()=>{try{P(!0),o(),console.log("\ud83d\udd04 Loading real-time staff portal data from Supabase...");const[e,t,n,a]=await Promise.all([et.get("staff",[]),et.get("staff_shifts",[]),et.get("customers",[]),et.get("game_types",[])]);if(l(e),d(t),f(n),m(a),I(new Date),r.staffId){let n=e.find(e=>e.id===r.staffId);if(!n){n={id:r.staffId,name:"".concat(r.username," (Auto-created)"),email:"".concat(r.username,"@casino.com"),phone:"+852-0000-0000",position:"Staff Member",createdAt:(new Date).toISOString().split("T")[0],isActive:!0,attachments:[]};const t=[...e,n];await et.save("staff",t),l(t)}const a=t.find(e=>e.staffId===n.id&&"checked-in"===e.status);a&&(n=(0,i.A)((0,i.A)({},n),{},{currentShift:a})),y(n)}console.log("\u2705 Loaded real-time data: ".concat(e.length," staff, ").concat(n.length," customers, ").concat(t.length," shifts"))}catch(e){console.error("\u274c Error loading real-time staff portal data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Failed to load staff portal data: ".concat(t))}finally{P(!1)}},[r.staffId,o,a]);(0,t.useEffect)(()=>{R();const e=setInterval(()=>{console.log("\ud83d\udd04 Real-time staff portal refresh triggered"),R()},3e4);return()=>{clearInterval(e)}},[R]);const L=async e=>{try{await et.save("staff",e),l(e),console.log("\u2705 Staff data saved to Supabase")}catch(t){console.error("\u274c Error saving staff data:",t);const e=t instanceof Error?t.message:"Unknown error occurred";a("Failed to save staff data: ".concat(e))}},F=async e=>{try{await et.save("shifts",e),d(e),console.log("\u2705 Shifts data saved to Supabase")}catch(t){console.error("\u274c Error saving shifts data:",t);const e=t instanceof Error?t.message:"Unknown error occurred";a("Failed to save shifts data: ".concat(e))}},z=()=>(null===g||void 0===g?void 0:g.currentShift)&&"checked-in"===g.currentShift.status,B=g?c.filter(e=>e.staffId===g.id).sort((e,t)=>new Date(t.checkInTime).getTime()-new Date(e.checkInTime).getTime()).slice(0,10):[];return E&&!g?(0,u.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Loading real-time staff portal data from Supabase..."})]})}):g?(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Real-time Staff Portal Connected to Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:["Customer data, shifts, and rolling records sync automatically with cloud database",T&&" \u2022 Last sync: ".concat(T.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[D&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]}),E&&(0,u.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-1 animate-spin"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:R,disabled:D||E,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Staff Portal"}),(0,u.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",g.name," - ",g.position]}),(0,u.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,u.jsxs)(Je,{variant:"outline",className:"text-xs",children:[h.filter(e=>e.isActive).length," Active Customers"]}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs",children:"Okada Casino Only"})]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-3",children:z()?(0,u.jsx)(fh,{user:r,currentStaff:g,customers:h,gameTypes:p,onRecordSaved:async e=>{await R()},showError:a,clearError:o}):(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Check in to record rolling amounts"}),(0,u.jsx)("p",{className:"text-xs text-gray-400",children:"Real-time customer data available after check-in"})]})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{children:(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(Qd,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Current Status"}),z()&&(0,u.jsxs)(Je,{className:"bg-green-100 text-green-800",children:[(0,u.jsx)(jt,{className:"w-3 h-3 mr-1"}),"Live Recording Available"]})]})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("div",{className:"flex items-center space-x-4",children:z()?(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)(Je,{className:"bg-green-100 text-green-800 px-3 py-1",children:[(0,u.jsx)(mt,{className:"w-4 h-4 mr-1"}),"On Duty"]}),(0,u.jsxs)("span",{className:"text-sm text-gray-600",children:["Since: ",new Date(g.currentShift.checkInTime).toLocaleString()]})]}),(0,u.jsxs)("div",{className:"text-xs text-gray-500",children:["Shift Date: ",g.currentShift.shiftDate," | Duration: ",Math.floor(((new Date).getTime()-new Date(g.currentShift.checkInTime).getTime())/6e4)," minutes"]}),(0,u.jsx)("div",{className:"text-xs text-green-600",children:"\u2705 Real-time rolling recording enabled with buy-in/buy-out tracking"})]}):(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)(Je,{variant:"secondary",className:"px-3 py-1",children:[(0,u.jsx)(ah,{className:"w-4 h-4 mr-1"}),"Off Duty"]}),(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Ready to check in"})]})}),(0,u.jsx)("div",{className:"flex space-x-2",children:z()?(0,u.jsxs)(ba,{open:b,onOpenChange:w,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{variant:"destructive",disabled:D,children:[(0,u.jsx)(Jd,{className:"w-4 h-4 mr-2"}),"Check Out"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Check Out"}),(0,u.jsx)(Oa,{children:"Upload a photo as proof of check-out and add any end-of-shift notes. Data will be saved to Supabase."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkOutPhoto",children:"Check-out Photo (Required)"}),(0,u.jsx)(Se,{id:"checkOutPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return k((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:D}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udcf8 Take a photo as proof of check-out (camera will open on mobile)"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkOutNotes",children:"End of Shift Notes (Optional)"}),(0,u.jsx)(Et,{id:"checkOutNotes",value:_,onChange:e=>C(e.target.value),placeholder:"Any end-of-shift notes or handover information...",rows:3,disabled:D})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:D,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(g&&S&&g.currentShift){M(!0);try{const e=new FileReader;e.onload=async e=>{try{var t;const n={id:"photo_".concat(Date.now()),name:S.name,size:S.size,type:S.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:r.username},a=(0,i.A)((0,i.A)({},g.currentShift),{},{checkOutTime:(new Date).toISOString(),checkOutPhoto:n,status:"checked-out",notes:g.currentShift.notes+(_?"\nCheck-out: ".concat(_):"")}),o=c.map(e=>e.id===a.id?a:e);await F(o);const l=s.map(e=>e.id===g.id?(0,i.A)((0,i.A)({},e),{},{currentShift:void 0}):e);await L(l),y((0,i.A)((0,i.A)({},g),{},{currentShift:void 0})),w(!1),k(null),C(""),await R()}catch(n){console.error("\u274c Error during check-out:",n);const e=n instanceof Error?n.message:"Unknown error occurred";a("Check-out failed: ".concat(e))}finally{M(!1)}},e.readAsDataURL(S)}catch(e){console.error("\u274c Error during check-out:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Check-out failed: ".concat(t)),M(!1)}}},disabled:!S||D,children:D?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Jd,{className:"w-4 h-4 mr-2"}),"Check Out"]})})]})]})]})]}):(0,u.jsxs)(ba,{open:v,onOpenChange:x,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{disabled:D,children:[(0,u.jsx)(Xd,{className:"w-4 h-4 mr-2"}),"Check In"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Check In"}),(0,u.jsx)(Oa,{children:"Upload a photo as proof of check-in and add any notes for the shift. Data will be saved to Supabase."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkInPhoto",children:"Check-in Photo (Required)"}),(0,u.jsx)(Se,{id:"checkInPhoto",type:"file",accept:"image/*",onChange:e=>{var t;return N((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1",required:!0,disabled:D}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udcf8 Take a photo as proof of check-in (camera will open on mobile)"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"checkInNotes",children:"Notes (Optional)"}),(0,u.jsx)(Et,{id:"checkInNotes",value:A,onChange:e=>O(e.target.value),placeholder:"Any notes for this shift...",rows:3,disabled:D})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:D,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(g&&j){M(!0);try{const e=new FileReader;e.onload=async e=>{try{var t;const n={id:"photo_".concat(Date.now()),name:j.name,size:j.size,type:j.type,data:null===(t=e.target)||void 0===t?void 0:t.result,uploadedAt:(new Date).toISOString(),uploadedBy:r.username},a={id:"shift_".concat(Date.now()),staffId:g.id,checkInTime:(new Date).toISOString(),checkInPhoto:n,shiftDate:(new Date).toISOString().split("T")[0],status:"checked-in",notes:A},o=[...c,a];await F(o);const l=s.map(e=>e.id===g.id?(0,i.A)((0,i.A)({},e),{},{currentShift:a}):e);await L(l),y((0,i.A)((0,i.A)({},g),{},{currentShift:a})),x(!1),N(null),O(""),await R()}catch(n){console.error("\u274c Error during check-in:",n);const e=n instanceof Error?n.message:"Unknown error occurred";a("Check-in failed: ".concat(e))}finally{M(!1)}},e.readAsDataURL(j)}catch(e){console.error("\u274c Error during check-in:",e);const t=e instanceof Error?e.message:"Unknown error occurred";a("Check-in failed: ".concat(t)),M(!1)}}},disabled:!j||D,children:D?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Xd,{className:"w-4 h-4 mr-2"}),"Check In"]})})]})]})]})]})})]}),z()&&(null===(n=g.currentShift)||void 0===n?void 0:n.notes)&&(0,u.jsxs)("div",{className:"mt-4 p-3 bg-green-50 rounded-md",children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-green-700",children:"Current Shift Notes"}),(0,u.jsx)("p",{className:"text-sm text-green-600 mt-1",children:g.currentShift.notes})]})]})]}),!z()&&(0,u.jsxs)(ze,{className:"border-blue-200 bg-blue-50",children:[(0,u.jsx)(Be,{children:(0,u.jsxs)(Ue,{className:"flex items-center space-x-2 text-blue-800",children:[(0,u.jsx)(pt,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Enhanced Staff Portal Features"})]})}),(0,u.jsx)(qe,{className:"text-blue-700",children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("p",{className:"text-sm",children:"Welcome to the enhanced Staff Portal with real-time capabilities:"}),(0,u.jsxs)("ol",{className:"text-sm space-y-2 list-decimal list-inside",children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Check In:"}),' Click "Check In" and upload a photo as proof of arrival']}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Real-time Rolling Recording:"})," Record customer rolling amounts with mandatory buy-in/buy-out tracking"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Okada Casino Integration:"})," All recordings are automatically tagged with Okada Casino venue"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Live Customer Data:"})," Customer availability updates in real-time from cloud database"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Admin Oversight:"})," Buy-in/buy-out amounts required for complete financial tracking"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Enhanced OCR:"})," Upload receipts for automatic data extraction including cash flow"]})]}),(0,u.jsx)("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-blue-600",children:[(0,u.jsx)("strong",{children:"Note:"})," All data is immediately saved to Supabase cloud database for real-time synchronization across all systems and admin oversight."]})})]})})]}),(0,u.jsxs)(ed,{defaultValue:"shifts",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"shifts",className:"flex items-center space-x-2",children:[(0,u.jsx)(ih,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Recent Shifts"})]}),(0,u.jsxs)(nd,{value:"rolling",className:"flex items-center space-x-2",children:[(0,u.jsx)(oh,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Rolling Records"})]})]}),(0,u.jsx)(rd,{value:"shifts",className:"mt-6",children:(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(ih,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Recent Shifts"}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs",children:"Real-time from Supabase"})]}),(0,u.jsx)(We,{children:"Your last 10 shifts with real-time updates"})]}),(0,u.jsx)(qe,{children:0===B.length?(0,u.jsxs)("div",{className:"text-center py-8",children:[(0,u.jsx)(Qd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No shift history found."}),(0,u.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Your shifts will appear here once you start checking in."})]}):(0,u.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,u.jsx)(ze,{className:"border-l-4 border-l-blue-400",children:(0,u.jsxs)(qe,{className:"p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(ih,{className:"w-4 h-4 text-gray-400"}),(0,u.jsx)("span",{className:"font-medium",children:e.shiftDate})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Je,{className:"checked-in"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:"checked-in"===e.status?"On Duty":"Completed"}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs",children:"Supabase"})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-xs text-gray-500",children:"Check-in Time"}),(0,u.jsx)("p",{children:new Date(e.checkInTime).toLocaleString()}),e.checkInPhoto&&(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)(th,{src:e.checkInPhoto.data,alt:"Check-in proof",className:"w-16 h-16 object-cover rounded border"})})]}),e.checkOutTime&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-xs text-gray-500",children:"Check-out Time"}),(0,u.jsx)("p",{children:new Date(e.checkOutTime).toLocaleString()}),e.checkOutPhoto&&(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)(th,{src:e.checkOutPhoto.data,alt:"Check-out proof",className:"w-16 h-16 object-cover rounded border"})})]})]}),e.notes&&(0,u.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-xs",children:[(0,u.jsx)(Pe,{className:"text-gray-500",children:"Notes"}),(0,u.jsx)("p",{className:"text-gray-700 mt-1",children:e.notes})]})]})},e.id))})})]})}),(0,u.jsx)(rd,{value:"rolling",className:"mt-6",children:(0,u.jsx)(vh,{user:r,currentStaff:g,showError:a,clearError:o})})]})]}):(0,u.jsx)("div",{className:"space-y-6",children:(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(kd,{className:"w-12 h-12 mx-auto text-red-400 mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Record Not Found"}),(0,u.jsx)("p",{className:"text-gray-500 mb-4",children:"Your staff record could not be found or created automatically."}),(0,u.jsxs)("div",{className:"text-left bg-gray-50 p-4 rounded-lg max-w-md mx-auto",children:[(0,u.jsx)("h4",{className:"font-medium text-sm text-gray-900 mb-2",children:"Debug Information:"}),(0,u.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,u.jsxs)("li",{children:["User ID: ",r.id]}),(0,u.jsxs)("li",{children:["Staff ID: ",r.staffId||"Not assigned"]}),(0,u.jsxs)("li",{children:["Username: ",r.username]}),(0,u.jsxs)("li",{children:["Role: ",r.role]})]})]}),(0,u.jsx)("p",{className:"text-sm text-gray-400 mt-4",children:"Please contact an administrator to create your staff record."})]})})})}),bh=["className"],wh=["className"],jh=["className"],Nh=["className"],Sh=["className"],kh=["className"];function Ah(e){let{className:t}=e,n=o(e,bh);return(0,u.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,u.jsx)("table",(0,i.A)({"data-slot":"table",className:xe("w-full caption-bottom text-sm",t)},n))})}function Oh(e){let{className:t}=e,n=o(e,wh);return(0,u.jsx)("thead",(0,i.A)({"data-slot":"table-header",className:xe("[&_tr]:border-b",t)},n))}function _h(e){let{className:t}=e,n=o(e,jh);return(0,u.jsx)("tbody",(0,i.A)({"data-slot":"table-body",className:xe("[&_tr:last-child]:border-0",t)},n))}function Ch(e){let{className:t}=e,n=o(e,Nh);return(0,u.jsx)("tr",(0,i.A)({"data-slot":"table-row",className:xe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t)},n))}function Eh(e){let{className:t}=e,n=o(e,Sh);return(0,u.jsx)("th",(0,i.A)({"data-slot":"table-head",className:xe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))}function Ph(e){let{className:t}=e,n=o(e,kh);return(0,u.jsx)("td",(0,i.A)({"data-slot":"table-cell",className:xe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))}const Th=lt("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Ih=lt("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Dh=lt("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Mh=Pd(function(e){var n,r;let{user:a,showError:o,clearError:s}=e;const[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)("trips"),[x,b]=(0,t.useState)("overview"),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null),[O,_]=(0,t.useState)(!0),[C,E]=(0,t.useState)(""),[P,T]=(0,t.useState)(!1),[I,D]=(0,t.useState)(!1),[M,R]=(0,t.useState)(!1),[L,F]=(0,t.useState)(!1),[z,B]=(0,t.useState)(!1),[U,W]=(0,t.useState)(!1),[q,H]=(0,t.useState)(!1),[V,K]=(0,t.useState)({name:"",description:"",date:"",endDate:"",venue:"",status:"planned"}),[$,G]=(0,t.useState)({description:"",amount:0,category:"flight"}),[Y,X]=(0,t.useState)(25),[J,Q]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(25),[te,ne]=(0,t.useState)(null),re=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),ae=e=>void 0===e||null===e||isNaN(e)?0:e,ie="admin"===a.role,oe="agent"===a.role,se=(0,t.useCallback)(async()=>{try{j(!0),E(""),s(),console.log("\ud83d\udd04 Loading project data from Supabase...");const[e,t,n]=await Promise.all([Qe.db.get("trips",[]),Qe.db.get("customers",[]),Qe.db.get("agents",[])]);if(console.log("\ud83d\udcca Data loaded:",{trips:e.length,customers:t.length,agents:n.length}),c(e),h(t),p(n),A(new Date),T(!0),m){const t=e.find(e=>e.id===m.id);t&&g(t)}console.log("\u2705 Project data loaded successfully: ".concat(e.length," trips"))}catch(e){console.error("\u274c Error loading project data:",e);const t=e instanceof Error?e.message:"Unknown error occurred",n="Failed to load project data: ".concat(t);E(n),o(n)}finally{j(!1)}},[s,o,m]);(0,t.useEffect)(()=>{let e;return se(),O&&(e=setInterval(()=>{console.log("\ud83d\udd04 Real-time refresh triggered"),se()},3e4)),()=>{e&&clearInterval(e)}},[se,O]);const le=async e=>{try{S(!0),await Qe.db.save("trips",e),c(e),A(new Date),console.log("\u2705 Trips saved to Supabase")}catch(t){console.error("\u274c Error saving trips:",t);const e=t instanceof Error?t.message:"Unknown error occurred";throw o("Failed to save trips: ".concat(e)),t}finally{S(!1)}},ce=e=>{const t=e.customers.reduce((e,t)=>e+ae(t.rollingAmount),0),n=e.customers.reduce((e,t)=>e+ae(t.winLoss),0),r=e.customers.reduce((e,t)=>e+ae(t.buyInAmount),0),a=e.customers.reduce((e,t)=>e+ae(t.buyOutAmount),0),i=e.expenses.reduce((e,t)=>e+ae(t.amount),0),o=a-r,s=e.customers.reduce((e,t)=>e+ae(t.rollingAmount)*ae(t.rollingPercentage)/100,0),l=-n,c=l-s;return{totalRolling:t,totalWinLoss:n,totalBuyIn:r,totalBuyOut:a,totalExpenses:i,netCashFlow:o,rollingCommission:s,houseGrossWin:l,houseNetWin:c,netResult:c-i}},ue="agent"===a.role&&a.agentId?l.filter(e=>{var t;return(null===(t=e.agents)||void 0===t?void 0:t.some(e=>e.agentId===a.agentId))||e.agentId===a.agentId}):l;return w&&!P?(0,u.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Project Data"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Connecting to Supabase and loading trips, customers, and agents..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(Ot,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\ud83c\udfaf Project Management - Agent Share CRUD Added"}),(0,u.jsxs)("p",{className:"text-xs text-blue-600",children:["Full CRUD functionality for agent shares now available in trip details",k&&" \u2022 Last sync: ".concat(k.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[N&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:se,disabled:w,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>_(!O),className:"text-xs",children:[(0,u.jsx)(Nt,{className:"w-3 h-3 mr-1 ".concat(O?"text-green-500":"text-gray-500")}),O?"Live":"Manual"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:[(0,u.jsx)(mt,{className:"w-2 h-2 mr-1"}),"CRUD Ready"]})]})]})}),(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"pt-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Trips Loaded"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),(0,u.jsx)(Ot,{className:"w-8 h-8 text-blue-400"})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"pt-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Customers Available"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-green-600",children:d.length})]}),(0,u.jsx)(gt,{className:"w-8 h-8 text-green-400"})]})})}),(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"pt-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Agents Available"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:f.length})]}),(0,u.jsx)(At,{className:"w-8 h-8 text-purple-400"})]})})})]}),C&&(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Error:"})," ",C,(0,u.jsxs)(je,{onClick:se,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,u.jsxs)(ed,{value:y,onValueChange:v,className:"space-y-4",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"trips",className:"flex items-center gap-2",children:[(0,u.jsx)(Ot,{className:"w-4 h-4"}),"All Trips"]}),(0,u.jsxs)(nd,{value:"trip-details",disabled:!m,className:"flex items-center gap-2",children:[(0,u.jsx)(Ad,{className:"w-4 h-4"}),"Trip Details ",m&&"- ".concat(m.name)]})]}),(0,u.jsxs)(rd,{value:"trips",className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Project Management"}),(0,u.jsxs)("p",{className:"text-gray-600",children:["Manage trips and project data with full CRUD functionality","agent"===a.role&&" (Your trips only)"]})]}),(ie||oe)&&(0,u.jsxs)(ba,{open:I,onOpenChange:D,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Create Trip"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Create New Trip"}),(0,u.jsx)(Oa,{children:"Create a new trip that will be saved to Supabase database."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"tripName",children:"Trip Name *"}),(0,u.jsx)(Se,{id:"tripName",value:V.name,onChange:e=>K((0,i.A)((0,i.A)({},V),{},{name:e.target.value})),placeholder:"Enter trip name"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"tripDescription",children:"Description"}),(0,u.jsx)(Et,{id:"tripDescription",value:V.description,onChange:e=>K((0,i.A)((0,i.A)({},V),{},{description:e.target.value})),placeholder:"Trip description"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"startDate",children:"Start Date *"}),(0,u.jsx)(Se,{id:"startDate",type:"date",value:V.date,onChange:e=>K((0,i.A)((0,i.A)({},V),{},{date:e.target.value}))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"endDate",children:"End Date"}),(0,u.jsx)(Se,{id:"endDate",type:"date",value:V.endDate,onChange:e=>K((0,i.A)((0,i.A)({},V),{},{endDate:e.target.value}))})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"venue",children:"Venue"}),(0,u.jsx)(Se,{id:"venue",value:V.venue,onChange:e=>K((0,i.A)((0,i.A)({},V),{},{venue:e.target.value})),placeholder:"Casino venue"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"status",children:"Status"}),(0,u.jsxs)(eu,{value:V.status,onValueChange:e=>K((0,i.A)((0,i.A)({},V),{},{status:e})),children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"planned",children:"Planned"}),(0,u.jsx)(au,{value:"ongoing",children:"Ongoing"}),(0,u.jsx)(au,{value:"completed",children:"Completed"})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{variant:"outline",onClick:()=>D(!1),disabled:N,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(V.name.trim()&&V.date)try{const e={id:Date.now().toString(),name:V.name,description:V.description||"",date:V.date,status:V.status,agents:"agent"===a.role&&a.agentId?[{agentId:a.agentId,agentName:a.username,sharePercentage:100,calculatedShare:0}]:[],customers:[],expenses:[],totalRolling:0,totalWinLoss:0,totalBuyIn:0,totalBuyOut:0,calculatedTotalRolling:0,sharing:{totalWinLoss:0,totalExpenses:0,totalRollingCommission:0,totalBuyIn:0,totalBuyOut:0,netCashFlow:0,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]},createdAt:(new Date).toISOString(),attachments:[],lastDataUpdate:(new Date).toISOString(),activeCustomersCount:0,recentActivityCount:0,totalExpenses:0},t=[...l,e];await le(t),D(!1),K({name:"",description:"",date:"",endDate:"",venue:"",status:"planned"}),console.log("\u2705 Trip created successfully:",e.name)}catch(e){console.error("\u274c Error creating trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";o("Failed to create trip: ".concat(t))}else o("Please fill in all required fields")},disabled:N,children:N?"Creating...":"Create Trip"})]})]})]})]})]}),0===ue.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(Ot,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:P?"No trips found":"Loading trips..."}),(0,u.jsx)("p",{className:"text-gray-500 mb-4",children:P?"Create your first trip to start managing projects and customer rolling amounts.":"Please wait while we load your trip data from Supabase."}),P&&(ie||oe)&&(0,u.jsxs)(je,{onClick:()=>D(!0),children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Create First Trip"]}),!P&&(0,u.jsxs)(je,{onClick:se,variant:"outline",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Retry Loading"]})]})}):(0,u.jsx)("div",{className:"space-y-4",children:ue.map(e=>{var t,n,r;const a=ce(e);return(0,u.jsx)(ze,{className:"overflow-hidden hover:shadow-md transition-shadow",children:(0,u.jsxs)(Be,{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Ue,{className:"text-xl",children:e.name}),(0,u.jsxs)(We,{className:"mt-1",children:[e.description," \u2022 ",e.date]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Je,{variant:"completed"===e.status?"default":"ongoing"===e.status?"secondary":"outline",children:(null===(t=e.status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.status)||void 0===n?void 0:n.slice(1))}),(0,u.jsxs)(je,{size:"sm",variant:"outline",onClick:()=>(e=>{console.log("\ud83c\udfaf Selecting trip for details:",e.name),g(e),v("trip-details"),b("overview")})(e),children:[(0,u.jsx)(Ad,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-gray-500 text-sm",children:"Customers"}),(0,u.jsx)("div",{className:"font-medium",children:(null===(r=e.customers)||void 0===r?void 0:r.length)||0})]}),(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-gray-500 text-sm",children:"Rolling"}),(0,u.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",re(a.totalRolling)]})]}),(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-gray-500 text-sm",children:"Win/Loss"}),(0,u.jsxs)("div",{className:"font-medium ".concat(a.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(a.totalWinLoss)]})]}),(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-gray-500 text-sm",children:"Net Result"}),(0,u.jsxs)("div",{className:"font-medium ".concat(a.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(a.netResult)]})]})]})]})},e.id)})})]}),(0,u.jsx)(rd,{value:"trip-details",className:"space-y-4",children:m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:m.name}),(0,u.jsx)("p",{className:"text-gray-600",children:m.description}),(0,u.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,u.jsx)(Je,{variant:"completed"===m.status?"default":"ongoing"===m.status?"secondary":"outline",children:(null===(n=m.status)||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===(r=m.status)||void 0===r?void 0:r.slice(1))}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:m.date})]})]}),(0,u.jsxs)(je,{variant:"outline",onClick:()=>v("trips"),children:[(0,u.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Back to Trips"]})]}),(0,u.jsxs)(ed,{value:x,onValueChange:b,className:"space-y-4",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-5",children:[(0,u.jsxs)(nd,{value:"overview",className:"flex items-center gap-1",children:[(0,u.jsx)(Th,{className:"w-3 h-3"}),"Overview"]}),(0,u.jsxs)(nd,{value:"customers",className:"flex items-center gap-1",children:[(0,u.jsx)(gt,{className:"w-3 h-3"}),"Customers"]}),(0,u.jsxs)(nd,{value:"agents",className:"flex items-center gap-1",children:[(0,u.jsx)(At,{className:"w-3 h-3"}),"Agents"]}),(0,u.jsxs)(nd,{value:"expenses",className:"flex items-center gap-1",children:[(0,u.jsx)(St,{className:"w-3 h-3"}),"Expenses"]}),(0,u.jsxs)(nd,{value:"financials",className:"flex items-center gap-1",children:[(0,u.jsx)(Ih,{className:"w-3 h-3"}),"Financials"]})]}),(0,u.jsx)(rd,{value:"overview",className:"space-y-4",children:(()=>{const e=ce(m);return(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{className:"pb-2",children:(0,u.jsx)(Ue,{className:"text-sm text-gray-600",children:"Total Rolling"})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["HK$",re(e.totalRolling)]}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[m.customers.length," customers"]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{className:"pb-2",children:(0,u.jsx)(Ue,{className:"text-sm text-gray-600",children:"Win/Loss"})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.totalWinLoss)]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Customer perspective"})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{className:"pb-2",children:(0,u.jsx)(Ue,{className:"text-sm text-gray-600",children:"Expenses"})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:["HK$",re(e.totalExpenses)]}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[m.expenses.length," items"]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{className:"pb-2",children:(0,u.jsx)(Ue,{className:"text-sm text-gray-600",children:"Net Result"})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold ".concat(e.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netResult)]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"After expenses"})]})]})]})})()}),(0,u.jsxs)(rd,{value:"customers",className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Customers (",m.customers.length,")"]}),(0,u.jsxs)(ba,{open:M,onOpenChange:R,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{size:"sm",children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Add Customer to Trip"}),(0,u.jsxs)(Oa,{children:["Select from available customers (",d.length," total)"]})]}),(0,u.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[d.filter(e=>!m.customers.some(t=>t.customerId===e.id)).map(e=>(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium",children:e.name}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),(0,u.jsxs)("div",{className:"text-xs text-gray-400",children:["Agent: ",e.agentName]})]}),(0,u.jsx)(je,{size:"sm",onClick:()=>(async e=>{if(!m)return;const t=d.find(t=>t.id===e);if(t)if(m.customers.some(t=>t.customerId===e))o("Customer is already added to this trip");else try{const e={customerId:t.id,customerName:t.name,rollingAmount:0,winLoss:0,buyInAmount:0,buyOutAmount:0,netCashFlow:0,rollingPercentage:t.rollingPercentage||1.4,calculatedRollingAmount:0,selectedGames:[],isActive:!0,lastActivityTime:null},n=(0,i.A)((0,i.A)({},m),{},{customers:[...m.customers,e],lastDataUpdate:(new Date).toISOString()}),r=l.map(e=>e.id===m.id?n:e);await le(r),g(n),R(!1),console.log("\u2705 Customer added to trip:",t.name)}catch(n){console.error("\u274c Error adding customer to trip:",n);const e=n instanceof Error?n.message:"Unknown error occurred";o("Failed to add customer to trip: ".concat(e))}})(e.id),children:"Add"})]},e.id)),0===d.filter(e=>!m.customers.some(t=>t.customerId===e.id)).length&&(0,u.jsx)("p",{className:"text-center text-gray-500 py-8",children:"All customers are already added to this trip"})]})]})]})]}),0===m.customers.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-8",children:[(0,u.jsx)(gt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No customers added to this trip"}),(0,u.jsxs)(je,{className:"mt-4",onClick:()=>R(!0),children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add First Customer"]})]})}):(0,u.jsx)("div",{className:"space-y-4",children:m.customers.map(e=>(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"pt-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h4",{className:"font-medium",children:e.customerName}),(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Rolling:"}),(0,u.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",re(e.rollingAmount)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Win/Loss:"}),(0,u.jsxs)("div",{className:"font-medium ".concat(e.winLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.winLoss)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Buy-in:"}),(0,u.jsxs)("div",{className:"font-medium",children:["HK$",re(e.buyInAmount)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Buy-out:"}),(0,u.jsxs)("div",{className:"font-medium",children:["HK$",re(e.buyOutAmount)]})]})]})]}),(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(m)try{const t=(0,i.A)((0,i.A)({},m),{},{customers:m.customers.filter(t=>t.customerId!==e),lastDataUpdate:(new Date).toISOString()}),n=l.map(e=>e.id===m.id?t:e);await le(n),g(t),console.log("\u2705 Customer removed from trip")}catch(t){console.error("\u274c Error removing customer from trip:",t);const e=t instanceof Error?t.message:"Unknown error occurred";o("Failed to remove customer from trip: ".concat(e))}})(e.customerId),disabled:N,children:(0,u.jsx)(fa,{className:"w-4 h-4"})})]})})},e.customerId))})]}),(0,u.jsxs)(rd,{value:"agents",className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Agents (",m.agents.length,")"]}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Manage agent shares with full CRUD functionality"})]}),(0,u.jsxs)(ba,{open:L,onOpenChange:F,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{size:"sm",children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Agent"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Add Agent to Trip"}),(0,u.jsx)(Oa,{children:"Select an agent and set their share percentage"})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"sharePercentage",children:"Share Percentage *"}),(0,u.jsx)(Se,{id:"sharePercentage",type:"number",value:Y,onChange:e=>X(parseFloat(e.target.value)||0),placeholder:"Enter percentage (e.g., 25)",min:"0.1",max:"100",step:"0.1"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a value between 0.1 and 100"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(Pe,{children:"Available Agents"}),f.filter(e=>!m.agents.some(t=>t.agentId===e.id)).map(e=>(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium",children:e.name}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,u.jsx)(je,{size:"sm",onClick:()=>(async e=>{if(!m)return;const t=f.find(t=>t.id===e);if(t)if(m.agents.some(t=>t.agentId===e))o("Agent is already added to this trip");else if(Y<=0||Y>100)o("Please enter a valid share percentage between 1 and 100");else try{const e={agentId:t.id,agentName:t.name,sharePercentage:Y,calculatedShare:0},n=(0,i.A)((0,i.A)({},m),{},{agents:[...m.agents,e],lastDataUpdate:(new Date).toISOString()}),r=l.map(e=>e.id===m.id?n:e);await le(r),g(n),F(!1),X(25),console.log("\u2705 Agent added to trip:",t.name)}catch(n){console.error("\u274c Error adding agent to trip:",n);const e=n instanceof Error?n.message:"Unknown error occurred";o("Failed to add agent to trip: ".concat(e))}})(e.id),children:"Add"})]},e.id)),0===f.filter(e=>!m.agents.some(t=>t.agentId===e.id)).length&&(0,u.jsx)("p",{className:"text-center text-gray-500 py-4",children:"All agents are already added to this trip"})]})]})]})]})]}),0===m.agents.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-8",children:[(0,u.jsx)(At,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No agents assigned to this trip"}),(0,u.jsxs)(je,{className:"mt-4",onClick:()=>F(!0),children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add First Agent"]})]})}):(0,u.jsx)("div",{className:"space-y-4",children:m.agents.map(e=>(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"pt-4",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h4",{className:"font-medium",children:e.agentName}),(0,u.jsxs)("div",{className:"flex items-center space-x-6 mt-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Share Percentage:"}),(0,u.jsxs)("span",{className:"font-medium ml-1 text-blue-600",children:[e.sharePercentage,"%"]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Calculated Share:"}),(0,u.jsxs)("span",{className:"font-medium ml-1 text-green-600",children:["HK$",re(e.calculatedShare)]})]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>{return Q(t=e),ee(t.sharePercentage),void W(!0);var t},disabled:N,children:(0,u.jsx)(Dh,{className:"w-4 h-4"})}),(0,u.jsx)(je,{variant:"outline",size:"sm",onClick:()=>(ne(e),void H(!0)),disabled:N,children:(0,u.jsx)(_d,{className:"w-4 h-4"})})]})]})})},e.agentId))}),(0,u.jsx)(ba,{open:U,onOpenChange:W,children:(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Edit Agent Share"}),(0,u.jsxs)(Oa,{children:["Update ",null===J||void 0===J?void 0:J.agentName,"'s share percentage"]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"editSharePercentage",children:"Share Percentage *"}),(0,u.jsx)(Se,{id:"editSharePercentage",type:"number",value:Z,onChange:e=>ee(parseFloat(e.target.value)||0),placeholder:"Enter percentage (e.g., 25)",min:"0.1",max:"100",step:"0.1"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a value between 0.1 and 100"})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{variant:"outline",onClick:()=>W(!1),disabled:N,children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(m&&J)if(Z<=0||Z>100)o("Please enter a valid share percentage between 1 and 100");else try{const e=(0,i.A)((0,i.A)({},m),{},{agents:m.agents.map(e=>e.agentId===J.agentId?(0,i.A)((0,i.A)({},e),{},{sharePercentage:Z}):e),lastDataUpdate:(new Date).toISOString()}),t=l.map(t=>t.id===m.id?e:t);await le(t),g(e),W(!1),Q(null),ee(25),console.log("\u2705 Agent share updated:",J.agentName)}catch(e){console.error("\u274c Error updating agent share:",e);const t=e instanceof Error?e.message:"Unknown error occurred";o("Failed to update agent share: ".concat(t))}},disabled:N,children:N?"Updating...":"Update Share"})]})]})]})}),(0,u.jsx)(bi,{open:q,onOpenChange:H,children:(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Remove Agent from Trip"}),(0,u.jsxs)(_i,{children:["Are you sure you want to remove ",(0,u.jsx)("strong",{children:null===te||void 0===te?void 0:te.agentName})," from this trip? This will remove their ",null===te||void 0===te?void 0:te.sharePercentage,"% share allocation.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"This action cannot be undone."]})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{disabled:N,children:"Cancel"}),(0,u.jsx)(Ci,{onClick:async()=>{if(m&&te)try{const e=(0,i.A)((0,i.A)({},m),{},{agents:m.agents.filter(e=>e.agentId!==te.agentId),lastDataUpdate:(new Date).toISOString()}),t=l.map(t=>t.id===m.id?e:t);await le(t),g(e),H(!1),ne(null),console.log("\u2705 Agent removed from trip:",te.agentName)}catch(e){console.error("\u274c Error removing agent from trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";o("Failed to remove agent from trip: ".concat(t))}},disabled:N,className:"bg-red-600 hover:bg-red-700",children:N?"Removing...":"Remove Agent"})]})]})})]}),(0,u.jsxs)(rd,{value:"expenses",className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("h3",{className:"text-lg font-medium",children:["Trip Expenses (",m.expenses.length,")"]}),(0,u.jsxs)(ba,{open:z,onOpenChange:B,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{size:"sm",children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add Expense"]})}),(0,u.jsxs)(Sa,{children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Add Expense"}),(0,u.jsx)(Oa,{children:"Record a new expense for this trip"})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"expenseDescription",children:"Description"}),(0,u.jsx)(Se,{id:"expenseDescription",value:$.description,onChange:e=>G((0,i.A)((0,i.A)({},$),{},{description:e.target.value})),placeholder:"Expense description"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"expenseAmount",children:"Amount (HKD)"}),(0,u.jsx)(Se,{id:"expenseAmount",type:"number",value:$.amount,onChange:e=>G((0,i.A)((0,i.A)({},$),{},{amount:parseFloat(e.target.value)||0})),placeholder:"0.00",min:"0"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"expenseCategory",children:"Category"}),(0,u.jsxs)(eu,{value:$.category,onValueChange:e=>G((0,i.A)((0,i.A)({},$),{},{category:e})),children:[(0,u.jsx)(nu,{children:(0,u.jsx)(tu,{})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"flight",children:"Flight"}),(0,u.jsx)(au,{value:"hotel",children:"Hotel"}),(0,u.jsx)(au,{value:"entertainment",children:"Entertainment"}),(0,u.jsx)(au,{value:"meal",children:"Meal"}),(0,u.jsx)(au,{value:"other",children:"Other"})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,u.jsx)(je,{onClick:async()=>{if(!m||!$.description.trim()||$.amount<=0)o("Please fill in all expense fields");else try{const e={id:Date.now().toString(),description:$.description,amount:$.amount,category:$.category,date:(new Date).toISOString().split("T")[0],addedBy:a.username,addedAt:(new Date).toISOString()},t=(0,i.A)((0,i.A)({},m),{},{expenses:[...m.expenses,e],lastDataUpdate:(new Date).toISOString()}),n=l.map(e=>e.id===m.id?t:e);await le(n),g(t),B(!1),G({description:"",amount:0,category:"flight"}),console.log("\u2705 Expense added to trip:",e.description)}catch(e){console.error("\u274c Error adding expense to trip:",e);const t=e instanceof Error?e.message:"Unknown error occurred";o("Failed to add expense to trip: ".concat(t))}},children:"Add Expense"})]})]})]})]})]}),0===m.expenses.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-8",children:[(0,u.jsx)(St,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-gray-500",children:"No expenses recorded for this trip"}),(0,u.jsxs)(je,{className:"mt-4",onClick:()=>B(!0),children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Add First Expense"]})]})}):(0,u.jsx)(ze,{children:(0,u.jsx)(qe,{className:"p-0",children:(0,u.jsxs)(Ah,{children:[(0,u.jsx)(Oh,{children:(0,u.jsxs)(Ch,{children:[(0,u.jsx)(Eh,{children:"Description"}),(0,u.jsx)(Eh,{children:"Category"}),(0,u.jsx)(Eh,{children:"Date"}),(0,u.jsx)(Eh,{children:"Added By"}),(0,u.jsx)(Eh,{className:"text-right",children:"Amount"})]})}),(0,u.jsx)(_h,{children:m.expenses.map(e=>(0,u.jsxs)(Ch,{children:[(0,u.jsx)(Ph,{className:"font-medium",children:e.description}),(0,u.jsx)(Ph,{className:"capitalize",children:e.category}),(0,u.jsx)(Ph,{children:e.date}),(0,u.jsx)(Ph,{children:e.addedBy}),(0,u.jsxs)(Ph,{className:"text-right font-medium",children:["HK$",re(e.amount)]})]},e.id))})]})})})]}),(0,u.jsx)(rd,{value:"financials",className:"space-y-4",children:(()=>{const e=ce(m);return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("h3",{className:"text-lg font-medium",children:"Trip Financial Summary"}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{children:(0,u.jsx)(Ue,{children:"Financial Flow"})}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[(0,u.jsx)("span",{className:"font-medium",children:"Total Rolling"}),(0,u.jsxs)("span",{className:"text-blue-600 font-bold",children:["HK$",re(e.totalRolling)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[(0,u.jsx)("span",{className:"font-medium",children:"Customer Win/Loss"}),(0,u.jsxs)("span",{className:"font-bold ".concat(e.totalWinLoss>=0?"text-red-600":"text-green-600"),children:["HK$",re(e.totalWinLoss)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[(0,u.jsx)("span",{className:"font-medium",children:"House Gross Win"}),(0,u.jsxs)("span",{className:"text-green-600 font-bold",children:["HK$",re(e.houseGrossWin)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[(0,u.jsx)("span",{className:"font-medium",children:"Rolling Commission"}),(0,u.jsxs)("span",{className:"text-purple-600 font-bold",children:["-HK$",re(e.rollingCommission)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded",children:[(0,u.jsx)("span",{className:"font-medium",children:"Total Expenses"}),(0,u.jsxs)("span",{className:"text-orange-600 font-bold",children:["-HK$",re(e.totalExpenses)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-100 to-blue-100 rounded-lg border-2 border-green-300",children:[(0,u.jsx)("span",{className:"font-bold text-lg",children:"Net Result"}),(0,u.jsxs)("span",{className:"font-bold text-xl ".concat(e.netResult>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netResult)]})]})]})})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{children:(0,u.jsx)(Ue,{className:"text-sm",children:"Cash Flow"})}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-sm",children:"Total Buy-in:"}),(0,u.jsxs)("span",{className:"font-medium",children:["HK$",re(e.totalBuyIn)]})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-sm",children:"Total Buy-out:"}),(0,u.jsxs)("span",{className:"font-medium",children:["HK$",re(e.totalBuyOut)]})]}),(0,u.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,u.jsx)("span",{className:"font-medium",children:"Net Cash Flow:"}),(0,u.jsxs)("span",{className:"font-bold ".concat(e.netCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",re(e.netCashFlow)]})]})]})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsx)(Be,{children:(0,u.jsx)(Ue,{className:"text-sm",children:"Agent Shares"})}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-sm",children:"Total Agents:"}),(0,u.jsx)("span",{className:"font-medium",children:m.agents.length})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-sm",children:"Total Share %:"}),(0,u.jsxs)("span",{className:"font-medium",children:[m.agents.reduce((e,t)=>e+t.sharePercentage,0).toFixed(1),"%"]})]}),(0,u.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,u.jsx)("span",{className:"font-medium",children:"Company Share:"}),(0,u.jsxs)("span",{className:"font-medium text-blue-600",children:[(100-m.agents.reduce((e,t)=>e+t.sharePercentage,0)).toFixed(1),"%"]})]})]})})]})]})]})})()})]})]}):(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(Ad,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Trip Selected"}),(0,u.jsx)("p",{className:"text-gray-500 mb-4",children:"Please select a trip from the trips list to view detailed information."}),(0,u.jsxs)(je,{onClick:()=>v("trips"),children:[(0,u.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Go to Trips List"]})]})})})]})]})});var Rh=n(9889),Lh=n.n(Rh),Fh=n(620),zh=n.n(Fh),Bh=n(5268),Uh=n.n(Bh),Wh=n(3097),qh=n.n(Wh),Hh=n(9160),Vh=n.n(Hh),Kh=n(9686),$h=n.n(Kh),Gh=function(e){return 0===e?0:e>0?1:-1},Yh=function(e){return zh()(e)&&e.indexOf("%")===e.length-1},Xh=function(e){return Vh()(e)&&!Uh()(e)},Jh=function(e){return Xh(e)||zh()(e)},Qh=0,Zh=function(e){var t=++Qh;return"".concat(e||"").concat(t)},ef=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Xh(e)&&!zh()(e))return r;if(Yh(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Uh()(n)&&(n=r),a&&n>t&&(n=t),n},tf=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},nf=function(e,t){return Xh(e)&&Xh(t)?function(n){return e+n*(t-e)}:function(){return t}};function rf(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):qh()(e,t))===n}):null}var af=function(e,t){return Xh(e)&&Xh(t)?e-t:zh()(e)&&zh()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},of=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},sf=n(1629),lf=n.n(sf),cf=n(6686),uf=n.n(cf),df=n(2086);function hf(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ff(e){return ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(e)}var pf=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mf=["points","pathLength"],gf={svg:["viewBox","children"],polygon:mf,polyline:mf},yf=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vf=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!uf()(r))return null;var a={};return Object.keys(r).forEach(function(e){yf.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})}),a},xf=function(e,t,n){if(!uf()(e)||"object"!==ff(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];yf.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},bf=["children"],wf=["children"];function jf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Nf(e){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(e)}var Sf={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},kf=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Af=null,Of=null,_f=function e(n){if(n===Af&&Array.isArray(Of))return Of;var r=[];return t.Children.forEach(n,function(t){$h()(t)||((0,df.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Of=r,Af=n,r};function Cf(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return kf(e)}):[kf(t)],_f(e).forEach(function(e){var t=qh()(e,"type.displayName")||qh()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Ef(e,t){var n=Cf(e,t);return n&&n[0]}var Pf=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Xh(n)||n<=0||!Xh(r)||r<=0)},Tf=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],If=function(e){return e&&e.type&&zh()(e.type)&&Tf.indexOf(e.type)>=0},Df=function(e){return e&&"object"===Nf(e)&&"clipDot"in e},Mf=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!uf()(a))return null;var i={};return Object.keys(a).forEach(function(e){var t;(function(e,t,n,r){var a,i=null!==(a=null===gf||void 0===gf?void 0:gf[r])&&void 0!==a?a:[];return t.startsWith("data-")||!lf()(e)&&(r&&i.includes(t)||pf.includes(t))||n&&yf.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},Rf=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return Lf(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var o=n[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Lf(o,s))return!1}return!0},Lf=function(e,t){if($h()(e)&&$h()(t))return!0;if(!$h()(e)&&!$h()(t)){var n=e.props||{},r=n.children,a=jf(n,bf),i=t.props||{},o=i.children,s=jf(i,wf);return r&&o?hf(a,s)&&Rf(r,o):!r&&!o&&hf(a,s)}return!1},Ff=function(e,t){var n=[],r={};return _f(e).forEach(function(e,a){if(If(e))n.push(e);else if(e){var i=kf(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!r[i])){var c=s(e,i,a);n.push(c),r[i]=!0}}}),n};function zf(e){return zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(e)}function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach(function(t){Wf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vf=(0,t.forwardRef)(function(e,n){var r=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,x=e.onResize,b=e.style,j=void 0===b?{}:b,N=(0,t.useRef)(null),S=(0,t.useRef)();S.current=x,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=qf((0,t.useState)({containerWidth:i.width,containerHeight:i.height}),2),A=k[0],O=k[1],_=(0,t.useCallback)(function(e,t){O(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;_(r,a),null===(t=S.current)||void 0===t||t.call(S,r,a)};g>0&&(e=Lh()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=N.current.getBoundingClientRect(),r=n.width,a=n.height;return _(r,a),t.observe(N.current),function(){t.disconnect()}},[_,g]);var C=(0,t.useMemo)(function(){var e=A.containerWidth,n=A.containerHeight;if(e<0||n<0)return null;of(Yh(s)||Yh(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),of(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Yh(s)?e:s,i=Yh(c)?n:c;r&&r>0&&(a?i=a/r:i&&(a=i*r),f&&i>f&&(i=f)),of(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,c,d,h,r);var o=!Array.isArray(p)&&kf(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,Uf({width:a,height:i},o?{style:Uf({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e})},[r,p,c,f,h,d,A,s]);return t.createElement("div",{id:y?"".concat(y):void 0,className:w("recharts-responsive-container",v),style:Uf(Uf({},j),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},C)}),Kf=n(6604),$f=n.n(Kf),Gf=n(7424),Yf=n.n(Gf),Xf="Invariant failed";function Jf(e,t){if(!e)throw new Error(Xf)}var Qf=["children","width","height","viewBox","className","style","title","desc"];function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(this,arguments)}function ep(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tp(e){var n=e.children,r=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=ep(e,Qf),d=i||{width:r,height:a,x:0,y:0},h=w("recharts-surface",o);return t.createElement("svg",Zf({},Mf(u,!0,"svg"),{className:h,width:r,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var np=["children","className"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function ap(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ip=t.forwardRef(function(e,n){var r=e.children,a=e.className,i=ap(e,np),o=w("recharts-layer",a);return t.createElement("g",rp({className:o},Mf(i,!0),{ref:n}),r)});function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sp.apply(this,arguments)}function lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach(function(t){hp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=op(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==op(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fp(e){return Array.isArray(e)&&Jh(e[0])&&Jh(e[1])?e.join(" ~ "):e}var pp=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=dp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=dp({margin:0},c),j=!$h()(m),N=j?m:"",S=w("recharts-default-tooltip",f),k=w("recharts-tooltip-label",p);j&&g&&void 0!==u&&null!==u&&(N=g(m,u));var A=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",sp({className:S,style:x},A),t.createElement("p",{className:k,style:b},t.isValidElement(N)?N:"".concat(N)),function(){if(u&&u.length){var e=(h?Yf()(u,h):u).map(function(e,n){if("none"===e.type)return null;var a=dp({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||fp,o=e.value,l=e.name,c=o,h=l;if(i&&null!=c&&null!=h){var f=i(o,l,e,n,u);if(Array.isArray(f)){var p=lp(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},Jh(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Jh(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function mp(e){return mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(e)}function gp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yp="recharts-tooltip-wrapper",vp={visibility:"hidden"};function xp(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return w(yp,gp(gp(gp(gp({},"".concat(yp,"-right"),Xh(n)&&t&&Xh(t.x)&&n>=t.x),"".concat(yp,"-left"),Xh(n)&&t&&Xh(t.x)&&n<t.x),"".concat(yp,"-bottom"),Xh(r)&&t&&Xh(t.y)&&r>=t.y),"".concat(yp,"-top"),Xh(r)&&t&&Xh(t.y)&&r<t.y))}function bp(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Xh(i[r]))return i[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function wp(e){return wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(e)}function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach(function(t){Cp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ep(r.key),r)}}function kp(e,t,n){return t=Op(t),function(e,t){if(t&&("object"===wp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ap()?Reflect.construct(t,n||[],Op(e).constructor):t.apply(e,n))}function Ap(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ap=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(e)}function _p(e,t){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_p(e,t)}function Cp(e,t,n){return(t=Ep(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e){var t=function(e,t){if("object"!=wp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wp(t)?t:t+""}var Pp=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Cp(e=kp(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cp(e,"handleKeyDown",function(t){var n,r,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_p(e,t)}(n,e),r=n,a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,o=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=bp({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=bp({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):vp,cssClasses:xp({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,x=y.cssProperties,b=Np(Np({transition:u&&r?"transform ".concat(i,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},s)}}],a&&Sp(r.prototype,a),i&&Sp(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent),Tp={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Tp[e]},set:function(e,t){if("string"===typeof e)Tp[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Tp[t]=e[t]})}}},Ip=n(977),Dp=n.n(Ip);function Mp(e,t,n){return!0===t?Dp()(e,n):lf()(t)?Dp()(e,t):e}function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(t){Hp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vp(r.key),r)}}function Bp(e,t,n){return t=Wp(t),function(e,t){if(t&&("object"===Rp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Up()?Reflect.construct(t,n||[],Wp(e).constructor):t.apply(e,n))}function Up(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Up=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(e)}function qp(e,t){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qp(e,t)}function Hp(e,t,n){return(t=Vp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e){var t=function(e,t){if("object"!=Rp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rp(t)?t:t+""}function Kp(e){return e.dataKey}var $p=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Bp(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,o=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,p=n.position,m=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=Mp(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,Kp));var b=x.length>0;return t.createElement(Pp,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:r,coordinate:l,hasPayload:b,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(pp,n)}(s,Fp(Fp({},this.props),{},{payload:x})))}}],a&&zp(r.prototype,a),i&&zp(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);Hp($p,"displayName","Tooltip"),Hp($p,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gp=n(643),Yp=n.n(Gp);Math.abs,Math.atan2;const Xp=Math.cos,Jp=(Math.max,Math.min,Math.sin),Qp=Math.sqrt,Zp=Math.PI,em=2*Zp;const tm={draw(e,t){const n=Qp(t/Zp);e.moveTo(n,0),e.arc(0,0,n,0,em)}},nm={draw(e,t){const n=Qp(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rm=Qp(1/3),am=2*rm,im={draw(e,t){const n=Qp(t/am),r=n*rm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},om={draw(e,t){const n=Qp(t),r=-n/2;e.rect(r,r,n,n)}},sm=Jp(Zp/10)/Jp(7*Zp/10),lm=Jp(em/10)*sm,cm=-Xp(em/10)*sm,um={draw(e,t){const n=Qp(.8908130915292852*t),r=lm*n,a=cm*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=em*i/5,o=Xp(t),s=Jp(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},dm=Qp(3),hm={draw(e,t){const n=-Qp(t/(3*dm));e.moveTo(0,2*n),e.lineTo(-dm*n,-n),e.lineTo(dm*n,-n),e.closePath()}},fm=-.5,pm=Qp(3)/2,mm=1/Qp(12),gm=3*(mm/2+1),ym={draw(e,t){const n=Qp(t/gm),r=n/2,a=n*mm,i=r,o=n*mm+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(fm*r-pm*a,pm*r+fm*a),e.lineTo(fm*i-pm*o,pm*i+fm*o),e.lineTo(fm*s-pm*l,pm*s+fm*l),e.lineTo(fm*r+pm*a,fm*a-pm*r),e.lineTo(fm*i+pm*o,fm*o-pm*i),e.lineTo(fm*s+pm*l,fm*l-pm*s),e.closePath()}};function vm(e){return function(){return e}}function xm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bm,wm,jm,Nm,Sm,km,Am,Om,_m,Cm,Em,Pm,Tm,Im;const Dm=Math.PI,Mm=2*Dm,Rm=1e-6,Lm=Mm-Rm;function Fm(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class zm{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Fm:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Fm;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(bm||(bm=xm(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(wm||(wm=xm(["Z"]))))}lineTo(e,t){this._append(jm||(jm=xm(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Nm||(Nm=xm(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,i){this._append(Sm||(Sm=xm(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+i)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(km||(km=xm(["M",",",""])),this._x1=e,this._y1=t);else if(d>Rm)if(Math.abs(u*s-l*c)>Rm&&a){let h=n-i,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((Dm-Math.acos((p+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>Rm&&this._append(Om||(Om=xm(["L",",",""])),e+x*c,t+x*u),this._append(_m||(_m=xm(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*s,this._y1=t+b*l)}else this._append(Am||(Am=xm(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append(Cm||(Cm=xm(["M",",",""])),l,c):(Math.abs(this._x1-l)>Rm||Math.abs(this._y1-c)>Rm)&&this._append(Em||(Em=xm(["L",",",""])),l,c),n&&(d<0&&(d=d%Mm+Mm),d>Lm?this._append(Pm||(Pm=xm(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>Rm&&this._append(Tm||(Tm=xm(["A",",",",0,",",",",",",",""])),n,n,+(d>=Dm),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(Im||(Im=xm(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Bm(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new zm(t)}Qp(3),Qp(3);function Um(e){return Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(e)}var Wm=["type","size","sizeType"];function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(this,arguments)}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach(function(t){Km(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Km(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Um(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Um(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Gm={symbolCircle:tm,symbolCross:nm,symbolDiamond:im,symbolSquare:om,symbolStar:um,symbolTriangle:hm,symbolWye:ym},Ym=Math.PI/180,Xm=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=Vm(Vm({},$m(e,Wm)),{},{type:r,size:i,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Mf(l,!0);return u===+u&&d===+d&&i===+i?t.createElement("path",qm({},h,{className:w("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Yp()(e));return Gm[t]||tm}(r),t=function(e,t){let n=null,r=Bm(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:vm(e||tm),t="function"===typeof t?t:vm(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:vm(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:vm(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Ym;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,r));return t()}()})):null};function Jm(e){return Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(this,arguments)}function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,og(r.key),r)}}function tg(e,t,n){return t=rg(t),function(e,t){if(t&&("object"===Jm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ng()?Reflect.construct(t,n||[],rg(e).constructor):t.apply(e,n))}function ng(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ng=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rg(e)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ag(e,t)}function ig(e,t,n){return(t=og(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e){var t=function(e,t){if("object"!=Jm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jm(t)?t:t+""}Xm.registerSymbol=function(e,t){Gm["symbol".concat(Yp()(e))]=t};var sg=32,lg=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),tg(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=sg/6,i=sg/3,o=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:sg,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(sg,"M").concat(2*i,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(sg,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(n),!0).forEach(function(t){ig(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(Xm,{fill:o,cx:r,cy:r,size:sg,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,i=n.layout,o=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:sg,height:sg},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var i=n.formatter||o,d=w(ig(ig({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=lf()(n.value)?null:n.value;of(!lf()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?s:n.color;return t.createElement("li",Qm({className:d,style:c,key:"legend-item-".concat(r)},xf(e.props,n,r)),t.createElement(tp,{width:a,height:a,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&eg(r.prototype,a),i&&eg(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function cg(e){return cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(e)}ig(lg,"displayName","Legend"),ig(lg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ug=["ref"];function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(t){vg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xg(r.key),r)}}function pg(e,t,n){return t=gg(t),function(e,t){if(t&&("object"===cg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mg()?Reflect.construct(t,n||[],gg(e).constructor):t.apply(e,n))}function mg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mg=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gg(e)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yg(e,t)}function vg(e,t,n){return(t=xg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xg(e){var t=function(e,t){if("object"!=cg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cg(t)?t:t+""}function bg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wg(e){return e.value}var jg=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return vg(e=pg(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}(n,e),r=n,i=[{key:"getWithHeight",value:function(e,t){var n=hg(hg({},this.defaultProps),e.props).layout;return"vertical"===n&&Xh(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hg({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),hg(hg({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,i=n.height,o=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=hg(hg({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=bg(n,ug);return t.createElement(lg,r)}(r,hg(hg({},this.props),{},{payload:Mp(l,s,wg)})))}}])&&fg(r.prototype,a),i&&fg(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}vg(jg,"displayName","Legend"),vg(jg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sg=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=w("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",Ng({},Mf(e,!1),vf(e),{className:o,cx:n,cy:r,r:a})):null},kg=n(5173),Ag=n.n(kg),Og=Object.getOwnPropertyNames,_g=Object.getOwnPropertySymbols,Cg=Object.prototype.hasOwnProperty;function Eg(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Pg(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function Tg(e){return Og(e).concat(_g(e))}var Ig=Object.hasOwn||function(e,t){return Cg.call(e,t)};function Dg(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Mg=Object.getOwnPropertyDescriptor,Rg=Object.keys;function Lg(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Fg(e,t){return Dg(e.getTime(),t.getTime())}function zg(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Bg(e,t){return e===t}function Ug(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var h=a.value,f=i.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Wg=Dg;function qg(e,t,n){var r=Rg(e),a=r.length;if(Rg(t).length!==a)return!1;for(;a-- >0;)if(!Xg(e,t,n,r[a]))return!1;return!0}function Hg(e,t,n){var r,a,i,o=Tg(e),s=o.length;if(Tg(t).length!==s)return!1;for(;s-- >0;){if(!Xg(e,t,n,r=o[s]))return!1;if(a=Mg(e,r),i=Mg(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Vg(e,t){return Dg(e.valueOf(),t.valueOf())}function Kg(e,t){return e.source===t.source&&e.flags===t.flags}function $g(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Gg(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Yg(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Xg(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Ig(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Jg=Array.isArray,Qg="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Zg=Object.assign,ey=Object.prototype.toString.call.bind(Object.prototype.toString);var ty=ny();ny({strict:!0}),ny({circular:!0}),ny({circular:!0,strict:!0}),ny({createInternalComparator:function(){return Dg}}),ny({strict:!0,createInternalComparator:function(){return Dg}}),ny({circular:!0,createInternalComparator:function(){return Dg}}),ny({circular:!0,createInternalComparator:function(){return Dg},strict:!0});function ny(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Hg:Lg,areDatesEqual:Fg,areErrorsEqual:zg,areFunctionsEqual:Bg,areMapsEqual:r?Eg(Ug,Hg):Ug,areNumbersEqual:Wg,areObjectsEqual:r?Hg:qg,arePrimitiveWrappersEqual:Vg,areRegExpsEqual:Kg,areSetsEqual:r?Eg($g,Hg):$g,areTypedArraysEqual:r?Hg:Gg,areUrlsEqual:Yg};if(n&&(a=Zg({},a,n(a))),t){var i=Pg(a.areArraysEqual),o=Pg(a.areMapsEqual),s=Pg(a.areObjectsEqual),l=Pg(a.areSetsEqual);a=Zg({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(Jg(e))return t(e,f,p);if(null!=Qg&&Qg(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return i(e,f,p);if(g===Set)return u(e,f,p);var y=ey(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?i(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=a?a(c):(t=c,function(e,n,r,a,i,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:i,equals:u,strict:s})}function ry(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function ay(e){return ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(e)}function iy(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sy(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=iy(r),i=a[0],o=a.slice(1);return"number"===typeof i?void ry(n.bind(null,o),i):(n(i),void ry(n.bind(null,o)))}"object"===ay(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cy(Object(n),!0).forEach(function(t){dy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ly(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ly(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hy=function(e){return e},fy=function(e,t){return Object.keys(t).reduce(function(n,r){return uy(uy({},n),{},dy({},r,e(r,t[r])))},{})},py=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function my(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||yy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e){return function(e){if(Array.isArray(e))return vy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){if(e){if("string"===typeof e)return vy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vy(e,t):void 0}}function vy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xy=1e-4,by=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},wy=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},jy=function(e,t){return function(n){var r=by(e,t);return wy(r,n)}},Ny=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=my(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],i=l[2],o=l[3]}}[r,i,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,u,d=jy(r,i),h=jy(a,o),f=(c=r,u=i,function(e){var t=by(c,u),n=[].concat(gy(t.map(function(e,t){return e*t}).slice(1)),[0]);return wy(n,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=d(n)-t,i=f(n);if(Math.abs(a-t)<xy||i<xy)return h(n);n=p(n-a/i)}return h(n)};return m.isStepper=!1,m},Sy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ny(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,o=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*a)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<xy&&Math.abs(i)<xy?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return Ny(r)}return"function"===typeof r?r:null};function ky(e){return ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(e)}function Ay(e){return function(e){if(Array.isArray(e))return Ty(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Py(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oy(Object(n),!0).forEach(function(t){Cy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ky(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ky(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ky(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Py(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,t){if(e){if("string"===typeof e)return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ty(e,t):void 0}}function Ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Iy=function(e,t,n){return e+(t-e)*n},Dy=function(e){return e.from!==e.to},My=function e(t,n,r){var a=fy(function(e,n){if(Dy(n)){var r=Ey(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return _y(_y({},n),{},{from:a,velocity:i})}return n},n);return r<1?fy(function(e,t){return Dy(t)?_y(_y({},t),{},{velocity:Iy(t.velocity,a[e].velocity,r),from:Iy(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const Ry=function(e,t,n,r,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return _y(_y({},n),{},Cy({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return _y(_y({},n),{},Cy({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=My(n,d,i),a(_y(_y(_y({},e),t),fy(function(e,t){return t.from},d))),s=r,Object.values(d).filter(Dy).length&&(h=requestAnimationFrame(f))}:function(i){l||(l=i);var o=(i-l)/r,s=fy(function(e,t){return Iy.apply(void 0,Ay(t).concat([n(o)]))},u);if(a(_y(_y(_y({},e),t),s)),o<1)h=requestAnimationFrame(f);else{var c=fy(function(e,t){return Iy.apply(void 0,Ay(t).concat([n(1)]))},u);a(_y(_y(_y({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function Ly(e){return Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(e)}var Fy=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function By(e){return function(e){if(Array.isArray(e))return Uy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wy(Object(n),!0).forEach(function(t){Hy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hy(e,t,n){return(t=Ky(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ky(r.key),r)}}function Ky(e){var t=function(e,t){if("object"!==Ly(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ly(t)?t:String(t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$y(e,t)}function Gy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Jy(e);if(t){var a=Jy(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yy(this,n)}}function Yy(e,t){if(t&&("object"===Ly(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xy(e)}function Xy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jy(e)}var Qy=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}(o,e);var n,r,a,i=Gy(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=i.call(this,e,t)).props,a=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Xy(n)),n.changeStyle=n.changeStyle.bind(Xy(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),Yy(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},Yy(n);n.state={style:s?Hy({},s,l):l}}else n.state={style:{}};return n}return n=o,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(ty(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?Hy({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(qy(qy({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?Hy({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Ry(n,r,Sy(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(By(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(By(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var f=py(h,i,s),p=qy(qy(qy({},d.style),l),{},{transition:f});return[].concat(By(e),[p,i,u]).filter(hy)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=sy());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?Hy({},r,a):a,h=py(Object.keys(d),n,i);u.start([o,t,qy(qy({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,zy(e,Fy)),o=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!a||0===o||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,o=n.className;return(0,t.cloneElement)(e,qy(qy({},i),{},{style:qy(qy({},a),s),className:o}))};return 1===o?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&Vy(n.prototype,r),a&&Vy(n,a),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.PureComponent);Qy.displayName="Animate",Qy.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Qy.propTypes={from:Ag().oneOfType([Ag().object,Ag().string]),to:Ag().oneOfType([Ag().object,Ag().string]),attributeName:Ag().string,duration:Ag().number,begin:Ag().number,easing:Ag().oneOfType([Ag().string,Ag().func]),steps:Ag().arrayOf(Ag().shape({duration:Ag().number.isRequired,style:Ag().object.isRequired,easing:Ag().oneOfType([Ag().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ag().func]),properties:Ag().arrayOf("string"),onAnimationEnd:Ag().func})),children:Ag().oneOfType([Ag().node,Ag().func]),isActive:Ag().bool,canBegin:Ag().bool,onAnimationEnd:Ag().func,shouldReAnimate:Ag().bool,onAnimationStart:Ag().func,onAnimationReStart:Ag().func};const Zy=Qy;function ev(e){return ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(this,arguments)}function nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?av(Object(n),!0).forEach(function(t){ov(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ov(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ev(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ev(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ev(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sv=function(e,t,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},lv=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},cv={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uv=function(e){var n=iv(iv({},cv),e),r=(0,t.useRef)(),a=nv((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch($I){}},[]);var s=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=w("recharts-rectangle",h);return y?t.createElement(Zy,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return t.createElement(Zy,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",tv({},Mf(n,!0),{className:v,d:sv(s,l,a,o,d),ref:r})))}):t.createElement("path",tv({},Mf(n,!0),{className:v,d:sv(s,l,c,u,d)}))};function dv(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function hv(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class fv extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yv;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(pv(this,e))}has(e){return super.has(pv(this,e))}set(e,t){return super.set(mv(this,e),t)}delete(e){return super.delete(gv(this,e))}}Set;function pv(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function mv(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function gv(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function yv(e){return null!==e&&"object"===typeof e?e.valueOf():e}const vv=Symbol("implicit");function xv(){var e=new fv,t=[],n=[],r=vv;function a(a){let i=e.get(a);if(void 0===i){if(r!==vv)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new fv;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return xv(t,n).unknown(r)},dv.apply(a,arguments),a}function bv(){var e,t,n=xv().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return bv(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},dv.apply(d(),arguments)}function wv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wv(t())},e}function jv(){return wv(bv.apply(null,arguments).paddingInner(1))}function Nv(e){return Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(e)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(t){Av(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Av(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Nv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ov={widthCache:{},cacheCount:0},_v={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cv="recharts_measurement_span";var Ev=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Tp.isSsr)return{width:0,height:0};var n=function(e){var t=kv({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Ov.widthCache[r])return Ov.widthCache[r];try{var a=document.getElementById(Cv);a||((a=document.createElement("span")).setAttribute("id",Cv),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=kv(kv({},_v),n);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return Ov.widthCache[r]=s,++Ov.cacheCount>2e3&&(Ov.cacheCount=0,Ov.widthCache={}),s}catch(l){return{width:0,height:0}}};function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mv(r.key),r)}}function Mv(e){var t=function(e,t){if("object"!=Pv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pv(t)?t:t+""}var Rv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fv=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zv=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Uv=Object.keys(Bv),Wv="NaN";var qv=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Fv.test(n)||(this.num=NaN,this.unit=""),Uv.includes(n)&&(this.num=function(e,t){return e*Bv[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Tv(null!==(n=zv.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Dv(t.prototype,n),r&&Dv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Hv(e){if(e.includes(Wv))return Wv;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Tv(null!==(n=Rv.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],o=r[3],s=qv.parse(null!==a&&void 0!==a?a:""),l=qv.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return Wv;t=t.replace(Rv,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Tv(null!==(u=Lv.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=qv.parse(null!==h&&void 0!==h?h:""),g=qv.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Wv;t=t.replace(Lv,y.toString())}return t}var Vv=/\(([^()]*)\)/;function Kv(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Tv(Vv.exec(t),2)[1];t=t.replace(Vv,Hv(n))}return t}(t),t=Hv(t)}function $v(e){var t=function(e){try{return Kv(e)}catch(t){return Wv}}(e.slice(5,-1));return t===Wv?"":t}var Gv=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yv=["dx","dy","angle","className","breakAll"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}function Jv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ex=/[ \f\n\r\t\v\u2028\u2029]+/,tx=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return $h()(t)||(a=n?t.toString().split(""):t.toString().split(ex)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ev(e,r).width}}),spaceWidth:n?0:Ev("\xa0",r).width}}catch(i){return null}},nx=function(e){return[{words:$h()(e)?[]:e.toString().split(ex)}]},rx=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||n)&&!Tp.isSsr){var s=tx({breakAll:i,children:r,style:a});return s?function(e,t,n,r,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Xh(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=tx({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),x=Qv(p(v-1),2),b=x[0],w=x[1],j=Qv(p(v),1)[0];if(b||j||(m=v+1),b&&j&&(g=v-1),!b&&j){f=w;break}y++}return f||h}({breakAll:i,children:r,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):nx(r)}return nx(r)},ax="#808080",ix=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?ax:g,v=Jv(e,Gv),x=(0,t.useMemo)(function(){return rx({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,j=v.dy,N=v.angle,S=v.className,k=v.breakAll,A=Jv(v,Yv);if(!Jh(r)||!Jh(i))return null;var O,_=r+(Xh(b)?b:0),C=i+(Xh(j)?j:0);switch(m){case"start":O=$v("calc(".concat(c,")"));break;case"middle":O=$v("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=$v("calc(".concat(x.length-1," * -").concat(s,")"))}var E=[];if(d){var P=x[0].width,T=v.width;E.push("scale(".concat((Xh(T)?T/P:1)/P,")"))}return N&&E.push("rotate(".concat(N,", ").concat(_,", ").concat(C,")")),E.length&&(A.transform=E.join(" ")),t.createElement("text",Xv({},Mf(A,!0),{x:_,y:C,className:w("recharts-text",S),textAnchor:f,fill:y.includes("url")?ax:y}),x.map(function(e,n){var r=e.words.join(k?"":" ");return t.createElement("tspan",{x:_,dy:0===n?O:s,key:"".concat(r,"-").concat(n)},r)}))};const ox=Math.sqrt(50),sx=Math.sqrt(10),lx=Math.sqrt(2);function cx(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=ox?10:i>=sx?5:i>=lx?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?cx(e,t,2*n):[s,l,c]}function ux(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?cx(t,e,n):cx(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function dx(e,t,n){return cx(e=+e,t=+t,n=+n)[2]}function hx(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?dx(t,e,n):dx(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function fx(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function px(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mx(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=fx,n=(t,n)=>fx(e(t),n),r=(t,n)=>e(t)-n):(t=e===fx||e===px?e:gx,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function gx(){return 0}function yx(e){return null===e?NaN:+e}const vx=mx(fx),xx=vx.right,bx=(vx.left,mx(yx).center,xx);function wx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nx(){}var Sx=.7,kx=1/Sx,Ax="\\s*([+-]?\\d+)\\s*",Ox="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_x="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cx=/^#([0-9a-f]{3,8})$/,Ex=new RegExp("^rgb\\(".concat(Ax,",").concat(Ax,",").concat(Ax,"\\)$")),Px=new RegExp("^rgb\\(".concat(_x,",").concat(_x,",").concat(_x,"\\)$")),Tx=new RegExp("^rgba\\(".concat(Ax,",").concat(Ax,",").concat(Ax,",").concat(Ox,"\\)$")),Ix=new RegExp("^rgba\\(".concat(_x,",").concat(_x,",").concat(_x,",").concat(Ox,"\\)$")),Dx=new RegExp("^hsl\\(".concat(Ox,",").concat(_x,",").concat(_x,"\\)$")),Mx=new RegExp("^hsla\\(".concat(Ox,",").concat(_x,",").concat(_x,",").concat(Ox,"\\)$")),Rx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lx(){return this.rgb().formatHex()}function Fx(){return this.rgb().formatRgb()}function zx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Bx(t):3===n?new qx(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ux(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ux(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ex.exec(e))?new qx(t[1],t[2],t[3],1):(t=Px.exec(e))?new qx(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Tx.exec(e))?Ux(t[1],t[2],t[3],t[4]):(t=Ix.exec(e))?Ux(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Dx.exec(e))?Yx(t[1],t[2]/100,t[3]/100,1):(t=Mx.exec(e))?Yx(t[1],t[2]/100,t[3]/100,t[4]):Rx.hasOwnProperty(e)?Bx(Rx[e]):"transparent"===e?new qx(NaN,NaN,NaN,0):null}function Bx(e){return new qx(e>>16&255,e>>8&255,255&e,1)}function Ux(e,t,n,r){return r<=0&&(e=t=n=NaN),new qx(e,t,n,r)}function Wx(e,t,n,r){return 1===arguments.length?((a=e)instanceof Nx||(a=zx(a)),a?new qx((a=a.rgb()).r,a.g,a.b,a.opacity):new qx):new qx(e,t,n,null==r?1:r);var a}function qx(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Hx(){return"#".concat(Gx(this.r)).concat(Gx(this.g)).concat(Gx(this.b))}function Vx(){const e=Kx(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat($x(this.r),", ").concat($x(this.g),", ").concat($x(this.b)).concat(1===e?")":", ".concat(e,")"))}function Kx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $x(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gx(e){return((e=$x(e))<16?"0":"")+e.toString(16)}function Yx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jx(e,t,n,r)}function Xx(e){if(e instanceof Jx)return new Jx(e.h,e.s,e.l,e.opacity);if(e instanceof Nx||(e=zx(e)),!e)return new Jx;if(e instanceof Jx)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Jx(o,s,l,e.opacity)}function Jx(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Qx(e){return(e=(e||0)%360)<0?e+360:e}function Zx(e){return Math.max(0,Math.min(1,e||0))}function eb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function tb(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}wx(Nx,zx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lx,formatHex:Lx,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xx(this).formatHsl()},formatRgb:Fx,toString:Fx}),wx(qx,Wx,jx(Nx,{brighter(e){return e=null==e?kx:Math.pow(kx,e),new qx(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Sx:Math.pow(Sx,e),new qx(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qx($x(this.r),$x(this.g),$x(this.b),Kx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hx,formatHex:Hx,formatHex8:function(){return"#".concat(Gx(this.r)).concat(Gx(this.g)).concat(Gx(this.b)).concat(Gx(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Vx,toString:Vx})),wx(Jx,function(e,t,n,r){return 1===arguments.length?Xx(e):new Jx(e,t,n,null==r?1:r)},jx(Nx,{brighter(e){return e=null==e?kx:Math.pow(kx,e),new Jx(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Sx:Math.pow(Sx,e),new Jx(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new qx(eb(e>=240?e-240:e+120,a,r),eb(e,a,r),eb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Jx(Qx(this.h),Zx(this.s),Zx(this.l),Kx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kx(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Qx(this.h),", ").concat(100*Zx(this.s),"%, ").concat(100*Zx(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const nb=e=>()=>e;function rb(e,t){return function(n){return e+n*t}}function ab(e){return 1===(e=+e)?ib:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):nb(isNaN(t)?n:t)}}function ib(e,t){var n=t-e;return n?rb(e,n):nb(isNaN(e)?t:e)}const ob=function e(t){var n=ab(t);function r(e,t){var r=n((e=Wx(e)).r,(t=Wx(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=ib(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function sb(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=Wx(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}sb(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return tb((n-r/t)*t,o,a,i,s)}}),sb(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return tb((n-r/t)*t,a,i,o,s)}});function lb(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=gb(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function cb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ub(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function db(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=gb(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var hb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(hb.source,"g");function pb(e,t){var n,r,a,i=hb.lastIndex=fb.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=hb.exec(e))&&(r=fb.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:ub(n,r)})),i=fb.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function mb(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function gb(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?nb(t):("number"===a?ub:"string"===a?(n=zx(t))?(t=n,ob):pb:t instanceof zx?ob:t instanceof Date?cb:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?lb:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?db:ub:mb))(e,t)}function yb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vb(e){return+e}var xb=[0,1];function bb(e){return e}function wb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function jb(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=wb(a,r),i=n(o,i)):(r=wb(r,a),i=n(i,o)),function(e){return i(r(e))}}function Nb(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=wb(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=bx(e,t,1,r)-1;return i[n](a[n](t))}}function Sb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kb(){var e,t,n,r,a,i,o=xb,s=xb,l=gb,c=bb;function u(){var e=Math.min(o.length,s.length);return c!==bb&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Nb:jb,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),ub)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,vb),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=yb,u()},d.clamp=function(e){return arguments.length?(c=!!e||bb,u()):c!==bb},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Ab(){return kb()(bb,bb)}var Ob,_b=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cb(e){if(!(t=_b.exec(e)))throw new Error("invalid format: "+e);var t;return new Eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Eb(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Pb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Tb(e){return(e=Pb(Math.abs(e)))?e[1]:NaN}function Ib(e,t){var n=Pb(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Cb.prototype=Eb.prototype,Eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Db={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ib(100*e,t),r:Ib,s:function(e,t){var n=Pb(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Ob=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Pb(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mb(e){return e}var Rb,Lb,Fb,zb=Array.prototype.map,Bb=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ub(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Mb:(t=zb.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Mb:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(zb.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Cb(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Db[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?i:/[%p]/.test(v)?l:"",w=Db[v],j=/[defgprs%]/.test(v);function N(e){var a,i,l,h=x,N=b;if("c"===v)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===v?Bb[8+Ob/3]:"")+N+(S&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var k=h.length+e.length+N.length,A=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(A+e,A.length?p-N.length:1/0),A=""),n){case"<":e=h+e+N+A;break;case"=":e=h+A+e+N;break;case"^":e=A.slice(0,k=A.length>>1)+h+e+N+A.slice(k);break;default:e=A+h+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=Cb(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Tb(t)/3))),a=Math.pow(10,-r),i=Bb[8+r/3];return function(e){return n(a*e)+i}}}}function Wb(e,t,n,r){var a,i=hx(e,t,n);switch((r=Cb(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tb(t)/3)))-Tb(Math.abs(e)))}(i,o))||(r.precision=a),Fb(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tb(t)-Tb(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Tb(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return Lb(r)}function qb(e){var t=e.domain;return e.ticks=function(e){var n=t();return ux(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Wb(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=dx(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Hb(){var e=Ab();return e.copy=function(){return Sb(e,Hb())},dv.apply(e,arguments),qb(e)}function Vb(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,vb),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Vb(e).unknown(t)},e=arguments.length?Array.from(e,vb):[0,1],qb(n)}function Kb(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function $b(e){return Math.log(e)}function Gb(e){return Math.exp(e)}function Yb(e){return-Math.log(-e)}function Xb(e){return-Math.exp(-e)}function Jb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qb(e){return(t,n)=>-e(-t,n)}function Zb(e){const t=e($b,Gb),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Jb:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=Qb(r),a=Qb(a),e(Yb,Xb)):e($b,Gb),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=ux(o,s,f))}else p=ux(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=Cb(n)).precision||(n.trim=!0),n=Lb(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(Kb(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function ew(){const e=Zb(kb()).domain([1,10]);return e.copy=()=>Sb(e,ew()).base(e.base()),dv.apply(e,arguments),e}function tw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rw(e){var t=1,n=e(tw(t),nw(t));return n.constant=function(n){return arguments.length?e(tw(t=+n),nw(t)):t},qb(n)}function aw(){var e=rw(kb());return e.copy=function(){return Sb(e,aw()).constant(e.constant())},dv.apply(e,arguments)}function iw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ow(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sw(e){return e<0?-e*e:e*e}function lw(e){var t=e(bb,bb),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(bb,bb):.5===n?e(ow,sw):e(iw(n),iw(1/n)):n},qb(t)}function cw(){var e=lw(kb());return e.copy=function(){return Sb(e,cw()).exponent(e.exponent())},dv.apply(e,arguments),e}function uw(){return cw.apply(null,arguments).exponent(.5)}function dw(e){return Math.sign(e)*e*e}function hw(){var e,t=Ab(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(dw(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,vb)).map(dw)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return hw(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},dv.apply(a,arguments),qb(a)}function fw(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function pw(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fx;if(e===fx)return gw;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function gw(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?gw:mw(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);yw(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(vw(e,n,t),a(e[r],i)>0&&vw(e,n,r);o<s;){for(vw(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?vw(e,n,s):(++s,vw(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function vw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xw(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return pw(e);if(t>=1)return fw(e);var r,a=(r-1)*t,i=Math.floor(a),o=fw(yw(e,i).subarray(0,i+1));return o+(pw(e.subarray(i+1))-o)*(a-i)}}function bw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yx;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function ww(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=bw(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[bx(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(fx),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return ww().domain(t).range(n).unknown(e)},dv.apply(i,arguments)}function jw(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[bx(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return jw().domain([t,n]).range(i).unknown(e)},dv.apply(qb(o),arguments)}function Nw(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[bx(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Nw().domain(t).range(n).unknown(e)},dv.apply(a,arguments)}Rb=Ub({thousands:",",grouping:[3],currency:["$",""]}),Lb=Rb.format,Fb=Rb.formatPrefix;const Sw=1e3,kw=6e4,Aw=36e5,Ow=864e5,_w=6048e5,Cw=2592e6,Ew=31536e6,Pw=new Date,Tw=new Date;function Iw(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>Iw(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Pw.setTime(+t),Tw.setTime(+r),e(Pw),e(Tw),Math.floor(n(Pw,Tw))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Dw=Iw(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dw.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Iw(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dw:null);Dw.range;const Mw=Iw(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sw)},(e,t)=>(t-e)/Sw,e=>e.getUTCSeconds()),Rw=(Mw.range,Iw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sw)},(e,t)=>{e.setTime(+e+t*kw)},(e,t)=>(t-e)/kw,e=>e.getMinutes())),Lw=(Rw.range,Iw(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kw)},(e,t)=>(t-e)/kw,e=>e.getUTCMinutes())),Fw=(Lw.range,Iw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sw-e.getMinutes()*kw)},(e,t)=>{e.setTime(+e+t*Aw)},(e,t)=>(t-e)/Aw,e=>e.getHours())),zw=(Fw.range,Iw(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Aw)},(e,t)=>(t-e)/Aw,e=>e.getUTCHours())),Bw=(zw.range,Iw(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kw)/Ow,e=>e.getDate()-1)),Uw=(Bw.range,Iw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ow,e=>e.getUTCDate()-1)),Ww=(Uw.range,Iw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ow,e=>Math.floor(e/Ow)));Ww.range;function qw(e){return Iw(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kw)/_w)}const Hw=qw(0),Vw=qw(1),Kw=qw(2),$w=qw(3),Gw=qw(4),Yw=qw(5),Xw=qw(6);Hw.range,Vw.range,Kw.range,$w.range,Gw.range,Yw.range,Xw.range;function Jw(e){return Iw(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/_w)}const Qw=Jw(0),Zw=Jw(1),ej=Jw(2),tj=Jw(3),nj=Jw(4),rj=Jw(5),aj=Jw(6),ij=(Qw.range,Zw.range,ej.range,tj.range,nj.range,rj.range,aj.range,Iw(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),oj=(ij.range,Iw(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),sj=(oj.range,Iw(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));sj.every=e=>isFinite(e=Math.floor(e))&&e>0?Iw(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;sj.range;const lj=Iw(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lj.every=e=>isFinite(e=Math.floor(e))&&e>0?Iw(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;lj.range;function cj(e,t,n,r,a,i){const o=[[Mw,1,Sw],[Mw,5,5e3],[Mw,15,15e3],[Mw,30,3e4],[i,1,kw],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Aw],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Ow],[r,2,1728e5],[n,1,_w],[t,1,Cw],[t,3,7776e6],[e,1,Ew]];function s(t,n,r){const a=Math.abs(n-t)/r,i=mx(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(hx(t/Ew,n/Ew,r));if(0===i)return Dw.every(Math.max(hx(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[uj,dj]=cj(lj,oj,Qw,Ww,zw,Lw),[hj,fj]=cj(sj,ij,Hw,Bw,Fw,Rw);function pj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gj(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var yj,vj,xj,bj={"-":"",_:" ",0:"0"},wj=/^\s*\d+/,jj=/^%/,Nj=/[\\^$*+?|[\]().{}]/g;function Sj(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function kj(e){return e.replace(Nj,"\\$&")}function Aj(e){return new RegExp("^(?:"+e.map(kj).join("|")+")","i")}function Oj(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function _j(e,t,n){var r=wj.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cj(e,t,n){var r=wj.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ej(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Pj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Tj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ij(e,t,n){var r=wj.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Dj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mj(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rj(e,t,n){var r=wj.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Lj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zj(e,t,n){var r=wj.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Uj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wj(e,t,n){var r=wj.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qj(e,t,n){var r=wj.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hj(e,t,n){var r=wj.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vj(e,t,n){var r=jj.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Kj(e,t,n){var r=wj.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $j(e,t,n){var r=wj.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Gj(e,t){return Sj(e.getDate(),t,2)}function Yj(e,t){return Sj(e.getHours(),t,2)}function Xj(e,t){return Sj(e.getHours()%12||12,t,2)}function Jj(e,t){return Sj(1+Bw.count(sj(e),e),t,3)}function Qj(e,t){return Sj(e.getMilliseconds(),t,3)}function Zj(e,t){return Qj(e,t)+"000"}function eN(e,t){return Sj(e.getMonth()+1,t,2)}function tN(e,t){return Sj(e.getMinutes(),t,2)}function nN(e,t){return Sj(e.getSeconds(),t,2)}function rN(e){var t=e.getDay();return 0===t?7:t}function aN(e,t){return Sj(Hw.count(sj(e)-1,e),t,2)}function iN(e){var t=e.getDay();return t>=4||0===t?Gw(e):Gw.ceil(e)}function oN(e,t){return e=iN(e),Sj(Gw.count(sj(e),e)+(4===sj(e).getDay()),t,2)}function sN(e){return e.getDay()}function lN(e,t){return Sj(Vw.count(sj(e)-1,e),t,2)}function cN(e,t){return Sj(e.getFullYear()%100,t,2)}function uN(e,t){return Sj((e=iN(e)).getFullYear()%100,t,2)}function dN(e,t){return Sj(e.getFullYear()%1e4,t,4)}function hN(e,t){var n=e.getDay();return Sj((e=n>=4||0===n?Gw(e):Gw.ceil(e)).getFullYear()%1e4,t,4)}function fN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sj(t/60|0,"0",2)+Sj(t%60,"0",2)}function pN(e,t){return Sj(e.getUTCDate(),t,2)}function mN(e,t){return Sj(e.getUTCHours(),t,2)}function gN(e,t){return Sj(e.getUTCHours()%12||12,t,2)}function yN(e,t){return Sj(1+Uw.count(lj(e),e),t,3)}function vN(e,t){return Sj(e.getUTCMilliseconds(),t,3)}function xN(e,t){return vN(e,t)+"000"}function bN(e,t){return Sj(e.getUTCMonth()+1,t,2)}function wN(e,t){return Sj(e.getUTCMinutes(),t,2)}function jN(e,t){return Sj(e.getUTCSeconds(),t,2)}function NN(e){var t=e.getUTCDay();return 0===t?7:t}function SN(e,t){return Sj(Qw.count(lj(e)-1,e),t,2)}function kN(e){var t=e.getUTCDay();return t>=4||0===t?nj(e):nj.ceil(e)}function AN(e,t){return e=kN(e),Sj(nj.count(lj(e),e)+(4===lj(e).getUTCDay()),t,2)}function ON(e){return e.getUTCDay()}function _N(e,t){return Sj(Zw.count(lj(e)-1,e),t,2)}function CN(e,t){return Sj(e.getUTCFullYear()%100,t,2)}function EN(e,t){return Sj((e=kN(e)).getUTCFullYear()%100,t,2)}function PN(e,t){return Sj(e.getUTCFullYear()%1e4,t,4)}function TN(e,t){var n=e.getUTCDay();return Sj((e=n>=4||0===n?nj(e):nj.ceil(e)).getUTCFullYear()%1e4,t,4)}function IN(){return"+0000"}function DN(){return"%"}function MN(e){return+e}function RN(e){return Math.floor(+e/1e3)}function LN(e){return new Date(e)}function FN(e){return e instanceof Date?+e:+new Date(+e)}function zN(e,t,n,r,a,i,o,s,l,c){var u=Ab(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,FN)):h().map(LN)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Kb(n,e)):u},u.copy=function(){return Sb(u,zN(e,t,n,r,a,i,o,s,l,c))},u}function BN(){return dv.apply(zN(hj,fj,sj,ij,Hw,Bw,Fw,Rw,Mw,vj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UN(){return dv.apply(zN(uj,dj,lj,oj,Qw,Uw,zw,Lw,Mw,xj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function WN(){var e,t,n,r,a,i=0,o=1,s=bb,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(gb),c.rangeRound=u(yb),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function qN(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HN(){var e=qb(WN()(bb));return e.copy=function(){return qN(e,HN())},hv.apply(e,arguments)}function VN(){var e=Zb(WN()).domain([1,10]);return e.copy=function(){return qN(e,VN()).base(e.base())},hv.apply(e,arguments)}function KN(){var e=rw(WN());return e.copy=function(){return qN(e,KN()).constant(e.constant())},hv.apply(e,arguments)}function $N(){var e=lw(WN());return e.copy=function(){return qN(e,$N()).exponent(e.exponent())},hv.apply(e,arguments)}function GN(){return $N.apply(null,arguments).exponent(.5)}function YN(){var e=[],t=bb;function n(n){if(null!=n&&!isNaN(n=+n))return t((bx(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(fx),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>xw(e,r/t))},n.copy=function(){return YN(t).domain(e)},hv.apply(n,arguments)}function XN(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=bb,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=gb);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(gb),f.rangeRound=p(yb),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function JN(){var e=qb(XN()(bb));return e.copy=function(){return qN(e,JN())},hv.apply(e,arguments)}function QN(){var e=Zb(XN()).domain([.1,1,10]);return e.copy=function(){return qN(e,QN()).base(e.base())},hv.apply(e,arguments)}function ZN(){var e=rw(XN());return e.copy=function(){return qN(e,ZN()).constant(e.constant())},hv.apply(e,arguments)}function eS(){var e=lw(XN());return e.copy=function(){return qN(e,eS()).exponent(e.exponent())},hv.apply(e,arguments)}function tS(){return eS.apply(null,arguments).exponent(.5)}function nS(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){yj=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Aj(a),u=Oj(a),d=Aj(i),h=Oj(i),f=Aj(o),p=Oj(o),m=Aj(s),g=Oj(s),y=Aj(l),v=Oj(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Gj,e:Gj,f:Zj,g:uN,G:hN,H:Yj,I:Xj,j:Jj,L:Qj,m:eN,M:tN,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:MN,s:RN,S:nN,u:rN,U:aN,V:oN,w:sN,W:lN,x:null,X:null,y:cN,Y:dN,Z:fN,"%":DN},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:pN,e:pN,f:xN,g:EN,G:TN,H:mN,I:gN,j:yN,L:vN,m:bN,M:wN,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:MN,s:RN,S:jN,u:NN,U:SN,V:AN,w:ON,W:_N,x:null,X:null,y:CN,Y:PN,Z:IN,"%":DN},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Fj,e:Fj,f:Hj,g:Dj,G:Ij,H:Bj,I:Bj,j:zj,L:qj,m:Lj,M:Uj,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Rj,Q:Kj,s:$j,S:Wj,u:Cj,U:Ej,V:Pj,w:_j,W:Tj,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Dj,Y:Ij,Z:Mj,"%":Vj};function j(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=bj[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,a,i=gj(1900,void 0,1);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=mj(gj(i.y,0,1))).getUTCDay(),r=a>4||0===a?Zw.ceil(r):Zw(r),r=Uw.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=pj(gj(i.y,0,1))).getDay(),r=a>4||0===a?Vw.ceil(r):Vw(r),r=Bw.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?mj(gj(i.y,0,1)).getUTCDay():pj(gj(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,mj(i)):pj(i)}}function S(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in bj?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),vj=yj.format,yj.parse,xj=yj.utcFormat,yj.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function rS(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function aS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function iS(e,t){return e[t]}function oS(e){const t=[];return t.key=e,t}var sS=n(539),lS=n.n(sS),cS=n(6745),uS=n.n(cS),dS=n(3538),hS=n.n(dS),fS=n(9853),pS=n.n(fS),mS=n(8210),gS=n.n(mS);function yS(e){return function(e){if(Array.isArray(e))return vS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xS=function(e){return e},bS={"@@functional/placeholder":!0},wS=function(e){return e===bS},jS=function(e){return function t(){return 0===arguments.length||1===arguments.length&&wS(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},NS=function e(t,n){return 1===t?n:jS(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==bS}).length;return o>=t?n.apply(void 0,a):e(t-o,jS(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map(function(e){return wS(e)?t.shift():e});return n.apply(void 0,yS(i).concat(t))}))})},SS=function(e){return NS(e.length,e)},kS=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},AS=SS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),OS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return xS;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},_S=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CS=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var ES=SS(function(e,t,n){var r=+e;return r+n*(+t-r)}),PS=SS(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),TS=SS(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const IS={rangeStep:function(e,t,n){for(var r=new(gS())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(gS())(e).abs().log(10).toNumber())+1},interpolateNumber:ES,uninterpolateNumber:PS,uninterpolateTruncation:TS};function DS(e){return function(e){if(Array.isArray(e))return LS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||RS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch($I){a=!0,i=$I}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||RS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RS(e,t){if(e){if("string"===typeof e)return LS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LS(e,t):void 0}}function LS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FS(e){var t=MS(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function zS(e,t,n){if(e.lte(0))return new(gS())(0);var r=IS.getDigitCount(e.toNumber()),a=new(gS())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(gS())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?s:new(gS())(Math.ceil(s))}function BS(e,t,n){var r=1,a=new(gS())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(gS())(10).pow(IS.getDigitCount(e)-1),a=new(gS())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(gS())(Math.floor(e)))}else 0===e?a=new(gS())(Math.floor((t-1)/2)):n||(a=new(gS())(Math.floor(e)));var o=Math.floor((t-1)/2);return OS(AS(function(e){return a.add(new(gS())(e-o).mul(r)).toNumber()}),kS)(0,t)}function US(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(gS())(0),tickMin:new(gS())(0),tickMax:new(gS())(0)};var i,o=zS(new(gS())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(gS())(0):(i=new(gS())(e).add(t).div(2)).sub(new(gS())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(gS())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?US(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(gS())(s).mul(o)),tickMax:i.add(new(gS())(l).mul(o))})}var WS=CS(function(e){var t=MS(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=MS(FS([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(DS(kS(0,a-1).map(function(){return 1/0}))):[].concat(DS(kS(0,a-1).map(function(){return-1/0})),[c]);return n>r?_S(u):u}if(l===c)return BS(l,a,i);var d=US(l,c,o,i),h=d.step,f=d.tickMin,p=d.tickMax,m=IS.rangeStep(f,p.add(new(gS())(.1).mul(h)),h);return n>r?_S(m):m}),qS=(CS(function(e){var t=MS(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=MS(FS([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return BS(l,a,i);var u=zS(new(gS())(c).sub(l).div(o-1),i,0),d=OS(AS(function(e){return new(gS())(l).add(new(gS())(e).mul(u)).toNumber()}),kS)(0,o).filter(function(e){return e>=l&&e<=c});return n>r?_S(d):d}),CS(function(e,t){var n=MS(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=MS(FS([r,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=zS(new(gS())(l).sub(s).div(c-1),i,0),d=[].concat(DS(IS.rangeStep(new(gS())(s),new(gS())(l).sub(new(gS())(.99).mul(u)),u)),[l]);return r>a?_S(d):d})),HS=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function VS(e){return VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VS(e)}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}function $S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return GS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nk(r.key),r)}}function JS(e,t,n){return t=ZS(t),function(e,t){if(t&&("object"===VS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QS()?Reflect.construct(t,n||[],ZS(e).constructor):t.apply(e,n))}function QS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(QS=function(){return!!e})()}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZS(e)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ek(e,t)}function tk(e,t,n){return(t=nk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nk(e){var t=function(e,t){if("object"!=VS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VS(t)?t:t+""}var rk=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),JS(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=YS(e,HS),d=Mf(u,!1);"x"===this.props.direction&&"number"!==l.type&&Jf(!1);var h=o.map(function(e){var o=s(e,i),u=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=$S(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===r){var x=l.scale,b=h+n,w=b+a,j=b-a,N=x(f-m),S=x(f+g);y.push({x1:S,y1:w,x2:S,y2:j}),y.push({x1:N,y1:b,x2:S,y2:b}),y.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===r){var k=c.scale,A=u+n,O=A-a,_=A+a,C=k(f-m),E=k(f+g);y.push({x1:O,y1:E,x2:_,y2:E}),y.push({x1:A,y1:C,x2:A,y2:E}),y.push({x1:O,y1:C,x2:_,y2:C})}return t.createElement(ip,KS({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",KS({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(ip,{className:"recharts-errorBars"},h)}}],a&&XS(r.prototype,a),i&&XS(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function ak(e){return ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ak(e)}function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(t){sk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ak(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ak(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ak(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tk(rk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),tk(rk,"displayName","ErrorBar");var lk=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=Ef(t,jg);if(!i)return null;var o,s=jg.defaultProps,l=void 0!==s?ok(ok({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?ok(ok({},n),t.props):{},a=r.dataKey,i=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:yk(t),value:i||a,payload:r}}),ok(ok(ok({},l),jg.getWithHeight(i,r)),{},{payload:o,item:i})};function ck(e){return ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ck(e)}function uk(e){return function(e){if(Array.isArray(e))return dk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return dk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(t){pk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ck(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ck(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mk(e,t,n){return $h()(e)||$h()(t)?n:Jh(t)?qh()(e,t,n):lf()(t)?t(e):n}function gk(e,t,n,r){var a=hS()(e,function(e){return mk(e,t)});if("number"===n){var i=a.filter(function(e){return Xh(e)||parseFloat(e)});return i.length?[uS()(i),lS()(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!$h()(e)}):a).map(function(e){return Jh(e)||e instanceof Date?e:""})}var yk=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?fk(fk({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:o;break;default:n=o}return n},vk=function(e,t,n,r,a){var i=Cf(t.props.children,rk).filter(function(e){return function(e,t,n){return!!$h()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=mk(t,n);if($h()(r))return e;var a=Array.isArray(r)?[uS()(r),lS()(r)]:[r,r],i=o.reduce(function(e,n){var r=mk(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},xk=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&vk(e,t,i,r)||gk(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},bk=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},wk=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(n),o},jk=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Gh(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!Uh()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},Nk=new WeakMap,Sk=function(e,t){if("function"!==typeof t)return e;Nk.has(e)||Nk.set(e,new WeakMap);var n=Nk.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},kk=1e-4,Ak={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Uh()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}nS(e,t)}},none:nS,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}nS(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,nS(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Uh()(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},Ok=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=Ak[n],i=function(){var e=vm([]),t=aS,n=nS,r=iS;function a(a){var i,o,s=Array.from(e.apply(this,arguments),oS),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=rS(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:vm(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:vm(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?aS:"function"===typeof e?e:vm(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?nS:e,a):n},a}().keys(r).value(function(e,t){return+mk(e,t,0)}).order(aS).offset(a);return i(e)};function _k(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!$h()(a[t.dataKey])){var s=rf(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=mk(a,$h()(o)?t.dataKey:o);return $h()(l)?null:t.scale(l)}var Ck=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=mk(i,t.dataKey,t.domain[o]);return $h()(s)?null:t.scale(s)-a/2+r},Ek=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[uS()(t.concat([e[0]]).filter(Xh)),lS()(t.concat([e[1]]).filter(Xh))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Pk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ik=function(e,t,n){if(lf()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Xh(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Pk.test(e[0])){var a=+Pk.exec(e[0])[1];r[0]=t[0]-a}else lf()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Xh(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Tk.test(e[1])){var i=+Tk.exec(e[1])[1];r[1]=t[1]+i}else lf()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Dk=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Yf()(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Mk=function(e,t,n){return e&&e.length?pS()(e,qh()(n,"type.defaultProps.domain"))?t:e:t},Rk=function(e,t){var n=e.type.defaultProps?fk(fk({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return fk(fk({},Mf(e,!1)),{},{dataKey:r,unit:i,formatter:o,name:a||r,color:yk(e),value:mk(t,r),type:s,payload:t,chartType:l,hide:c})};function Lk(e){return Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lk(e)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(t){Bk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uk=["Webkit","Moz","O","ms"];function Wk(e){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wk(e)}function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qk.apply(this,arguments)}function Hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hk(Object(n),!0).forEach(function(t){Jk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qk(r.key),r)}}function $k(e,t,n){return t=Yk(t),function(e,t){if(t&&("object"===Wk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gk()?Reflect.construct(t,n||[],Yk(e).constructor):t.apply(e,n))}function Gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gk=function(){return!!e})()}function Yk(e){return Yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yk(e)}function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xk(e,t)}function Jk(e,t,n){return(t=Qk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qk(e){var t=function(e,t){if("object"!=Wk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wk(t)?t:t+""}var Zk=function(e){return e.changedTouches&&!!e.changedTouches.length},eA=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Jk(t=$k(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),Jk(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),Jk(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})}),t.detachDragEndListener()}),Jk(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),Jk(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),Jk(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),Jk(t,"handleSlideDragStart",function(e){var n=Zk(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}(n,e),r=n,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(a,l),d=n.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=mk(n[e],a,e);return lf()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+s-l-a,o+s-l-r):h<0&&(h=Math.max(h,o-r,o-a));var f=this.getIndex({startX:r+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Zk(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(Jk(Jk({},r,o+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(a>i?y%h===0:v%h===0)||a<i&&v===e||"endX"===r&&(a>i?v%h===0:y%h===0)||a>i&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,o=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(Jk({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:o,x:n,y:r,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,i,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=Vk(Vk({},Mf(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return t.createElement(ip,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,i=r.height,o=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(ip,{className:"recharts-brush-texts"},t.createElement(ix,qk({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(n)),t.createElement(ix,qk({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+i/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!Xh(i)||!Xh(o)||!Xh(s)||!Xh(l)||s<=0||l<=0)return null;var y=w("recharts-brush",r),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=Uk.reduce(function(e,r){return zk(zk({},e),{},Bk({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(ip,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(r+i/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:i,fill:o,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+a-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):lf()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return Vk({prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=jv().domain($f()(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&Kk(r.prototype,a),i&&Kk(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function tA(e){return tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(e)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(t){aA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jk(eA,"displayName","Brush"),Jk(eA,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var iA=Math.PI/180,oA=function(e){return 180*e/Math.PI},sA=function(e,t,n,r){return{x:e+Math.cos(-iA*r)*n,y:t+Math.sin(-iA*r)*n}},lA=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:oA(l),angleInRadian:l}},cA=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},uA=function(e,t){var n=e.x,r=e.y,a=lA({x:n,y:r},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?rA(rA({},t),{},{radius:i,angle:cA(f,t)}):null};function dA(e){return dA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(e)}var hA=["offset"];function fA(e){return function(e){if(Array.isArray(e))return pA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(t){vA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xA.apply(this,arguments)}var bA=function(e,n,r){var a,i,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,x=function(e,t){return Gh(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===o?(a=m+b*l,i=y):"insideEnd"===o?(a=g-b*l,i=!y):"end"===o&&(a=g+b*l,i=y),i=x<=0?i:!i;var j=sA(d,h,v,a),N=sA(d,h,v,a+359*(i?1:-1)),S="M".concat(j.x,",").concat(j.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(N.x,",").concat(N.y),k=$h()(e.id)?Zh("recharts-radial-line-"):e.id;return t.createElement("text",xA({},r,{dominantBaseline:"central",className:w("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:S})),t.createElement("textPath",{xlinkHref:"#".concat(k)},n))};function wA(e){var n,r=e.offset,a=yA({offset:void 0===r?5:r},mA(e,hA)),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!i||$h()(s)&&$h()(l)&&!(0,t.isValidElement)(c)&&!lf()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(lf()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=$h()(e.children)?t:e.children;return lf()(n)?n(r):r}(a);var f=function(e){return"cx"in e&&Xh(e.cx)}(i),p=Mf(a,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return bA(a,n,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=sA(i,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=sA(i,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return yA(yA({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return yA(yA({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return yA(yA({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return yA(yA({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?yA({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?yA({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?yA({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?yA({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?yA({x:o+m,y:s+d,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===a?yA({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?yA({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===a?yA({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},b):uf()(a)&&(Xh(a.x)||Yh(a.x))&&(Xh(a.y)||Yh(a.y))?yA({x:o+ef(a.x,l),y:s+ef(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):yA({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(ix,xA({className:w("recharts-label",d)},p,m,{breakAll:h}),n)}wA.displayName="Label";var jA=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Xh(p)&&Xh(m)){if(Xh(u)&&Xh(d))return{x:u,y:d,width:p,height:m};if(Xh(h)&&Xh(f))return{x:h,y:f,width:p,height:m}}return Xh(u)&&Xh(d)?{x:u,y:d,width:0,height:0}:Xh(t)&&Xh(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};wA.parseViewBox=jA,wA.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=jA(e),o=Cf(a,wA).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||i,key:"label-".concat(r)})});if(!r)return o;var s=function(e,n){return e?!0===e?t.createElement(wA,{key:"label-implicit",viewBox:n}):Jh(e)?t.createElement(wA,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===wA?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(wA,{key:"label-implicit",content:e,viewBox:n}):lf()(e)?t.createElement(wA,{key:"label-implicit",content:e,viewBox:n}):uf()(e)?t.createElement(wA,xA({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||i);return[s].concat(fA(o))};var NA=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},SA=n(1733),kA=n.n(SA),AA=n(7002),OA=n.n(AA),_A=function(e){return null};_A.displayName="Cell";var CA=n(4065),EA=n.n(CA);function PA(e){return PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(e)}var TA=["valueAccessor"],IA=["data","dataKey","clockWise","id","textBreakAll"];function DA(e){return function(e){if(Array.isArray(e))return MA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return MA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RA.apply(this,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(t){zA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=PA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var UA=function(e){return Array.isArray(e.value)?EA()(e.value):e.value};function WA(e){var n=e.valueAccessor,r=void 0===n?UA:n,a=BA(e,TA),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=BA(a,IA);return i&&i.length?t.createElement(ip,{className:"recharts-label-list"},i.map(function(e,n){var a=$h()(o)?r(e,n):mk(e&&e.payload,o),i=$h()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(wA,RA({},Mf(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:wA.parseViewBox($h()(s)?e:FA(FA({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}WA.displayName="LabelList",WA.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=Cf(e.children,WA).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(WA,{key:"labelList-implicit",data:n}):t.isValidElement(e)||lf()(e)?t.createElement(WA,{key:"labelList-implicit",data:n,content:e}):uf()(e)?t.createElement(WA,RA({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(DA(a)):a};var qA=n(2322),HA=n.n(qA),VA=n(6361),KA=n.n(VA);function $A(e){return $A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA.apply(this,arguments)}function YA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return XA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(t){ZA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$A(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eO=function(e,t,n,r,a){var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},tO={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nO=function(e){var n=QA(QA({},tO),e),r=(0,t.useRef)(),a=YA((0,t.useState)(-1),2),i=a[0],o=a[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch($I){}},[]);var s=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=w("recharts-trapezoid",h);return g?t.createElement(Zy,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(Zy,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",GA({},Mf(n,!0),{className:y,d:eO(l,c,a,o,s),ref:r})))}):t.createElement("g",null,t.createElement("path",GA({},Mf(n,!0),{className:y,d:eO(s,l,c,u,d)})))};function rO(e){return rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rO(e)}function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aO.apply(this,arguments)}function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(t){sO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lO=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/iA,d=l?a:a+i*u,h=l?a-i*u:a;return{center:sA(t,n,c,d),circleTangency:sA(t,n,r,d),lineTangency:sA(t,n,c*Math.cos(u*iA),h),theta:u}},cO=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Gh(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=sA(t,n,a,i),c=sA(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=sA(t,n,r,i),h=sA(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},uO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dO=function(e){var n=oO(oO({},uO),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<i||u===d)return null;var f,p=w("recharts-sector",h),m=o-i,g=ef(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Gh(c-l),d=lO({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=lO({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):cO({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=lO({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=w.circleTangency,N=w.lineTangency,S=w.theta,k=lO({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=k.circleTangency,O=k.lineTangency,_=k.theta,C=s?Math.abs(l-c):Math.abs(l-c)-S-_;if(C<0&&0===i)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):cO({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",aO({},Mf(n,!0),{className:p,d:f,role:"img"}))},hO=["option","shapeType","propTransformer","activeClassName","isActive"];function fO(e){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fO(e)}function pO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(t){yO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vO(e,t){return gO(gO({},t),e)}function xO(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(uv,r);case"trapezoid":return t.createElement(nO,r);case"sector":return t.createElement(dO,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(Xm,r);break;default:return null}}function bO(e){var n,r=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?vO:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=pO(e,hO);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,gO(gO({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(lf()(r))n=r(u);else if(HA()(r)&&!KA()(r)){var d=o(r,u);n=t.createElement(xO,{shapeType:a,elementProps:d})}else{var h=u;n=t.createElement(xO,{shapeType:a,elementProps:h})}return c?t.createElement(ip,{className:l},n):n}function wO(e,t){return null!=t&&"trapezoids"in e.props}function jO(e,t){return null!=t&&"sectors"in e.props}function NO(e,t){return null!=t&&"points"in e.props}function SO(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function kO(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function AO(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function OO(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return wO(e,t)?n="trapezoids":jO(e,t)?n="sectors":NO(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return wO(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:jO(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:NO(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=pS()(i,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return wO(e,t)?n=SO:jO(e,t)?n=kO:NO(e,t)&&(n=AO),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var _O=["x","y"];function CO(e){return CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CO(e)}function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EO.apply(this,arguments)}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(t){IO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MO(e,t){var n=e.x,r=e.y,a=DO(e,_O),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return TO(TO(TO(TO(TO({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function RO(e){return t.createElement(bO,EO({shapeType:"rectangle",propTransformer:MO,activeClassName:"recharts-active-bar"},e))}var LO,FO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=Xh(n)||function(e){return $h()(e)}(n);return a?e(n,r):(a||Jf(!1),t)}},zO=["value","background"];function BO(e){return BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BO(e)}function UO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WO.apply(this,arguments)}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(t){XO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JO(r.key),r)}}function KO(e,t,n){return t=GO(t),function(e,t){if(t&&("object"===BO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$O()?Reflect.construct(t,n||[],GO(e).constructor):t.apply(e,n))}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($O=function(){return!!e})()}function GO(e){return GO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GO(e)}function YO(e,t){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YO(e,t)}function XO(e,t,n){return(t=JO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t=function(e,t){if("object"!=BO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BO(t)?t:t+""}var QO=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return XO(e=KO(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),XO(e,"id",Zh("recharts-bar-")),XO(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),XO(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YO(e,t)}(n,e),r=n,a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,i=r.dataKey,o=r.activeIndex,s=r.activeBar,l=Mf(this.props,!1);return e&&e.map(function(e,r){var c=r===o,u=c?s:a,d=HO(HO(HO({},l),e),{},{isActive:c,option:u,index:r,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(ip,WO({className:"recharts-bar-rectangle"},xf(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(RO,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,i=n.isAnimationActive,o=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(Zy,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t,o=r.map(function(e,t){var n=u&&u[t];if(n){var r=nf(n.x,e.x),o=nf(n.y,e.y),s=nf(n.width,e.width),l=nf(n.height,e.height);return HO(HO({},e),{},{x:r(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var c=nf(0,e.height)(i);return HO(HO({},e),{},{y:e.y+e.height-c,height:c})}var d=nf(0,e.width)(i);return HO(HO({},e),{},{width:d})});return t.createElement(ip,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&pS()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,i=n.activeIndex,o=Mf(this.props.background,!1);return r.map(function(n,r){n.value;var s=n.background,l=UO(n,zO);if(!s)return null;var c=HO(HO(HO(HO(HO({},l),{},{fill:"#eee"},s),o),xf(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(RO,WO({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,i=r.xAxis,o=r.yAxis,s=r.layout,l=Cf(r.children,rk);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:mk(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ip,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=w("recharts-bar",a),g=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,x=$h()(f)?this.id:f;return t.createElement(ip,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(ip,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||p)&&WA.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&VO(r.prototype,a),i&&VO(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function ZO(e){return ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(e)}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a_(r.key),r)}}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){r_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r_(e,t,n){return(t=a_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e){var t=function(e,t){if("object"!=ZO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZO(t)?t:t+""}LO=QO,XO(QO,"displayName","Bar"),XO(QO,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),XO(QO,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?HO(HO({},m),n.props):n.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===p?o:i,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),N=Cf(v,_A),S=d.map(function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!Xh(t[0])||!Xh(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Xh(e[0])||e[0]<n)&&(a[0]=n),(!Xh(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=mk(e,y),Array.isArray(r)||(r=[j,r]));var b=FO(x,LO.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var S,k=[o.scale(r[0]),o.scale(r[1])],A=k[0],O=k[1];d=Ck({axis:i,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(S=null!==O&&void 0!==O?O:A)&&void 0!==S?S:void 0,m=f.size;var _=A-O;if(g=Number.isNaN(_)?0:_,v={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var C=Gh(g||b)*(Math.abs(b)-Math.abs(g));h-=C,g+=C}}else{var E=[i.scale(r[0]),i.scale(r[1])],P=E[0],T=E[1];if(d=P,h=Ck({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=T-P,g=f.size,v={x:i.x,y:h,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Gh(m||b)*(Math.abs(b)-Math.abs(m))}return HO(HO(HO({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[Rk(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return HO({data:S,layout:p},h)});var i_=function(t,n,r,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ef(c,QO);return u.reduce(function(o,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,x=g.padding,b=void 0===x?{}:x,w=g.mirror,j=g.reversed,N="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var S=v[1]-v[0],k=1/0,A=g.categoricalDomain.sort(af);if(A.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(A[t-1]||0),k))}),Number.isFinite(k)){var O=k/S,_="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=O*_/2),"no-gap"===g.padding){var C=ef(t.barCategoryGap,O*_),E=O*_/2;c=E-C-(E-C)/_*C}}}u="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var P=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:bv(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Hb(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jv(),realScaleType:"point"}:"category"===i?{scale:bv(),realScaleType:"band"}:{scale:Hb(),realScaleType:"linear"};if(zh()(a)){var l="scale".concat(Yp()(a));return{scale:(e[l]||jv)(),realScaleType:e[l]?l:"point"}}return lf()(a)?{scale:a}:{scale:jv(),realScaleType:"point"}}(g,i,h),T=P.scale,I=P.realScaleType;T.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-kk,i=Math.max(r[0],r[1])+kk,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}}(T);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=WS(l,a,o);return e.domain([uS()(c),lS()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:qS(u,a,o)}}return null}(T,n_(n_({},g),{},{realScaleType:I}));"xAxis"===a?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=d[N]-m*g.height):"yAxis"===a&&(m="left"===y&&!w||"right"===y&&w,f=d[N]-m*g.width,p=r.top);var M=n_(n_(n_({},g),D),{},{realScaleType:I,x:f,y:p,scale:T,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=Dk(M,D),g.hide||"xAxis"!==a?g.hide||(d[N]+=(m?-1:1)*M.width):d[N]+=(m?-1:1)*M.height,n_(n_({},o),{},r_({},s,M))},{})},o_=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},s_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&e_(t.prototype,n),r&&e_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();r_(s_,"EPS",1e-4);var l_=function(e){var t=Object.keys(e).reduce(function(t,n){return n_(n_({},t),{},r_({},n,s_.create(e[n])))},{});return n_(n_({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return kA()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return OA()(e,function(e,n){return t[n].isInRange(e)})}})};function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c_.apply(this,arguments)}function u_(e){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(e)}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(t){v_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x_(r.key),r)}}function p_(e,t,n){return t=g_(t),function(e,t){if(t&&("object"===u_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m_()?Reflect.construct(t,n||[],g_(e).constructor):t.apply(e,n))}function m_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m_=function(){return!!e})()}function g_(e){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g_(e)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y_(e,t)}function v_(e,t,n){return(t=x_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){var t=function(e,t){if("object"!=u_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u_(t)?t:t+""}var b_=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),p_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}(n,e),r=n,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=Jh(r),c=Jh(a);if(of(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=l_({x:r.scale,y:a.scale}),o=i.apply({x:t,y:n},{bandAware:!0});return NA(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=h_(h_({clipPath:NA(this.props,"hidden")?"url(#".concat(s,")"):void 0},Mf(this.props,!0)),{},{cx:d,cy:h});return t.createElement(ip,{className:w("recharts-reference-dot",m)},n.renderDot(p,g),wA.renderCallByParent(this.props,{x:d-i,y:h-i,width:2*i,height:2*i}))}}],a&&f_(r.prototype,a),i&&f_(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);v_(b_,"displayName","ReferenceDot"),v_(b_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),v_(b_,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):lf()(e)?e(n):t.createElement(Sg,c_({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var w_=n(4597),j_=n.n(w_),N_=n(8990),S_=n.n(N_),k_=n(5797),A_=n.n(k_)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var O_=(0,t.createContext)(void 0),__=(0,t.createContext)(void 0),C_=(0,t.createContext)(void 0),E_=(0,t.createContext)({}),P_=(0,t.createContext)(void 0),T_=(0,t.createContext)(0),I_=(0,t.createContext)(0),D_=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=A_(i);return t.createElement(O_.Provider,{value:r},t.createElement(__.Provider,{value:a},t.createElement(E_.Provider,{value:i},t.createElement(C_.Provider,{value:u},t.createElement(P_.Provider,{value:o},t.createElement(T_.Provider,{value:c},t.createElement(I_.Provider,{value:l},s)))))))};var M_=function(e){var n=(0,t.useContext)(O_);null==n&&Jf(!1);var r=n[e];return null==r&&Jf(!1),r},R_=function(e){var n=(0,t.useContext)(__);null==n&&Jf(!1);var r=n[e];return null==r&&Jf(!1),r},L_=function(){return(0,t.useContext)(I_)},F_=function(){return(0,t.useContext)(T_)};function z_(e){return z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z_(e)}function B_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G_(r.key),r)}}function U_(e,t,n){return t=q_(t),function(e,t){if(t&&("object"===z_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W_()?Reflect.construct(t,n||[],q_(e).constructor):t.apply(e,n))}function W_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(W_=function(){return!!e})()}function q_(e){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q_(e)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H_(e,t)}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(t){$_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $_(e,t,n){return(t=G_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(e){var t=function(e,t){if("object"!=z_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z_(t)?t:t+""}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_.apply(this,arguments)}function Q_(e){var n=e.x,r=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(P_),d=M_(i),h=R_(o),f=(0,t.useContext)(C_);if(!u||!f)return null;of(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var f=l.y,p=e.y.apply(f,{position:i});if(NA(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(NA(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return NA(l,"discard")&&j_()(x,function(t){return!e.isInRange(t)})?null:x}return null}(l_({x:d.scale,y:h.scale}),Jh(n),Jh(r),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=Y_(p,2),g=m[0],y=g.x,v=g.y,x=m[1],b=x.x,j=x.y,N=K_(K_({clipPath:NA(e,"hidden")?"url(#".concat(u,")"):void 0},Mf(e,!0)),{},{x1:y,y1:v,x2:b,y2:j});return t.createElement(ip,{className:w("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):lf()(e)?e(n):t.createElement("line",J_({},n,{className:"recharts-reference-line-line"}))}(s,N),wA.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return o_({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:b,y2:j})))}var Z_=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),U_(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(Q_,this.props)}}])&&B_(r.prototype,a),i&&B_(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}function tC(e){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tC(e)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(t){cC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uC(r.key),r)}}function iC(e,t,n){return t=sC(t),function(e,t){if(t&&("object"===tC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oC()?Reflect.construct(t,n||[],sC(e).constructor):t.apply(e,n))}function oC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oC=function(){return!!e})()}function sC(e){return sC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sC(e)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lC(e,t)}function cC(e,t,n){return(t=uC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uC(e){var t=function(e,t){if("object"!=tC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tC(t)?t:t+""}$_(Z_,"displayName","ReferenceLine"),$_(Z_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var dC=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),iC(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;of(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Jh(r),d=Jh(a),h=Jh(i),f=Jh(o),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=l_({x:c.scale,y:u.scale}),h={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!NA(a,"discard")||d.isInRange(h)&&d.isInRange(f)?o_(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=NA(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(ip,{className:w("recharts-reference-area",s)},n.renderRect(p,rC(rC({clipPath:g},Mf(this.props,!0)),m)),wA.renderCallByParent(this.props,m))}}])&&aC(r.prototype,a),i&&aC(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function hC(e){return function(e){if(Array.isArray(e))return fC(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cC(dC,"displayName","ReferenceArea"),cC(dC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),cC(dC,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):lf()(e)?e(n):t.createElement(uv,eC({},n,{className:"recharts-reference-area-rect"}))});var pC=function(e,t,n,r,a){var i=Cf(e,Z_),o=Cf(e,b_),s=[].concat(hC(i),hC(o)),l=Cf(e,dC),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&NA(t.props,"extendDomain")&&Xh(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&NA(t.props,"extendDomain")&&Xh(t.props[h])&&Xh(t.props[f])){var r=t.props[h],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Xh(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},mC=n(7283),gC=new(n.n(mC)()),yC="recharts.syncMouseEvents";function vC(e){return vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vC(e)}function xC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wC(r.key),r)}}function bC(e,t,n){return(t=wC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wC(e){var t=function(e,t){if("object"!=vC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vC(t)?t:t+""}var jC=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bC(this,"activeIndex",0),bC(this,"coordinateList",[]),bC(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&xC(e.prototype,t),n&&xC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function NC(){}function SC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kC(e){this._context=e}function AC(e){this._context=e}function OC(e){this._context=e}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:SC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:SC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AC.prototype={areaStart:NC,areaEnd:NC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:SC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:SC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class _C{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function CC(e){this._context=e}function EC(e){this._context=e}function PC(e){return new EC(e)}function TC(e){return e<0?-1:1}function IC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(TC(i)+TC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function DC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function MC(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function RC(e){this._context=e}function LC(e){this._context=new FC(e)}function FC(e){this._context=e}function zC(e){this._context=e}function BC(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function UC(e,t){this._context=e,this._t=t}function WC(e){return e[0]}function qC(e){return e[1]}function HC(e,t){var n=vm(!0),r=null,a=PC,i=null,o=Bm(s);function s(s){var l,c,u,d=(s=rS(s)).length,h=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?WC:vm(e),t="function"===typeof t?t:void 0===t?qC:vm(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:vm(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:vm(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:vm(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function VC(e,t,n){var r=null,a=vm(!0),i=null,o=PC,s=null,l=Bm(c);function c(c){var u,d,h,f,p,m=(c=rS(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return HC().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?WC:vm(+e),t="function"===typeof t?t:vm(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?qC:vm(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:vm(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:vm(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:vm(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:vm(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:vm(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:vm(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:vm(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function KC(e){return KC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KC(e)}function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(this,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(t){XC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=KC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}CC.prototype={areaStart:NC,areaEnd:NC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},RC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MC(this,this._t0,DC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,MC(this,DC(this,n=IC(this,e,t)),n);break;default:MC(this,this._t0,n=IC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(LC.prototype=Object.create(RC.prototype)).point=function(e,t){RC.prototype.point.call(this,t,e)},FC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},zC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=BC(e),a=BC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var JC={curveBasisClosed:function(e){return new AC(e)},curveBasisOpen:function(e){return new OC(e)},curveBasis:function(e){return new kC(e)},curveBumpX:function(e){return new _C(e,!0)},curveBumpY:function(e){return new _C(e,!1)},curveLinearClosed:function(e){return new CC(e)},curveLinear:PC,curveMonotoneX:function(e){return new RC(e)},curveMonotoneY:function(e){return new LC(e)},curveNatural:function(e){return new zC(e)},curveStep:function(e){return new UC(e,.5)},curveStepAfter:function(e){return new UC(e,1)},curveStepBefore:function(e){return new UC(e,0)}},QC=function(e){return e.x===+e.x&&e.y===+e.y},ZC=function(e){return e.x},eE=function(e){return e.y},tE=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(lf()(e))return e;var n="curve".concat(Yp()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?JC[n]||PC:JC["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?i.filter(function(e){return QC(e)}):i;if(Array.isArray(o)){var h=c?o.filter(function(e){return QC(e)}):o,f=d.map(function(e,t){return YC(YC({},e),{},{base:h[t]})});return(t="vertical"===s?VC().y(eE).x1(ZC).x0(function(e){return e.base.x}):VC().x(ZC).y1(eE).y0(function(e){return e.base.y})).defined(QC).curve(u),t(f)}return(t="vertical"===s&&Xh(o)?VC().y(eE).x1(ZC).x0(o):Xh(o)?VC().x(ZC).y1(eE).y0(o):HC().x(ZC).y(eE)).defined(QC).curve(u),t(d)},nE=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?tE(e):a;return t.createElement("path",$C({},Mf(e,!1),vf(e),{className:w("recharts-curve",n),d:o,ref:i}))};function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}var aE=["x","y","top","left","width","height","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(this,arguments)}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var cE=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},uE=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(t){sE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:i,top:s,left:c,width:d,height:f},lE(e,aE));return Xh(r)&&Xh(i)&&Xh(d)&&Xh(f)&&Xh(s)&&Xh(c)?t.createElement("path",iE({},Mf(m,!0),{className:w("recharts-cross",p),d:cE(r,i,d,f,s,c)})):null};function dE(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[sA(t,n,r,a),sA(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function hE(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return dE(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=sA(s,l,c,d),f=sA(s,l,u,d);r=h.x,a=h.y,i=f.x,o=f.y}return[{x:r,y:a},{x:i,y:o}]}function fE(e){return fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(e)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(t){gE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yE(e){var n,r,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(n=i.props.cursor)&&void 0!==n?n:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var g=nE;if("ScatterChart"===p)a=l,g=uE;else if("BarChart"===p)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=uv;else if("radial"===f){var y=dE(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=dO}else a={points:hE(f,l,u)},g=nE;var j=mE(mE(mE(mE({stroke:"#ccc",pointerEvents:"none"},u),a),Mf(m,!1)),{},{payload:c,payloadIndex:d,className:w("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,j):(0,t.createElement)(g,j)}var vE=["item"],xE=["children","className","width","height","style","compact","title","desc"];function bE(e){return bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(this,arguments)}function jE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||EE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ME(r.key),r)}}function kE(e,t,n){return t=OE(t),function(e,t){if(t&&("object"===bE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AE()?Reflect.construct(t,n||[],OE(e).constructor):t.apply(e,n))}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AE=function(){return!!e})()}function OE(e){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OE(e)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_E(e,t)}function CE(e){return function(e){if(Array.isArray(e))return PE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||EE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EE(e,t){if(e){if("string"===typeof e)return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PE(e,t):void 0}}function PE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(t){DE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DE(e,t,n){return(t=ME(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ME(e){var t=function(e,t){if("object"!=bE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bE(t)?t:t+""}var RE={xAxis:["bottom","top"],yAxis:["left","right"]},LE={width:"100%",height:"100%"},FE={x:0,y:0};function zE(e){return e}var BE=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(CE(e),CE(n)):e},[]);return i.length>0?i:e&&e.length&&Xh(r)&&Xh(a)?e.slice(r,a+1):[]};function UE(e){return"number"===e?[0,"auto"]:void 0}var WE,qE=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,o=BE(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=rf(void 0===u?o:u,i.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(CE(a),[Rk(s,c)]):a},[])},HE=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Gh(u-c)!==Gh(d-u)){var f=[];if(Gh(d-u)===Gh(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){i=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){i=n[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=qE(e,t,c,u),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=r.radius;return IE(IE(IE({},r),sA(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=r.angle;return IE(IE(IE({},r),sA(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return FE}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},VE=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=bk(c,a);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?IE(IE({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var N,S,k,A=BE(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j}),dataStartIndex:s,dataEndIndex:l}),O=A.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&Xh(r)&&Xh(a))return!0}return!1})(p.domain,y,m)&&(N=Ik(p.domain,null,y),!h||"number"!==m&&"auto"===x||(k=gk(A,g,"category")));var _=UE(m);if(!N||0===N.length){var C,E=null!==(C=p.domain)&&void 0!==C?C:_;if(g){if(N=gk(A,g,m),"category"===m&&h){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);v&&P?(S=N,N=$f()(0,O)):v||(N=Mk(E,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(CE(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!$h()(e)}):Mk(E,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||$h()(t)?e:[].concat(CE(e),[t])},[]);else if("number"===m){var T=function(e,t,n,r,a){var i=t.map(function(t){return vk(e,t,n,a,r)}).filter(function(e){return!$h()(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)}),g,a,c);T&&(N=T)}!h||"number"!==m&&"auto"===x||(k=gk(A,g,"category"))}else N=h?$f()(0,O):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:Ek(o[j].stackGroups,s,l):xk(A,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)N=pC(u,N,j,a,b),E&&(N=Ik(E,N,y));else if("category"===m&&E){var I=E;N.every(function(e){return I.indexOf(e)>=0})&&(N=I)}}return IE(IE({},t),{},DE({},j,IE(IE({},p),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:S,originalDomain:null!==(f=p.domain)&&void 0!==f?f:_,isCategorical:h,layout:c})))},{})},KE=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Cf(c,a),h={};return d&&d.length?h=VE(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=BE(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=bk(c,a),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?IE(IE({},t.type.defaultProps),t.props):t.props)[i],y=UE("number");return e[g]?e:(p++,f?m=$f()(0,h):o&&o[g]&&o[g].hasStack?(m=Ek(o[g].stackGroups,s,l),m=pC(u,m,g,a)):(m=Ik(y,xk(d,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=pC(u,m,g,a)),IE(IE({},e),{},DE({},g,IE(IE({axisType:a},r.defaultProps),{},{hide:!0,orientation:qh()(RE,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},$E=function(e){var t=e.children,n=e.defaultShowTooltip,r=Ef(t,eA),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},GE=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YE=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,o=void 0===i?{}:i,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Ef(c,eA),h=Ef(c,jg),f=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:IE(IE({},e),{},DE({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:IE(IE({},e),{},DE({},r,qh()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=IE(IE({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||eA.defaultProps.height),h&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,o=n.margin,s=i-(o.left||0)-(o.right||0),l=lk({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Xh(e[h]))return fk(fk({},e),{},pk({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Xh(e[f]))return fk(fk({},e),{},pk({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return IE(IE({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},XE=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},JE=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=GE(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=kf(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var x=BE(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),b=void 0!==n.type.defaultProps?IE(IE({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(m,"Id")],S=b["".concat(g,"Id")],k=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||Jf(!1);var i=r[a];return IE(IE({},e),{},DE(DE({},n.axisType,i),"".concat(n.axisType,"Ticks"),jk(i)))},{}),A=k[g],O=k["".concat(g,"Ticks")],_=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?fk(fk({},e.type.defaultProps),e.props):e.props).stackId;if(Jh(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),C=kf(n.type).indexOf("Bar")>=0,E=Dk(A,O),P=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return kf(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?fk(fk({},y),g[0].props):g[0].props,x=v.barSize,b=v[m];i[b]||(i[b]=[]);var w=$h()(x)?t:x;i[b].push({item:g[0],stackList:g.slice(1),barSize:$h()(w)?void 0:ef(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:XE(k,g)});if(C){var I,D,M=$h()(j)?f:j,R=null!==(I=null!==(D=Dk(A,O,!0))&&void 0!==D?D:M)&&void 0!==I?I:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=ef(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,h=r/s,f=i.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(uk(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=ef(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,n){var r=[].concat(uk(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==E?R:E,sizeList:T[S],maxBarSize:M}),R!==E&&(P=P.map(function(e){return IE(IE({},e),{},{position:IE(IE({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,z=n&&n.type&&n.type.getComposedData;z&&v.push({props:IE(IE({},z(IE(IE({},k),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:E,barPosition:P,offset:a,stackedData:_,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},DE(DE(DE({key:n.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",i)),childIndex:(L=n,F=e.children,_f(F).indexOf(L)),item:n})}),v},f=function(e,t){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Pf({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=GE(d),y=g.numericAxisName,v=g.cateAxisName,x=Cf(c,r),b=function(e,t,n,r,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?fk(fk({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Jh(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Zh("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return fk(fk({},e),{},pk({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return fk(fk({},t),{},pk({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:Ok(e,o.items,a)}))},{})),fk(fk({},t),{},pk({},i,s))},{})}(p,x,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return IE(IE({},e),{},DE({},n,KE(a,IE(IE({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),j=YE(IE(IE({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],j,e.replace("Map",""),n)});var N=function(e){var t=tf(e),n=jk(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Yf()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Dk(t,n)}}(w["".concat(v,"Map")]),S=h(a,IE(IE({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:j}));return IE(IE({formattedGraphicalItems:S,graphicalItems:x,offset:j,stackGroups:b},N),w)},p=function(e){function r(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),DE(o=kE(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),DE(o,"accessibilityManager",new jC),DE(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(IE({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},IE(IE({},o.state),{},{legendBBox:e}))))}}),DE(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),DE(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return IE({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),DE(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=IE(IE({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;lf()(r)&&r(n,e)}}),DE(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?IE(IE({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;lf()(r)&&r(n,e)}),DE(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),DE(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),DE(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),DE(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;lf()(n)&&n(t,e)}),DE(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&Sf[t]?Sf[t]:null}(e),r=qh()(o.props,"".concat(n));n&&lf()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),DE(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=IE(IE({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;lf()(r)&&r(n,e)}}),DE(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;lf()(t)&&t(o.getMouseInfo(e),e)}),DE(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;lf()(t)&&t(o.getMouseInfo(e),e)}),DE(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),DE(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),DE(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),DE(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;lf()(t)&&t(o.getMouseInfo(e),e)}),DE(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;lf()(t)&&t(o.getMouseInfo(e),e)}),DE(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&gC.emit(yC,o.props.syncId,e,o.eventEmitterSymbol)}),DE(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(IE({dataStartIndex:i,dataEndIndex:s},f({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=IE(IE({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=p[u]&&p[u].value,b=qE(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:FE;o.setState(IE(IE({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),DE(o,"renderCursor",function(e){var r,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:i,p=o.props.layout,m=e.key||"_recharts-cursor";return t.createElement(yE,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),DE(o,"renderPolarAxis",function(e,n,r){var a=qh()(e,"type.axisType"),i=qh()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?IE(IE({},s),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,IE(IE({},c),{},{className:w(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:jk(c,!0)}))}),DE(o,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,i=n.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=tf(l),d=tf(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:jk(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:jk(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),DE(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,n=o.props,r=n.children,a=n.width,i=n.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),u=lk({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=NE(u,vE);return(0,t.cloneElement)(d,IE(IE({},h),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),DE(o,"renderTooltip",function(){var e,n=o.props,r=n.children,a=n.accessibilityLayer,i=Ef(r,$p);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(i,{viewBox:IE(IE({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),DE(o,"renderBrush",function(e){var n=o.props,r=n.margin,a=n.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Sk(o.handleBrushChange,e.props.onChange),data:a,x:Xh(e.props.x)?e.props.x:s.left,y:Xh(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Xh(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),DE(o,"renderReferenceElement",function(e,n,r){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),DE(o,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?IE(IE({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=IE(IE({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:yk(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Mf(u,!1)),vf(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(r.renderActiveDot(u,IE(IE({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),DE(o,"renderGraphicChild",function(e,n,r){var a=o.filterFormatItem(e,n,r);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Ef(o.props.children,$p),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?IE(IE({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,j=Boolean(!x&&l&&h&&(v||b||w)),N={};"axis"!==i&&h&&"click"===h.props.trigger?N={onClick:Sk(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:Sk(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Sk(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,t.cloneElement)(e,IE(IE({},a.props),N));if(j){if(!(u>=0)){var k,A=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:S}).graphicalItem,O=A.item,_=void 0===O?e:O,C=A.childIndex,E=IE(IE(IE({},a.props),N),{},{activeIndex:C});return[(0,t.cloneElement)(_,E),null,null]}var P,T;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());P=rf(p,I,d),T=m&&g&&rf(g,I,d)}else P=null===p||void 0===p?void 0:p[u],T=m&&g&&g[u];if(w||b){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,IE(IE(IE({},a.props),N),{},{activeIndex:D})),null,null]}if(!$h()(P))return[S].concat(CE(o.renderActivePoints({item:a,activePoint:P,basePoint:T,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]}),DE(o,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,IE(IE({key:"recharts-customized-".concat(r)},o.props),o.state))}),DE(o,"renderMap",{CartesianGrid:{handler:zE,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:zE},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:zE},YAxis:{handler:zE},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Zh("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Lh()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}(r,e),a=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=Ef(t,$p);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=qE(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=IE(IE({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Rf([Ef(e.children,$p)],[Ef(this.props.children,$p)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ef(this.props.children,$p);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=HE(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=tf(c).scale,p=tf(u).scale,m=f&&f.invert?f.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return IE(IE({},i),{},{xValue:m,yValue:g},h)}return h?IE(IE({},i),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=tf(l);return uA({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Ef(e,$p),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),IE(IE({},vf(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){gC.on(yC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gC.removeListener(yC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===kf(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,i=n.height,o=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=jE(t,2),r=n[0],a=n[1];return IE(IE({},e),{},DE({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=jE(t,2),r=n[0],a=n[1];return IE(IE({},e),{},DE({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var o=n[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?IE(IE({},l.type.defaultProps),l.props):l.props,u=kf(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return lv(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return uA(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(wO(o,r)||jO(o,r)||NO(o,r)){var f=OO({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:IE(IE({},o),{},{childIndex:p}),payload:NO(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Pf(this))return null;var n,r,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=NE(a,xE),p=Mf(f,!1);if(u)return t.createElement(D_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(tp,wE({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Ff(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(D_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",wE({className:w("recharts-wrapper",o),style:IE({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(tp,wE({},p,{width:s,height:l,title:d,desc:h,style:LE}),this.renderClipPath(),Ff(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&SE(a.prototype,o),l&&SE(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(t.Component);DE(p,"displayName",n),DE(p,"defaultProps",IE({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),DE(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=$E(e);return IE(IE(IE({},h),{},{updateId:0},f(IE(IE({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!hf(c,t.prevMargin)){var p=$E(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=IE(IE({},HE(t,r,s)),{},{updateId:t.updateId+1}),y=IE(IE(IE({},p),m),g);return IE(IE(IE({},y),f(IE({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Rf(a,t.prevChildren)){var v,x,b,w,j=Ef(a,eA),N=j&&null!==(v=null===(x=j.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,S=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,k=N!==u||S!==d,A=!$h()(r)&&!k?t.updateId:t.updateId+1;return IE(IE({updateId:A},f(IE(IE({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:S}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:S})}return null}),DE(p,"renderActiveDot",function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):lf()(e)?e(n):t.createElement(Sg,n),t.createElement(ip,{className:"recharts-active-dot",key:r},a)});var m=(0,t.forwardRef)(function(e,n){return t.createElement(p,wE({},e,{ref:n}))});return m.displayName=p.displayName,m},QE=["layout","type","stroke","connectNulls","isRange","ref"],ZE=["key"];function eP(e){return eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eP(e)}function tP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nP.apply(this,arguments)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(t){uP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dP(r.key),r)}}function oP(e,t,n){return t=lP(t),function(e,t){if(t&&("object"===eP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sP()?Reflect.construct(t,n||[],lP(e).constructor):t.apply(e,n))}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sP=function(){return!!e})()}function lP(e){return lP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lP(e)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cP(e,t)}function uP(e,t,n){return(t=dP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dP(e){var t=function(e,t){if("object"!=eP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eP(t)?t:t+""}var hP=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return uP(e=oP(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),uP(e,"id",Zh("recharts-area-")),uP(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),lf()(t)&&t()}),uP(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),lf()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}(n,e),r=n,a=[{key:"renderDots",value:function(e,r,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=Mf(this.props,!1),h=Mf(l,!0),f=c.map(function(e,t){var r=aP(aP(aP({key:"dot-".concat(t),r:3},d),h),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)}),p={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(ip,nP({className:"recharts-area-dots"},p),f)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,i=n.strokeWidth,o=a[0].x,s=a[a.length-1].x,l=e*Math.abs(o-s),c=lS()(a.map(function(e){return e.y||0}));return Xh(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(lS()(r.map(function(e){return e.y||0})),c)),Xh(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,r=n.baseLine,a=n.points,i=n.strokeWidth,o=a[0].y,s=a[a.length-1].y,l=e*Math.abs(o-s),c=lS()(a.map(function(e){return e.x||0}));return Xh(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(lS()(r.map(function(e){return e.x||0})),c)),Xh(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,r,a){var i=this.props,o=i.layout,s=i.type,l=i.stroke,c=i.connectNulls,u=i.isRange,d=(i.ref,tP(i,QE));return t.createElement(ip,{clipPath:r?"url(#clipPath-".concat(a,")"):null},t.createElement(nE,nP({},Mf(d,!0),{points:e,connectNulls:c,type:s,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(nE,nP({},Mf(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&t.createElement(nE,nP({},Mf(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var r=this,a=this.props,i=a.points,o=a.baseLine,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevPoints,p=h.prevBaseLine;return t.createElement(Zy,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var s=a.t;if(f){var l,c=f.length/i.length,u=i.map(function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=nf(r.x,e.x),i=nf(r.y,e.y);return aP(aP({},e),{},{x:a(s),y:i(s)})}return e});return l=Xh(o)&&"number"===typeof o?nf(p,o)(s):$h()(o)||Uh()(o)?nf(p,0)(s):o.map(function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],a=nf(r.x,e.x),i=nf(r.y,e.y);return aP(aP({},e),{},{x:a(s),y:i(s)})}return e}),r.renderAreaStatically(u,l,e,n)}return t.createElement(ip,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(s))),t.createElement(ip,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(i,o,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&r&&r.length&&(!s&&c>0||!pS()(s,r)||!pS()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,i=n.points,o=n.className,s=n.top,l=n.left,c=n.xAxis,u=n.yAxis,d=n.width,h=n.height,f=n.isAnimationActive,p=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=w("recharts-area",o),v=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,j=$h()(p)?this.id:p,N=null!==(e=Mf(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=N.r,k=void 0===S?3:S,A=N.strokeWidth,O=void 0===A?2:A,_=(Df(a)?a:{}).clipDot,C=void 0===_||_,E=2*k+O;return t.createElement(ip,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(j)},t.createElement("rect",{x:v?l:l-d/2,y:x?s:s-h/2,width:v?d:2*d,height:x?h:2*h})),!C&&t.createElement("clipPath",{id:"clipPath-dots-".concat(j)},t.createElement("rect",{x:l-E/2,y:s-E/2,width:d+E,height:h+E}))):null,g?null:this.renderArea(b,j),(a||g)&&this.renderDots(b,C,j),(!f||m)&&WA.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&iP(r.prototype,a),i&&iP(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);WE=hP,uP(hP,"displayName","Area"),uP(hP,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Tp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),uP(hP,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!==o&&void 0!==o?o:i;if(Xh(s)&&"number"===typeof s)return s;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),uP(hP,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,p=n.layout,m=u&&u.length,g=WE.getBaseValue(n,r,a,i),y="horizontal"===p,v=!1,x=h.map(function(e,t){var n;m?n=u[d+t]:(n=mk(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||m&&null==mk(e,c);return y?{x:_k({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:_k({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=m||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),aP({points:x,baseLine:t,layout:p,isRange:v},f)}),uP(hP,"renderDotItem",function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(lf()(e))r=e(n);else{var a=w("recharts-area-dot","boolean"!==typeof e?e.className:""),i=n.key,o=tP(n,ZE);r=t.createElement(Sg,nP({},o,{key:i,className:a}))}return r});var fP=["type","layout","connectNulls","ref"],pP=["key"];function mP(e){return mP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mP(e)}function gP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(t){OP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bP(e){return function(e){if(Array.isArray(e))return wP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_P(r.key),r)}}function NP(e,t,n){return t=kP(t),function(e,t){if(t&&("object"===mP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SP()?Reflect.construct(t,n||[],kP(e).constructor):t.apply(e,n))}function SP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SP=function(){return!!e})()}function kP(e){return kP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kP(e)}function AP(e,t){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AP(e,t)}function OP(e,t,n){return(t=_P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e){var t=function(e,t){if("object"!=mP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mP(t)?t:t+""}var CP=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return OP(e=NP(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),OP(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),OP(e,"getStrokeDasharray",function(t,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var o=Math.floor(t/i),s=t%i,l=r-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(bP(a.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(bP(n.repeat(a,o)),bP(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),OP(e,"id",Zh("recharts-line-")),OP(e,"pathRef",function(t){e.mainCurve=t}),OP(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),OP(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch($I){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,i=r.xAxis,o=r.yAxis,s=r.layout,l=Cf(r.children,rk);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:mk(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(ip,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,c=Mf(this.props,!1),u=Mf(o,!0),d=s.map(function(e,t){var r=xP(xP(xP({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(o,r)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.createElement(ip,yP({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,gP(i,fP)),u=xP(xP(xP({},Mf(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return t.createElement(nE,yP({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return t.createElement(Zy,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var s=g.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=nf(r.x,e.x),o=nf(r.y,e.y);return xP(xP({},e),{},{x:i(a),y:o(a)})}if(h){var l=nf(2*f,e.x),c=nf(p/2,e.y);return xP(xP({},e),{},{x:l(a),y:c(a)})}return xP(xP({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,n)}var c,u=nf(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(i,e,n,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&r&&r.length&&(!o&&s>0||!pS()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,a=n.dot,i=n.points,o=n.className,s=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,f=n.isAnimationActive,p=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=w("recharts-line",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,j=$h()(p)?this.id:p,N=null!==(e=Mf(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=N.r,k=void 0===S?3:S,A=N.strokeWidth,O=void 0===A?2:A,_=(Df(a)?a:{}).clipDot,C=void 0===_||_,E=2*k+O;return t.createElement(ip,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(j)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!C&&t.createElement("clipPath",{id:"clipPath-dots-".concat(j)},t.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(b,j),this.renderErrorBar(b,j),(g||a)&&this.renderDots(b,C,j),(!f||m)&&WA.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(bP(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(bP(r),bP(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(lf()(e))r=e(n);else{var a=n.key,i=gP(n,pP),o=w("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Sg,yP({key:a},i,{className:o}))}return r}}],a&&jP(r.prototype,a),i&&jP(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function EP(e){return EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP(e)}function PP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LP(r.key),r)}}function TP(e,t,n){return t=DP(t),function(e,t){if(t&&("object"===EP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IP()?Reflect.construct(t,n||[],DP(e).constructor):t.apply(e,n))}function IP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IP=function(){return!!e})()}function DP(e){return DP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DP(e)}function MP(e,t){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MP(e,t)}function RP(e,t,n){return(t=LP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e){var t=function(e,t){if("object"!=EP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EP(t)?t:t+""}OP(CP,"displayName","Line"),OP(CP,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Tp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),OP(CP,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=mk(e,o);return"horizontal"===u?{x:_k({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:$h()(l)?null:r.scale(l),value:l,payload:e}:{x:$h()(l)?null:n.scale(l),y:_k({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}});return xP({points:d,layout:u},c)});var FP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TP(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&PP(n.prototype,r),a&&PP(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(t.Component);RP(FP,"displayName","ZAxis"),RP(FP,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var zP=["option","isActive"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BP.apply(this,arguments)}function UP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WP(e){var n=e.option,r=e.isActive,a=UP(e,zP);return"string"===typeof n?t.createElement(bO,BP({option:t.createElement(Xm,BP({type:n},a)),isActive:r,shapeType:"symbols"},a)):t.createElement(bO,BP({option:n,isActive:r,shapeType:"symbols"},a))}function qP(e){return qP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qP(e)}function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(this,arguments)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(t){QP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZP(r.key),r)}}function GP(e,t,n){return t=XP(t),function(e,t){if(t&&("object"===qP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YP()?Reflect.construct(t,n||[],XP(e).constructor):t.apply(e,n))}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YP=function(){return!!e})()}function XP(e){return XP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XP(e)}function JP(e,t){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JP(e,t)}function QP(e,t,n){return(t=ZP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZP(e){var t=function(e,t){if("object"!=qP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qP(t)?t:t+""}var eT=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return QP(e=GP(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),QP(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),QP(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),QP(e,"id",Zh("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JP(e,t)}(n,e),r=n,a=[{key:"renderSymbolsStatically",value:function(e){var n=this,r=this.props,a=r.shape,i=r.activeShape,o=r.activeIndex,s=Mf(this.props,!1);return e.map(function(e,r){var l=o===r,c=l?i:a,u=KP(KP({},s),e);return t.createElement(ip,HP({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},xf(n.props,e,r),{role:"img"}),t.createElement(WP,HP({option:c,isActive:l,key:"symbol-".concat(r)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,n=this.props,r=n.points,a=n.isAnimationActive,i=n.animationBegin,o=n.animationDuration,s=n.animationEasing,l=n.animationId,c=this.state.prevPoints;return t.createElement(Zy,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var a=n.t,i=r.map(function(e,t){var n=c&&c[t];if(n){var r=nf(n.cx,e.cx),i=nf(n.cy,e.cy),o=nf(n.size,e.size);return KP(KP({},e),{},{cx:r(a),cy:i(a),size:o(a)})}var s=nf(0,e.size);return KP(KP({},e),{},{size:s(a)})});return t.createElement(ip,null,e.renderSymbolsStatically(i))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&pS()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,n=e.points,r=e.xAxis,a=e.yAxis,i=Cf(e.children,rk);return i?i.map(function(e,i){var o=e.props,s=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(s,"-").concat(l,"-").concat(n[i]),data:n,xAxis:r,yAxis:a,layout:"x"===s?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===s?+e.node.x:+e.node.y,errorVal:mk(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,n,r=this.props,a=r.points,i=r.line,o=r.lineType,s=r.lineJointType,l=Mf(this.props,!1),c=Mf(i,!1);if("joint"===o)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,i=0,o=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,i+=l*l,o=Math.min(o,l),s=Math.max(s,l);var d=t*i!==n*n?(t*a-n*r)/(t*i-n*n):0;return{xmin:o,xmax:s,a:d,b:(r-d*n)/t}}(a),d=u.xmin,h=u.xmax,f=u.a,p=u.b,m=function(e){return f*e+p};e=[{x:d,y:m(d)},{x:h,y:m(h)}]}var g=KP(KP(KP({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return n=t.isValidElement(i)?t.cloneElement(i,g):lf()(i)?i(g):t.createElement(nE,HP({},g,{type:s})),t.createElement(ip,{className:"recharts-scatter-line",key:"recharts-scatter-line"},n)}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.points,a=e.line,i=e.className,o=e.xAxis,s=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,h=e.id,f=e.isAnimationActive;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=w("recharts-scatter",i),g=o&&o.allowDataOverflow,y=s&&s.allowDataOverflow,v=g||y,x=$h()(h)?this.id:h;return t.createElement(ip,{className:m,clipPath:v?"url(#clipPath-".concat(x,")"):null},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,a&&this.renderLine(),this.renderErrorBar(),t.createElement(ip,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||p)&&WA.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&$P(r.prototype,a),i&&$P(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function tT(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function nT(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function rT(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function aT(e){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(e)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(t){sT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(Xh(l)||Tp.isSsr)return function(e,t){return tT(e,t+1)}(a,"number"===typeof l&&Xh(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?Ev(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=lf()(c)?c(e.value,r):e.value;return"width"===f?nT(Ev(a,{fontSize:t,letterSpacing:n}),p,d):Ev(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?Gh(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:tT(r,u)};var i,o=c,h=function(){return void 0===i&&(i=n(t,o)),i},f=t.coordinate,p=0===c||rT(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(g,y,m,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=oT(oT({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),rT(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=oT(oT({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var r,i=o[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=oT(oT({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=oT(oT({},i),{},{tickCoord:i.coordinate});rT(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=oT(oT({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=oT(oT({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=oT(oT({},c),{},{tickCoord:c.coordinate});rT(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=oT(oT({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),h.filter(function(e){return e.isShow}))}QP(eT,"displayName","Scatter"),QP(eT,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Tp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),QP(eT,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=Cf(a.props.children,_A),d=$h()(t.dataKey)?a.props.dataKey:t.dataKey,h=$h()(n.dataKey)?a.props.dataKey:n.dataKey,f=r&&r.dataKey,p=r?r.range:FP.defaultProps.range,m=p&&p[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=i.map(function(e,i){var l=mk(e,d),p=mk(e,h),v=!$h()(f)&&mk(e,f)||"-",x=[{name:$h()(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:$h()(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:p,payload:e,dataKey:h,type:c}];"-"!==v&&x.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:f,type:c});var b=_k({axis:t,ticks:o,bandSize:g,entry:e,index:i,dataKey:d}),w=_k({axis:n,ticks:s,bandSize:y,entry:e,index:i,dataKey:h}),j="-"!==v?r.scale(v):m,N=Math.sqrt(Math.max(j,0)/Math.PI);return KP(KP({},e),{},{cx:b,cy:w,x:b-N,y:w-N,xAxis:t,yAxis:n,zAxis:r,width:2*N,height:2*N,size:j,node:{x:l,y:p,z:v},tooltipPayload:x,tooltipPosition:{x:b,y:w},payload:e},u&&u[i]&&u[i].props)});return KP({points:v},l)});var cT=["viewBox"],uT=["viewBox"],dT=["ticks"];function hT(e){return hT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hT(e)}function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fT.apply(this,arguments)}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(t){jT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gT(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NT(r.key),r)}}function vT(e,t,n){return t=bT(t),function(e,t){if(t&&("object"===hT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xT()?Reflect.construct(t,n||[],bT(e).constructor):t.apply(e,n))}function xT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xT=function(){return!!e})()}function bT(e){return bT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bT(e)}function wT(e,t){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wT(e,t)}function jT(e,t,n){return(t=NT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NT(e){var t=function(e,t){if("object"!=hT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hT(t)?t:t+""}var ST=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=vT(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wT(e,t)}(n,e),r=n,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=gT(e,cT),a=this.props,i=a.viewBox,o=gT(a,uT);return!hf(n,i)||!hf(r,o)||!hf(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=Xh(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(a=c+ +!p*d)-g*y)-g*m,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!p*u)-g*y)-g*m,o=v;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +p*u)+g*y)+g*m,o=v;break;default:t=n=e.coordinate,o=(r=(a=c+ +p*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=mT(mT(mT({},Mf(this.props,!1)),Mf(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=mT(mT({},c),{},{x1:n,y1:r+u*i,x2:n+a,y2:r+u*i})}else{var d=+("left"===o&&!s||"right"===o&&s);c=mT(mT({},c),{},{x1:n+d*a,y1:r,x2:n+d*a,y2:r+i})}return t.createElement("line",fT({},c,{className:w("recharts-cartesian-axis-line",qh()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=lT(mT(mT({},this.props),{},{ticks:e}),r,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Mf(this.props,!1),g=Mf(c,!1),y=mT(mT({},m),{},{fill:"none"},Mf(s,!1)),v=h.map(function(e,r){var a=i.getTickLineCoord(e),o=a.line,v=a.tick,x=mT(mT(mT(mT({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(ip,fT({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},xf(i.props,e,r)),s&&t.createElement("line",fT({},y,o,{className:w("recharts-cartesian-axis-tick-line",qh()(s,"className"))})),c&&n.renderTickItem(c,x,"".concat(lf()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,i=n.height,o=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=gT(l,dT),d=c;return lf()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||i<=0||!d||!d.length?null:t.createElement(ip,{className:w("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),wA.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,n,r){var a=w(n.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,mT(mT({},n),{},{className:a})):lf()(e)?e(mT(mT({},n),{},{className:a})):t.createElement(ix,fT({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&yT(r.prototype,a),i&&yT(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function kT(e){return kT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(e)}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TT(r.key),r)}}function OT(e,t,n){return t=CT(t),function(e,t){if(t&&("object"===kT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_T()?Reflect.construct(t,n||[],CT(e).constructor):t.apply(e,n))}function _T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_T=function(){return!!e})()}function CT(e){return CT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CT(e)}function ET(e,t){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ET(e,t)}function PT(e,t,n){return(t=TT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TT(e){var t=function(e,t){if("object"!=kT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kT(t)?t:t+""}function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(this,arguments)}function DT(e){var n=e.xAxisId,r=L_(),a=F_(),i=M_(n);return null==i?null:t.createElement(ST,IT({},i,{className:w("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return jk(e,!0)}}))}jT(ST,"displayName","CartesianAxis"),jT(ST,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MT=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),OT(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ET(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(DT,this.props)}}])&&AT(r.prototype,a),i&&AT(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function RT(e){return RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(e)}function LT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qT(r.key),r)}}function FT(e,t,n){return t=BT(t),function(e,t){if(t&&("object"===RT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zT()?Reflect.construct(t,n||[],BT(e).constructor):t.apply(e,n))}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zT=function(){return!!e})()}function BT(e){return BT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BT(e)}function UT(e,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UT(e,t)}function WT(e,t,n){return(t=qT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qT(e){var t=function(e,t){if("object"!=RT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RT(t)?t:t+""}function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HT.apply(this,arguments)}PT(MT,"displayName","XAxis"),PT(MT,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var VT=function(e){var n=e.yAxisId,r=L_(),a=F_(),i=R_(n);return null==i?null:t.createElement(ST,HT({},i,{className:w("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return jk(e,!0)}}))},KT=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),FT(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UT(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(VT,this.props)}}])&&LT(r.prototype,a),i&&LT(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);WT(KT,"displayName","YAxis"),WT(KT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var $T=JE({chartName:"ComposedChart",GraphicalChild:[CP,hP,QO,eT],axisComponents:[{axisType:"xAxis",AxisComp:MT},{axisType:"yAxis",AxisComp:KT},{axisType:"zAxis",AxisComp:FP}],formatAxisMap:i_}),GT=["x1","y1","x2","y2","key"],YT=["offset"];function XT(e){return XT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XT(e)}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(t){ZT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(this,arguments)}function tI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var nI=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rI(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(lf()(e))r=e(n);else{var a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.key,c=tI(n,GT),u=Mf(c,!1),d=(u.offset,tI(u,YT));r=t.createElement("line",eI({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function aI(e){var n=e.x,r=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=QT(QT({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(a),index:a});return rI(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function iI(e){var n=e.y,r=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(t,a){var o=QT(QT({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(a),index:a});return rI(i,o)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function oI(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function sI(e){var n=e.vertical,r=void 0===n||n,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,n){var r=!d[n+1]?o+l-e:d[n+1]-e;if(r<=0)return null;var u=n%a.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var lI=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return wk(lT(QT(QT(QT({},ST.defaultProps),n),{},{ticks:jk(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},cI=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return wk(lT(QT(QT(QT({},ST.defaultProps),n),{},{ticks:jk(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},uI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dI(e){var n,r,a,i,o,s,l=L_(),c=F_(),u=(0,t.useContext)(E_),d=QT(QT({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:uI.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:uI.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:uI.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:uI.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:uI.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:uI.verticalFill,x:Xh(e.x)?e.x:u.left,y:Xh(e.y)?e.y:u.top,width:Xh(e.width)?e.width:u.width,height:Xh(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(O_);return tf(e)}(),b=function(){var e=(0,t.useContext)(__);return S_()(e,function(e){return OA()(e.domain,Number.isFinite)})||tf(e)}();if(!Xh(p)||p<=0||!Xh(m)||m<=0||!Xh(h)||h!==+h||!Xh(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||lI,j=d.horizontalCoordinatesGenerator||cI,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&lf()(j)){var k=y&&y.length,A=j({yAxis:b?QT(QT({},b),{},{ticks:k?y:b.ticks}):void 0,width:l,height:c,offset:u},!!k||g);of(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(XT(A),"]")),Array.isArray(A)&&(N=A)}if((!S||!S.length)&&lf()(w)){var O=v&&v.length,_=w({xAxis:x?QT(QT({},x),{},{ticks:O?v:x.ticks}):void 0,width:l,height:c,offset:u},!!O||g);of(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(XT(_),"]")),Array.isArray(_)&&(S=_)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(nI,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(aI,eI({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),t.createElement(iI,eI({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),t.createElement(oI,eI({},d,{horizontalPoints:N})),t.createElement(sI,eI({},d,{verticalPoints:S})))}dI.displayName="CartesianGrid";var hI=JE({chartName:"AreaChart",GraphicalChild:hP,axisComponents:[{axisType:"xAxis",AxisComp:MT},{axisType:"yAxis",AxisComp:KT}],formatAxisMap:i_}),fI=JE({chartName:"BarChart",GraphicalChild:QO,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:MT},{axisType:"yAxis",AxisComp:KT}],formatAxisMap:i_});const pI=lt("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),mI=lt("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function gI(e){let{user:n}=e;const[r,a]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)("30"),[y,v]=(0,t.useState)("all"),[x,b]=(0,t.useState)("overview"),[w,j]=(0,t.useState)(!0),[N,S]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null),[O,_]=(0,t.useState)("connected"),[C,E]=(0,t.useState)(""),[P,T]=(0,t.useState)(!0),I=e=>void 0===e||null===e||isNaN(e)?"0":e.toLocaleString(),D=e=>void 0===e||null===e||isNaN(e)?0:e,M=(0,t.useCallback)(async()=>{try{S(!0),E(""),console.log("\ud83d\udcca Loading real-time reports data from Supabase...");const[e,t,n,r,o]=await Promise.all([Qe.db.get("agents",[]),Qe.db.get("customers",[]),Qe.db.get("trips",[]),Qe.db.get("rolling_records",[]),Qe.db.get("buy_in_out_records",[])]),l=t.map(e=>{const t=r.filter(t=>t.customerId===e.id),n=o.filter(t=>t.customerId===e.id),a=t.reduce((e,t)=>e+(t.rollingAmount||0),0),s=t.reduce((e,t)=>e+(t.winLoss||0),0),l=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),c=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return(0,i.A)((0,i.A)({},e),{},{totalRolling:a,totalWinLoss:s,totalBuyIn:l,totalBuyOut:c,attachments:e.attachments||[],isAgent:e.isAgent||!1,rollingPercentage:e.rollingPercentage||1.4,creditLimit:e.creditLimit||0,availableCredit:e.availableCredit||0})}),u=n.map(e=>{var t;const n=(null===(t=e.customers)||void 0===t?void 0:t.map(e=>e.customerId))||[],a=r.filter(e=>n.includes(e.customerId)),s=o.filter(e=>n.includes(e.customerId)),l=a.reduce((e,t)=>e+(t.rollingAmount||0),0),c=a.reduce((e,t)=>e+(t.winLoss||0),0),u=s.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),d=s.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),h=.014*l;return(0,i.A)((0,i.A)({},e),{},{totalRolling:l,totalWinLoss:c,totalBuyIn:u,totalBuyOut:d,calculatedTotalRolling:h,attachments:e.attachments||[],sharing:e.sharing||{totalWinLoss:c,totalExpenses:0,totalRollingCommission:h,totalBuyIn:u,totalBuyOut:d,netCashFlow:d-u,netResult:0,totalAgentShare:0,companyShare:0,agentSharePercentage:0,companySharePercentage:100,agentBreakdown:[]}})});a(e),s(l),c(u),h(r),p(o),A(new Date),_("connected"),console.log("\u2705 Real-time reports data loaded: ".concat(l.length," customers, ").concat(e.length," agents, ").concat(u.length," trips, ").concat(r.length," rolling records"))}catch(e){console.error("\u274c Error loading real-time reports data:",e);const t=e instanceof Error?e.message:"Unknown error occurred";E("Failed to load reports data: ".concat(t)),_("error")}finally{j(!1),S(!1)}},[]);(0,t.useEffect)(()=>{let e;return M(),P&&(e=setInterval(()=>{console.log("\ud83d\udcca Real-time reports refresh triggered"),M()},3e4)),()=>{e&&clearInterval(e)}},[M,P]);const{filteredCustomers:R,filteredTrips:L,filteredRollingRecords:F,filteredBuyInOutRecords:z}=(()=>{let e=o,t=l,r=d,a=f;if("agent"===n.role&&n.agentId)e=o.filter(e=>e.agentId===n.agentId),t=l.filter(e=>e.agents&&e.agents.some(e=>e.agentId===n.agentId)||e.agentId===n.agentId),r=d.filter(e=>e.agentId===n.agentId),a=f.filter(e=>{const t=o.find(t=>t.id===e.customerId);return(null===t||void 0===t?void 0:t.agentId)===n.agentId});else if("staff"===n.role&&n.staffId){r=d.filter(e=>e.staffId===n.staffId),a=f.filter(e=>e.staffId===n.staffId);const i=Array.from(new Set([...r.map(e=>e.customerId),...a.map(e=>e.customerId)]));e=o.filter(e=>i.includes(e.id)),t=l.filter(e=>{var t;return null===(t=e.customers)||void 0===t?void 0:t.some(e=>i.includes(e.customerId))})}"admin"===n.role&&"all"!==y&&(e=e.filter(e=>e.agentId===y),t=t.filter(e=>e.agents&&e.agents.some(e=>e.agentId===y)||e.agentId===y),r=r.filter(e=>e.agentId===y),a=a.filter(e=>{const t=o.find(t=>t.id===e.customerId);return(null===t||void 0===t?void 0:t.agentId)===y}));const i=new Date;return i.setDate(i.getDate()-parseInt(m)),t=t.filter(e=>new Date(e.date)>=i),r=r.filter(e=>new Date(e.recordedAt)>=i),a=a.filter(e=>new Date(e.timestamp)>=i),{filteredCustomers:e,filteredTrips:t,filteredRollingRecords:r,filteredBuyInOutRecords:a}})(),B=(()=>{const e=F.reduce((e,t)=>e+D(t.rollingAmount),0),t=F.reduce((e,t)=>e+D(t.winLoss),0),n=z.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),a=z.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0),i=L.reduce((e,t)=>e+D(t.totalRolling),0),o=L.reduce((e,t)=>e+D(t.totalWinLoss),0),s=L.reduce((e,t)=>e+D(t.calculatedTotalRolling),0),l=L.reduce((e,t)=>e+(t.expenses||[]).reduce((e,t)=>e+D(t.amount),0),0),c=-t,u=c-s,d=u-l,h=R.length,f=R.filter(e=>e.isActive).length,p=r.length,m=r.filter(e=>"active"===e.status).length,g=L.length,y=L.filter(e=>"completed"===e.status).length,v=L.filter(e=>"ongoing"===e.status).length,x=e>0?d/e*100:0,b=F.length>0?R.reduce((e,t)=>e+t.rollingPercentage,0)/R.length:1.4;return{customerTotalRolling:e,customerTotalWinLoss:t,customerTotalBuyIn:n,customerTotalBuyOut:a,tripTotalRolling:i,tripTotalWinLoss:o,totalRollingCommission:s,totalExpenses:l,houseGrossWin:c,houseNetWin:u,houseFinalProfit:d,totalCustomers:h,activeCustomers:f,totalAgents:p,activeAgents:m,totalTrips:g,completedTrips:y,ongoingTrips:v,profitMargin:x,averageRollingPercentage:b,totalRollingRecords:F.length,totalBuyInOutRecords:z.length}})(),U=(()=>{const e={};return F.forEach(t=>{const n=t.recordedAt.split("T")[0];e[n]||(e[n]={date:n,rolling:0,winLoss:0,commission:0,buyIn:0,buyOut:0,netCashFlow:0,recordCount:0,transactions:0}),e[n].rolling+=D(t.rollingAmount),e[n].winLoss+=D(t.winLoss),e[n].commission+=.014*D(t.rollingAmount),e[n].recordCount+=1}),z.forEach(t=>{const n=t.timestamp.split("T")[0];e[n]||(e[n]={date:n,rolling:0,winLoss:0,commission:0,buyIn:0,buyOut:0,netCashFlow:0,recordCount:0,transactions:0}),"buy-in"===t.transactionType?e[n].buyIn+=t.amount:e[n].buyOut+=t.amount,e[n].transactions+=1}),Object.values(e).forEach(e=>{e.netCashFlow=e.buyOut-e.buyIn}),Object.values(e).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})(),W="admin"!==n.role?[]:r.map(e=>{const t=R.filter(t=>t.agentId===e.id),n=F.filter(t=>t.agentId===e.id),r=z.filter(t=>{const n=o.find(e=>e.id===t.customerId);return(null===n||void 0===n?void 0:n.agentId)===e.id}),a=L.filter(t=>t.agents&&t.agents.some(t=>t.agentId===e.id)||t.agentId===e.id),i=n.reduce((e,t)=>e+D(t.rollingAmount),0),s=n.reduce((e,t)=>e+D(t.winLoss),0),l=r.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),c=r.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return{name:e.name,customers:t.length,activeCustomers:t.filter(e=>e.isActive).length,rolling:i,winLoss:s,buyIn:l,buyOut:c,netCashFlow:c-l,commission:.014*i,trips:a.length,rollingRecords:n.length,buyInOutRecords:r.length,averageRollingPercentage:t.length>0?t.reduce((e,t)=>e+t.rollingPercentage,0)/t.length:0}}).filter(e=>e.rolling>0||e.customers>0),q=R.map(e=>{const t=F.filter(t=>t.customerId===e.id),n=z.filter(t=>t.customerId===e.id),r=t.reduce((e,t)=>e+D(t.rollingAmount),0),a=t.reduce((e,t)=>e+D(t.winLoss),0),o=n.filter(e=>"buy-in"===e.transactionType).reduce((e,t)=>e+t.amount,0),s=n.filter(e=>"buy-out"===e.transactionType).reduce((e,t)=>e+t.amount,0);return(0,i.A)((0,i.A)({},e),{},{periodRolling:r,periodWinLoss:a,periodBuyIn:o,periodBuyOut:s,periodNetCashFlow:s-o,periodCommission:r*(e.rollingPercentage/100),recordCount:t.length,transactionCount:n.length})}).filter(e=>e.periodRolling>0).sort((e,t)=>t.periodRolling-e.periodRolling).slice(0,10);return w?(0,u.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading real-time reports data from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(oh,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"\ud83d\udcca Real-time Reports & Analytics - Live Data from Supabase"}),(0,u.jsxs)("p",{className:"text-xs text-purple-600",children:["All reports are generated from live data including rolling records, buy-in/out transactions, and trip information.",k&&" \u2022 Last sync: ".concat(k.toLocaleTimeString())]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[N&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Syncing..."})]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:M,disabled:N,className:"text-xs",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>{T(!P),P||M()},className:"text-xs",children:[(0,u.jsx)(Nt,{className:"w-3 h-3 mr-1 ".concat(P?"text-green-500":"text-gray-500")}),P?"Live":"Manual"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs ".concat("connected"===O?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat("connected"===O?"bg-green-500 animate-pulse":"bg-red-500")}),"connected"===O?"Live Data":"Error"]})]})]})}),C&&(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-4 h-4 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Reports Error:"})," ",C,(0,u.jsxs)(je,{onClick:M,size:"sm",variant:"outline",className:"ml-3 text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Real-time Reports & Analytics"}),(0,u.jsxs)("p",{className:"text-gray-600",children:["agent"===n.role?"Performance overview for your customers":"staff"===n.role?"Reports for your recorded transactions":"Comprehensive business analytics"," \u2022 Live data from Supabase"]}),(0,u.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Showing data for last ",m," days \u2022 ",B.totalRollingRecords," rolling records \u2022 ",B.totalBuyInOutRecords," buy-in/out transactions"]})]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,u.jsxs)(eu,{value:m,onValueChange:g,children:[(0,u.jsx)(nu,{className:"w-32",children:(0,u.jsx)(tu,{placeholder:"Date range"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"7",children:"Last 7 days"}),(0,u.jsx)(au,{value:"30",children:"Last 30 days"}),(0,u.jsx)(au,{value:"90",children:"Last 90 days"}),(0,u.jsx)(au,{value:"365",children:"Last year"})]})]}),"admin"===n.role&&(0,u.jsxs)(eu,{value:y,onValueChange:v,children:[(0,u.jsx)(nu,{className:"w-40",children:(0,u.jsx)(tu,{placeholder:"All agents"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"all",children:"All Agents"}),r.map(e=>(0,u.jsx)(au,{value:e.id,children:e.name},e.id))]})]}),(0,u.jsxs)(eu,{value:x,onValueChange:b,children:[(0,u.jsx)(nu,{className:"w-36",children:(0,u.jsx)(tu,{placeholder:"Report type"})}),(0,u.jsxs)(ru,{children:[(0,u.jsx)(au,{value:"overview",children:"Overview"}),(0,u.jsx)(au,{value:"financial",children:"Financial"}),(0,u.jsx)(au,{value:"customer",children:"Customer"}),(0,u.jsx)(au,{value:"operational",children:"Operational"})]})]}),(0,u.jsxs)(je,{variant:"outline",onClick:()=>{const e={generatedAt:(new Date).toISOString(),dateRange:m,selectedAgent:y,userRole:n.role,summary:B,dailyData:U,topCustomers:q,agentPerformance:W,rawData:{customers:R.length,trips:L.length,rollingRecords:F.length,buyInOutRecords:z.length}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="casino-reports-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},children:[(0,u.jsx)(Od,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Key Performance Metrics"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-blue-800",children:"Total Rolling"}),(0,u.jsx)(St,{className:"h-4 w-4 text-blue-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["HK$",I(B.customerTotalRolling)]}),(0,u.jsxs)("p",{className:"text-xs text-blue-600",children:[B.totalRollingRecords," rolling records \u2022 Last ",m," days"]})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-purple-800",children:"Commission"}),(0,u.jsx)(pI,{className:"h-4 w-4 text-purple-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-purple-700",children:["HK$",I(.014*B.customerTotalRolling)]}),(0,u.jsxs)("p",{className:"text-xs text-purple-600",children:[B.averageRollingPercentage.toFixed(1),"% avg rolling rate"]})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-green-800",children:"House P&L"}),B.houseGrossWin>=0?(0,u.jsx)(wt,{className:"h-4 w-4 text-green-600"}):(0,u.jsx)(Td,{className:"h-4 w-4 text-red-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold ".concat(B.houseGrossWin>=0?"text-green-600":"text-red-600"),children:["HK$",I(Math.abs(B.houseGrossWin))]}),(0,u.jsx)("p",{className:"text-xs text-green-600",children:B.houseGrossWin>=0?"House Win":"Customer Win"})]})]}),(0,u.jsxs)(ze,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium text-orange-800",children:"Cash Flow"}),(0,u.jsx)(kt,{className:"h-4 w-4 text-orange-600"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:["HK$",I(B.customerTotalBuyOut-B.customerTotalBuyIn)]}),(0,u.jsx)("p",{className:"text-xs text-orange-600",children:"Net: Buy-out - Buy-in"})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,u.jsx)(Ue,{className:"text-sm font-medium",children:"Active Customers"}),(0,u.jsx)(gt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"text-2xl font-bold",children:B.activeCustomers}),(0,u.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",B.totalCustomers," total customers"]})]})]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Daily Rolling Volume & Commission"}),(0,u.jsx)(We,{children:"Real-time rolling amounts and calculated commission over time"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)(Vf,{width:"100%",height:300,children:(0,u.jsxs)($T,{data:U,children:[(0,u.jsx)(dI,{strokeDasharray:"3 3"}),(0,u.jsx)(MT,{dataKey:"date"}),(0,u.jsx)(KT,{}),(0,u.jsx)($p,{formatter:(e,t)=>["HK$".concat(Number(e).toLocaleString()),"rolling"===t?"Rolling":"commission"===t?"Commission":"Win/Loss"]}),(0,u.jsx)(QO,{dataKey:"rolling",fill:"#8884d8",name:"rolling"}),(0,u.jsx)(QO,{dataKey:"commission",fill:"#82ca9d",name:"commission"}),(0,u.jsx)(CP,{type:"monotone",dataKey:"winLoss",stroke:"#ff7c7c",strokeWidth:2,name:"winLoss"})]})})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Daily Cash Flow Analysis"}),(0,u.jsx)(We,{children:"Buy-in vs Buy-out amounts and net cash flow"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)(Vf,{width:"100%",height:300,children:(0,u.jsxs)(hI,{data:U,children:[(0,u.jsx)(dI,{strokeDasharray:"3 3"}),(0,u.jsx)(MT,{dataKey:"date"}),(0,u.jsx)(KT,{}),(0,u.jsx)($p,{formatter:(e,t)=>["HK$".concat(Number(e).toLocaleString()),"buyIn"===t?"Buy-in":"buyOut"===t?"Buy-out":"Net Flow"]}),(0,u.jsx)(hP,{type:"monotone",dataKey:"buyIn",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"buyIn"}),(0,u.jsx)(hP,{type:"monotone",dataKey:"buyOut",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"buyOut"}),(0,u.jsx)(CP,{type:"monotone",dataKey:"netCashFlow",stroke:"#ff7c7c",strokeWidth:2,name:"netCashFlow"})]})})})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Transaction Volume"}),(0,u.jsx)(We,{children:"Daily activity levels"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)(Vf,{width:"100%",height:200,children:(0,u.jsxs)(fI,{data:U,children:[(0,u.jsx)(dI,{strokeDasharray:"3 3"}),(0,u.jsx)(MT,{dataKey:"date"}),(0,u.jsx)(KT,{}),(0,u.jsx)($p,{}),(0,u.jsx)(QO,{dataKey:"recordCount",fill:"#8884d8",name:"Rolling Records"}),(0,u.jsx)(QO,{dataKey:"transactions",fill:"#82ca9d",name:"Buy-in/out"})]})})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Performance Summary"}),(0,u.jsx)(We,{children:"Key operational metrics"})]}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-blue-800",children:"Total Trips"}),(0,u.jsx)("span",{className:"font-bold text-blue-700",children:B.totalTrips})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-green-800",children:"Completed"}),(0,u.jsx)("span",{className:"font-bold text-green-700",children:B.completedTrips})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-orange-800",children:"Ongoing"}),(0,u.jsx)("span",{className:"font-bold text-orange-700",children:B.ongoingTrips})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[(0,u.jsx)("span",{className:"text-sm text-purple-800",children:"Profit Margin"}),(0,u.jsxs)("span",{className:"font-bold text-purple-700",children:[B.profitMargin.toFixed(1),"%"]})]})]})})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Activity Overview"}),(0,u.jsx)(We,{children:"Recent period summary"})]}),(0,u.jsx)(qe,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(jt,{className:"w-5 h-5 text-blue-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:"Rolling Records"}),(0,u.jsx)("p",{className:"text-xl font-bold text-blue-600",children:B.totalRollingRecords})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(mI,{className:"w-5 h-5 text-green-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:"Buy-in/out Records"}),(0,u.jsx)("p",{className:"text-xl font-bold text-green-600",children:B.totalBuyInOutRecords})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(gt,{className:"w-5 h-5 text-purple-600"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:"Active Users"}),(0,u.jsx)("p",{className:"text-xl font-bold text-purple-600",children:B.activeCustomers})]})]})]})})]})]}),q.length>0&&(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Top Performing Customers"}),(0,u.jsx)(We,{children:"Highest rolling volume customers for the selected period \u2022 Sorted by rolling amount"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)("div",{className:"space-y-4",children:q.map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium",children:e.name}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentName," \u2022 ",e.rollingPercentage,"% rolling rate"]}),(0,u.jsxs)("p",{className:"text-xs text-gray-400",children:[e.recordCount," records \u2022 ",e.transactionCount," transactions"]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-right text-xs",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Rolling"}),(0,u.jsxs)("div",{className:"font-medium text-blue-600",children:["HK$",I(e.periodRolling)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Win/Loss"}),(0,u.jsxs)("div",{className:"font-medium ".concat(e.periodWinLoss>=0?"text-red-600":"text-green-600"),children:[e.periodWinLoss>=0?"+":"","HK$",I(e.periodWinLoss)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Commission"}),(0,u.jsxs)("div",{className:"font-medium text-purple-600",children:["HK$",I(e.periodCommission)]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-gray-500",children:"Cash Flow"}),(0,u.jsxs)("div",{className:"font-medium ".concat(e.periodNetCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",I(e.periodNetCashFlow)]})]})]})]},e.id))})})]}),"admin"===n.role&&W.length>0&&(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsx)(Ue,{children:"Agent Performance Analysis"}),(0,u.jsx)(We,{children:"Comprehensive performance metrics by agent for the selected period"})]}),(0,u.jsx)(qe,{children:(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,u.jsx)("thead",{className:"bg-gray-50",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customers"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolling Volume"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win/Loss"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Flow"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"})]})}),(0,u.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(e=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,u.jsxs)("div",{className:"text-xs text-gray-500",children:[e.averageRollingPercentage.toFixed(1),"% avg rate"]})]})}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,u.jsxs)("div",{children:[e.activeCustomers,"/",e.customers]}),(0,u.jsx)("div",{className:"text-xs text-gray-400",children:"active/total"})]}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,u.jsxs)("div",{className:"font-medium",children:["HK$",I(e.rolling)]}),(0,u.jsxs)("div",{className:"text-xs text-blue-600",children:[e.trips," trips"]})]}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium",children:["HK$",I(e.commission)]}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,u.jsxs)("span",{className:e.winLoss>=0?"text-red-600":"text-green-600",children:[e.winLoss>=0?"+":"","HK$",I(e.winLoss)]})}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,u.jsxs)("div",{className:"font-medium ".concat(e.netCashFlow>=0?"text-green-600":"text-red-600"),children:["HK$",I(e.netCashFlow)]}),(0,u.jsxs)("div",{className:"text-xs text-gray-400",children:["In: HK$",I(e.buyIn)," \u2022 Out: HK$",I(e.buyOut)]})]}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,u.jsxs)("div",{children:[e.rollingRecords," rolling"]}),(0,u.jsxs)("div",{className:"text-xs text-gray-400",children:[e.buyInOutRecords," buy-in/out"]})]})]},e.name))})]})})})]})]})}const yI=["__scopeProgress","value","max","getValueLabel"],vI=["__scopeProgress"];var xI="Progress",bI=100,[wI,jI]=Mt(xI),[NI,SI]=wI(xI),kI=t.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=_I}=e,l=o(e,yI);var c,d;!a&&0!==a||PI(a)||console.error((c="".concat(a),d="Progress","Invalid prop `max` of value `".concat(c,"` supplied to `").concat(d,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(bI,"`.")));const h=PI(a)?a:bI;null===r||TI(r,h)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(bI," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(r),"Progress"));const f=TI(r,h)?r:null,p=EI(f)?s(f,h):void 0;return(0,u.jsx)(NI,{scope:n,value:f,max:h,children:(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":EI(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":CI(f,h),"data-value":null!==f&&void 0!==f?f:void 0,"data-max":h},l),{},{ref:t}))})});kI.displayName=xI;var AI="ProgressIndicator",OI=t.forwardRef((e,t)=>{var n;const{__scopeProgress:r}=e,a=o(e,vI),s=SI(AI,r);return(0,u.jsx)(Oe.div,(0,i.A)((0,i.A)({"data-state":CI(s.value,s.max),"data-value":null!==(n=s.value)&&void 0!==n?n:void 0,"data-max":s.max},a),{},{ref:t}))});function _I(e,t){return"".concat(Math.round(e/t*100),"%")}function CI(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function EI(e){return"number"===typeof e}function PI(e){return EI(e)&&!isNaN(e)&&e>0}function TI(e,t){return EI(e)&&!isNaN(e)&&e<=t&&e>=0}OI.displayName=AI;var II=kI,DI=OI;const MI=["className","value"];function RI(e){let{className:t,value:n}=e,r=o(e,MI);return(0,u.jsx)(II,(0,i.A)((0,i.A)({"data-slot":"progress",className:xe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t)},r),{},{children:(0,u.jsx)(DI,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))}const LI=lt("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),FI=lt("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const zI=Pd(function(e){let{user:n,showError:r,clearError:a}=e;const[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)({username:"",password:"",confirmPassword:""});(0,t.useEffect)(()=>{N()},[]);const N=async()=>{try{g(!0),a(),console.log("\ud83d\udd04 Loading admin accounts from Supabase...");const e=await Qe.db.get("users",[]),t=e.filter(e=>"admin"===e.role).map(e=>({id:e.id,username:e.username,password:e.password||"",role:"admin",isActive:!1!==e.isActive,createdAt:e.createdAt||(new Date).toISOString().split("T")[0],lastLogin:e.lastLogin,createdBy:e.createdBy}));s(t),console.log("\u2705 Loaded ".concat(t.length," admin accounts from Supabase"))}catch(e){console.error("\u274c Error loading admin data:",e),r("Failed to load admin data: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{g(!1)}},S=async e=>{try{v(!0),a(),console.log("\ud83d\udcbe Saving admin accounts to Supabase...");const t=(await Qe.db.get("users",[])).filter(e=>"admin"!==e.role),n=e.map(e=>({id:e.id,username:e.username,password:e.password,role:e.role,isActive:e.isActive,createdAt:e.createdAt,lastLogin:e.lastLogin,createdBy:e.createdBy})),r=[...t,...n];await Qe.db.save("users",r),s(e),console.log("\u2705 Successfully saved admin accounts to Supabase")}catch(t){throw console.error("\u274c Error saving admin accounts:",t),r("Failed to save admin data: ".concat(t instanceof Error?t.message:"Unknown error occurred")),t}finally{v(!1)}},k=e=>{h(e),j({username:e.username,password:e.password,confirmPassword:e.password}),c(!0)},A=async e=>{try{const t=o.find(t=>t.id===e);if((null===t||void 0===t?void 0:t.username)===n.username)return void r("Cannot deactivate your own admin account!");const a=o.filter(t=>t.isActive&&t.id!==e);if(0===a.length)return void r("Cannot deactivate the last active admin account!");console.log("\ud83d\udd04 Toggling admin status: ".concat(null===t||void 0===t?void 0:t.username));const s=o.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{isActive:!t.isActive}):t);await S(s)}catch(t){}},O=()=>{j({username:"",password:"",confirmPassword:""}),h(null),c(!1),b(!1)};return m?(0,u.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Loading admin accounts from Supabase..."})]})}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-green-600 mr-2"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Admin Login CRUD - Supabase Connected"}),(0,u.jsx)("p",{className:"text-xs text-green-600",children:"All admin login changes are immediately saved to Supabase database. These credentials control system access."})]}),y&&(0,u.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-1 animate-pulse"}),(0,u.jsx)("span",{className:"text-xs",children:"Saving..."})]})]})}),(0,u.jsxs)($e,{className:"border-blue-200 bg-blue-50",children:[(0,u.jsx)(yt,{className:"w-4 h-4 text-blue-600"}),(0,u.jsxs)(Ge,{className:"text-blue-800",children:[(0,u.jsx)("strong",{children:"Admin Login Management:"})," This section controls the login credentials for admin access. The system starts with ",(0,u.jsx)("code",{className:"bg-blue-100 px-1 rounded text-blue-900",children:"admin / admin123"})," as the default credentials. You can Create, Read, Update, and Delete admin accounts here. All changes are stored in Supabase.",(0,u.jsxs)(je,{onClick:N,size:"sm",variant:"outline",className:"ml-3 text-blue-800 border-blue-300 hover:bg-blue-100",children:[(0,u.jsx)(ft,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]}),(0,u.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start",children:[(0,u.jsx)(LI,{className:"w-5 h-5 text-amber-600 mr-2 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),(0,u.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Admin accounts have full system access including customer data, financial records, and system settings. Ensure passwords are strong and only share credentials with authorized administrators."})]})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Admin Login Credentials (CRUD)"}),(0,u.jsx)("p",{className:"text-gray-600",children:"Create, Read, Update, and Delete admin login credentials stored in Supabase"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default admin credentials: admin / admin123 (can be modified)"})]}),(0,u.jsxs)(ba,{open:l,onOpenChange:c,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{onClick:()=>c(!0),disabled:y,children:[(0,u.jsx)(Dd,{className:"w-4 h-4 mr-2"}),"Create Admin"]})}),(0,u.jsxs)(Sa,{className:"max-w-lg",children:[(0,u.jsxs)(ka,{children:[(0,u.jsxs)(Aa,{className:"flex items-center space-x-2",children:[(0,u.jsx)(yt,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:d?"Update Admin Credentials":"Create New Admin Account"})]}),(0,u.jsx)(Oa,{children:d?"Update administrator login credentials in Supabase":"Create a new administrator account with login credentials"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!w.username.trim())return void r("Username is required!");if(!w.password.trim())return void r("Password is required!");if(w.password!==w.confirmPassword)return void r("Passwords do not match!");if(o.find(e=>e.username===w.username&&e.id!==(null===d||void 0===d?void 0:d.id)))return void r("Username already exists! Please choose a different username.");let e;if(d)e=o.map(e=>e.id===d.id?(0,i.A)((0,i.A)({},e),{},{username:w.username,password:w.password}):e),console.log("\ud83d\udd04 Updating admin account: ".concat(d.username," -> ").concat(w.username));else{const t={id:"admin_".concat(Date.now()),username:w.username,password:w.password,role:"admin",isActive:!0,createdAt:(new Date).toISOString().split("T")[0],createdBy:n.username};e=[...o,t],console.log("\u2795 Creating new admin account: ".concat(w.username))}await S(e),O()}catch(t){}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"username",children:"Username *"}),(0,u.jsx)(Se,{id:"username",value:w.username,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{username:e.target.value})),placeholder:"Enter admin username",required:!0,disabled:y}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This username will be used to login to the admin portal"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"password",children:"Password *"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(Se,{id:"password",type:x?"text":"password",value:w.password,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{password:e.target.value})),placeholder:"Enter secure password",required:!0,disabled:y}),(0,u.jsx)(je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),disabled:y,children:x?(0,u.jsx)(Yd,{className:"w-4 h-4"}):(0,u.jsx)(Ad,{className:"w-4 h-4"})})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,u.jsx)(je,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let t="";for(let n=0;n<12;n++)t+=e.charAt(Math.floor(70*Math.random()));j((0,i.A)((0,i.A)({},w),{},{password:t,confirmPassword:t}))},className:"text-xs",disabled:y,children:"Generate Password"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Minimum 8 characters recommended"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,u.jsx)(Se,{id:"confirmPassword",type:x?"text":"password",value:w.confirmPassword,onChange:e=>j((0,i.A)((0,i.A)({},w),{},{confirmPassword:e.target.value})),placeholder:"Confirm password",required:!0,disabled:y})]}),(0,u.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-red-700",children:[(0,u.jsx)("strong",{children:"Security Warning:"})," Admin credentials provide full system access. Changes are immediately saved to Supabase and will affect login access."]})}),(0,u.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,u.jsx)(je,{type:"button",variant:"outline",onClick:O,disabled:y,children:"Cancel"}),(0,u.jsx)(je,{type:"submit",disabled:y,children:y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Id,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving to Supabase..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yt,{className:"w-4 h-4 mr-2"}),d?"Update":"Create"," Admin"]})})]})]})]})]})]}),(0,u.jsx)("div",{className:"grid gap-6",children:0===o.length?(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"text-center py-12",children:[(0,u.jsx)(yt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Admin Accounts Found"}),(0,u.jsx)("p",{className:"text-gray-500 mb-4",children:"The default admin account (admin/admin123) should be present. Try refreshing the data."}),(0,u.jsxs)(je,{onClick:N,disabled:m,children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}):o.map(e=>{const t=f===e.id,a=e.username===n.username,i="admin"===e.username&&"admin123"===e.password;return(0,u.jsx)(wd,{open:t,onOpenChange:()=>{return t=e.id,void p(f===t?null:t);var t},children:(0,u.jsxs)(ze,{className:"overflow-hidden",children:[(0,u.jsx)(jd,{asChild:!0,children:(0,u.jsx)(Be,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)("span",{children:e.username}),(0,u.jsx)(Je,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,u.jsx)(LI,{className:"w-3 h-3 mr-1"}),"Admin"]}),a&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,u.jsx)(Zd,{className:"w-3 h-3 mr-1"}),"You"]}),i&&(0,u.jsxs)(Je,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,u.jsx)(FI,{className:"w-3 h-3 mr-1"}),"Default"]})]}),(0,u.jsxs)(We,{children:["Created ",e.createdAt,e.createdBy&&" \u2022 Created by ".concat(e.createdBy),i&&" \u2022 Default admin credentials (editable)"]})]}),(0,u.jsx)("div",{className:"flex items-center space-x-2",children:t?(0,u.jsx)(Gc,{className:"w-5 h-5 text-gray-400"}):(0,u.jsx)(Kc,{className:"w-5 h-5 text-gray-400"})})]})})}),(0,u.jsxs)(qe,{children:[(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>k(e),disabled:y,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Update Credentials"]}),!a&&e.isActive?(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsx)(je,{variant:"outline",size:"sm",disabled:y,children:"Deactivate"})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Deactivate Admin Account"}),(0,u.jsxs)(_i,{children:['Are you sure you want to deactivate the admin account for "',e.username,'"? Deactivated administrators will not be able to login to the system.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>A(e.id),className:"bg-yellow-600 text-white hover:bg-yellow-700",disabled:y,children:y?"Saving...":"Deactivate Account"})]})]})]}):a||e.isActive?null:(0,u.jsx)(je,{variant:"default",size:"sm",onClick:()=>A(e.id),disabled:y,children:y?"Saving...":"Activate"}),!a&&o.length>1&&(0,u.jsxs)(bi,{children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsxs)(je,{variant:"destructive",size:"sm",disabled:y,children:[(0,u.jsx)(_d,{className:"w-4 h-4 mr-2"}),"Delete"]})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"Delete Admin Account"}),(0,u.jsxs)(_i,{children:['Are you sure you want to permanently delete the admin account for "',e.username,'"? This action cannot be undone and will immediately revoke all system access.']})]}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{children:"Cancel"}),(0,u.jsx)(Ci,{onClick:()=>(async e=>{try{if(o.length<=1)return void r("Cannot delete the last admin account!");const t=o.find(t=>t.id===e);if((null===t||void 0===t?void 0:t.username)===n.username)return void r("Cannot delete your own admin account!");console.log("\ud83d\uddd1\ufe0f Deleting admin account: ".concat(null===t||void 0===t?void 0:t.username));const a=o.filter(t=>t.id!==e);await S(a)}catch(t){}})(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:y,children:y?"Deleting...":"Delete Account"})]})]})]})]}),a&&(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"Current Account:"})," This is your active admin account. You cannot deactivate or delete your own account for security reasons, but you can update the credentials."]})}),i&&(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-4",children:(0,u.jsxs)("p",{className:"text-xs text-green-700",children:[(0,u.jsx)("strong",{children:"Default Admin:"}),' This is the system default admin account with preset credentials. You can update both the username and password using the "Update Credentials" button above. Changes are saved to Supabase immediately.']})}),(0,u.jsx)(Nd,{className:"mt-6",children:(0,u.jsxs)(ed,{defaultValue:"info",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"info",className:"flex items-center space-x-2",children:[(0,u.jsx)(yt,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Account Information"})]}),(0,u.jsxs)(nd,{value:"security",className:"flex items-center space-x-2",children:[(0,u.jsx)(ut,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Security & CRUD"})]})]}),(0,u.jsx)(rd,{value:"info",className:"space-y-4 mt-6",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Username"}),(0,u.jsx)("p",{className:"text-lg font-mono",children:e.username})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,u.jsxs)(Je,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[(0,u.jsx)(LI,{className:"w-3 h-3 mr-1"}),"Administrator"]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Account Status"}),(0,u.jsx)(Je,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Created Date"}),(0,u.jsx)("p",{children:e.createdAt})]}),e.createdBy&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Created By"}),(0,u.jsx)("p",{children:e.createdBy})]}),e.lastLogin&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Last Login"}),(0,u.jsx)("p",{children:new Date(e.lastLogin).toLocaleString()})]})]})]})}),(0,u.jsx)(rd,{value:"security",className:"space-y-4 mt-6",children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{className:"text-sm font-medium text-gray-500",children:"Login Credentials (CRUD)"}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded flex-1",children:[e.username," / \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:()=>k(e),disabled:y,children:[(0,u.jsx)(Bd,{className:"w-4 h-4 mr-2"}),"Update"]})]}),(0,u.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,u.jsx)(mt,{className:"w-3 h-3 inline mr-1 text-green-600"}),"Full CRUD operations available - Create, Read, Update, Delete admin credentials stored in Supabase"]})]}),(0,u.jsx)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,u.jsx)(ct,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Admin Permissions"}),(0,u.jsxs)("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[(0,u.jsx)("li",{children:"\u2022 Full CRUD access to admin login credentials"}),(0,u.jsx)("li",{children:"\u2022 Complete system administration access"}),(0,u.jsx)("li",{children:"\u2022 Customer and agent management"}),(0,u.jsx)("li",{children:"\u2022 Staff administration and monitoring"}),(0,u.jsx)("li",{children:"\u2022 Financial reports and analytics"}),(0,u.jsx)("li",{children:"\u2022 Database management and backups"}),(0,u.jsx)("li",{children:"\u2022 System configuration and settings"})]})]})]})}),(0,u.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-xs text-green-700",children:[(0,u.jsx)("strong",{children:"Supabase Integration:"})," All admin credentials are stored securely in Supabase with real-time synchronization. Changes to login credentials take effect immediately and are reflected across all system components."]})})]})})]})})]})]})},e.id)})})]})}),BI=lt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),UI=lt("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),WI=lt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function qI(e){let{user:n}=e;const[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(""),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),[S,k]=(0,t.useState)({});(0,t.useEffect)(()=>{A(),O(),_()},[]);const A=()=>{try{const e=Qe.db.getStats();a(e)}catch(e){console.error("Error loading stats:",e)}},O=()=>{try{const e=Qe.db.getAvailableBackups();o(e)}catch(e){console.error("Error loading backups:",e)}},_=async()=>{try{const t=["users","customers","agents","staff","trips","rollingRecords"],n={};for(const r of t)try{const e=await Qe.db.get(r,[]);n[r]=e.length}catch(e){console.warn("Could not load ".concat(r,":"),e),n[r]=0}k(n)}catch(e){console.error("Error loading data overview:",e)}},C=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]};return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold",children:"Data Management"}),(0,u.jsx)("p",{className:"text-gray-600",children:"System administration, database monitoring, and security management"})]}),(0,u.jsxs)($e,{className:"border-green-200 bg-green-50",children:[(0,u.jsx)(yt,{className:"w-4 h-4 text-green-600"}),(0,u.jsxs)(Ge,{className:"text-green-800",children:[(0,u.jsx)("strong",{children:"Data Protection Active:"})," Your keyed-in data is automatically preserved across system refreshes and upgrades. The system will never clear your data without explicit admin confirmation."]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(BI,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Current Data Overview"})]}),(0,u.jsx)(We,{children:"Overview of your stored data in Supabase"})]}),(0,u.jsxs)(qe,{children:[(0,u.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(S).map(e=>{let[t,n]=e;return(0,u.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,u.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n}),(0,u.jsx)("div",{className:"text-xs text-gray-600 capitalize",children:t})]},t)})}),(0,u.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:["Total records: ",Object.values(S).reduce((e,t)=>e+t,0)]}),(0,u.jsxs)(je,{onClick:_,size:"sm",variant:"outline",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})]}),(0,u.jsxs)(ed,{defaultValue:"database",className:"w-full",children:[(0,u.jsxs)(td,{className:"grid w-full grid-cols-2",children:[(0,u.jsxs)(nd,{value:"database",className:"flex items-center space-x-2",children:[(0,u.jsx)(ht,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Database Management"})]}),(0,u.jsxs)(nd,{value:"admins",className:"flex items-center space-x-2",children:[(0,u.jsx)(LI,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Admin Accounts"})]})]}),(0,u.jsxs)(rd,{value:"database",className:"space-y-6 mt-6",children:[(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(jt,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Supabase Database Status"})]}),(0,u.jsx)(We,{children:"System operates exclusively with Supabase cloud database"})]}),(0,u.jsxs)(qe,{className:"space-y-4",children:[r&&(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-blue-500"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Database Mode"}),(0,u.jsx)(Je,{variant:"default",className:"bg-blue-600",children:"Supabase Cloud"})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[r.healthy?(0,u.jsx)(mt,{className:"w-4 h-4 text-green-500"}):(0,u.jsx)(ct,{className:"w-4 h-4 text-red-500"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Health Status"}),(0,u.jsx)(Je,{variant:r.healthy?"default":"destructive",children:r.healthy?"Healthy":"Issues"})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(Qd,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Last Check"}),(0,u.jsx)("p",{className:"text-sm",children:r.lastHealthCheck})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(UI,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Backups"}),(0,u.jsxs)("p",{className:"text-sm",children:[r.backupCount," available"]})]})]})]}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsxs)(je,{onClick:async()=>{l(!0),d("");try{const e=await Qe.db.isHealthy();d(e?"\u2705 Database connection is healthy":"\u26a0\ufe0f Database connection issues detected"),A()}catch(e){console.error("Health check error:",e);const t=e instanceof Error?e.message:"Unknown error occurred";d("\u274c Health check failed: ".concat(t))}finally{l(!1)}},disabled:s,variant:"default",children:[(0,u.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Check Connection"]}),(0,u.jsxs)(je,{onClick:A,disabled:s,variant:"outline",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Refresh Status"]})]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(yt,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Data Backup & Recovery"})]}),(0,u.jsx)(We,{children:"Export your data for safekeeping or import from previous backups"})]}),(0,u.jsx)(qe,{className:"space-y-4",children:(0,u.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,u.jsxs)(ba,{open:h,onOpenChange:f,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{children:[(0,u.jsx)(Od,{className:"w-4 h-4 mr-2"}),"Export Data"]})}),(0,u.jsxs)(Sa,{className:"max-w-2xl",children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Export All Data"}),(0,u.jsx)(Oa,{children:"This will create a complete backup of all your casino data"})]}),(0,u.jsx)("div",{className:"space-y-4",children:v?(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(Pe,{children:"Export Data (automatically downloaded)"}),(0,u.jsx)(Et,{value:v,readOnly:!0,rows:10,className:"font-mono text-xs",placeholder:"Export data will appear here..."}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"The export file has been automatically downloaded. You can also copy the data above if needed."})]}):(0,u.jsx)(je,{onClick:async()=>{l(!0),d("");try{const e=await Qe.db.exportAllData();x(e);const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="casino-data-backup-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),d("\u2705 Data exported and downloaded successfully")}catch(e){console.error("Export error:",e),d("\u274c Failed to export data")}finally{l(!1)}},disabled:s,className:"w-full",children:s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Od,{className:"w-4 h-4 mr-2"}),"Generate & Download Export"]})})})]})]}),(0,u.jsxs)(ba,{open:p,onOpenChange:m,children:[(0,u.jsx)(wa,{asChild:!0,children:(0,u.jsxs)(je,{variant:"outline",children:[(0,u.jsx)(Sd,{className:"w-4 h-4 mr-2"}),"Import Data"]})}),(0,u.jsxs)(Sa,{className:"max-w-2xl",children:[(0,u.jsxs)(ka,{children:[(0,u.jsx)(Aa,{children:"Import Data"}),(0,u.jsx)(Oa,{children:"Import data from a previous backup. This will overwrite current data."})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"fileImport",children:"Upload Backup File"}),(0,u.jsx)("input",{id:"fileImport",type:"file",accept:".json",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=new FileReader;r.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;y(n)},r.readAsText(n)},className:"w-full mt-1 p-2 border border-gray-300 rounded-md"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Pe,{htmlFor:"importTextarea",children:"Or Paste Backup Data"}),(0,u.jsx)(Et,{id:"importTextarea",value:g,onChange:e=>y(e.target.value),rows:10,className:"font-mono text-xs",placeholder:"Paste your backup JSON data here..."})]}),(0,u.jsxs)($e,{children:[(0,u.jsx)(ct,{className:"w-4 h-4"}),(0,u.jsxs)(Ge,{children:[(0,u.jsx)("strong",{children:"Warning:"})," Importing data will overwrite all current data. Make sure to export your current data first if you want to keep it."]})]}),(0,u.jsx)(je,{onClick:async()=>{if(g.trim()){l(!0),d("");try{await Qe.db.importAllData(g)?(d("\u2705 Data imported successfully"),y(""),m(!1),O(),_()):d("\u274c Failed to import data - invalid format")}catch(e){console.error("Import error:",e),d("\u274c Failed to import data")}finally{l(!1)}}else d("\u274c Please paste the backup data")},disabled:s||!g.trim(),className:"w-full",children:s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Sd,{className:"w-4 h-4 mr-2"}),"Import Data"]})})]})]})]})]})})]}),(0,u.jsxs)(ze,{className:"border-red-200",children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2 text-red-800",children:[(0,u.jsx)(_d,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Fresh Start (Danger Zone)"})]}),(0,u.jsx)(We,{children:"Clear all data and start fresh (Admin only - requires confirmation)"})]}),(0,u.jsxs)(qe,{className:"space-y-4",children:[(0,u.jsxs)($e,{className:"border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-4 h-4"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Warning:"})," This action will permanently delete all your data including customers, agents, trips, and records. Only the admin account will remain. This action cannot be undone."]})]}),(0,u.jsxs)(bi,{open:b,onOpenChange:w,children:[(0,u.jsx)(wi,{asChild:!0,children:(0,u.jsxs)(je,{variant:"destructive",children:[(0,u.jsx)(_d,{className:"w-4 h-4 mr-2"}),"Request Fresh Start"]})}),(0,u.jsxs)(Si,{children:[(0,u.jsxs)(ki,{children:[(0,u.jsx)(Oi,{children:"\u26a0\ufe0f Confirm Fresh Start"}),(0,u.jsxs)(_i,{children:["This will permanently delete ALL your data including:",(0,u.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,u.jsx)("li",{children:"All customer records and rolling data"}),(0,u.jsx)("li",{children:"All agent information and assignments"}),(0,u.jsx)("li",{children:"All trips and project data"}),(0,u.jsx)("li",{children:"All staff accounts and check-in records"}),(0,u.jsx)("li",{children:"All financial records and reports"})]}),(0,u.jsx)("br",{}),"Only the admin account will be recreated with default credentials.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"Type ",(0,u.jsx)("strong",{children:'"FRESH START"'})," below to confirm:"]})]}),(0,u.jsx)("div",{className:"py-4",children:(0,u.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Type FRESH START to confirm",className:"w-full p-2 border border-gray-300 rounded-md"})}),(0,u.jsxs)(Ai,{children:[(0,u.jsx)(Ei,{onClick:()=>N(""),children:"Cancel"}),(0,u.jsx)(Ci,{onClick:async()=>{if("fresh start"===j.toLowerCase()){l(!0),d("");try{console.log("\ud83e\uddf9 Admin requested fresh start - clearing all data..."),await Qe.db.clearAllDataForFreshStart(),d("\u2705 Fresh start completed successfully - all data cleared and admin account recreated"),w(!1),N(""),_(),A()}catch(e){console.error("Fresh start error:",e);const t=e instanceof Error?e.message:"Unknown error occurred";d("\u274c Fresh start failed: ".concat(t))}finally{l(!1)}}else d('\u274c Please type "FRESH START" exactly to confirm')},disabled:"fresh start"!==j.toLowerCase()||s,className:"bg-red-600 hover:bg-red-700",children:s?"Clearing Data...":"Confirm Fresh Start"})]})]})]})]})]}),(0,u.jsxs)(ze,{children:[(0,u.jsxs)(Be,{children:[(0,u.jsxs)(Ue,{className:"flex items-center space-x-2",children:[(0,u.jsx)(UI,{className:"w-5 h-5"}),(0,u.jsx)("span",{children:"Automatic Backups"})]}),(0,u.jsx)(We,{children:"Recent automatic backups created by the system"})]}),(0,u.jsx)(qe,{children:0===i.length?(0,u.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,u.jsx)(UI,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,u.jsx)("p",{children:"No automatic backups found"}),(0,u.jsx)("p",{className:"text-sm",children:"Backups are created automatically when data is saved"})]}):(0,u.jsxs)("div",{className:"space-y-2",children:[i.slice(0,10).map((e,t)=>(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(UI,{className:"w-4 h-4 text-gray-400"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium",children:e.key}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.timestamp).toLocaleString()," \u2022 ",C(e.size)]})]})]}),(0,u.jsxs)(je,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{l(!0),d("");try{await Qe.db.restoreFromBackup(e,t)?(d("\u2705 Restored ".concat(e," from backup ").concat(new Date(t).toLocaleString())),_()):d("\u274c Failed to restore ".concat(e," from backup"))}catch(n){console.error("Restore error:",n),d("\u274c Failed to restore from backup")}finally{l(!1)}})(e.key,e.timestamp),disabled:s,children:[(0,u.jsx)(WI,{className:"w-3 h-3 mr-1"}),"Restore"]})]},"".concat(e.key,"-").concat(e.timestamp))),i.length>10&&(0,u.jsxs)("p",{className:"text-xs text-gray-500 text-center pt-2",children:["Showing 10 most recent backups out of ",i.length," total"]})]})})]}),c&&(0,u.jsx)($e,{className:c.includes("\u2705")?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:(0,u.jsx)(Ge,{children:c})}),s&&(0,u.jsx)(ze,{children:(0,u.jsxs)(qe,{className:"pt-6",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(ft,{className:"w-4 h-4 animate-spin"}),(0,u.jsx)("span",{className:"text-sm",children:"Processing..."})]}),(0,u.jsx)(RI,{value:void 0,className:"mt-2"})]})})]}),(0,u.jsx)(rd,{value:"admins",className:"mt-6",children:(0,u.jsx)(zI,{user:n,showError:()=>{},clearError:()=>{}})})]})]})}const HI=lt("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),VI=lt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const KI=function(){const[e,r]=(0,t.useState)(null),[a,i]=(0,t.useState)("dashboard"),[o,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(""),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)("");(0,t.useEffect)(()=>{x()},[]);const x=async()=>{h(!0),c(""),v("");try{console.log("\ud83d\ude80 Initializing Casino Management System with data preservation...");const t=await et.testConnection();if(p(t),!t.success)throw s(!1),new Error("Database connection failed: ".concat(t.message,". ").concat(t.details||""));const a=await et.isHealthy();if(s(a),!a)throw new Error("Supabase database health check failed. The server may be temporarily unavailable.");console.log("\ud83d\udee1\ufe0f Performing safe database initialization (preserving existing data)..."),await et.initializeSampleDataIfNeeded();try{const e=(await et.get("users",[])).length,t=(await et.get("customers",[])).length,n=(await et.get("agents",[])).length,r=(await et.get("trips",[])).length;e+t+n+r>1&&v("\u2705 Data preserved: ".concat(e," users, ").concat(t," customers, ").concat(n," agents, ").concat(r," trips"))}catch(e){console.warn("Could not get data counts:",e)}const o=localStorage.getItem("casinoUser");if(o)try{const e=JSON.parse(o);if(r(e),console.log("\ud83d\udc64 Restored user session:",e.username),e.token){const{apiClient:t}=await Promise.resolve().then(n.bind(n,1732));t.setToken(e.token),console.log("\ud83d\udd11 Token restored to API client")}"staff"===e.role?i("checkinout"):i("dashboard")}catch(e){console.error("Error parsing saved user session:",e),localStorage.removeItem("casinoUser")}console.log("\u2705 Application initialization completed with data preservation")}catch(e){console.error("\u274c Application initialization failed:",e),c("Initialization failed: ".concat(e instanceof Error?e.message:"Unknown error occurred")),s(!1)}finally{h(!1)}},b=async e=>{try{if(!await et.isHealthy())throw new Error("Database is not available. Please try again later.");console.log("\ud83d\udd0d App.handleLogin received user:",e),console.log("\ud83d\udd0d App.handleLogin user role:",null===e||void 0===e?void 0:e.role),console.log("\ud83d\udd0d App.handleLogin user token:",null!==e&&void 0!==e&&e.token?"Present":"Missing"),r(e);const t=localStorage.getItem("casinoUser");console.log("\ud83d\udd0d App.handleLogin localStorage user:",t),"staff"===e.role?i("checkinout"):i("dashboard"),c(""),console.log("\ud83d\udc64 User logged in:",e.username,"Role:",e.role)}catch(t){console.error("\u274c Login error:",t),c("Login failed: ".concat(t instanceof Error?t.message:"Unknown error occurred"))}},w=async()=>{try{h(!0);const e=await et.testConnection();p(e);const t=await et.isHealthy();s(t),t?(c(""),console.log("\u2705 Database health check passed")):(c("Database connection issues detected. Some features may not work properly."),console.warn("\u26a0\ufe0f Database health check failed"))}catch(e){console.error("\u274c Database health check error:",e),s(!1),c("Database error: ".concat(e instanceof Error?e.message:"Unknown error occurred"))}finally{h(!1)}};if(d)return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"text-center max-w-md",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,u.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Initializing Casino Management System"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Connecting to Supabase database with data preservation..."}),f&&(0,u.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-left",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)(ht,{className:"w-4 h-4 text-blue-600"}),(0,u.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Connection Status"})]}),(0,u.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,u.jsxs)("div",{children:["Status: ",f.success?"\u2705 Connected":"\u274c Failed"]}),(0,u.jsxs)("div",{children:["Message: ",f.message]}),f.details&&(0,u.jsxs)("div",{children:["Details: ",f.details]})]})]}),(0,u.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)(yt,{className:"w-4 h-4 text-green-600"}),(0,u.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Data Protection"})]}),(0,u.jsx)("p",{className:"text-xs text-green-700",children:"Your existing data is safe. The system will not clear any entered information during initialization."})]})]})});if(!e)return(0,u.jsxs)("div",{children:[l&&(0,u.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)(ct,{className:"h-5 w-5 text-red-400"})}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Database Connection Error"}),(0,u.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,u.jsx)("p",{children:l})}),(0,u.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,u.jsxs)(je,{onClick:w,size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Retry Connection"]}),(0,u.jsxs)(je,{onClick:()=>g(!m),size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(dt,{className:"w-4 h-4 mr-2"}),m?"Hide":"Show"," Debug Info"]})]}),m&&f&&(0,u.jsx)("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs",children:(0,u.jsx)("pre",{className:"text-red-800",children:JSON.stringify(f,null,2)})})]})]})}),(0,u.jsx)(vt,{onLogin:b})]});const j="admin"===(null===e||void 0===e?void 0:e.role),N="agent"===(null===e||void 0===e?void 0:e.role),S="staff"===(null===e||void 0===e?void 0:e.role);return(0,u.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,u.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,u.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Casino Management System"}),(0,u.jsx)(Je,{variant:"secondary",className:"text-xs",children:(()=>{var t;return null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.toUpperCase()})()}),(0,u.jsxs)(Je,{variant:"default",className:"text-xs flex items-center gap-1",children:[(0,u.jsx)(ht,{className:"w-3 h-3"}),"Supabase"]}),(0,u.jsx)(Je,{variant:"outline",className:"text-xs flex items-center gap-1 ".concat(o?"border-green-200 text-green-700":"border-red-200 text-red-700"),children:o?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(mt,{className:"w-3 h-3"}),"Connected"]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ct,{className:"w-3 h-3"}),"Issues"]})}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs flex items-center gap-1 border-blue-200 text-blue-700",children:[(0,u.jsx)(yt,{className:"w-3 h-3"}),"Data Protected"]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[!o&&(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:w,className:"text-xs",children:[(0,u.jsx)(HI,{className:"w-4 h-4 mr-2"}),"Reconnect"]}),(0,u.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",e.username]}),(0,u.jsxs)(je,{variant:"outline",size:"sm",onClick:async()=>{r(null),localStorage.removeItem("casinoUser");try{const{apiClient:e}=await Promise.resolve().then(n.bind(n,1732));e.setToken(""),console.log("\ud83d\udd11 Token cleared from API client")}catch(e){console.warn("Failed to clear token from API client:",e)}i("dashboard"),c(""),console.log("\ud83d\udc64 User logged out")},children:[(0,u.jsx)(Jd,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,u.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&(0,u.jsxs)($e,{className:"mb-6 border-red-200 bg-red-50",children:[(0,u.jsx)(ct,{className:"w-5 h-5 text-red-600"}),(0,u.jsxs)(Ge,{className:"text-red-800",children:[(0,u.jsx)("strong",{children:"Database Error:"})," ",l,(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsxs)(je,{onClick:w,size:"sm",variant:"outline",className:"text-red-800 border-red-300 hover:bg-red-100",children:[(0,u.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Try Again"]})})]})]}),y&&(0,u.jsxs)($e,{className:"mb-6 border-green-200 bg-green-50",children:[(0,u.jsx)(yt,{className:"w-5 h-5 text-green-600"}),(0,u.jsxs)(Ge,{className:"text-green-800",children:[(0,u.jsx)("strong",{children:"Data Preserved:"})," ",y,(0,u.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Your keyed-in data is safe and will persist across system refreshes and upgrades."})]})]}),o&&(0,u.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(ht,{className:"w-5 h-5 text-green-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\u2705 Supabase Database Connected with Data Protection"}),(0,u.jsxs)("p",{className:"text-xs text-green-600",children:["All data is securely stored and synced with cloud database. Your entered data is preserved across refreshes.",(null===f||void 0===f?void 0:f.details)&&" ".concat(f.details)]})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)(Je,{variant:"outline",className:"text-xs bg-green-100 text-green-700",children:[(0,u.jsx)(mt,{className:"w-3 h-3 mr-1"}),"Live"]}),(0,u.jsxs)(Je,{variant:"outline",className:"text-xs bg-blue-100 text-blue-700",children:[(0,u.jsx)(yt,{className:"w-3 h-3 mr-1"}),"Protected"]})]})]})}),S&&(0,u.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(Qd,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Welcome to the Staff Portal"}),(0,u.jsx)("p",{className:"text-xs text-blue-600",children:"You have access to customer information, agent details, check-in/out functions, and reports."})]})]})}),(0,u.jsxs)("div",{className:"flex flex-wrap space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[(j||N)&&(0,u.jsxs)("button",{onClick:()=>i("dashboard"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("dashboard"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(oh,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),S&&(0,u.jsxs)("button",{onClick:()=>i("checkinout"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("checkinout"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(Qd,{className:"w-4 h-4 mr-2"}),"Check-in/Out"]}),(j||N||S)&&(0,u.jsxs)("button",{onClick:()=>i("customers"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("customers"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(gt,{className:"w-4 h-4 mr-2"}),"Customers ",S&&(0,u.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(View)"})]}),(j||S)&&(0,u.jsxs)("button",{onClick:()=>i("agents"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("agents"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(At,{className:"w-4 h-4 mr-2"}),"Agents ",S&&(0,u.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(View)"})]}),j&&(0,u.jsxs)("button",{onClick:()=>i("staff"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("staff"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(sh,{className:"w-4 h-4 mr-2"}),"Staff"]}),(j||N)&&(0,u.jsxs)("button",{onClick:()=>i("projects"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("projects"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Projects"]}),j&&(0,u.jsxs)("button",{onClick:()=>i("data"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("data"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(VI,{className:"w-4 h-4 mr-2"}),"Data"]}),(0,u.jsxs)("button",{onClick:()=>i("reports"),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("reports"===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,u.jsx)(oh,{className:"w-4 h-4 mr-2"}),"Reports"]})]}),"dashboard"===a&&(0,u.jsx)(_t,{user:e}),"customers"===a&&(j||N||S)&&(0,u.jsx)(Kd,{user:e,showError:()=>{},clearError:()=>{}}),"agents"===a&&(j||S)&&(0,u.jsx)(Gd,{user:e,showError:()=>{},clearError:()=>{}}),"staff"===a&&j&&(0,u.jsx)(rh,{user:e,showError:()=>{},clearError:()=>{}}),"checkinout"===a&&S&&(0,u.jsx)(xh,{user:e,showError:()=>{},clearError:()=>{}}),"projects"===a&&(j||N)&&(0,u.jsx)(Mh,{user:e,showError:()=>{},clearError:()=>{}}),"data"===a&&j&&(0,u.jsx)(qI,{user:e}),"reports"===a&&(0,u.jsx)(gI,{user:e})]})]})};a.createRoot(document.getElementById("root")).render((0,u.jsx)(t.StrictMode,{children:(0,u.jsx)(KI,{})}))})()})();
//# sourceMappingURL=main.3c16a7e9.js.map